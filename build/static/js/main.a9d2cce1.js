/*! For license information please see main.a9d2cce1.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},48:(e,t,n)=>{"use strict";e.exports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=void 0,e.exports.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,e.exports.__SERVER_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=void 0,Object.assign(e.exports,n(43))},67:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",d="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",f="[object Promise]",m="[object RegExp]",g="[object Set]",v="[object String]",y="[object Symbol]",x="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",k=/^\[object .+?Constructor\]$/,N=/^(?:0|[1-9]\d*)$/,_={};_["[object Float32Array]"]=_["[object Float64Array]"]=_["[object Int8Array]"]=_["[object Int16Array]"]=_["[object Int32Array]"]=_["[object Uint8Array]"]=_["[object Uint8ClampedArray]"]=_["[object Uint16Array]"]=_["[object Uint32Array]"]=!0,_[i]=_[s]=_[b]=_[a]=_[w]=_[l]=_[c]=_[d]=_[u]=_[h]=_[p]=_[m]=_[g]=_[v]=_[x]=!1;var S="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,C="object"==typeof self&&self&&self.Object===Object&&self,j=S||C||Function("return this")(),E=t&&!t.nodeType&&t,T=E&&e&&!e.nodeType&&e,A=T&&T.exports===E,M=A&&S.process,R=function(){try{return M&&M.binding&&M.binding("util")}catch(e){}}(),O=R&&R.isTypedArray;function I(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function L(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function D(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var P,$,z=Array.prototype,F=Function.prototype,B=Object.prototype,V=j["__core-js_shared__"],W=F.toString,H=B.hasOwnProperty,U=function(){var e=/[^.]+$/.exec(V&&V.keys&&V.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),G=B.toString,q=RegExp("^"+W.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=A?j.Buffer:void 0,Y=j.Symbol,Q=j.Uint8Array,X=B.propertyIsEnumerable,Z=z.splice,J=Y?Y.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=K?K.isBuffer:void 0,ne=(P=Object.keys,$=Object,function(e){return P($(e))}),re=Me(j,"DataView"),oe=Me(j,"Map"),ie=Me(j,"Promise"),se=Me(j,"Set"),ae=Me(j,"WeakMap"),le=Me(Object,"create"),ce=Le(re),de=Le(oe),ue=Le(ie),he=Le(se),pe=Le(ae),fe=Y?Y.prototype:void 0,me=fe?fe.valueOf:void 0;function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function xe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ye;++t<n;)this.add(e[t])}function be(e){var t=this.__data__=new ve(e);this.size=t.size}function we(e,t){var n=$e(e),r=!n&&Pe(e),o=!n&&!r&&ze(e),i=!n&&!r&&!o&&He(e),s=n||r||o||i,a=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=a.length;for(var c in e)!t&&!H.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ie(c,l))||a.push(c);return a}function ke(e,t){for(var n=e.length;n--;)if(De(e[n][0],t))return n;return-1}function Ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=H.call(e,J),n=e[J];try{e[J]=void 0;var r=!0}catch(i){}var o=G.call(e);r&&(t?e[J]=n:delete e[J]);return o}(e):function(e){return G.call(e)}(e)}function _e(e){return We(e)&&Ne(e)==i}function Se(e,t,n,r,o){return e===t||(null==e||null==t||!We(e)&&!We(t)?e!==e&&t!==t:function(e,t,n,r,o,d){var f=$e(e),x=$e(t),k=f?s:Oe(e),N=x?s:Oe(t),_=(k=k==i?p:k)==p,S=(N=N==i?p:N)==p,C=k==N;if(C&&ze(e)){if(!ze(t))return!1;f=!0,_=!1}if(C&&!_)return d||(d=new be),f||He(e)?Ee(e,t,n,r,o,d):function(e,t,n,r,o,i,s){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!i(new Q(e),new Q(t)));case a:case l:case h:return De(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case v:return e==t+"";case u:var d=L;case g:var p=1&r;if(d||(d=D),e.size!=t.size&&!p)return!1;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var x=Ee(d(e),d(t),r,o,i,s);return s.delete(e),x;case y:if(me)return me.call(e)==me.call(t)}return!1}(e,t,k,n,r,o,d);if(!(1&n)){var j=_&&H.call(e,"__wrapped__"),E=S&&H.call(t,"__wrapped__");if(j||E){var T=j?e.value():e,A=E?t.value():t;return d||(d=new be),o(T,A,n,r,d)}}if(!C)return!1;return d||(d=new be),function(e,t,n,r,o,i){var s=1&n,a=Te(e),l=a.length,c=Te(t),d=c.length;if(l!=d&&!s)return!1;var u=l;for(;u--;){var h=a[u];if(!(s?h in t:H.call(t,h)))return!1}var p=i.get(e);if(p&&i.get(t))return p==t;var f=!0;i.set(e,t),i.set(t,e);var m=s;for(;++u<l;){var g=e[h=a[u]],v=t[h];if(r)var y=s?r(v,g,h,t,e,i):r(g,v,h,e,t,i);if(!(void 0===y?g===v||o(g,v,n,r,i):y)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var x=e.constructor,b=t.constructor;x==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,n,r,o,d)}(e,t,n,r,Se,o))}function Ce(e){return!(!Ve(e)||function(e){return!!U&&U in e}(e))&&(Fe(e)?q:k).test(Le(e))}function je(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||B;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))H.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ee(e,t,n,r,o,i){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var d=-1,u=!0,h=2&n?new xe:void 0;for(i.set(e,t),i.set(t,e);++d<a;){var p=e[d],f=t[d];if(r)var m=s?r(f,p,d,t,e,i):r(p,f,d,e,t,i);if(void 0!==m){if(m)continue;u=!1;break}if(h){if(!I(t,(function(e,t){if(s=t,!h.has(s)&&(p===e||o(p,e,n,r,i)))return h.push(t);var s}))){u=!1;break}}else if(p!==f&&!o(p,f,n,r,i)){u=!1;break}}return i.delete(e),i.delete(t),u}function Te(e){return function(e,t,n){var r=t(e);return $e(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ue,Re)}function Ae(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Me(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ce(n)?n:void 0}ge.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},ge.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},ge.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===r?void 0:n}return H.call(t,e)?t[e]:void 0},ge.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:H.call(t,e)},ge.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?r:t,this},ve.prototype.clear=function(){this.__data__=[],this.size=0},ve.prototype.delete=function(e){var t=this.__data__,n=ke(t,e);return!(n<0)&&(n==t.length-1?t.pop():Z.call(t,n,1),--this.size,!0)},ve.prototype.get=function(e){var t=this.__data__,n=ke(t,e);return n<0?void 0:t[n][1]},ve.prototype.has=function(e){return ke(this.__data__,e)>-1},ve.prototype.set=function(e,t){var n=this.__data__,r=ke(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},ye.prototype.clear=function(){this.size=0,this.__data__={hash:new ge,map:new(oe||ve),string:new ge}},ye.prototype.delete=function(e){var t=Ae(this,e).delete(e);return this.size-=t?1:0,t},ye.prototype.get=function(e){return Ae(this,e).get(e)},ye.prototype.has=function(e){return Ae(this,e).has(e)},ye.prototype.set=function(e,t){var n=Ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},xe.prototype.add=xe.prototype.push=function(e){return this.__data__.set(e,r),this},xe.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new ve,this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!oe||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ye(r)}return n.set(e,t),this.size=n.size,this};var Re=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}(ee(e),(function(t){return X.call(e,t)})))}:function(){return[]},Oe=Ne;function Ie(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||N.test(e))&&e>-1&&e%1==0&&e<t}function Le(e){if(null!=e){try{return W.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function De(e,t){return e===t||e!==e&&t!==t}(re&&Oe(new re(new ArrayBuffer(1)))!=w||oe&&Oe(new oe)!=u||ie&&Oe(ie.resolve())!=f||se&&Oe(new se)!=g||ae&&Oe(new ae)!=x)&&(Oe=function(e){var t=Ne(e),n=t==p?e.constructor:void 0,r=n?Le(n):"";if(r)switch(r){case ce:return w;case de:return u;case ue:return f;case he:return g;case pe:return x}return t});var Pe=_e(function(){return arguments}())?_e:function(e){return We(e)&&H.call(e,"callee")&&!X.call(e,"callee")},$e=Array.isArray;var ze=te||function(){return!1};function Fe(e){if(!Ve(e))return!1;var t=Ne(e);return t==d||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function Ve(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function We(e){return null!=e&&"object"==typeof e}var He=O?function(e){return function(t){return e(t)}}(O):function(e){return We(e)&&Be(e.length)&&!!_[Ne(e)]};function Ue(e){return null!=(t=e)&&Be(t.length)&&!Fe(t)?we(e):je(e);var t}e.exports=function(e,t){return Se(e,t)}},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:c,ref:d,props:i,_owner:a.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},173:(e,t,n)=>{e.exports=n(497)()},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,o=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function d(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function x(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=x.prototype=new y;b.constructor=x,m(b,v.prototype),b.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,N={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)k.call(t,o)&&!_.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:N.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var j=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+E(l,0):i,w(s)?(o="",null!=e&&(o=e.replace(j,"$&/")+"/"),T(s,t,o,"",(function(e){return e}))):null!=s&&(C(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(j,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+E(a=e[c],c);l+=T(a,t,o,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(a=e.next()).done;)l+=T(a=a.value,t,o,d=i+E(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},I={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:N};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=o,t.Profiler=s,t.PureComponent=x,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=N.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)k.call(t,c)&&!_.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},219:(e,t,n)=>{"use strict";var r=n(763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var s=d(n);u&&(s=s.concat(u(n)));for(var a=l(t),m=l(n),g=0;g<s.length;++g){var v=s[g];if(!i[v]&&(!r||!r[v])&&(!m||!m[v])&&(!a||!a[v])){var y=h(n,v);try{c(t,v,y)}catch(x){}}}}return t}},225:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(288),s=(0,i.getAceInstance)(),a=n(603),l=n(878),c=n(173),d=n(43),u=n(67),h=n(424),p=function(e){function t(t){var n=e.call(this,t)||this;return i.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=i.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,o=t.mode,a=t.focus,c=t.theme,d=t.fontSize,u=t.value,p=t.defaultValue,f=t.cursorStart,m=t.showGutter,g=t.wrapEnabled,v=t.showPrintMargin,y=t.scrollMargin,x=void 0===y?[0,0,0,0]:y,b=t.keyboardHandler,w=t.onLoad,k=t.commands,N=t.annotations,_=t.markers,S=t.splits;this.editor=s.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(c)),r&&r(s);var C=Object.keys(this.props.editorProps),j=new l.Split(this.editor.container,"ace/theme/".concat(c),S);this.editor.env.split=j,this.splitEditor=j.getEditor(0),this.split=j,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var E=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),j.forEach((function(t,n){for(var r=0;r<C.length;r++)t[C[r]]=e.props.editorProps[C[r]];var a=h(p,n),l=h(u,n,"");t.session.setUndoManager(new s.UndoManager),t.setTheme("ace/theme/".concat(c)),t.renderer.setScrollMargin(x[0],x[1],x[2],x[3]),t.getSession().setMode("ace/mode/".concat(o)),t.setFontSize(d),t.renderer.setShowGutter(m),t.getSession().setUseWrapMode(g),t.setShowPrintMargin(v),t.on("focus",e.onFocus),t.on("blur",e.onBlur),t.on("input",e.onInput),t.on("copy",e.onCopy),t.on("paste",e.onPaste),t.on("change",e.onChange),t.getSession().selection.on("changeSelection",e.onSelectionChange),t.getSession().selection.on("changeCursor",e.onCursorChange),t.session.on("changeScrollTop",e.onScroll),t.setValue(void 0===a?l:a,f);var y=h(N,n,[]),w=h(_,n,[]);t.getSession().setAnnotations(y),w&&w.length>0&&e.handleMarkers(w,t);for(r=0;r<i.editorOptions.length;r++){var S=i.editorOptions[r];E.hasOwnProperty(S)?t.setOption(S,e.props[S]):e.props[S]&&console.warn("ReaceAce: editor option ".concat(S," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}e.handleOptions(e.props,t),Array.isArray(k)&&k.forEach((function(e){"string"===typeof e.exec?t.commands.bindKey(e.bindKey,e.exec):t.commands.addCommand(e)})),b&&t.setKeyboardHandler("ace/keyboard/"+b)})),n&&(this.refEditor.className+=" "+n),a&&this.splitEditor.focus();var T=this.editor.env.split;T.setOrientation("below"===this.props.orientation?T.BELOW:T.BESIDE),T.resize(!0),w&&w(T)},t.prototype.componentDidUpdate=function(e){var t=this,n=e,r=this.props,o=this.editor.env.split;if(r.splits!==n.splits&&o.setSplits(r.splits),r.orientation!==n.orientation&&o.setOrientation("below"===r.orientation?o.BELOW:o.BESIDE),o.forEach((function(e,o){r.mode!==n.mode&&e.getSession().setMode("ace/mode/"+r.mode),r.keyboardHandler!==n.keyboardHandler&&(r.keyboardHandler?e.setKeyboardHandler("ace/keyboard/"+r.keyboardHandler):e.setKeyboardHandler(null)),r.fontSize!==n.fontSize&&e.setFontSize(r.fontSize),r.wrapEnabled!==n.wrapEnabled&&e.getSession().setUseWrapMode(r.wrapEnabled),r.showPrintMargin!==n.showPrintMargin&&e.setShowPrintMargin(r.showPrintMargin),r.showGutter!==n.showGutter&&e.renderer.setShowGutter(r.showGutter);for(var s=0;s<i.editorOptions.length;s++){var a=i.editorOptions[s];r[a]!==n[a]&&e.setOption(a,r[a])}u(r.setOptions,n.setOptions)||t.handleOptions(r,e);var l=h(r.value,o,"");if(e.getValue()!==l){t.silent=!0;var c=e.session.selection.toJSON();e.setValue(l,r.cursorStart),e.session.selection.fromJSON(c),t.silent=!1}var d=h(r.annotations,o,[]),p=h(n.annotations,o,[]);u(d,p)||e.getSession().setAnnotations(d);var f=h(r.markers,o,[]),m=h(n.markers,o,[]);!u(f,m)&&Array.isArray(f)&&t.handleMarkers(f,e)})),r.className!==n.className){var s=this.refEditor.className.trim().split(" ");n.className.trim().split(" ").forEach((function(e){var t=s.indexOf(e);s.splice(t,1)})),this.refEditor.className=" "+r.className+" "+s.join(" ")}r.theme!==n.theme&&o.setTheme("ace/theme/"+r.theme),r.focus&&!n.focus&&this.splitEditor.focus(),r.height===this.props.height&&r.width===this.props.width||this.editor.resize()},t.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},t.prototype.onChange=function(e){if(this.props.onChange&&!this.silent){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getValue())})),this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=[];this.editor.env.split.forEach((function(e){t.push(e.getSelection())})),this.props.onCursorChange(t,e)}},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e)},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e)},t.prototype.onCopy=function(e){this.props.onCopy&&this.props.onCopy(e)},t.prototype.onPaste=function(e){this.props.onPaste&&this.props.onPaste(e)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e,t){for(var n=Object.keys(e.setOptions),r=0;r<n.length;r++)t.setOption(n[r],e.setOptions[n[r]])},t.prototype.handleMarkers=function(e,t){var n=t.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);for(var r in n=t.getSession().getMarkers(!1))n.hasOwnProperty(r)&&t.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,o=e.endRow,i=e.endCol,s=e.className,l=e.type,c=e.inFront,d=void 0!==c&&c,u=new a.Range(n,r,o,i);t.getSession().addMarker(u,s,l,d)}))},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,i=e.style,s=o({width:n,height:r},i);return d.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={className:c.string,debounceChangePeriod:c.number,defaultValue:c.arrayOf(c.string),focus:c.bool,fontSize:c.oneOfType([c.number,c.string]),height:c.string,mode:c.string,name:c.string,onBlur:c.func,onChange:c.func,onCopy:c.func,onFocus:c.func,onInput:c.func,onLoad:c.func,onPaste:c.func,onScroll:c.func,orientation:c.string,showGutter:c.bool,splits:c.number,theme:c.string,value:c.arrayOf(c.string),width:c.string,onSelectionChange:c.func,onCursorChange:c.func,onBeforeLoad:c.func,minLines:c.number,maxLines:c.number,readOnly:c.bool,highlightActiveLine:c.bool,tabSize:c.number,showPrintMargin:c.bool,cursorStart:c.number,editorProps:c.object,setOptions:c.object,style:c.object,scrollMargin:c.array,annotations:c.array,markers:c.array,keyboardHandler:c.string,wrapEnabled:c.bool,enableBasicAutocompletion:c.oneOfType([c.bool,c.array]),enableLiveAutocompletion:c.oneOfType([c.bool,c.array]),commands:c.array},t.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},t}(d.Component);t.default=p},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],c=a+1,d=e[c];if(0>i(l,n))c<o&&0>i(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<o&&0>i(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,h=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function w(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,O(k);else{var t=r(d);null!==t&&I(w,t.startTime-e)}}function k(e,n){m=!1,g&&(g=!1,y(C),C=-1),f=!0;var i=p;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(c)&&o(c),b(n)}else o(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&I(w,u.startTime-n),l=!1}return l}finally{h=null,p=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,_=!1,S=null,C=-1,j=5,E=-1;function T(){return!(t.unstable_now()-E<j)}function A(){if(null!==S){var e=t.unstable_now();E=e;var n=!0;try{n=S(!0,e)}finally{n?N():(_=!1,S=null)}}else _=!1}if("function"===typeof x)N=function(){x(A)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,R=M.port2;M.port1.onmessage=A,N=function(){R.postMessage(null)}}else N=function(){v(A,0)};function O(e){S=e,_||(_=!0,N())}function I(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,O(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===r(c)&&e===r(d)&&(g?(y(C),C=-1):g=!0,I(w,i-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,O(k))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},250:e=>{e.exports={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7}},288:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAceInstance=t.debounce=t.editorEvents=t.editorOptions=void 0;t.editorOptions=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];t.editorEvents=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];t.getAceInstance=function(){var e;return"undefined"===typeof window?(n.g.window={},e=n(603),delete n.g.window):window.ace?(e=window.ace).acequire=window.ace.require||window.ace.acequire:e=n(603),e};t.debounce=function(e,t){var n=null;return function(){var r=this,o=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(r,o)}),t)}}},305:e=>{"use strict";class t{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new t(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new t(this.low,e.low-1),new t(e.high+1,this.high)]:e.low<=this.low?[new t(e.high+1,this.high)]:[new t(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}class n{constructor(e,t){this.ranges=[],this.length=0,null!=e&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce(((e,t)=>e+t.length),0)}add(e,r){var o=e=>{for(var t=0;t<this.ranges.length&&!e.touches(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.touches(this.ranges[t]);)e=e.add(this.ranges[t]),t++;n.push(e),this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return e instanceof n?e.ranges.forEach(o):(null==r&&(r=e),o(new t(e,r))),this}subtract(e,r){var o=e=>{for(var t=0;t<this.ranges.length&&!e.overlaps(this.ranges[t]);)t++;for(var n=this.ranges.slice(0,t);t<this.ranges.length&&e.overlaps(this.ranges[t]);)n=n.concat(this.ranges[t].subtract(e)),t++;this.ranges=n.concat(this.ranges.slice(t)),this._update_length()};return e instanceof n?e.ranges.forEach(o):(null==r&&(r=e),o(new t(e,r))),this}intersect(e,r){var o=[],i=e=>{for(var n=0;n<this.ranges.length&&!e.overlaps(this.ranges[n]);)n++;for(;n<this.ranges.length&&e.overlaps(this.ranges[n]);){var r=Math.max(this.ranges[n].low,e.low),i=Math.min(this.ranges[n].high,e.high);o.push(new t(r,i)),n++}};return e instanceof n?e.ranges.forEach(i):(null==r&&(r=e),i(new t(e,r))),this.ranges=o,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new n(this)}numbers(){return this.ranges.reduce(((e,t)=>{for(var n=t.low;n<=t.high;)e.push(n),n++;return e}),[])}subranges(){return this.ranges.map((e=>({low:e.low,high:e.high,length:1+e.high-e.low})))}}e.exports=n},324:(e,t,n)=>{const r=n(600),o=n(305),i=r.types;e.exports=class e{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else{if("string"!==typeof e)throw new Error("Expected a regexp or string");this.ignoreCase=t&&-1!==t.indexOf("i"),this.multiline=t&&-1!==t.indexOf("m")}this.tokens=r(e)}_setDefaults(t){this.max=null!=t.max?t.max:null!=e.prototype.max?e.prototype.max:100,this.defaultRange=t.defaultRange?t.defaultRange:this.defaultRange.clone(),t.randInt&&(this.randInt=t.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var n,r,o,s,a;switch(e.type){case i.ROOT:case i.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&void 0===e.groupNumber&&(e.groupNumber=t.push(null)-1),r="",s=0,a=(n=e.options?this._randSelect(e.options):e.stack).length;s<a;s++)r+=this._gen(n[s],t);return e.remember&&(t[e.groupNumber]=r),r;case i.POSITION:return"";case i.SET:var l=this._expand(e);return l.length?String.fromCharCode(this._randSelect(l)):"";case i.REPETITION:for(o=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),r="",s=0;s<o;s++)r+=this._gen(e.value,t);return r;case i.REFERENCE:return t[e.value-1]||"";case i.CHAR:var c=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(c)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof o?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===r.types.CHAR)return new o(e.value);if(e.type===r.types.RANGE)return new o(e.from,e.to);{let t=new o;for(let n=0;n<e.set.length;n++){let r=this._expand(e.set[n]);if(t.add(r),this.ignoreCase)for(let e=0;e<r.length;e++){let n=r.index(e),o=this._toOtherCase(n);n!==o&&t.add(o)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new o(32,126)}set defaultRange(e){this._range=e}static randexp(t,n){var r;return"string"===typeof t&&(t=new RegExp(t,n)),void 0===t._randexp?(r=new e(t,n),t._randexp=r):(r=t._randexp)._setDefaults(t),r.gen()}static sugar(){RegExp.prototype.gen=function(){return e.randexp(this)}}}},330:(e,t,n)=>{"use strict";var r=n(43);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,s=r.useEffect,a=r.useLayoutEffect,l=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var d="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,d=r[1];return a((function(){o.value=n,o.getSnapshot=t,c(o)&&d({inst:o})}),[e,n,t]),s((function(){return c(o)&&d({inst:o}),e((function(){c(o)&&d({inst:o})}))}),[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},388:e=>{var t=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},n=-1;t.Diff=function(e,t){return[e,t]},t.prototype.diff_main=function(e,n,r,o){"undefined"==typeof o&&(o=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var i=o;if(null==e||null==n)throw new Error("Null input. (diff_main)");if(e==n)return e?[new t.Diff(0,e)]:[];"undefined"==typeof r&&(r=!0);var s=r,a=this.diff_commonPrefix(e,n),l=e.substring(0,a);e=e.substring(a),n=n.substring(a),a=this.diff_commonSuffix(e,n);var c=e.substring(e.length-a);e=e.substring(0,e.length-a),n=n.substring(0,n.length-a);var d=this.diff_compute_(e,n,s,i);return l&&d.unshift(new t.Diff(0,l)),c&&d.push(new t.Diff(0,c)),this.diff_cleanupMerge(d),d},t.prototype.diff_compute_=function(e,r,o,i){var s;if(!e)return[new t.Diff(1,r)];if(!r)return[new t.Diff(n,e)];var a=e.length>r.length?e:r,l=e.length>r.length?r:e,c=a.indexOf(l);if(-1!=c)return s=[new t.Diff(1,a.substring(0,c)),new t.Diff(0,l),new t.Diff(1,a.substring(c+l.length))],e.length>r.length&&(s[0][0]=s[2][0]=n),s;if(1==l.length)return[new t.Diff(n,e),new t.Diff(1,r)];var d=this.diff_halfMatch_(e,r);if(d){var u=d[0],h=d[1],p=d[2],f=d[3],m=d[4],g=this.diff_main(u,p,o,i),v=this.diff_main(h,f,o,i);return g.concat([new t.Diff(0,m)],v)}return o&&e.length>100&&r.length>100?this.diff_lineMode_(e,r,i):this.diff_bisect_(e,r,i)},t.prototype.diff_lineMode_=function(e,r,o){var i=this.diff_linesToChars_(e,r);e=i.chars1,r=i.chars2;var s=i.lineArray,a=this.diff_main(e,r,!1,o);this.diff_charsToLines_(a,s),this.diff_cleanupSemantic(a),a.push(new t.Diff(0,""));for(var l=0,c=0,d=0,u="",h="";l<a.length;){switch(a[l][0]){case 1:d++,h+=a[l][1];break;case n:c++,u+=a[l][1];break;case 0:if(c>=1&&d>=1){a.splice(l-c-d,c+d),l=l-c-d;for(var p=this.diff_main(u,h,!1,o),f=p.length-1;f>=0;f--)a.splice(l,0,p[f]);l+=p.length}d=0,c=0,u="",h=""}l++}return a.pop(),a},t.prototype.diff_bisect_=function(e,r,o){for(var i=e.length,s=r.length,a=Math.ceil((i+s)/2),l=a,c=2*a,d=new Array(c),u=new Array(c),h=0;h<c;h++)d[h]=-1,u[h]=-1;d[l+1]=0,u[l+1]=0;for(var p=i-s,f=p%2!=0,m=0,g=0,v=0,y=0,x=0;x<a&&!((new Date).getTime()>o);x++){for(var b=-x+m;b<=x-g;b+=2){for(var w=l+b,k=(j=b==-x||b!=x&&d[w-1]<d[w+1]?d[w+1]:d[w-1]+1)-b;j<i&&k<s&&e.charAt(j)==r.charAt(k);)j++,k++;if(d[w]=j,j>i)g+=2;else if(k>s)m+=2;else if(f){if((S=l+p-b)>=0&&S<c&&-1!=u[S])if(j>=(_=i-u[S]))return this.diff_bisectSplit_(e,r,j,k,o)}}for(var N=-x+v;N<=x-y;N+=2){for(var _,S=l+N,C=(_=N==-x||N!=x&&u[S-1]<u[S+1]?u[S+1]:u[S-1]+1)-N;_<i&&C<s&&e.charAt(i-_-1)==r.charAt(s-C-1);)_++,C++;if(u[S]=_,_>i)y+=2;else if(C>s)v+=2;else if(!f){if((w=l+p-N)>=0&&w<c&&-1!=d[w]){var j;k=l+(j=d[w])-w;if(j>=(_=i-_))return this.diff_bisectSplit_(e,r,j,k,o)}}}}return[new t.Diff(n,e),new t.Diff(1,r)]},t.prototype.diff_bisectSplit_=function(e,t,n,r,o){var i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),l=t.substring(r),c=this.diff_main(i,s,!1,o),d=this.diff_main(a,l,!1,o);return c.concat(d)},t.prototype.diff_linesToChars_=function(e,t){var n=[],r={};function o(e){for(var t="",o=0,s=-1,a=n.length;s<e.length-1;){-1==(s=e.indexOf("\n",o))&&(s=e.length-1);var l=e.substring(o,s+1);(r.hasOwnProperty?r.hasOwnProperty(l):void 0!==r[l])?t+=String.fromCharCode(r[l]):(a==i&&(l=e.substring(o),s=e.length),t+=String.fromCharCode(a),r[l]=a,n[a++]=l),o=s+1}return t}n[0]="";var i=4e4,s=o(e);return i=65535,{chars1:s,chars2:o(t),lineArray:n}},t.prototype.diff_charsToLines_=function(e,t){for(var n=0;n<e.length;n++){for(var r=e[n][1],o=[],i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}},t.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(i,o)==t.substring(i,o)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},t.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var n=0,r=Math.min(e.length,t.length),o=r,i=0;n<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=n=o:r=o,o=Math.floor((r-n)/2+n);return o},t.prototype.diff_commonOverlap_=function(e,t){var n=e.length,r=t.length;if(0==n||0==r)return 0;n>r?e=e.substring(n-r):n<r&&(t=t.substring(0,n));var o=Math.min(n,r);if(e==t)return o;for(var i=0,s=1;;){var a=e.substring(o-s),l=t.indexOf(a);if(-1==l)return i;s+=l,0!=l&&e.substring(o-s)!=t.substring(0,s)||(i=s,s++)}},t.prototype.diff_halfMatch_=function(e,t){if(this.Diff_Timeout<=0)return null;var n=e.length>t.length?e:t,r=e.length>t.length?t:e;if(n.length<4||2*r.length<n.length)return null;var o=this;function i(e,t,n){for(var r,i,s,a,l=e.substring(n,n+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(l,c+1));){var u=o.diff_commonPrefix(e.substring(n),t.substring(c)),h=o.diff_commonSuffix(e.substring(0,n),t.substring(0,c));d.length<h+u&&(d=t.substring(c-h,c)+t.substring(c,c+u),r=e.substring(0,n-h),i=e.substring(n+u),s=t.substring(0,c-h),a=t.substring(c+u))}return 2*d.length>=e.length?[r,i,s,a,d]:null}var s,a,l,c,d,u=i(n,r,Math.ceil(n.length/4)),h=i(n,r,Math.ceil(n.length/2));return u||h?(s=h?u&&u[4].length>h[4].length?u:h:u,e.length>t.length?(a=s[0],l=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],a=s[2],l=s[3]),[a,l,c,d,s[4]]):null},t.prototype.diff_cleanupSemantic=function(e){for(var r=!1,o=[],i=0,s=null,a=0,l=0,c=0,d=0,u=0;a<e.length;)0==e[a][0]?(o[i++]=a,l=d,c=u,d=0,u=0,s=e[a][1]):(1==e[a][0]?d+=e[a][1].length:u+=e[a][1].length,s&&s.length<=Math.max(l,c)&&s.length<=Math.max(d,u)&&(e.splice(o[i-1],0,new t.Diff(n,s)),e[o[i-1]+1][0]=1,i--,a=--i>0?o[i-1]:-1,l=0,c=0,d=0,u=0,s=null,r=!0)),a++;for(r&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),a=1;a<e.length;){if(e[a-1][0]==n&&1==e[a][0]){var h=e[a-1][1],p=e[a][1],f=this.diff_commonOverlap_(h,p),m=this.diff_commonOverlap_(p,h);f>=m?(f>=h.length/2||f>=p.length/2)&&(e.splice(a,0,new t.Diff(0,p.substring(0,f))),e[a-1][1]=h.substring(0,h.length-f),e[a+1][1]=p.substring(f),a++):(m>=h.length/2||m>=p.length/2)&&(e.splice(a,0,new t.Diff(0,h.substring(0,m))),e[a-1][0]=1,e[a-1][1]=p.substring(0,p.length-m),e[a+1][0]=n,e[a+1][1]=h.substring(m),a++),a++}a++}},t.prototype.diff_cleanupSemanticLossless=function(e){function n(e,n){if(!e||!n)return 6;var r=e.charAt(e.length-1),o=n.charAt(0),i=r.match(t.nonAlphaNumericRegex_),s=o.match(t.nonAlphaNumericRegex_),a=i&&r.match(t.whitespaceRegex_),l=s&&o.match(t.whitespaceRegex_),c=a&&r.match(t.linebreakRegex_),d=l&&o.match(t.linebreakRegex_),u=c&&e.match(t.blanklineEndRegex_),h=d&&n.match(t.blanklineStartRegex_);return u||h?5:c||d?4:i&&!a&&l?3:a||l?2:i||s?1:0}for(var r=1;r<e.length-1;){if(0==e[r-1][0]&&0==e[r+1][0]){var o=e[r-1][1],i=e[r][1],s=e[r+1][1],a=this.diff_commonSuffix(o,i);if(a){var l=i.substring(i.length-a);o=o.substring(0,o.length-a),i=l+i.substring(0,i.length-a),s=l+s}for(var c=o,d=i,u=s,h=n(o,i)+n(i,s);i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);var p=n(o,i)+n(i,s);p>=h&&(h=p,c=o,d=i,u=s)}e[r-1][1]!=c&&(c?e[r-1][1]=c:(e.splice(r-1,1),r--),e[r][1]=d,u?e[r+1][1]=u:(e.splice(r+1,1),r--))}r++}},t.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,t.whitespaceRegex_=/\s/,t.linebreakRegex_=/[\r\n]/,t.blanklineEndRegex_=/\n\r?\n$/,t.blanklineStartRegex_=/^\r?\n\r?\n/,t.prototype.diff_cleanupEfficiency=function(e){for(var r=!1,o=[],i=0,s=null,a=0,l=!1,c=!1,d=!1,u=!1;a<e.length;)0==e[a][0]?(e[a][1].length<this.Diff_EditCost&&(d||u)?(o[i++]=a,l=d,c=u,s=e[a][1]):(i=0,s=null),d=u=!1):(e[a][0]==n?u=!0:d=!0,s&&(l&&c&&d&&u||s.length<this.Diff_EditCost/2&&l+c+d+u==3)&&(e.splice(o[i-1],0,new t.Diff(n,s)),e[o[i-1]+1][0]=1,i--,s=null,l&&c?(d=u=!0,i=0):(a=--i>0?o[i-1]:-1,d=u=!1),r=!0)),a++;r&&this.diff_cleanupMerge(e)},t.prototype.diff_cleanupMerge=function(e){e.push(new t.Diff(0,""));for(var r,o=0,i=0,s=0,a="",l="";o<e.length;)switch(e[o][0]){case 1:s++,l+=e[o][1],o++;break;case n:i++,a+=e[o][1],o++;break;case 0:i+s>1?(0!==i&&0!==s&&(0!==(r=this.diff_commonPrefix(l,a))&&(o-i-s>0&&0==e[o-i-s-1][0]?e[o-i-s-1][1]+=l.substring(0,r):(e.splice(0,0,new t.Diff(0,l.substring(0,r))),o++),l=l.substring(r),a=a.substring(r)),0!==(r=this.diff_commonSuffix(l,a))&&(e[o][1]=l.substring(l.length-r)+e[o][1],l=l.substring(0,l.length-r),a=a.substring(0,a.length-r))),o-=i+s,e.splice(o,i+s),a.length&&(e.splice(o,0,new t.Diff(n,a)),o++),l.length&&(e.splice(o,0,new t.Diff(1,l)),o++),o++):0!==o&&0==e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,s=0,i=0,a="",l=""}""===e[e.length-1][1]&&e.pop();var c=!1;for(o=1;o<e.length-1;)0==e[o-1][0]&&0==e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),c=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),c=!0)),o++;c&&this.diff_cleanupMerge(e)},t.prototype.diff_xIndex=function(e,t){var r,o=0,i=0,s=0,a=0;for(r=0;r<e.length&&(1!==e[r][0]&&(o+=e[r][1].length),e[r][0]!==n&&(i+=e[r][1].length),!(o>t));r++)s=o,a=i;return e.length!=r&&e[r][0]===n?a:a+(t-s)},t.prototype.diff_prettyHtml=function(e){for(var t=[],r=/&/g,o=/</g,i=/>/g,s=/\n/g,a=0;a<e.length;a++){var l=e[a][0],c=e[a][1].replace(r,"&amp;").replace(o,"&lt;").replace(i,"&gt;").replace(s,"&para;<br>");switch(l){case 1:t[a]='<ins style="background:#e6ffe6;">'+c+"</ins>";break;case n:t[a]='<del style="background:#ffe6e6;">'+c+"</del>";break;case 0:t[a]="<span>"+c+"</span>"}}return t.join("")},t.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)1!==e[n][0]&&(t[n]=e[n][1]);return t.join("")},t.prototype.diff_text2=function(e){for(var t=[],r=0;r<e.length;r++)e[r][0]!==n&&(t[r]=e[r][1]);return t.join("")},t.prototype.diff_levenshtein=function(e){for(var t=0,r=0,o=0,i=0;i<e.length;i++){var s=e[i][0],a=e[i][1];switch(s){case 1:r+=a.length;break;case n:o+=a.length;break;case 0:t+=Math.max(r,o),r=0,o=0}}return t+=Math.max(r,o)},t.prototype.diff_toDelta=function(e){for(var t=[],r=0;r<e.length;r++)switch(e[r][0]){case 1:t[r]="+"+encodeURI(e[r][1]);break;case n:t[r]="-"+e[r][1].length;break;case 0:t[r]="="+e[r][1].length}return t.join("\t").replace(/%20/g," ")},t.prototype.diff_fromDelta=function(e,r){for(var o=[],i=0,s=0,a=r.split(/\t/g),l=0;l<a.length;l++){var c=a[l].substring(1);switch(a[l].charAt(0)){case"+":try{o[i++]=new t.Diff(1,decodeURI(c))}catch(h){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var d=parseInt(c,10);if(isNaN(d)||d<0)throw new Error("Invalid number in diff_fromDelta: "+c);var u=e.substring(s,s+=d);"="==a[l].charAt(0)?o[i++]=new t.Diff(0,u):o[i++]=new t.Diff(n,u);break;default:if(a[l])throw new Error("Invalid diff operation in diff_fromDelta: "+a[l])}}if(s!=e.length)throw new Error("Delta length ("+s+") does not equal source text length ("+e.length+").");return o},t.prototype.match_main=function(e,t,n){if(null==e||null==t||null==n)throw new Error("Null input. (match_main)");return n=Math.max(0,Math.min(n,e.length)),e==t?0:e.length?e.substring(n,n+t.length)==t?n:this.match_bitap_(e,t,n):-1},t.prototype.match_bitap_=function(e,t,n){if(t.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var r=this.match_alphabet_(t),o=this;function i(e,r){var i=e/t.length,s=Math.abs(n-r);return o.Match_Distance?i+s/o.Match_Distance:s?1:i}var s=this.Match_Threshold,a=e.indexOf(t,n);-1!=a&&(s=Math.min(i(0,a),s),-1!=(a=e.lastIndexOf(t,n+t.length))&&(s=Math.min(i(0,a),s)));var l,c,d=1<<t.length-1;a=-1;for(var u,h=t.length+e.length,p=0;p<t.length;p++){for(l=0,c=h;l<c;)i(p,n+c)<=s?l=c:h=c,c=Math.floor((h-l)/2+l);h=c;var f=Math.max(1,n-c+1),m=Math.min(n+c,e.length)+t.length,g=Array(m+2);g[m+1]=(1<<p)-1;for(var v=m;v>=f;v--){var y=r[e.charAt(v-1)];if(g[v]=0===p?(g[v+1]<<1|1)&y:(g[v+1]<<1|1)&y|(u[v+1]|u[v])<<1|1|u[v+1],g[v]&d){var x=i(p,v-1);if(x<=s){if(s=x,!((a=v-1)>n))break;f=Math.max(1,2*n-a)}}}if(i(p+1,n)>s)break;u=g}return a},t.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},t.prototype.patch_addContext_=function(e,n){if(0!=n.length){if(null===e.start2)throw Error("patch not initialized");for(var r=n.substring(e.start2,e.start2+e.length1),o=0;n.indexOf(r)!=n.lastIndexOf(r)&&r.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)o+=this.Patch_Margin,r=n.substring(e.start2-o,e.start2+e.length1+o);o+=this.Patch_Margin;var i=n.substring(e.start2-o,e.start2);i&&e.diffs.unshift(new t.Diff(0,i));var s=n.substring(e.start2+e.length1,e.start2+e.length1+o);s&&e.diffs.push(new t.Diff(0,s)),e.start1-=i.length,e.start2-=i.length,e.length1+=i.length+s.length,e.length2+=i.length+s.length}},t.prototype.patch_make=function(e,r,o){var i,s;if("string"==typeof e&&"string"==typeof r&&"undefined"==typeof o)i=e,(s=this.diff_main(i,r,!0)).length>2&&(this.diff_cleanupSemantic(s),this.diff_cleanupEfficiency(s));else if(e&&"object"==typeof e&&"undefined"==typeof r&&"undefined"==typeof o)s=e,i=this.diff_text1(s);else if("string"==typeof e&&r&&"object"==typeof r&&"undefined"==typeof o)i=e,s=r;else{if("string"!=typeof e||"string"!=typeof r||!o||"object"!=typeof o)throw new Error("Unknown call format to patch_make.");i=e,s=o}if(0===s.length)return[];for(var a=[],l=new t.patch_obj,c=0,d=0,u=0,h=i,p=i,f=0;f<s.length;f++){var m=s[f][0],g=s[f][1];switch(c||0===m||(l.start1=d,l.start2=u),m){case 1:l.diffs[c++]=s[f],l.length2+=g.length,p=p.substring(0,u)+g+p.substring(u);break;case n:l.length1+=g.length,l.diffs[c++]=s[f],p=p.substring(0,u)+p.substring(u+g.length);break;case 0:g.length<=2*this.Patch_Margin&&c&&s.length!=f+1?(l.diffs[c++]=s[f],l.length1+=g.length,l.length2+=g.length):g.length>=2*this.Patch_Margin&&c&&(this.patch_addContext_(l,h),a.push(l),l=new t.patch_obj,c=0,h=p,d=u)}1!==m&&(d+=g.length),m!==n&&(u+=g.length)}return c&&(this.patch_addContext_(l,h),a.push(l)),a},t.prototype.patch_deepCopy=function(e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=new t.patch_obj;i.diffs=[];for(var s=0;s<o.diffs.length;s++)i.diffs[s]=new t.Diff(o.diffs[s][0],o.diffs[s][1]);i.start1=o.start1,i.start2=o.start2,i.length1=o.length1,i.length2=o.length2,n[r]=i}return n},t.prototype.patch_apply=function(e,t){if(0==e.length)return[t,[]];e=this.patch_deepCopy(e);var r=this.patch_addPadding(e);t=r+t+r,this.patch_splitMax(e);for(var o=0,i=[],s=0;s<e.length;s++){var a,l,c=e[s].start2+o,d=this.diff_text1(e[s].diffs),u=-1;if(d.length>this.Match_MaxBits?-1!=(a=this.match_main(t,d.substring(0,this.Match_MaxBits),c))&&(-1==(u=this.match_main(t,d.substring(d.length-this.Match_MaxBits),c+d.length-this.Match_MaxBits))||a>=u)&&(a=-1):a=this.match_main(t,d,c),-1==a)i[s]=!1,o-=e[s].length2-e[s].length1;else if(i[s]=!0,o=a-c,d==(l=-1==u?t.substring(a,a+d.length):t.substring(a,u+this.Match_MaxBits)))t=t.substring(0,a)+this.diff_text2(e[s].diffs)+t.substring(a+d.length);else{var h=this.diff_main(d,l,!1);if(d.length>this.Match_MaxBits&&this.diff_levenshtein(h)/d.length>this.Patch_DeleteThreshold)i[s]=!1;else{this.diff_cleanupSemanticLossless(h);for(var p,f=0,m=0;m<e[s].diffs.length;m++){var g=e[s].diffs[m];0!==g[0]&&(p=this.diff_xIndex(h,f)),1===g[0]?t=t.substring(0,a+p)+g[1]+t.substring(a+p):g[0]===n&&(t=t.substring(0,a+p)+t.substring(a+this.diff_xIndex(h,f+g[1].length))),g[0]!==n&&(f+=g[1].length)}}}}return[t=t.substring(r.length,t.length-r.length),i]},t.prototype.patch_addPadding=function(e){for(var n=this.Patch_Margin,r="",o=1;o<=n;o++)r+=String.fromCharCode(o);for(o=0;o<e.length;o++)e[o].start1+=n,e[o].start2+=n;var i=e[0],s=i.diffs;if(0==s.length||0!=s[0][0])s.unshift(new t.Diff(0,r)),i.start1-=n,i.start2-=n,i.length1+=n,i.length2+=n;else if(n>s[0][1].length){var a=n-s[0][1].length;s[0][1]=r.substring(s[0][1].length)+s[0][1],i.start1-=a,i.start2-=a,i.length1+=a,i.length2+=a}if(0==(s=(i=e[e.length-1]).diffs).length||0!=s[s.length-1][0])s.push(new t.Diff(0,r)),i.length1+=n,i.length2+=n;else if(n>s[s.length-1][1].length){a=n-s[s.length-1][1].length;s[s.length-1][1]+=r.substring(0,a),i.length1+=a,i.length2+=a}return r},t.prototype.patch_splitMax=function(e){for(var r=this.Match_MaxBits,o=0;o<e.length;o++)if(!(e[o].length1<=r)){var i=e[o];e.splice(o--,1);for(var s=i.start1,a=i.start2,l="";0!==i.diffs.length;){var c=new t.patch_obj,d=!0;for(c.start1=s-l.length,c.start2=a-l.length,""!==l&&(c.length1=c.length2=l.length,c.diffs.push(new t.Diff(0,l)));0!==i.diffs.length&&c.length1<r-this.Patch_Margin;){var u=i.diffs[0][0],h=i.diffs[0][1];1===u?(c.length2+=h.length,a+=h.length,c.diffs.push(i.diffs.shift()),d=!1):u===n&&1==c.diffs.length&&0==c.diffs[0][0]&&h.length>2*r?(c.length1+=h.length,s+=h.length,d=!1,c.diffs.push(new t.Diff(u,h)),i.diffs.shift()):(h=h.substring(0,r-c.length1-this.Patch_Margin),c.length1+=h.length,s+=h.length,0===u?(c.length2+=h.length,a+=h.length):d=!1,c.diffs.push(new t.Diff(u,h)),h==i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(h.length))}l=(l=this.diff_text2(c.diffs)).substring(l.length-this.Patch_Margin);var p=this.diff_text1(i.diffs).substring(0,this.Patch_Margin);""!==p&&(c.length1+=p.length,c.length2+=p.length,0!==c.diffs.length&&0===c.diffs[c.diffs.length-1][0]?c.diffs[c.diffs.length-1][1]+=p:c.diffs.push(new t.Diff(0,p))),d||e.splice(++o,0,c)}}},t.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},t.prototype.patch_fromText=function(e){var r=[];if(!e)return r;for(var o=e.split("\n"),i=0,s=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<o.length;){var a=o[i].match(s);if(!a)throw new Error("Invalid patch string: "+o[i]);var l=new t.patch_obj;for(r.push(l),l.start1=parseInt(a[1],10),""===a[2]?(l.start1--,l.length1=1):"0"==a[2]?l.length1=0:(l.start1--,l.length1=parseInt(a[2],10)),l.start2=parseInt(a[3],10),""===a[4]?(l.start2--,l.length2=1):"0"==a[4]?l.length2=0:(l.start2--,l.length2=parseInt(a[4],10)),i++;i<o.length;){var c=o[i].charAt(0);try{var d=decodeURI(o[i].substring(1))}catch(u){throw new Error("Illegal escape in patch_fromText: "+d)}if("-"==c)l.diffs.push(new t.Diff(n,d));else if("+"==c)l.diffs.push(new t.Diff(1,d));else if(" "==c)l.diffs.push(new t.Diff(0,d));else{if("@"==c)break;if(""!==c)throw new Error('Invalid patch mode "'+c+'" in: '+d)}i++}}return r},(t.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0}).prototype.toString=function(){for(var e,t=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case 1:e="+";break;case n:e="-";break;case 0:e=" "}t[r+1]=e+encodeURI(this.diffs[r][1])+"\n"}return t.join("").replace(/%20/g," ")},e.exports=t,e.exports.diff_match_patch=t,e.exports.DIFF_DELETE=n,e.exports.DIFF_INSERT=1,e.exports.DIFF_EQUAL=0},391:(e,t,n)=>{"use strict";var r=n(950);t.H=r.createRoot,r.hydrateRoot},424:(e,t,n)=>{var r="__lodash_hash_undefined__",o="[object Function]",i="[object GeneratorFunction]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/,l=/^\./,c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,h="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,p="object"==typeof self&&self&&self.Object===Object&&self,f=h||p||Function("return this")();var m=Array.prototype,g=Function.prototype,v=Object.prototype,y=f["__core-js_shared__"],x=function(){var e=/[^.]+$/.exec(y&&y.keys&&y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),b=g.toString,w=v.hasOwnProperty,k=v.toString,N=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=f.Symbol,S=m.splice,C=P(f,"Map"),j=P(Object,"create"),E=_?_.prototype:void 0,T=E?E.toString:void 0;function A(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function M(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function O(e,t){for(var n,r,o=e.length;o--;)if((n=e[o][0])===(r=t)||n!==n&&r!==r)return o;return-1}function I(e,t){var n;t=function(e,t){if(B(e))return!1;var n=typeof e;if("number"==n||"symbol"==n||"boolean"==n||null==e||W(e))return!0;return a.test(e)||!s.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:B(n=t)?n:$(n);for(var r=0,o=t.length;null!=e&&r<o;)e=e[z(t[r++])];return r&&r==o?e:void 0}function L(e){if(!V(e)||(t=e,x&&x in t))return!1;var t,n=function(e){var t=V(e)?k.call(e):"";return t==o||t==i}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?N:u;return n.test(function(e){if(null!=e){try{return b.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function D(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function P(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}A.prototype.clear=function(){this.__data__=j?j(null):{}},A.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},A.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return n===r?void 0:n}return w.call(t,e)?t[e]:void 0},A.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:w.call(t,e)},A.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?r:t,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(e){var t=this.__data__,n=O(t,e);return!(n<0)&&(n==t.length-1?t.pop():S.call(t,n,1),!0)},M.prototype.get=function(e){var t=this.__data__,n=O(t,e);return n<0?void 0:t[n][1]},M.prototype.has=function(e){return O(this.__data__,e)>-1},M.prototype.set=function(e,t){var n=this.__data__,r=O(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},R.prototype.clear=function(){this.__data__={hash:new A,map:new(C||M),string:new A}},R.prototype.delete=function(e){return D(this,e).delete(e)},R.prototype.get=function(e){return D(this,e).get(e)},R.prototype.has=function(e){return D(this,e).has(e)},R.prototype.set=function(e,t){return D(this,e).set(e,t),this};var $=F((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(W(e))return T?T.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return l.test(e)&&n.push(""),e.replace(c,(function(e,t,r,o){n.push(r?o.replace(d,"$1"):t||e)})),n}));function z(e){if("string"==typeof e||W(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function F(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s),s};return n.cache=new(F.Cache||R),n}F.Cache=R;var B=Array.isArray;function V(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function W(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==k.call(e)}e.exports=function(e,t,n){var r=null==e?void 0:I(e,t);return void 0===r?n:r}},434:(e,t,n)=>{const r=n(250),o=()=>[{type:r.RANGE,from:48,to:57}],i=()=>[{type:r.CHAR,value:95},{type:r.RANGE,from:97,to:122},{type:r.RANGE,from:65,to:90}].concat(o()),s=()=>[{type:r.CHAR,value:9},{type:r.CHAR,value:10},{type:r.CHAR,value:11},{type:r.CHAR,value:12},{type:r.CHAR,value:13},{type:r.CHAR,value:32},{type:r.CHAR,value:160},{type:r.CHAR,value:5760},{type:r.RANGE,from:8192,to:8202},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233},{type:r.CHAR,value:8239},{type:r.CHAR,value:8287},{type:r.CHAR,value:12288},{type:r.CHAR,value:65279}];t.words=()=>({type:r.SET,set:i(),not:!1}),t.notWords=()=>({type:r.SET,set:i(),not:!0}),t.ints=()=>({type:r.SET,set:o(),not:!1}),t.notInts=()=>({type:r.SET,set:o(),not:!0}),t.whitespace=()=>({type:r.SET,set:s(),not:!1}),t.notWhitespace=()=>({type:r.SET,set:s(),not:!0}),t.anyChar=()=>({type:r.SET,set:[{type:r.CHAR,value:10},{type:r.CHAR,value:13},{type:r.CHAR,value:8232},{type:r.CHAR,value:8233}],not:!0})},443:(e,t,n)=>{"use strict";e.exports=n(717)},461:(e,t,n)=>{"use strict";e.exports=n(330)},494:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(603),s=n(173),a=n(43),l=n(67),c=n(288),d=(0,c.getAceInstance)(),u=function(e){function t(t){var n=e.call(this,t)||this;return c.editorEvents.forEach((function(e){n[e]=n[e].bind(n)})),n.debounce=c.debounce,n}return r(t,e),t.prototype.isInShadow=function(e){for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.className,r=t.onBeforeLoad,o=t.onValidate,i=t.mode,s=t.focus,a=t.theme,l=t.fontSize,u=t.lineHeight,h=t.value,p=t.defaultValue,f=t.showGutter,m=t.wrapEnabled,g=t.showPrintMargin,v=t.scrollMargin,y=void 0===v?[0,0,0,0]:v,x=t.keyboardHandler,b=t.onLoad,w=t.commands,k=t.annotations,N=t.markers,_=t.placeholder;this.editor=d.edit(this.refEditor),r&&r(d);for(var S=Object.keys(this.props.editorProps),C=0;C<S.length;C++)this.editor[S[C]]=this.props.editorProps[S[C]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(y[0],y[1],y[2],y[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode("string"===typeof i?"ace/mode/".concat(i):i),a&&""!==a&&this.editor.setTheme("ace/theme/".concat(a)),this.editor.setFontSize("number"===typeof l?"".concat(l,"px"):l),u&&(this.editor.container.style.lineHeight="number"===typeof u?"".concat(u,"px"):"".concat(u),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(p||(h||"")),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(f),this.editor.getSession().setUseWrapMode(m),this.editor.setShowPrintMargin(g),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),_&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),o&&this.editor.getSession().on("changeAnnotation",(function(){var t=e.editor.getSession().getAnnotations();e.props.onValidate(t)})),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(k||[]),N&&N.length>0&&this.handleMarkers(N);var j=this.editor.$options;c.editorOptions.forEach((function(t){j.hasOwnProperty(t)?e.editor.setOption(t,e.props[t]):e.props[t]&&console.warn("ReactAce: editor option ".concat(t," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))})),this.handleOptions(this.props),Array.isArray(w)&&w.forEach((function(t){"string"===typeof t.exec?e.editor.commands.bindKey(t.bindKey,t.exec):e.editor.commands.addCommand(t)})),x&&this.editor.setKeyboardHandler("ace/keyboard/"+x),n&&(this.refEditor.className+=" "+n),b&&b(this.editor),this.editor.resize(),s&&this.editor.focus()},t.prototype.componentDidUpdate=function(e){for(var t=e,n=this.props,r=0;r<c.editorOptions.length;r++){var o=c.editorOptions[r];n[o]!==t[o]&&this.editor.setOption(o,n[o])}if(n.className!==t.className){var i=this.refEditor.className.trim().split(" ");t.className.trim().split(" ").forEach((function(e){var t=i.indexOf(e);i.splice(t,1)})),this.refEditor.className=" "+n.className+" "+i.join(" ")}var s=this.editor&&null!=n.value&&this.editor.getValue()!==n.value;if(s){this.silent=!0;var a=this.editor.session.selection.toJSON();this.editor.setValue(n.value,n.cursorStart),this.editor.session.selection.fromJSON(a),this.silent=!1}n.placeholder!==t.placeholder&&this.updatePlaceholder(),n.mode!==t.mode&&this.editor.getSession().setMode("string"===typeof n.mode?"ace/mode/".concat(n.mode):n.mode),n.theme!==t.theme&&this.editor.setTheme("ace/theme/"+n.theme),n.keyboardHandler!==t.keyboardHandler&&(n.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+n.keyboardHandler):this.editor.setKeyboardHandler(null)),n.fontSize!==t.fontSize&&this.editor.setFontSize("number"===typeof n.fontSize?"".concat(n.fontSize,"px"):n.fontSize),n.lineHeight!==t.lineHeight&&(this.editor.container.style.lineHeight="number"===typeof n.lineHeight?"".concat(n.lineHeight,"px"):n.lineHeight,this.editor.renderer.updateFontSize()),n.wrapEnabled!==t.wrapEnabled&&this.editor.getSession().setUseWrapMode(n.wrapEnabled),n.showPrintMargin!==t.showPrintMargin&&this.editor.setShowPrintMargin(n.showPrintMargin),n.showGutter!==t.showGutter&&this.editor.renderer.setShowGutter(n.showGutter),l(n.setOptions,t.setOptions)||this.handleOptions(n),!s&&l(n.annotations,t.annotations)||this.editor.getSession().setAnnotations(n.annotations||[]),!l(n.markers,t.markers)&&Array.isArray(n.markers)&&this.handleMarkers(n.markers),l(n.scrollMargin,t.scrollMargin)||this.handleScrollMargins(n.scrollMargin),e.height===this.props.height&&e.width===this.props.width||this.editor.resize(),this.props.focus&&!e.focus&&this.editor.focus()},t.prototype.handleScrollMargins=function(e){void 0===e&&(e=[0,0,0,0]),this.editor.renderer.setScrollMargin(e[0],e[1],e[2],e[3])},t.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},t.prototype.onChange=function(e){if(this.editor&&this.props.onChange&&!this.silent){var t=this.editor.getValue();this.props.onChange(t,e)}},t.prototype.onSelectionChange=function(e){if(this.props.onSelectionChange){var t=this.editor.getSelection();this.props.onSelectionChange(t,e)}},t.prototype.onCursorChange=function(e){if(this.props.onCursorChange){var t=this.editor.getSelection();this.props.onCursorChange(t,e)}},t.prototype.onInput=function(e){this.props.onInput&&this.props.onInput(e),this.props.placeholder&&this.updatePlaceholder()},t.prototype.onFocus=function(e){this.props.onFocus&&this.props.onFocus(e,this.editor)},t.prototype.onBlur=function(e){this.props.onBlur&&this.props.onBlur(e,this.editor)},t.prototype.onCopy=function(e){var t=e.text;this.props.onCopy&&this.props.onCopy(t)},t.prototype.onPaste=function(e){var t=e.text;this.props.onPaste&&this.props.onPaste(t)},t.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},t.prototype.handleOptions=function(e){for(var t=Object.keys(e.setOptions),n=0;n<t.length;n++)this.editor.setOption(t[n],e.setOptions[t[n]])},t.prototype.handleMarkers=function(e){var t=this,n=this.editor.getSession().getMarkers(!0);for(var r in n)n.hasOwnProperty(r)&&this.editor.getSession().removeMarker(n[r].id);for(var r in n=this.editor.getSession().getMarkers(!1))n.hasOwnProperty(r)&&"ace_active-line"!==n[r].clazz&&"ace_selected-word"!==n[r].clazz&&this.editor.getSession().removeMarker(n[r].id);e.forEach((function(e){var n=e.startRow,r=e.startCol,o=e.endRow,s=e.endCol,a=e.className,l=e.type,c=e.inFront,d=void 0!==c&&c,u=new i.Range(n,r,o,s);t.editor.getSession().addMarker(u,a,l,d)}))},t.prototype.updatePlaceholder=function(){var e=this.editor,t=this.props.placeholder,n=!e.session.getValue().length,r=e.renderer.placeholderNode;!n&&r?(e.renderer.scroller.removeChild(e.renderer.placeholderNode),e.renderer.placeholderNode=null):n&&!r?((r=e.renderer.placeholderNode=document.createElement("div")).textContent=t||"",r.className="ace_comment ace_placeholder",r.style.padding="0 9px",r.style.position="absolute",r.style.zIndex="3",e.renderer.scroller.appendChild(r)):n&&r&&(r.textContent=t)},t.prototype.updateRef=function(e){this.refEditor=e},t.prototype.render=function(){var e=this.props,t=e.name,n=e.width,r=e.height,i=e.style,s=o({width:n,height:r},i);return a.createElement("div",{ref:this.updateRef,id:t,style:s})},t.propTypes={mode:s.oneOfType([s.string,s.object]),focus:s.bool,theme:s.string,name:s.string,className:s.string,height:s.string,width:s.string,fontSize:s.oneOfType([s.number,s.string]),lineHeight:s.oneOfType([s.number,s.string]),showGutter:s.bool,onChange:s.func,onCopy:s.func,onPaste:s.func,onFocus:s.func,onInput:s.func,onBlur:s.func,onScroll:s.func,value:s.string,defaultValue:s.string,onLoad:s.func,onSelectionChange:s.func,onCursorChange:s.func,onBeforeLoad:s.func,onValidate:s.func,minLines:s.number,maxLines:s.number,readOnly:s.bool,highlightActiveLine:s.bool,tabSize:s.number,showPrintMargin:s.bool,cursorStart:s.number,debounceChangePeriod:s.number,editorProps:s.object,setOptions:s.object,style:s.object,scrollMargin:s.array,annotations:s.array,markers:s.array,keyboardHandler:s.string,wrapEnabled:s.bool,enableSnippets:s.bool,enableBasicAutocompletion:s.oneOfType([s.bool,s.array]),enableLiveAutocompletion:s.oneOfType([s.bool,s.array]),navigateToFileEnd:s.bool,commands:s.array,placeholder:s.string},t.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},t}(a.Component);t.default=u},497:(e,t,n)=>{"use strict";var r=n(218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case i:case d:case u:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===s||e===i||e===d||e===u||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===l||e.$$typeof===a||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)}},579:(e,t,n)=>{"use strict";e.exports=n(153)},589:(e,t,n)=>{e=n.nmd(e),ace.require(["ace/mode/text"],(function(t){e&&(e.exports=t)}))},600:(e,t,n)=>{const r=n(960),o=n(250),i=n(434),s=n(663);e.exports=e=>{var t,n,a=0,l={type:o.ROOT,stack:[]},c=l,d=l.stack,u=[],h=t=>{r.error(e,"Nothing to repeat at column ".concat(t-1))},p=r.strToChars(e);for(t=p.length;a<t;)switch(n=p[a++]){case"\\":switch(n=p[a++]){case"b":d.push(s.wordBoundary());break;case"B":d.push(s.nonWordBoundary());break;case"w":d.push(i.words());break;case"W":d.push(i.notWords());break;case"d":d.push(i.ints());break;case"D":d.push(i.notInts());break;case"s":d.push(i.whitespace());break;case"S":d.push(i.notWhitespace());break;default:/\d/.test(n)?d.push({type:o.REFERENCE,value:parseInt(n,10)}):d.push({type:o.CHAR,value:n.charCodeAt(0)})}break;case"^":d.push(s.begin());break;case"$":d.push(s.end());break;case"[":var f;"^"===p[a]?(f=!0,a++):f=!1;var m=r.tokenizeClass(p.slice(a),e);a+=m[1],d.push({type:o.SET,set:m[0],not:f});break;case".":d.push(i.anyChar());break;case"(":var g={type:o.GROUP,stack:[],remember:!0};"?"===(n=p[a])&&(n=p[a+1],a+=2,"="===n?g.followedBy=!0:"!"===n?g.notFollowedBy=!0:":"!==n&&r.error(e,"Invalid group, character '".concat(n,"'")+" after '?' at column ".concat(a-1)),g.remember=!1),d.push(g),u.push(c),c=g,d=g.stack;break;case")":0===u.length&&r.error(e,"Unmatched ) at column ".concat(a-1)),d=(c=u.pop()).options?c.options[c.options.length-1]:c.stack;break;case"|":c.options||(c.options=[c.stack],delete c.stack);var v=[];c.options.push(v),d=v;break;case"{":var y,x,b=/^(\d+)(,(\d+)?)?\}/.exec(p.slice(a));null!==b?(0===d.length&&h(a),y=parseInt(b[1],10),x=b[2]?b[3]?parseInt(b[3],10):1/0:y,a+=b[0].length,d.push({type:o.REPETITION,min:y,max:x,value:d.pop()})):d.push({type:o.CHAR,value:123});break;case"?":0===d.length&&h(a),d.push({type:o.REPETITION,min:0,max:1,value:d.pop()});break;case"+":0===d.length&&h(a),d.push({type:o.REPETITION,min:1,max:1/0,value:d.pop()});break;case"*":0===d.length&&h(a),d.push({type:o.REPETITION,min:0,max:1/0,value:d.pop()});break;default:d.push({type:o.CHAR,value:n.charCodeAt(0)})}return 0!==u.length&&r.error(e,"Unterminated group"),l},e.exports.types=o},603:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,r){"string"===typeof e?(2==arguments.length&&(r=n),t.modules[e]||(t.payloads[e]=r,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"===typeof t){var o=i(e,t);if(void 0!=o)return n&&n(),o}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],a=0,l=t.length;a<l;++a){var c=i(e,t[a]);if(void 0==c&&r.original)return;s.push(c)}return n&&n.apply(null,s)||!0}},r=function(e,t){var o=n("",e,t);return void 0==o&&r.original?r.original.apply(this,arguments):o},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&r!=t;){var r=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},i=function(e,r){r=o(e,r);var i=t.modules[r];if(!i){if("function"===typeof(i=t.payloads[r])){var s={},a={id:r,uri:"",exports:s,packaged:!0};s=i((function(e,t){return n(r,e,t)}),s,a)||a.exports,t.modules[r]=s,delete t.payloads[r]}i=t.modules[r]=s||i}return i};!function(n){var o=e;n&&(e[n]||(e[n]={}),o=e[n]),o.define&&o.define.packaged||(t.original=o.define,o.define=t,o.define.packaged=!0),o.require&&o.require.packaged||(r.original=o.require,o.require=r,o.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function r(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||r(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||r(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var r=n.indexOf(e,t);return-1!==r&&r===t})),String.prototype.repeat||r(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||r(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];void 0!==r&&null!==r&&Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||r(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){var o=this[r];if(e.call(n,o,r,this))return o}})),Array.prototype.findIndex||r(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],r=0;r<t;r++){var o=this[r];if(e.call(n,o,r,this))return r}})),Array.prototype.includes||r(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||r(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,r=arguments[1]|0,o=r<0?Math.max(n+r,0):Math.min(r,n),i=arguments[2],s=void 0===i?n:i|0,a=s<0?Math.max(n+s,0):Math.min(s,n);o<a;)t[o]=e,o++;return t})),Array.of||r(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/deep_copy",["require","exports","module"],(function(e,t,n){t.deepCopy=function e(t){if("object"!==typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var r in n={},t)n[r]=e(t[r]);return n}})),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var r=/^\s\s*/,o=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(r,"")},t.stringTrimRight=function(e){return e.replace(o,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=e("./deep_copy").deepCopy,t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},r=function(e){return r.cancel(),t=setTimeout(n,e||0),r};return r.schedule=r,r.call=function(){return this.cancel(),e(),r},r.cancel=function(){return clearTimeout(t),t=null,r},r.isPending=function(){return t},r},t.delayedCall=function(e,t){var n=null,r=function(){n=null,e()},o=function(e){null==n&&(n=setTimeout(r,e||t))};return o.delay=function(e){n&&clearTimeout(n),n=setTimeout(r,e||t)},o.schedule=o,o.call=function(){this.cancel(),e()},o.cancel=function(){n&&clearTimeout(n),n=null},o.isPending=function(){return n},o},t.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(e){return!1}return!0},t.skipEmptyMatch=function(e,t,n){return n&&e.codePointAt(t)>65535?2:1}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var r="object"==typeof navigator?navigator:{},o=(/mac|win|linux/i.exec(r.platform)||["other"])[0].toLowerCase(),i=r.userAgent||"",s=r.appName||"";t.isWin="win"==o,t.isMac="mac"==o,t.isLinux="linux"==o,t.isIE="Microsoft Internet Explorer"==s||s.indexOf("MSAppHost")>=0?parseFloat((i.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((i.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=i.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(i.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(i.split(" Chrome/")[1])||void 0,t.isSafari=parseFloat(i.split(" Safari/")[1])&&!t.isChrome||void 0,t.isEdge=parseFloat(i.split(" Edge/")[1])||void 0,t.isAIR=i.indexOf("AdobeAIR")>=0,t.isAndroid=i.indexOf("Android")>=0,t.isChromeOS=i.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(i)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r,o=e("./useragent");t.buildDom=function e(t,n,r){if("string"==typeof t&&t){var o=document.createTextNode(t);return n&&n.appendChild(o),o}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var i=[],s=0;s<t.length;s++){var a=e(t[s],n,r);a&&i.push(a)}return i}var l=document.createElement(t[0]),c=t[1],d=1;c&&"object"==typeof c&&!Array.isArray(c)&&(d=2);for(s=d;s<t.length;s++)e(t[s],l,r);return 2==d&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?r&&(r[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var r=n.indexOf(t);if(-1==r)break;n.splice(r,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),r=!0;;){var o=n.indexOf(t);if(-1==o)break;r=!1,n.splice(o,1)}return r&&n.push(t),e.className=n.join(" "),r},t.setCssClass=function(e,n,r){r?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,r=0;if(n=(t=t||document).querySelectorAll("style"))for(;r<n.length;)if(n[r++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var i=[];function s(){var e=i;i=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,o){if("undefined"!=typeof document){if(i)if(o)s();else if(!1===o)return i.push([e,n]);if(!r){var a=o;o&&o.getRootNode&&(a=o.getRootNode())&&a!=o||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){r=e,0==e?s():i||(i=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var r=t.createElement("ace_outer"),o=r.style;o.position="absolute",o.left="-10000px",o.overflow="hidden",o.width="200px",o.minWidth="0px",o.height="150px",o.display="block",r.appendChild(n);var i=e&&e.documentElement||document&&document.documentElement;if(!i)return 0;i.appendChild(r);var s=n.offsetWidth;o.overflow="scroll";var a=n.offsetWidth;return s===a&&(a=r.clientWidth),i.removeChild(r),s-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!o.isWin||"undefined"!==typeof window&&window.devicePixelRatio>=1.5,o.isChromeOS&&(t.HI_DPI=!1),"undefined"!==typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),o.isEdge||"undefined"===typeof l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=r.getDocumentHead(),o=document.createElement("script");o.src=e,n.appendChild(o),o.onload=o.onreadystatechange=function(e,n){!n&&o.readyState&&"loaded"!=o.readyState&&"complete"!=o.readyState||(o=o.onload=o.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var r={},o=function(){this.propagationStopped=!0},i=function(){this.defaultPrevented=!0};r._emit=r._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],r=this._defaultHandlers[e];if(n.length||r){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=o),t.preventDefault||(t.preventDefault=i),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return r&&!t.defaultPrevented?r(t,this):void 0}},r._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var r=0;r<n.length;r++)n[r](t,this)}},r.once=function(e,t){var n=this;if(this.on(e,(function r(){n.off(e,r),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},r.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var r=n[e],o=n._disabled_[e];o||(n._disabled_[e]=o=[]),o.push(r);var i=o.indexOf(t);-1!=i&&o.splice(i,1)}n[e]=t},r.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var r=n._disabled_[e];if(n[e]==t)r&&this.setDefaultHandler(e,r.pop());else if(r){var o=r.indexOf(t);-1!=o&&r.splice(o,1)}}},r.on=r.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[e];return r||(r=this._eventRegistry[e]=[]),-1==r.indexOf(t)&&r[n?"unshift":"push"](t),t},r.off=r.removeListener=r.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},r.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=r})),ace.define("ace/lib/report_error",["require","exports","module"],(function(e,t,n){t.reportError=function(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}})),ace.define("ace/lib/default_english_messages",["require","exports","module"],(function(e,t,n){t.defaultEnglishMessages={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"}})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],(function(e,t,n){var r,o,i=e("./oop"),s=e("./event_emitter").EventEmitter,a=e("./report_error").reportError,l=e("./default_english_messages").defaultEnglishMessages,c={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return d('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:d('misspelled option "'+e+'"')}};function d(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}var u=function(){function e(){this.$defaultOptions={},r=l,o="dollarSigns"}return e.prototype.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var r=n[t];"string"==typeof r&&(r={forwardTo:r}),r.name||(r.name=t),e.$options[r.name]=r,"initialValue"in r&&(e["$"+r.name]=r.initialValue)})),i.implement(e,c),this},e.prototype.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},e.prototype.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var r=this.$defaultOptions[e]||(this.$defaultOptions[e]={});r[t]&&(r.forwardTo?this.setDefaultValue(r.forwardTo,t,n):r[t].value=n)},e.prototype.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},e.prototype.setMessages=function(e,t){r=e,t&&t.placeholders&&(o=t.placeholders)},e.prototype.nls=function(e,t,n){r[e]||(d("No message found for the key '"+e+"' in messages with id "+r.$id+", trying to find a translation for the default string '"+t+"'."),r[t]||d("No message found for the default string '"+t+"' in the provided messages. Falling back to the default English message."));var i=r[e]||r[t]||t;return n&&("dollarSigns"===o&&(i=i.replace(/\$(\$|[\d]+)/g,(function(e,t){return"$"==t?"$":n[t]}))),"curlyBrackets"===o&&(i=i.replace(/\{([^\}]+)\}/g,(function(e,t){return n[t]})))),i},e}();u.prototype.warn=d,u.prototype.reportError=a,i.implement(u.prototype,s),t.AppConfig=u})),ace.define("ace/theme/textmate-css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate-css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var r=e("./lib/lang"),o=e("./lib/net"),i=e("./lib/dom"),s=e("./lib/app_config").AppConfig;n.exports=t=new s;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&i.useStrictCSP(t)},t.all=function(){return r.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),r="snippets"==(t=t||n[n.length-2]||"")?"/":"-",o=n[n.length-1];if("worker"==t&&"-"==r){var i=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");o=o.replace(i,"")}(!o||o==t)&&n.length>1&&(o=n[n.length-2]);var s=a[t+"Path"];return null==s?s=a.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+o+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l;t.setLoader=function(e){l=e},t.dynamicModules=Object.create(null),t.$loading={},t.$loaded={},t.loadModule=function(n,r){var i;if(Array.isArray(n))var s=n[0],a=n[1];else if("string"==typeof n)a=n;var d=function(n){if(n&&!t.$loading[a])return r&&r(n);if(t.$loading[a]||(t.$loading[a]=[]),t.$loading[a].push(r),!(t.$loading[a].length>1)){var i=function(){!function(t,n){"ace/theme/textmate"===t||"./theme/textmate"===t?n(null,e("./theme/textmate")):l?l(t,n):console.error("loader is not configured")}(a,(function(e,n){n&&(t.$loaded[a]=n),t._emit("load.module",{name:a,module:n});var r=t.$loading[a];t.$loading[a]=null,r.forEach((function(e){e&&e(n)}))}))};if(!t.get("packaged"))return i();o.loadScript(t.moduleUrl(a,s),i),c()}};if(t.dynamicModules[a])t.dynamicModules[a]().then((function(e){e.default?d(e.default):d(e)}));else{try{i=this.$require(a)}catch(u){}d(i||t.$loaded[a])}},t.$require=function(e){if("function"==typeof n.require){return n.require(e)}},t.setModuleLoader=function(e,n){t.dynamicModules[e]=n};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.40.1"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,r){"use strict";e("./lib/fixoldbrowsers");var o=e("./config");o.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var i=function(){return this||"undefined"!=typeof window&&window}();function s(t){if(i&&i.document){o.set("packaged",t||e.packaged||r.packaged||i.define&&n.amdD.packaged);var s={},a="",l=document.currentScript||document._currentScript,c=l&&l.ownerDocument||document;l&&l.src&&(a=l.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var d,u=c.getElementsByTagName("script"),h=0;h<u.length;h++){var p=u[h],f=p.src||p.getAttribute("src");if(f){for(var m=p.attributes,g=0,v=m.length;g<v;g++){var y=m[g];0===y.name.indexOf("data-ace-")&&(s[(d=y.name.replace(/^data-ace-/,""),d.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=y.value)}var x=f.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);x&&(a=x[1])}}for(var b in a&&(s.base=s.base||a,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)"undefined"!==typeof s[b]&&o.set(b,s[b])}}r.exports=function(t){o.init=s,o.$require=e,t.require=e,t.define=n.amdD},s(!0)})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var r=function(){function e(e,t,n,r){this.start={row:e,column:t},this.end={row:n,column:r}}return e.prototype.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},e.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},e.prototype.contains=function(e,t){return 0==this.compare(e,t)},e.prototype.compareRange=function(e){var t,n=e.end,r=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(r.row,r.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(r.row,r.column))?-1:1==t?42:0},e.prototype.comparePoint=function(e){return this.compare(e.row,e.column)},e.prototype.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},e.prototype.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},e.prototype.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},e.prototype.isStart=function(e,t){return this.start.row==e&&this.start.column==t},e.prototype.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},e.prototype.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},e.prototype.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},e.prototype.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},e.prototype.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},e.prototype.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},e.prototype.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},e.prototype.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},e.prototype.clipRows=function(t,n){if(this.end.row>n)var r={row:n+1,column:0};else if(this.end.row<t)r={row:t,column:0};if(this.start.row>n)var o={row:n+1,column:0};else if(this.start.row<t)o={row:t,column:0};return e.fromPoints(o||this.start,r||this.end)},e.prototype.extend=function(t,n){var r=this.compare(t,n);if(0==r)return this;if(-1==r)var o={row:t,column:n};else var i={row:t,column:n};return e.fromPoints(o||this.start,i||this.end)},e.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},e.prototype.isMultiLine=function(){return this.start.row!==this.end.row},e.prototype.clone=function(){return e.fromPoints(this.start,this.end)},e.prototype.collapseRows=function(){return 0==this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},e.prototype.toScreenRange=function(t){var n=t.documentToScreenPosition(this.start),r=t.documentToScreenPosition(this.end);return new e(n.row,n.column,r.row,r.column)},e.prototype.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t},e}();r.fromPoints=function(e,t){return new r(e.row,e.column,t.row,t.column)},r.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=r})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";for(var r=e("./oop"),o={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},i={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)i["Digit"+s]=48+s,i["Numpad"+s]=96+s,o.PRINTABLE_KEYS[48+s]=""+s,o.FUNCTION_KEYS[96+s]="Numpad"+s;for(s=65;s<91;s++){var a=String.fromCharCode(s+32);i["Key"+a.toUpperCase()]=s,o.PRINTABLE_KEYS[s]=a}for(s=1;s<13;s++)i["F"+s]=111+s,o.FUNCTION_KEYS[111+s]="F"+s;var l={Shift:16,Control:17,Alt:18,Meta:224};for(var c in l)i[c]=i[c+"Left"]=i[c+"Right"]=l[c];for(var d in t.$codeToKeyCode=i,o.PRINTABLE_KEYS[173]="-",o.FUNCTION_KEYS){var u=o.FUNCTION_KEYS[d].toLowerCase();o[u]=parseInt(d,10)}for(var d in o.PRINTABLE_KEYS){u=o.PRINTABLE_KEYS[d].toLowerCase();o[u]=parseInt(d,10)}r.mixin(o,o.MODIFIER_KEYS),r.mixin(o,o.PRINTABLE_KEYS),r.mixin(o,o.FUNCTION_KEYS),o.enter=o.return,o.escape=o.esc,o.del=o.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)o.KEY_MODS[t]=e.filter((function(e){return t&o.KEY_MODS[e]})).join("-")+"-"}(),o.KEY_MODS[0]="",o.KEY_MODS[-1]="input-",r.mixin(t,o),t.default=t,t.keyCodeToString=function(e){var t=o[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r,o=e("./keys"),i=e("./useragent"),s=null,a=0;function l(){return void 0==r&&function(){r=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){return r={passive:!1},!0}})}catch(e){}}(),r}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d=t.addListener=function(e,t,n,r){e.addEventListener(t,n,l()),r&&r.$toDestroy.push(new c(e,t,n))},u=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};function h(e){return(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function p(){s=Object.create(null)}if(t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||i.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var r=e&&e.ownerDocument||document;function o(e){t&&t(e),n&&n(e),u(r,"mousemove",t),u(r,"mouseup",o),u(r,"dragstart",o)}return d(r,"mousemove",t),d(r,"mouseup",o),d(r,"dragstart",o),o},t.addMouseWheelListener=function(e,t,n){d(e,"wheel",(function(e){var n=e.deltaX||0,r=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*r;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*r;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*r}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,r,o,s){var a,l,c,u=0,h={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?u=0:e.detail>1?++u>4&&(u=1):u=1,i.isIE){var s=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!s||(u=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[u-1]||600),1==u&&(a=e.clientX,l=e.clientY)}if(e._clicks=u,r[o]("mousedown",e),u>4)u=0;else if(u>1)return r[o](h[u],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){d(e,"mousedown",p,s)}))},t.getModifierString=function(e){return o.KEY_MODS[h(e)]},t.addCommandKeyListener=function(e,n,r){var l=null;d(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=function(e,t,n){var r=h(t);if(!n&&t.code&&(n=o.$codeToKeyCode[t.code]||n),!i.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(r|=8),s.altGr){if(3==(3&r))return;s.altGr=0}if(18===n||17===n){var l=t.location;17===n&&1===l?1==s[n]&&(a=t.timeStamp):18===n&&3===r&&2===l&&t.timeStamp-a<50&&(s.altGr=!0)}}if(n in o.MODIFIER_KEYS&&(n=-1),r||13!==n||3!==t.location||(e(t,r,-n),!t.defaultPrevented)){if(i.isChromeOS&&8&r){if(e(t,r,n),t.defaultPrevented)return;r&=-9}return!!(r||n in o.FUNCTION_KEYS||n in o.PRINTABLE_KEYS)&&e(t,r,n)}}(n,e,e.keyCode);return l=e.defaultPrevented,t}),r),d(e,"keypress",(function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)}),r),d(e,"keyup",(function(e){s[e.keyCode]=null}),r),s||(p(),d(window,"focus",p))},"object"==typeof window&&window.postMessage&&!i.isOldIE){var f=1;t.nextTick=function(e,n){n=n||window;var r="zero-timeout-message-"+f++,o=function(i){i.data==r&&(t.stopPropagation(i),u(n,"message",o),e())};d(n,"message",o),n.postMessage(r,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var r;n.exports={lineMode:!1,pasteCancelled:function(){return!!(r&&r>Date.now()-50)||(r=!1)},cancel:function(){r=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var r,o=e("../lib/event"),i=e("../config").nls,s=e("../lib/useragent"),a=e("../lib/dom"),l=e("../lib/lang"),c=e("../clipboard"),d=s.isChrome<18,u=s.isIE,h=s.isChrome>63,p=400,f=e("../lib/keys"),m=f.KEY_MODS,g=s.isIOS,v=g?/\s/:/\n/,y=s.isMobile;r=function(e,t){var n=a.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck","false"),n.style.opacity="0",e.insertBefore(n,e.firstChild);var r=!1,x=!1,b=!1,w=!1,k="";y||(n.style.fontSize="1px");var N=!1,_=!1,S="",C=0,j=0,E=0,T=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,M=0;try{var R=document.activeElement===n}catch(X){}this.setNumberOfExtraLines=function(e){T=Number.MAX_SAFE_INTEGER,A=Number.MIN_SAFE_INTEGER,M=e<0?0:e},this.setAriaLabel=function(){var e="";if(t.$textInputAriaLabel&&(e+="".concat(t.$textInputAriaLabel,", ")),t.session){var r=t.session.selection.cursor.row;e+=i("text-input.aria-label","Cursor at row $0",[r+1])}n.setAttribute("aria-label",e)},this.setAriaOptions=function(e){e.activeDescendant?(n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete",e.inline?"both":"list"),n.setAttribute("aria-activedescendant",e.activeDescendant)):(n.setAttribute("aria-haspopup","false"),n.setAttribute("aria-autocomplete","both"),n.removeAttribute("aria-activedescendant")),e.role&&n.setAttribute("role",e.role),e.setLabel&&(n.setAttribute("aria-roledescription",i("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),o.addListener(n,"blur",(function(e){_||(t.onBlur(e),R=!1)}),t),o.addListener(n,"focus",(function(e){if(!_){if(R=!0,s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout(I):I()}}),t),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:t.renderer.enableKeyboardAccessibility}),k||h||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var r=0!=n.getBoundingClientRect().top}catch(X){return}var o=[];if(r)for(var i=n.parentElement;i&&1==i.nodeType;)o.push(i),i.setAttribute("ace_nocontext","true"),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;n.focus({preventScroll:!0}),r&&o.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return R},t.on("beforeEndOperation",(function(){var e=t.curOp,r=e&&e.command&&e.command.name;if("insertstring"!=r){var o=r&&(e.docChanged||e.selectionChanged);b&&o&&(S=n.value="",U()),I()}})),t.on("changeSelection",this.setAriaLabel);var O=function(e,n){for(var r=n,o=1;o<=e-T&&o<2*M+1;o++)r+=t.session.getLine(e-o).length+1;return r},I=g?function(e){if(R&&(!r||e)&&!w){e||(e="");var o="\n ab"+e+"cde fg\n";o!=n.value&&(n.value=S=o);var i=4+(e.length||(t.selection.isEmpty()?0:1));4==C&&j==i||n.setSelectionRange(4,i),C=4,j=i}}:function(){if(!b&&!w&&(R||D)){b=!0;var e=0,r=0,o="";if(t.session){var i=t.selection,s=i.getRange(),a=i.cursor.row;a===A+1?A=(T=A+1)+2*M:a===T-1?T=(A=T-1)-2*M:(a<T-1||a>A+1)&&(T=a>M?a-M:0,A=a>M?a+M:2*M);for(var l=[],c=T;c<=A;c++)l.push(t.session.getLine(c));if(o=l.join("\n"),e=O(s.start.row,s.start.column),r=O(s.end.row,s.end.column),s.start.row<T){var d=t.session.getLine(T-1);e=s.start.row<T-1?0:e,r+=d.length+1,o=d+"\n"+o}else if(s.end.row>A){var u=t.session.getLine(A+1);r=s.end.row>A+1?u.length:s.end.column,r+=o.length+1,o=o+"\n"+u}else y&&a>0&&(o="\n"+o,r+=1,e+=1);o.length>p&&(e<p&&r<p?o=o.slice(0,p):(o="\n",e==r?e=r=0:(e=0,r=1)));var h=o+"\n\n";h!=S&&(n.value=S=h,C=j=h.length)}if(D&&(C=n.selectionStart,j=n.selectionEnd),j!=r||C!=e||n.selectionEnd!=j)try{n.setSelectionRange(e,r),C=e,j=r}catch(X){}b=!1}};this.resetSelection=I,R&&t.onFocus();var L=null;this.setInputHandler=function(e){L=e},this.getInputHandler=function(){return L};var D=!1,P=function(e,r){if(D&&(D=!1),x)return I(),e&&t.onPaste(e),x=!1,"";for(var o=n.selectionStart,i=n.selectionEnd,a=C,l=S.length-j,c=e,d=e.length-o,u=e.length-i,h=0;a>0&&S[h]==e[h];)h++,a--;for(c=c.slice(h),h=1;l>0&&S.length-h>C-1&&S[S.length-h]==e[e.length-h];)h++,l--;d-=h-1,u-=h-1;var p=c.length-h+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!r&&!c&&!d&&!a&&!l&&!u)return"";w=!0;var f=!1;return s.isAndroid&&". "==c&&(c="  ",f=!0),c&&!a&&!l&&!d&&!u||N?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:d,restoreEnd:u}),w=!1,S=e,C=o,j=i,E=u,f?"\n":c},$=function(e){if(b)return H();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var r=n.value,o=P(r,!0);(r.length>500||v.test(o)||y&&C<1&&C==j)&&I()},z=function(e,t,n){var r=e.clipboardData||window.clipboardData;if(r&&!d){var o=u||n?"Text":"text/plain";try{return t?!1!==r.setData(o,t):r.getData(o)}catch(e){if(!n)return z(e,t,!0)}}},F=function(e,i){var s=t.getCopyText();if(!s)return o.preventDefault(e);z(e,s)?(g&&(I(s),r=s,setTimeout((function(){r=!1}),10)),i?t.onCut():t.onCopy(),o.preventDefault(e)):(r=!0,n.value=s,n.select(),setTimeout((function(){r=!1,I(),i?t.onCut():t.onCopy()})))},B=function(e){F(e,!0)},V=function(e){F(e,!1)},W=function(e){var r=z(e);c.pasteCancelled()||("string"==typeof r?(r&&t.onPaste(r,e),s.isIE&&setTimeout(I),o.preventDefault(e)):(n.value="",x=!0))};o.addCommandKeyListener(n,(function(e,n,r){if(!b)return t.onCommandKey(e,n,r)}),t),o.addListener(n,"select",(function(e){b||(r?r=!1:!function(e){return 0===e.selectionStart&&e.selectionEnd>=S.length&&e.value===S&&S&&e.selectionEnd!==j}(n)?y&&n.selectionStart!=C&&I():(t.selectAll(),I()))}),t),o.addListener(n,"input",$,t),o.addListener(n,"cut",B,t),o.addListener(n,"copy",V,t),o.addListener(n,"paste",W,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||o.addListener(e,"keydown",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:V(e);break;case 86:W(e);break;case 88:B(e)}}),t);var H=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(N)return G();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;P(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+j-b.selectionStart+E)}}},U=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",G),e&&$())};function G(){_=!0,n.blur(),n.focus(),_=!1}var q,K=l.delayedCall(H,50).schedule.bind(null,null);function Y(){clearTimeout(q),q=setTimeout((function(){k&&(n.style.cssText=k,k=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}o.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!N)){e.data&&(b.useTextareaForIME=!1),setTimeout(H,0),t._signal("compositionStart"),t.on("mousedown",G);var r=t.getSelectionRange();r.end.row=r.start.row,r.end.column=r.start.column,b.markerRange=r,b.selectionStart=C,t.onCompositionStart(b),b.useTextareaForIME?(S=n.value="",C=0,j=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),o.addListener(n,"compositionupdate",H,t),o.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(S=n.value),C=j=-1,I()),K()}),t),o.addListener(n,"keydown",K,t),o.addListener(n,"compositionend",U,t),this.getElement=function(){return n},this.setCommandMode=function(e){N=e,n.readOnly=!1},this.setReadOnly=function(e){N||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){D=!0,I(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){k||(k=n.style.cssText),n.style.cssText=(r?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(C+j)*t.renderer.characterWidth*.5+"px;";var i=t.container.getBoundingClientRect(),l=a.computedStyle(t.container),c=i.top+(parseInt(l.borderTopWidth)||0),d=i.left+(parseInt(l.borderLeftWidth)||0),u=i.bottom-c-n.clientHeight-2,h=function(e){a.translate(n,e.clientX-d-2,Math.min(e.clientY-c-2,u))};h(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(q),s.isWin&&o.capture(t.container,h,Y))},this.onContextMenuClose=Y;var Q=function(e){t.textInput.onContextMenu(e),Y()};o.addListener(n,"mouseup",Q,t),o.addListener(n,"mousedown",(function(e){e.preventDefault(),Y()}),t),o.addListener(t.renderer.scroller,"contextmenu",Q,t),o.addListener(n,"contextmenu",Q,t),g&&function(e,t,n){var o=null,i=!1;n.addEventListener("keydown",(function(e){o&&clearTimeout(o),i=!0}),!0),n.addEventListener("keyup",(function(e){o=setTimeout((function(){i=!1}),100)}),!0);var s=function(e){if(document.activeElement===n&&!(i||b||t.$mouseHandler.isMousePressed)&&!r){var o=n.selectionStart,s=n.selectionEnd,a=null,l=0;if(0==o?a=f.up:1==o?a=f.home:s>j&&"\n"==S[s]?a=f.end:o<C&&" "==S[o-1]?(a=f.left,l=m.option):o<C||o==C&&j!=C&&o==s?a=f.left:s>j&&S.slice(0,s).split("\n").length>2?a=f.down:s>j&&" "==S[s-1]?(a=f.right,l=m.option):(s>j||s==j&&j!=C&&o==s)&&(a=f.right),o!==s&&(l|=m.shift),a){if(!t.onCommandKey({},l,a)&&t.commands){a=f.keyCodeToString(a);var c=t.commands.findKeyCommand(l,a);c&&t.execCommand(c)}C=o,j=s,I("")}}};document.addEventListener("selectionchange",s),t.on("destroy",(function(){document.removeEventListener("selectionchange",s)}))}(0,t,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},t.TextInput=r,t.$setUserAgentForTests=function(e,t){y=e,g=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/useragent"),o=function(){function e(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}return e.prototype.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var o=this.editor,i=e.getButton();return 0!==i?((o.getSelectionRange().isEmpty()||1==i)&&o.selection.moveToPosition(n),void(2==i&&(o.textInput.onContextMenu(e.domEvent),r.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||o.isFocused()||(o.focus(),!this.$focusTimeout||this.$clickSelection||o.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},e.prototype.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.setStyle("ace_selecting"),this.setState("select"))},e.prototype.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(n);if(-1==r)e=this.$clickSelection.end;else if(1==r)e=this.$clickSelection.start;else{var o=i(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},e.prototype.extendSelectionBy=function(e){var t,n=this.editor,r=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](r.row,r.column);if(this.$clickSelection){var s=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==s&&a<=0)t=this.$clickSelection.end,o.end.row==r.row&&o.end.column==r.column||(r=o.start);else if(1==a&&s>=0)t=this.$clickSelection.start,o.start.row==r.row&&o.start.column==r.column||(r=o.end);else if(-1==s&&1==a)r=o.end,t=o.start;else{var l=i(this.$clickSelection,r);r=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(r),n.renderer.scrollCursorIntoView()},e.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},e.prototype.focusWait=function(){var e,t,n,r,o=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,r=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))),i=Date.now();(o>0||i-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},e.prototype.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,r=n.session.getBracketRange(t);r?(r.isEmpty()&&(r.start.column--,r.end.column++),this.setState("select")):(r=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=r,this.select()},e.prototype.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var r=n.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(r.start.row),this.$clickSelection.end=n.selection.getLineRange(r.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},e.prototype.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},e.prototype.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,r=e.domEvent.timeStamp,o=r-n.t,i=o?e.wheelX/o:n.vx,s=o?e.wheelY/o:n.vy;o<550&&(i=(i+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(i/s),l=!1;if(a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l)n.allowed=r;else if(r-n.allowed<550){Math.abs(i)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=r):n.allowed=0}return n.t=r,n.vx=i,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}},e}();function i(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else var n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}o.prototype.selectEnd=o.prototype.selectByLinesEnd,o.prototype.selectAllEnd=o.prototype.selectByLinesEnd,o.prototype.selectByWordsEnd=o.prototype.selectByLinesEnd,t.DefaultHandlers=o})),ace.define("ace/lib/scroll",["require","exports","module"],(function(e,t,n){t.preventParentScroll=function(e){e.stopPropagation();var t=e.currentTarget;t.scrollHeight>t.clientHeight||e.preventDefault()}})),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=e("./lib/dom"),s=(e("./lib/event"),e("./range").Range),a=e("./lib/scroll").preventParentScroll,l="ace_tooltip",c=function(){function e(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}return e.prototype.$init=function(){return this.$element=i.createElement("div"),this.$element.className=l,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},e.prototype.getElement=function(){return this.$element||this.$init()},e.prototype.setText=function(e){this.getElement().textContent=e},e.prototype.setHtml=function(e){this.getElement().innerHTML=e},e.prototype.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},e.prototype.setClassName=function(e){i.addCssClass(this.getElement(),e)},e.prototype.setTheme=function(e){this.$element.className=l+" "+(e.isDark?"ace_dark ":"")+(e.cssClass||"")},e.prototype.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},e.prototype.hide=function(e){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=l,this.isOpen=!1)},e.prototype.getHeight=function(){return this.getElement().offsetHeight},e.prototype.getWidth=function(){return this.getElement().offsetWidth},e.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},e}(),d=new(function(){function e(){this.popups=[]}return e.prototype.addPopup=function(e){this.popups.push(e),this.updatePopups()},e.prototype.removePopup=function(e){var t=this.popups.indexOf(e);-1!==t&&(this.popups.splice(t,1),this.updatePopups())},e.prototype.updatePopups=function(){var e,t,n,r;this.popups.sort((function(e,t){return t.priority-e.priority}));var i=[];try{for(var s=o(this.popups),a=s.next();!a.done;a=s.next()){var l=a.value,c=!0;try{for(var d=(n=void 0,o(i)),u=d.next();!u.done;u=d.next()){var h=u.value;if(this.doPopupsOverlap(h,l)){c=!1;break}}}catch(p){n={error:p}}finally{try{u&&!u.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}c?i.push(l):l.hide()}}catch(f){e={error:f}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}},e.prototype.doPopupsOverlap=function(e,t){var n=e.getElement().getBoundingClientRect(),r=t.getElement().getBoundingClientRect();return n.left<r.right&&n.right>r.left&&n.top<r.bottom&&n.bottom>r.top},e}());t.popupManager=d,t.Tooltip=c;var u=function(e){function t(t){void 0===t&&(t=document.body);var n=e.call(this,t)||this;n.timeout=void 0,n.lastT=0,n.idleTime=350,n.lastEvent=void 0,n.onMouseOut=n.onMouseOut.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.waitForHover=n.waitForHover.bind(n),n.hide=n.hide.bind(n);var r=n.getElement();return r.style.whiteSpace="pre-wrap",r.style.pointerEvents="auto",r.addEventListener("mouseout",n.onMouseOut),r.tabIndex=-1,r.addEventListener("blur",function(){r.contains(document.activeElement)||this.hide()}.bind(n)),r.addEventListener("wheel",a),n}return r(t,e),t.prototype.addToEditor=function(e){e.on("mousemove",this.onMouseMove),e.on("mousedown",this.hide),e.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},t.prototype.removeFromEditor=function(e){e.off("mousemove",this.onMouseMove),e.off("mousedown",this.hide),e.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},t.prototype.onMouseMove=function(e,t){this.lastEvent=e,this.lastT=Date.now();var n=t.$mouseHandler.isMousePressed;if(this.isOpen){var r=this.lastEvent&&this.lastEvent.getDocumentPosition();this.range&&this.range.contains(r.row,r.column)&&!n&&!this.isOutsideOfText(this.lastEvent)||this.hide()}this.timeout||n||(this.lastEvent=e,this.timeout=setTimeout(this.waitForHover,this.idleTime))},t.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var e=Date.now()-this.lastT;this.idleTime-e>10?this.timeout=setTimeout(this.waitForHover,this.idleTime-e):(this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor))},t.prototype.isOutsideOfText=function(e){var t=e.editor,n=e.getDocumentPosition(),r=t.session.getLine(n.row);if(n.column==r.length){var o=t.renderer.pixelToScreenCoordinates(e.clientX,e.clientY),i=t.session.documentToScreenPosition(n.row,n.column);if(i.column!=o.column||i.row!=o.row)return!0}return!1},t.prototype.setDataProvider=function(e){this.$gatherData=e},t.prototype.showForRange=function(e,t,n,r){if((!r||r==this.lastEvent)&&(!this.isOpen||document.activeElement!=this.getElement())){var o=e.renderer;this.isOpen||(d.addPopup(this),this.$registerCloseEvents(),this.setTheme(o.theme)),this.isOpen=!0,this.addMarker(t,e.session),this.range=s.fromPoints(t.start,t.end);var i=o.textToScreenCoordinates(t.start.row,t.start.column),a=o.scroller.getBoundingClientRect();i.pageX<a.left&&(i.pageX=a.left);var l=this.getElement();l.innerHTML="",l.appendChild(n),l.style.maxHeight="",l.style.display="block";var c=l.clientHeight,u=l.clientWidth,h=window.innerHeight-i.pageY-o.lineHeight,p=!0;i.pageY-c<0&&i.pageY<h&&(p=!1),l.style.maxHeight=(p?i.pageY:h)-10+"px",l.style.top=p?"":i.pageY+o.lineHeight+"px",l.style.bottom=p?window.innerHeight-i.pageY+"px":"",l.style.left=Math.min(i.pageX,window.innerWidth-u-10)+"px"}},t.prototype.addMarker=function(e,t){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=t,this.marker=t&&t.addMarker(e,"ace_highlight-marker","text")},t.prototype.hide=function(e){(e||document.activeElement!=this.getElement())&&(e&&e.target&&("keydown"!=e.type||e.ctrlKey||e.metaKey)&&this.$element.contains(e.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,d.removePopup(this))))},t.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},t.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},t.prototype.onMouseOut=function(e){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&e.relatedTarget&&!this.getElement().contains(e.relatedTarget)&&(e&&e.currentTarget.contains(e.relatedTarget)||e.relatedTarget.classList.contains("ace_content")||this.hide())},t}(c);t.HoverTooltip=u})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=e("../lib/dom"),s=e("../lib/event"),a=e("../tooltip").Tooltip,l=e("../config").nls;t.GUTTER_TOOLTIP_LEFT_OFFSET=5,t.GUTTER_TOOLTIP_TOP_OFFSET=3,t.GutterHandler=function(e){var t,n,r=e.editor,o=r.renderer.$gutterLayer,a=new c(r,!0);function l(e){e&&"keydown"===e.type&&(e.ctrlKey||e.metaKey)||(!e||"mouseout"!==e.type||e.relatedTarget&&!a.getElement().contains(e.relatedTarget))&&(t&&(t=clearTimeout(t)),a.isOpen&&(a.hideTooltip(),r.off("mousewheel",l),r.off("changeSession",l),window.removeEventListener("keydown",l,!0)))}function d(e){a.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(r.isFocused()&&0==t.getButton()&&"foldWidgets"!=o.getRegion(t)){var n=t.getDocumentPosition().row,i=r.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return r.selectAll(),t.preventDefault();e.$clickSelection=r.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(s){var c=s.domEvent.target||s.domEvent.srcElement;if(i.hasCssClass(c,"ace_fold-widget")||i.hasCssClass(c,"ace_custom-widget"))return l();a.isOpen&&e.$tooltipFollowsMouse&&d(s),n=s,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed&&function(){var t=n.getDocumentPosition().row;if(t==r.session.getLength()){var i=r.renderer.pixelToScreenCoordinates(0,n.y).row,s=n.$pos;if(i>r.session.documentToScreenRow(s.row,s.column))return l()}if(a.showTooltip(t),a.isOpen)if(r.on("mousewheel",l),r.on("changeSession",l),window.addEventListener("keydown",l,!0),e.$tooltipFollowsMouse)d(n);else{var c=n.getGutterRow(),u=o.$lines.get(c);if(u){var h=u.element.querySelector(".ace_gutter_annotation").getBoundingClientRect(),p=a.getElement().style;p.left=h.right-5+"px",p.top=h.bottom-3+"px"}else d(n)}}()}),50))})),s.addListener(r.renderer.$gutter,"mouseout",(function(e){n=null,a.isOpen&&(t=setTimeout((function(){t=null,l(e)}),50))}),r)};var c=function(e){function t(t,n){void 0===n&&(n=!1);var r=e.call(this,t.container)||this;r.editor=t,r.visibleTooltipRow;var o=r.getElement();return o.setAttribute("role","tooltip"),o.style.pointerEvents="auto",n&&(r.onMouseOut=r.onMouseOut.bind(r),o.addEventListener("mouseout",r.onMouseOut)),r}return r(t,e),t.prototype.onMouseOut=function(e){this.isOpen&&e.relatedTarget&&!this.getElement().contains(e.relatedTarget)&&(e&&e.currentTarget.contains(e.relatedTarget)||this.hideTooltip())},t.prototype.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,o=this.getWidth(),i=this.getHeight();(e+=15)+o>n&&(e-=e+o-n),(t+=15)+i>r&&(t-=20+i),a.prototype.setPosition.call(this,e,t)},Object.defineProperty(t,"annotationLabels",{get:function(){return{error:{singular:l("gutter-tooltip.aria-label.error.singular","error"),plural:l("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:l("gutter-tooltip.aria-label.security.singular","security finding"),plural:l("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:l("gutter-tooltip.aria-label.warning.singular","warning"),plural:l("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:l("gutter-tooltip.aria-label.info.singular","information message"),plural:l("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:l("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:l("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),t.prototype.showTooltip=function(e){var n,r,o=this.editor.renderer.$gutterLayer,s=o.$annotations[e];r=s?{displayText:Array.from(s.displayText),type:Array.from(s.type)}:{displayText:[],type:[]};var a=o.session.getFoldLine(e);if(a&&o.$showFoldedAnnotations){for(var l,c={error:[],security:[],warning:[],info:[],hint:[]},d={error:1,security:2,warning:3,info:4,hint:5},u=e+1;u<=a.end.row;u++)if(o.$annotations[u])for(var h=0;h<o.$annotations[u].text.length;h++){var p=o.$annotations[u].type[h];c[p].push(o.$annotations[u].text[h]),(!l||d[p]<d[l])&&(l=p)}if(["error","security","warning"].includes(l)){var f="".concat(t.annotationsToSummaryString(c)," in folded code.");r.displayText.push(f),r.type.push(l+"_fold")}}if(0===r.displayText.length)return this.hideTooltip();var m={error:[],security:[],warning:[],info:[],hint:[]},g=o.$useSvgGutterIcons?"ace_icon_svg":"ace_icon";for(u=0;u<r.displayText.length;u++){var v=i.createElement("span"),y=i.createElement("span");(n=y.classList).add.apply(n,["ace_".concat(r.type[u]),g]),y.setAttribute("aria-label","".concat(t.annotationLabels[r.type[u].replace("_fold","")].singular)),y.setAttribute("role","img"),y.appendChild(i.createTextNode(" ")),v.appendChild(y),v.appendChild(i.createTextNode(r.displayText[u])),v.appendChild(i.createElement("br")),m[r.type[u].replace("_fold","")].push(v)}var x=this.getElement();i.removeChildren(x),m.error.forEach((function(e){return x.appendChild(e)})),m.security.forEach((function(e){return x.appendChild(e)})),m.warning.forEach((function(e){return x.appendChild(e)})),m.info.forEach((function(e){return x.appendChild(e)})),m.hint.forEach((function(e){return x.appendChild(e)})),x.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=e,this.editor._signal("showGutterTooltip",this)},t.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},t.annotationsToSummaryString=function(e){var n,r,i=[];try{for(var s=o(["error","security","warning","info","hint"]),a=s.next();!a.done;a=s.next()){var l=a.value;if(e[l].length){var c=1===e[l].length?t.annotationLabels[l].singular:t.annotationLabels[l].plural;i.push("".concat(e[l].length," ").concat(c))}}}catch(d){n={error:d}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i.join(", ")},t}(a);t.GutterTooltip=c})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=function(){function e(e,t){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return e.prototype.stopPropagation=function(){r.stopPropagation(this.domEvent),this.propagationStopped=!0},e.prototype.preventDefault=function(){r.preventDefault(this.domEvent),this.defaultPrevented=!0},e.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},e.prototype.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},e.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row;return this.editor.session.documentToScreenRow(e,0)-this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0)},e.prototype.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},e.prototype.getButton=function(){return r.getButton(this.domEvent)},e.prototype.getShiftKey=function(){return this.domEvent.shiftKey},e.prototype.getAccelKey=function(){return o.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},e}();t.MouseEvent=i})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=e("../lib/event"),i=e("../lib/useragent");function s(e){var t=e.editor,n=r.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="\xa0";["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,d,u,h,p,f,m,g,v,y=t.container,x=0;function b(){var e=h;(function(e,n){var r=Date.now(),o=!n||e.row!=n.row,i=!n||e.column!=n.column;!g||o||i?(t.moveCursorToPosition(e),g=r,v={x:l,y:c}):a(v.x,v.y,l,c)>5?g=null:r-g>=200&&(t.renderer.scrollCursorIntoView(),g=null)})(h=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var r=Date.now(),o=t.renderer.layerConfig.lineHeight,i=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},d=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),h={row:e.row,column:e.column};d/i<=2&&(h.column+=a.x.left<a.x.right?-3:2),u/o<=1&&(h.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=h.row,f=e.column!=h.column,g=!n||e.row!=n.row;p||f&&!g?m?r-m>=200&&t.renderer.scrollCursorIntoView(h):m=r:m=null}(h,e)}function w(){u=t.selection.toOrientedRange(),s=t.session.addMarker(u,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(d),b(),d=setInterval(b,20),x=0,o.addListener(document,"mousemove",_)}function k(){clearInterval(d),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(u),t.isFocused()&&!f&&t.$resetCursorStyle(),u=null,h=null,x=0,m=null,g=null,o.removeListener(document,"mousemove",_)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var r=this;return setTimeout((function(){r.startSelect(),r.captureMouse(e)}),0),e.preventDefault()}u=t.getSelectionRange();var o=e.dataTransfer;o.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),o.setDragImage&&o.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),o.clearData(),o.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(y.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;p||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return l=e.clientX,c=e.clientY,s||w(),x++,e.dataTransfer.dropEffect=p=C(e),o.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&S(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(w(),x++),null!==N&&(N=null),e.dataTransfer.dropEffect=p=C(e),o.preventDefault(e)},this.onDragLeave=function(e){if(--x<=0&&s)return k(),p=null,o.preventDefault(e)},this.onDrop=function(e){if(h){var n=e.dataTransfer;if(f)switch(p){case"move":u=u.contains(h.row,h.column)?{start:h,end:h}:t.moveText(u,h);break;case"copy":u=t.moveText(u,h,!0)}else{var r=n.getData("Text");u={start:h,end:t.session.insert(h,r)},t.focus(),p=null}return k(),o.preventDefault(e)}},o.addListener(y,"dragstart",this.onDragStart.bind(e),t),o.addListener(y,"dragend",this.onDragEnd.bind(e),t),o.addListener(y,"dragenter",this.onDragEnter.bind(e),t),o.addListener(y,"dragover",this.onDragOver.bind(e),t),o.addListener(y,"dragleave",this.onDragLeave.bind(e),t),o.addListener(y,"drop",this.onDrop.bind(e),t);var N=null;function _(){null==N&&(N=setTimeout((function(){null!=N&&s&&k()}),20))}function S(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function C(e){var t=["copy","copymove","all","uninitialized"],n=i.isMac?e.altKey:e.ctrlKey,r="uninitialized";try{r=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var o="none";return n&&t.indexOf(r)>=0?o="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(r)>=0?o="move":t.indexOf(r)>=0&&(o="copy"),o}}function a(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=i.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;i.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),r=e.getButton();if(1===(e.domEvent.detail||1)&&0===r&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var o=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in o&&(o.unselectable="on"),t.getDragDelay()){if(i.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./mouse_event").MouseEvent,o=e("../lib/event"),i=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,d,u,h,p,f="scroll",m=0,g=0,v=0,y=0;function x(){var e=window.navigator&&window.navigator.clipboard,n=!1,r=function(e){return t.commands.canExecute(e,t)},o=function(o){var s=o.target.getAttribute("action");if("more"==s||!n)return n=!n,function(){var o=t.getCopyText(),s=t.session.getUndoManager().hasUndo();p.replaceChild(i.buildDom(n?["span",!o&&r("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],o&&r("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],o&&r("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&r("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&r("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],r("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],r("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),p.firstChild)}();"paste"==s?e.readText().then((function(e){t.execCommand(s,e)})):s&&("cut"!=s&&"copy"!=s||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(s)),p.firstChild.style.display="none",n=!1,"openCommandPalette"!=s&&t.focus()};p=i.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),o(e)},onclick:o},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function b(){if(t.getOption("enableMobileMenu")){p||x();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),r=t.renderer.textToScreenCoordinates(0,0).pageX,o=t.renderer.scrollLeft,i=t.container.getBoundingClientRect();p.style.top=n.pageY-i.top-3+"px",n.pageX-i.left<i.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=r+o-i.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",w)}else p&&w()}function w(e){p&&(p.style.display="none"),t.off("input",w)}function k(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(u.row,u.column);!e.isEmpty()&&n||(t.selection.moveToPosition(u),t.selection.selectWord()),f="wait",b()}o.addListener(e,"contextmenu",(function(e){h&&t.textInput.getElement().focus()}),t),o.addListener(e,"touchstart",(function(e){var o=e.touches;if(c||o.length>1)return clearTimeout(c),c=null,a=-1,void(f="zoom");h=t.$mouseHandler.isMousePressed=!0;var i=t.renderer.layerConfig.lineHeight,d=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var x=o[0],b=x.clientX,w=x.clientY;Math.abs(n-b)+Math.abs(s-w)>i&&(a=-1),n=e.clientX=b,s=e.clientY=w,v=y=0;var N=new r(e,t);if(u=N.getDocumentPosition(),p-a<500&&1==o.length&&!m)g++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(u);var e=g>=2?t.selection.getLineRange(u.row):t.session.getBracketRange(u);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f="wait"}();else{g=0;var _=t.selection.cursor,S=t.selection.isEmpty()?_:t.selection.anchor,C=t.renderer.$cursorLayer.getPixelPosition(_,!0),j=t.renderer.$cursorLayer.getPixelPosition(S,!0),E=t.renderer.scroller.getBoundingClientRect(),T=t.renderer.layerConfig.offset,A=t.renderer.scrollLeft,M=function(e,t){return(e/=d)*e+(t=t/i-.75)*t};if(e.clientX<E.left)return void(f="zoom");var R=M(e.clientX-E.left-C.left+A,e.clientY-E.top-C.top+T),O=M(e.clientX-E.left-j.left+A,e.clientY-E.top-j.top+T);R<3.5&&O<3.5&&(f=R>O?"cursor":"anchor"),f=O<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(k,450)}a=p}),t),o.addListener(e,"touchend",(function(e){h=t.$mouseHandler.isMousePressed=!1,d&&clearInterval(d),"zoom"==f?(f="",m=0):c?(t.selection.moveToPosition(u),m=0,b()):"scroll"==f?(m+=60,d=setInterval((function(){m--<=0&&(clearInterval(d),d=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),m<20&&(v*=.9),m<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(m=0)}),10),w()):b(),clearTimeout(c),c=null}),t),o.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var o=e.touches;if(!(o.length>1||"zoom"==f)){var i=o[0],a=n-i.clientX,d=s-i.clientY;if("wait"==f){if(!(a*a+d*d>4))return e.preventDefault();f="cursor"}n=i.clientX,s=i.clientY,e.clientX=i.clientX,e.clientY=i.clientY;var u=e.timeStamp,h=u-l;if(l=u,"scroll"==f){var p=new r(e,t);p.speed=1,p.wheelX=a,p.wheelY=d,10*Math.abs(a)<Math.abs(d)&&(a=0),10*Math.abs(d)<Math.abs(a)&&(d=0),0!=h&&(v=a/h,y=d/h),t._emit("mousewheel",p),p.propagationStopped||(v=y=0)}else{var m=new r(e,t).getDocumentPosition();"cursor"==f?t.selection.moveCursorToPosition(m):"anchor"==f&&t.selection.setSelectionAnchor(m.row,m.column),t.renderer.scrollCursorIntoView(m),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/event"),o=e("../lib/useragent"),i=e("./default_handlers").DefaultHandlers,s=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,d=e("../config"),u=function(){function e(e){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var t=this;this.editor=e,new i(this),new s(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();r.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var d=e.renderer.$gutter;r.addListener(d,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(d,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(d,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(d,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(a,"mousedown",n,e),r.addListener(d,"mousedown",n,e),o.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var r=e.renderer.screenToTextCoordinates(n.x,n.y),o=e.session.selection.getRange(),i=e.renderer;!o.isEmpty()&&o.insideStart(r.row,r.column)?i.setCursorStyle("default"):i.setCursorStyle("")}}),e)}return e.prototype.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},e.prototype.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},e.prototype.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},e.prototype.setState=function(e){this.state=e},e.prototype.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,i=this.editor.renderer;i.$isMousePressed=!0;var s=this,l=function(e){if(e){if(o.isWebKit&&!e.which&&s.releaseMouse)return s.releaseMouse();s.x=e.clientX,s.y=e.clientY,t&&t(e),s.mouseEvent=new a(e,s.editor),s.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",u),clearInterval(h),n.session&&d(),s[s.state+"End"]&&s[s.state+"End"](e),s.state="",s.isMousePressed=i.$isMousePressed=!1,i.$keepTextAreaAtCursor&&i.$moveTextAreaToCursor(),s.$onCaptureMouseMove=s.releaseMouse=null,e&&s.onMouseEvent("mouseup",e),n.endOperation()},d=function(){s[s.state]&&s[s.state](),s.$mouseMoved=!1};if(o.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var u=function(e){s.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(s[s.state+"End"]&&s[s.state+"End"](),s.state="",s.releaseMouse())};n.on("beforeEndOperation",u),n.startOperation({command:{name:"mouse"}}),s.$onCaptureMouseMove=l,s.releaseMouse=r.capture(this.editor.container,l,c);var h=setInterval(d,20)},e.prototype.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();u.prototype.releaseMouse=null,d.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),o=e.session,i=o.getFoldAt(n.row,n.column,1);i&&(t.getAccelKey()?o.removeFold(i):o.expandFold(i),t.stop());var s=t.domEvent&&t.domEvent.target;s&&r.hasCssClass(s,"ace_inline_button")&&r.hasCssClass(s,"ace_toggle_wrap")&&(o.setOption("wrap",!o.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session;r.foldWidgets&&r.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,r=e.session,o=r.getParentFoldRangeData(n,!0),i=o.range||o.firstRange;if(i){n=i.start.row;var s=r.getFoldAt(n,r.getLine(n).length,1);s?r.removeFold(s):(r.addFold("...",i),e.renderer.scrollCursorIntoView({row:i.start.row,column:0}))}t.stop()}}))};t.FoldHandler=o})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var r=e("../lib/keys"),o=e("../lib/event"),i=function(){function e(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return e.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},e.prototype.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},e.prototype.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),void 0==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},e.prototype.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},e.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},e.prototype.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},e.prototype.$callKeyboardHandlers=function(e,t,n,r){for(var i,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((i=this.$handlers[l].handleKeyboard(this.$data,e,t,n,r))&&i.command&&((s="null"==i.command||a.exec(i.command,this.$editor,i.args,r))&&r&&-1!=e&&1!=i.passEvent&&1!=i.command.passEvent&&o.stopEvent(r),s)););return s||-1!=e||(i={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",i),s},e.prototype.onCommandKey=function(e,t,n){var o=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,o,n,e)},e.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},e}();t.KeyBinding=i})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var r=0,o=0,i=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],d=11,u=18,h=[u,u,u,u,u,u,u,u,u,6,5,6,8,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,5,5,5,6,8,4,4,d,d,d,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,u,u,u,u,u,u,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,9,4,d,d,d,d,4,4,4,4,0,4,4,u,4,4,d,d,2,2,4,0,4,4,4,2,0,4,4,4,4,4],p=[8,8,8,8,8,8,8,8,8,8,8,u,u,u,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,d,d,d,d,d,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,n){if(!(o<e))if(1!=e||1!=r||s)for(var i,a,l,c,d=n.length,u=0;u<d;){if(t[u]>=e){for(i=u+1;i<d&&t[i]>=e;)i++;for(a=u,l=i-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;u=i}u++}else n.reverse()}function m(e,t,n,o){var l,c,h,p,f=t[o];switch(f){case 0:case 1:i=!1;case 4:case 3:return f;case 2:return i?3:2;case 7:return i=!0,1;case 8:return 4;case 9:return o<1||o+1>=t.length||2!=(l=n[o-1])&&3!=l||2!=(c=t[o+1])&&3!=c?4:(i&&(c=3),c==l?c:4);case 10:return 2==(l=o>0?n[o-1]:5)&&o+1<t.length&&2==t[o+1]?2:4;case d:if(o>0&&2==n[o-1])return 2;if(i)return 4;for(p=o+1,h=t.length;p<h&&t[p]==d;)p++;return p<h&&2==t[p]?2:4;case 12:for(h=t.length,p=o+1;p<h&&12==t[p];)p++;if(p<h){var m=e[o],g=m>=1425&&m<=2303||64286==m;if(l=t[p],g&&(1==l||7==l))return 1}return o<1||5==(l=t[o-1])?4:n[o-1];case 5:return i=!1,s=!0,r;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:i=!1;case u:return 4}}function g(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:h[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?d:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?p[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,d){if(e.length<2)return{};var h=e.split(""),p=new Array(h.length),v=new Array(h.length),y=[];r=d?1:0,function(e,t,n,d){var u=r?c:l,h=null,p=null,f=null,v=0,y=null,x=-1,b=null,w=null,k=[];if(!d)for(b=0,d=[];b<n;b++)d[b]=g(e[b]);for(o=r,i=!1,s=!1,a=!1,w=0;w<n;w++){if(h=v,k[w]=p=m(e,d,k,w),y=240&(v=u[h][p]),v&=15,t[w]=f=u[v][5],y>0)if(16==y){for(b=x;b<w;b++)t[b]=1;x=-1}else x=-1;if(u[v][6])-1==x&&(x=w);else if(x>-1){for(b=x;b<w;b++)t[b]=f;x=-1}5==d[w]&&(t[w]=0),o|=f}if(a)for(b=0;b<n;b++)if(6==d[b]){t[b]=r;for(var N=b-1;N>=0&&8==d[N];N--)t[N]=r}}(h,y,h.length,n);for(var x=0;x<p.length;p[x]=x,x++);f(2,y,p),f(1,y,p);for(x=0;x<p.length-1;x++)3===n[x]?y[x]=t.AN:1===y[x]&&(n[x]>7&&n[x]<13||4===n[x]||n[x]===u)?y[x]=t.ON_R:x>0&&"\u0644"===h[x-1]&&/\u0622|\u0623|\u0625|\u0627/.test(h[x])&&(y[x-1]=y[x]=t.R_H,x++);h[h.length-1]===t.DOT&&(y[h.length-1]=t.B),"\u202b"===h[0]&&(y[0]=t.RLE);for(x=0;x<p.length;x++)v[x]=y[p[x]];return{logicalFromVisual:p,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,r=0;r<e.length;r++)t[r]=g(e.charAt(r)),n||1!=t[r]&&7!=t[r]&&3!=t[r]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var r=e("./lib/bidiutil"),o=e("./lib/lang"),i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function e(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=i.test(e.getValue())}return e.prototype.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},e.prototype.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&i.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},e.prototype.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,r=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===r;)r=n,e++;else e=this.currentRow;return e},e.prototype.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var i=this.session.$wrapData[e];i&&(void 0===t&&(t=this.getSplitIndex()),t>0&&i.length?(this.wrapIndent=i.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<i.length?this.line.substring(i[t-1],i[t]):this.line.substring(i[i.length-1])):this.line=this.line.substring(0,i[t]),t==i.length&&(this.line+=this.showInvisibles?n:r.DOT))}else this.line+=this.showInvisibles?n:r.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,o.stringRepeat(r.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var e=[];r.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=r.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4");this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null}},e.prototype.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},e.prototype.setEolChar=function(e){this.EOL=e},e.prototype.setContentWidth=function(e){this.contentWidth=e},e.prototype.isRtlLine=function(e){return!!this.$isRtl||(void 0!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},e.prototype.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),r=e.selection.getSelectionAnchor().row;r<=n.row;r++)t||e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(r).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:r},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(r,0,1)},e.prototype.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,o=r.getVisualFromLogicalIdx(n,this.bidiMap),i=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&i[o]%2!==0&&o++;for(var a=0;a<o;a++)s+=this.charWidths[i[a]];return!this.session.getOverwrite()&&e>t&&i[o]%2===0&&(s+=this.charWidths[i[o]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},e.prototype.getSelections=function(e,t){var n,r=this.bidiMap,o=r.bidiLevels,i=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,d=!1,u=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var h,p=0;p<o.length;p++)h=r.logicalFromVisual[p],n=o[p],(c=h>=a&&h<l)&&!d?u=s:!c&&d&&i.push({left:u,width:s-u}),s+=this.charWidths[n],d=c;if(c&&p===o.length&&i.push({left:u,width:s-u}),this.isRtlDir)for(var f=0;f<i.length;f++)i[f].left+=this.rtlLineOffset;return i},e.prototype.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),r=0,o=this.bidiMap.bidiLevels,i=this.charWidths[o[r]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+i/2;){if(n+=i,r===o.length-1){i=0;break}i=this.charWidths[o[++r]]}return r>0&&o[r-1]%2!==0&&o[r]%2===0?(e<n&&r--,t=this.bidiMap.logicalFromVisual[r]):r>0&&o[r-1]%2===0&&o[r]%2!==0?t=1+(e>n?this.bidiMap.logicalFromVisual[r]:this.bidiMap.logicalFromVisual[r-1]):this.isRtlDir&&r===o.length-1&&0===i&&o[r-1]%2===0||!this.isRtlDir&&0===r&&o[r]%2!==0?t=1+this.bidiMap.logicalFromVisual[r]:(r>0&&o[r-1]%2!==0&&0!==i&&r--,t=this.bidiMap.logicalFromVisual[r]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent},e}();t.BidiHandler=s})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/lang"),i=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=function(){function e(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}return e.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},e.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},e.prototype.getCursor=function(){return this.lead.getPosition()},e.prototype.setAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},e.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},e.prototype.getSelectionLead=function(){return this.lead.getPosition()},e.prototype.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},e.prototype.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?s.fromPoints(t,t):this.isBackwards()?s.fromPoints(t,e):s.fromPoints(e,t)},e.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},e.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},e.prototype.setRange=function(e,t){var n=t?e.end:e.start,r=t?e.start:e.end;this.$setSelection(n.row,n.column,r.row,r.column)},e.prototype.$setSelection=function(e,t,n,r){if(!this.$silent){var o=this.$isEmpty,i=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,r),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||o!=this.$isEmpty||i)&&this._emit("changeSelection")}},e.prototype.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},e.prototype.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},e.prototype.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},e.prototype.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},e.prototype.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},e.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},e.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},e.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},e.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},e.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},e.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},e.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},e.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},e.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},e.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},e.prototype.getWordRange=function(e,t){if("undefined"==typeof t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},e.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},e.prototype.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},e.prototype.getLineRange=function(e,t){var n,r="number"==typeof e?e:this.lead.row,o=this.session.getFoldLine(r);return o?(r=o.start.row,n=o.end.row):n=r,!0===t?new s(r,0,n,this.session.getLine(n).length):new s(r,0,n+1,0)},e.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},e.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},e.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},e.prototype.wouldMoveIntoSoftTab=function(e,t,n){var r=e.column,o=e.column+t;return n<0&&(r=e.column-t,o=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(r,o).split(" ").length-1==t},e.prototype.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},e.prototype.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},e.prototype.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),r=this.session.screenToDocumentPosition(n,0),o=this.session.getDisplayLine(e,null,r.row,r.column).match(/^\s*/);o[0].length==t||this.session.$useEmacsStyleLineStart||(r.column+=o[0].length),this.moveCursorToPosition(r)},e.prototype.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var r=n.search(/\s+$/);r>0&&(t.column=r)}}this.moveCursorTo(t.row,t.column)},e.prototype.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},e.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},e.prototype.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var o=this.session.getFoldAt(e,t,1);if(o)this.moveCursorTo(o.end.row,o.end.column);else{if(this.session.nonTokenRe.exec(r)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,r=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(r)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},e.prototype.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var r=this.session.getFoldStringAt(t,n,-1);null==r&&(r=this.doc.getLine(t).substring(0,n));var i=o.stringReverse(r);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(i)&&(n-=this.session.nonTokenRe.lastIndex,i=i.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(i)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},e.prototype.$shortWordEndIndex=function(e){var t,n=0,r=/\s/,o=this.session.tokenRe;if(o.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&r.test(t);)n++;if(n<1)for(o.lastIndex=0;(t=e[n])&&!o.test(t);)if(o.lastIndex=0,n++,r.test(t)){if(n>2){n--;break}for(;(t=e[n])&&r.test(t);)n++;if(n>2)break}}return o.lastIndex=0,n},e.prototype.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),r=n.substring(t),o=this.session.getFoldAt(e,t,1);if(o)return this.moveCursorTo(o.end.row,o.end.column);if(t==n.length){var i=this.doc.getLength();do{e++,r=this.doc.getLine(e)}while(e<i&&/^\s*$/.test(r));/^\s+/.test(r)||(r=""),t=0}var s=this.$shortWordEndIndex(r);this.moveCursorTo(e,t+s)},e.prototype.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var r=this.session.getLine(t).substring(0,n);if(0===n){do{t--,r=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(r));n=r.length,/\s+$/.test(r)||(r="")}var i=o.stringReverse(r),s=this.$shortWordEndIndex(i);return this.moveCursorTo(t,n-s)},e.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},e.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},e.prototype.moveCursorBy=function(e,t){var n,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var o=this.session.lineWidgets[this.lead.row];e<0?e-=o.rowsAbove||0:e>0&&(e+=o.rowCount-(o.rowsAbove||0))}var i=this.session.screenToDocumentPosition(r.row+e,r.column,n);0!==e&&0===t&&i.row===this.lead.row&&(i.column,this.lead.column),this.moveCursorTo(i.row,i.column+t,0===t)},e.prototype.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},e.prototype.moveCursorTo=function(e,t,n){var r=this.session.getFoldAt(e,t,1);r&&(e=r.start.row,t=r.start.column),this.$keepDesiredColumnOnChange=!0;var o=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(o.charAt(t))&&o.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},e.prototype.moveCursorToScreen=function(e,t,n){var r=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(r.row,r.column,n)},e.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},e.prototype.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},e.prototype.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},e.prototype.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return s.fromPoints(t,n)}catch(r){return s.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},e.prototype.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},e.prototype.fromJSON=function(e){if(void 0==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=s.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},e.prototype.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0},e}();a.prototype.setSelectionAnchor=a.prototype.setAnchor,a.prototype.getSelectionAnchor=a.prototype.getAnchor,a.prototype.setSelectionRange=a.prototype.setRange,r.implement(a.prototype,i),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],(function(e,t,n){"use strict";var r=e("./lib/report_error").reportError,o=2e3,i=function(){function e(e){for(var t in this.splitRegex,this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],r=[],o=0,i=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(i.defaultToken=c.defaultToken),c.caseInsensitive&&-1===s.indexOf("i")&&(s+="i"),c.unicode&&-1===s.indexOf("u")&&(s+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var d=c.regex,u=new RegExp("(?:("+d+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=u>1?this.$applyToken:c.token),u>1&&(/\\\d/.test(c.regex)?d=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+o+1)})):(u=1,d=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),i[o]=l,o+=u,r.push(d),c.onMatch||(c.onMatch=null)}}r.length||(i[0]=0,r.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+r.join(")|(")+")|($)",s)}}return e.prototype.$setMaxTokenCount=function(e){o=0|e},e.prototype.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"===typeof n)return[{type:n,value:e}];for(var r=[],o=0,i=n.length;o<i;o++)t[o]&&(r[r.length]={type:n[o],value:t[o]});return r},e.prototype.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],r=this.tokenArray,o=0,i=r.length;o<i;o++)t[o+1]&&(n[n.length]={type:r[o],value:t[o+1]});return n},e.prototype.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},e.prototype.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,r=!1,o={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,i,s,a,l){return r?r="]"!=a:a?r=!0:s?(n==o.stack&&(o.end=l+1,o.stack=-1),n--):i&&(n++,1!=i.length&&(o.stack=n,o.start=l)),e})),null!=o.end&&/^\)*$/.test(e.substr(o.end))&&(e=e.substring(0,o.start)+e.substr(o.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},e.prototype.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var r=t||"start",i=this.states[r];i||(r="start",i=this.states[r]);var s=this.matchMappings[r],a=this.regExps[r];a.lastIndex=0;for(var l,c=[],d=0,u=0,h={type:null,value:""};l=a.exec(e);){var p=s.defaultToken,f=null,m=l[0],g=a.lastIndex;if(g-m.length>d){var v=e.substring(d,g-m.length);h.type==p?h.value+=v:(h.type&&c.push(h),h={type:p,value:v})}for(var y=0;y<l.length-2;y++)if(void 0!==l[y+1]){p=(f=i[s[y]]).onMatch?f.onMatch(m,r,n,e):f.token,f.next&&(r="string"==typeof f.next?f.next:f.next(r,n),(i=this.states[r])||(this.reportError("state doesn't exist",r),r="start",i=this.states[r]),s=this.matchMappings[r],d=g,(a=this.regExps[r]).lastIndex=g),f.consumeLineEnd&&(d=g);break}if(m)if("string"===typeof p)f&&!1===f.merge||h.type!==p?(h.type&&c.push(h),h={type:p,value:m}):h.value+=m;else if(p){h.type&&c.push(h),h={type:null,value:""};for(y=0;y<p.length;y++)c.push(p[y])}if(d==e.length)break;if(d=g,u++>o){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});d<e.length;)h.type&&c.push(h),h={value:e.substring(d,d+=500),type:"overflow"};r="start",n=[];break}}return h.type&&c.push(h),n.length>1&&n[0]!==r&&n.unshift("#tmp",r),{tokens:c,state:n.length?n:r}},e}();i.prototype.reportError=r,t.Tokenizer=i})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],(function(e,t,n){"use strict";var r,o=e("../lib/deep_copy").deepCopy;(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var r=e[n],o=0;o<r.length;o++){var i=r[o];(i.next||i.onMatch)&&("string"==typeof i.next&&0!==i.next.indexOf(t)&&(i.next=t+i.next),i.nextState&&0!==i.nextState.indexOf(t)&&(i.nextState=t+i.nextState))}this.$rules[t+n]=r}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,r,i){var s="function"==typeof e?(new e).getRules():e;if(r)for(var a=0;a<r.length;a++)r[a]=t+r[a];else for(var l in r=[],s)r.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[i?"push":"unshift"];for(a=0;a<r.length;a++)c.apply(this.$rules[r[a]],o(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,r=this.$rules;Object.keys(r).forEach((function o(i){var s=r[i];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var d=l.next||l.push;if(d&&Array.isArray(d)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),r[u]&&(u+=n++)),r[u]=d,l.next=u,o(u)}else"pop"==d&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var h in l.rules)r[h]?r[h].push&&r[h].push.apply(r[h],l.rules[h]):r[h]=l.rules[h];var p="string"==typeof l?l:l.include;if(p&&("$self"===p&&(p="start"),c=Array.isArray(p)?p.map((function(e){return r[e]})):r[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),s.splice.apply(s,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,r){var o=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var i=e[t].split(r||"|"),s=i.length;s--;){var a=i[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),o[a]=t}}),this),e=null,n?function(e){return o[e.toLowerCase()]||t}:function(e){return o[e]||t}},this.getKeywords=function(){return this.$keywords}}).call((r=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}).prototype),t.TextHighlightRules=r})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var r;(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"===typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call((r=function(){this.$behaviours={}}).prototype),t.Behaviour=r})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range,o=function(){function e(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var r=e.getTokenAt(t,n);this.$tokenIndex=r?r.index:-1}return e.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},e.prototype.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},e.prototype.getCurrentTokenRow=function(){return this.$row},e.prototype.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},e.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},e.prototype.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)},e}();t.TokenIterator=o})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var r,o,i=e("../../lib/oop"),s=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator,l=e("../../lib/lang"),c=["text","paren.rparen","rparen","paren","punctuation.operator"],d=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},h={'"':'"',"'":"'"},p=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return r=u[t];r=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},f=function(e,t,n,r){var o=e.end.row-e.start.row;return{text:n+t+r,selection:[0,e.start.column+1,o,e.end.column+(o?0:1)]}};(o=function(e){e=e||{},this.add("braces","insertion",(function(t,n,i,s,a){var c=i.getCursorPosition(),d=s.doc.getLine(c.row);if("{"==a){p(i);var u=i.getSelectionRange(),h=s.doc.getTextRange(u),m=s.getTokenAt(c.row,c.column);if(""!==h&&"{"!==h&&i.getWrapBehavioursEnabled())return f(u,h,"{","}");if(m&&/(?:string)\.quasi|\.xml/.test(m.type)){if([/tag\-(?:open|name)/,/attribute\-name/].some((function(e){return e.test(m.type)}))||/(string)\.quasi/.test(m.type)&&"$"!==m.value[c.column-m.start-1])return;return o.recordAutoInsert(i,s,"}"),{text:"{}",selection:[1,1]}}if(o.isSaneInsertion(i,s))return/[\]\}\)]/.test(d[c.column])||i.inMultiSelectMode||e.braces?(o.recordAutoInsert(i,s,"}"),{text:"{}",selection:[1,1]}):(o.recordMaybeInsert(i,s,"{"),{text:"{",selection:[1,1]})}else if("}"==a){if(p(i),"}"==d.substring(c.column,c.column+1))if(null!==s.$findOpeningBracket("}",{column:c.column+1,row:c.row})&&o.isAutoInsertedClosing(c,d,a))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==a||"\r\n"==a){p(i);var g="";if(o.isMaybeInsertedClosing(c,d)&&(g=l.stringRepeat("}",r.maybeInsertedBrackets),o.clearMaybeInsertedClosing()),"}"===d.substring(c.column,c.column+1)){var v=s.findMatchingBracket({row:c.row,column:c.column+1},"}");if(!v)return null;var y=this.$getIndent(s.getLine(v.row))}else{if(!g)return void o.clearMaybeInsertedClosing();y=this.$getIndent(d)}var x=y+s.getTabString();return{text:"\n"+x+"\n"+y+g,selection:[1,x.length,1,x.length]}}o.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,o,i){var s=o.doc.getTextRange(i);if(!i.isMultiLine()&&"{"==s){if(p(n),"}"==o.doc.getLine(i.start.row).substring(i.end.column,i.end.column+1))return i.end.column++,i;r.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,r,i){if("("==i){p(n);var s=n.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&n.getWrapBehavioursEnabled())return f(s,a,"(",")");if(o.isSaneInsertion(n,r))return o.recordAutoInsert(n,r,")"),{text:"()",selection:[1,1]}}else if(")"==i){p(n);var l=n.getCursorPosition(),c=r.doc.getLine(l.row);if(")"==c.substring(l.column,l.column+1))if(null!==r.$findOpeningBracket(")",{column:l.column+1,row:l.row})&&o.isAutoInsertedClosing(l,c,i))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"("==i&&(p(n),")"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o})),this.add("brackets","insertion",(function(e,t,n,r,i){if("["==i){p(n);var s=n.getSelectionRange(),a=r.doc.getTextRange(s);if(""!==a&&n.getWrapBehavioursEnabled())return f(s,a,"[","]");if(o.isSaneInsertion(n,r))return o.recordAutoInsert(n,r,"]"),{text:"[]",selection:[1,1]}}else if("]"==i){p(n);var l=n.getCursorPosition(),c=r.doc.getLine(l.row);if("]"==c.substring(l.column,l.column+1))if(null!==r.$findOpeningBracket("]",{column:l.column+1,row:l.row})&&o.isAutoInsertedClosing(l,c,i))return o.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,o){var i=r.doc.getTextRange(o);if(!o.isMultiLine()&&"["==i&&(p(n),"]"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o})),this.add("string_dquotes","insertion",(function(e,t,n,r,o){var i=r.$mode.$quotes||h;if(1==o.length&&i[o]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(o))return;p(n);var s=o,a=n.getSelectionRange(),l=r.doc.getTextRange(a);if(!(""===l||1==l.length&&i[l])&&n.getWrapBehavioursEnabled())return f(a,l,s,s);if(!l){var c=n.getCursorPosition(),d=r.doc.getLine(c.row),u=d.substring(c.column-1,c.column),m=d.substring(c.column,c.column+1),g=r.getTokenAt(c.row,c.column),v=r.getTokenAt(c.row,c.column+1);if("\\"==u&&g&&/escape/.test(g.type))return null;var y,x=g&&/string|escape/.test(g.type),b=!v||/string|escape/.test(v.type);if(m==s)(y=x!==b)&&/string\.end/.test(v.type)&&(y=!1);else{if(x&&!b)return null;if(x&&b)return null;var w=r.$mode.tokenRe;w.lastIndex=0;var k=w.test(u);w.lastIndex=0;var N=w.test(m),_=r.$mode.$pairQuotesAfter;if(!(_&&_[s]&&_[s].test(u))&&k||N)return null;if(m&&!/[\s;,.})\]\\]/.test(m))return null;var S=d[c.column-2];if(u==s&&(S==s||w.test(S)))return null;y=!0}return{text:y?s+s:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,o){var i=r.$mode.$quotes||h,s=r.doc.getTextRange(o);if(!o.isMultiLine()&&i.hasOwnProperty(s)&&(p(n),r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==s))return o.end.column++,o})),!1!==e.closeDocComment&&this.add("doc comment end","insertion",(function(e,t,n,r,o){if("doc-start"===e&&("\n"===o||"\r\n"===o)&&n.selection.isEmpty()){var i=n.getCursorPosition();if(0===i.column)return;for(var s=r.doc.getLine(i.row),a=r.doc.getLine(i.row+1),l=r.getTokens(i.row),c=0,d=0;d<l.length;d++){c+=l[d].value.length;var u=l[d];if(c>=i.column){if(c===i.column){if(!/\.doc/.test(u.type))return;if(/\*\//.test(u.value)){var h=l[d+1];if(!h||!/\.doc/.test(h.type))return}}var p=i.column-(c-u.value.length),f=u.value.indexOf("*/"),m=u.value.indexOf("/**",f>-1?f+2:0);if(-1!==m&&p>m&&p<m+3)return;if(-1!==f&&-1!==m&&p>=f&&p<=m||!/\.doc/.test(u.type))return;break}}var g=this.$getIndent(s);if(/\s*\*/.test(a))return/^\s*\*/.test(s)?{text:o+g+"* ",selection:[1,2+g.length,1,2+g.length]}:{text:o+g+" * ",selection:[1,3+g.length,1,3+g.length]};if(/\/\*\*/.test(s.substring(0,i.column)))return{text:o+g+" * "+o+" "+g+"*/",selection:[1,4+g.length,1,4+g.length]}}}))}).isSaneInsertion=function(e,t){var n=e.getCursorPosition(),r=new a(t,n.row,n.column);if(!this.$matchTokenType(r.getCurrentToken()||"text",c)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var o=new a(t,n.row,n.column+1);if(!this.$matchTokenType(o.getCurrentToken()||"text",c))return!1}return r.stepForward(),r.getCurrentTokenRow()!==n.row||this.$matchTokenType(r.getCurrentToken()||"text",d)},o.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},o.recordAutoInsert=function(e,t,n){var o=e.getCursorPosition(),i=t.doc.getLine(o.row);this.isAutoInsertedClosing(o,i,r.autoInsertedLineEnd[0])||(r.autoInsertedBrackets=0),r.autoInsertedRow=o.row,r.autoInsertedLineEnd=n+i.substr(o.column),r.autoInsertedBrackets++},o.recordMaybeInsert=function(e,t,n){var o=e.getCursorPosition(),i=t.doc.getLine(o.row);this.isMaybeInsertedClosing(o,i)||(r.maybeInsertedBrackets=0),r.maybeInsertedRow=o.row,r.maybeInsertedLineStart=i.substr(0,o.column)+n,r.maybeInsertedLineEnd=i.substr(o.column),r.maybeInsertedBrackets++},o.isAutoInsertedClosing=function(e,t,n){return r.autoInsertedBrackets>0&&e.row===r.autoInsertedRow&&n===r.autoInsertedLineEnd[0]&&t.substr(e.column)===r.autoInsertedLineEnd},o.isMaybeInsertedClosing=function(e,t){return r.maybeInsertedBrackets>0&&e.row===r.maybeInsertedRow&&t.substr(e.column)===r.maybeInsertedLineEnd&&t.substr(0,e.column)==r.maybeInsertedLineStart},o.popAutoInsertedClosing=function(){r.autoInsertedLineEnd=r.autoInsertedLineEnd.substr(1),r.autoInsertedBrackets--},o.clearMaybeInsertedClosing=function(){r&&(r.maybeInsertedBrackets=0,r.maybeInsertedRow=-1)},i.inherits(o,s),t.CstyleBehaviour=o})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var r=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],o=0,i=[],s=0;s<r.length;s+=2)i.push(o+=r[s]),r[s+1]&&i.push(45,o+=r[s+1]);t.wordChars=String.fromCharCode.apply(null,i)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r,o=e("../config"),i=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("../unicode"),c=e("../lib/lang"),d=e("../token_iterator").TokenIterator,u=e("../range").Range;(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new i(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,r){var o=t.doc,i=!0,s=!0,a=1/0,l=t.getTabSize(),d=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(c.escapeRegExp).join("|"),p=this.lineCommentStart[0];else m=c.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),d=t.getUseSoftTabs();y=function(e,t){var n=e.match(m);if(n){var r=n[1].length,i=n[0].length;h(e,r,i)||" "!=n[0][i-1]||i--,o.removeInLine(t,r,i)}};var u=p+" ",h=(v=function(e,t){i&&!/\S/.test(e)||(h(e,a,a)?o.insertInLine({row:t,column:a},u):o.insertInLine({row:t,column:a},p))},x=function(e,t){return m.test(e)},function(e,t,n){for(var r=0;t--&&" "==e.charAt(t);)r++;if(r%l!=0)return!1;for(r=0;" "==e.charAt(n++);)r++;return l>2?r%l!=l-1:r%l==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+c.escapeRegExp(p)+")"),g=new RegExp("(?:"+c.escapeRegExp(f)+")\\s*$"),v=function(e,t){x(e,t)||i&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},f),o.insertInLine({row:t,column:a},p))},y=function(e,t){var n;(n=e.match(g))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&o.removeInLine(t,n[1].length,n[0].length)},x=function(e,n){if(m.test(e))return!0;for(var r=t.getTokens(n),o=0;o<r.length;o++)if("comment"===r[o].type)return!0}}function b(e){for(var t=n;t<=r;t++)e(o.getLine(t),t)}var w=1/0;b((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!x(e,t)&&(s=!1)):w>e.length&&(w=e.length)})),a==1/0&&(a=w,i=!1,s=!1),d&&a%l!=0&&(a=Math.floor(a/l)*l),b(s?y:v)},this.toggleBlockComment=function(e,t,n,r){var o=this.blockComment;if(o){!o.start&&o[0]&&(o=o[0]);var i,s,a=(m=new d(t,r.row,r.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var c,h;a&&/comment/.test(a.type);){if(-1!=(g=a.value.indexOf(o.start))){var p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g;c=new u(p,f,p,f+o.start.length);break}a=m.stepBackward()}var m;for(a=(m=new d(t,r.row,r.column)).getCurrentToken();a&&/comment/.test(a.type);){var g;if(-1!=(g=a.value.indexOf(o.end))){p=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+g;h=new u(p,f,p,f+o.end.length);break}a=m.stepForward()}h&&t.remove(h),c&&(t.remove(c),i=c.start.row,s=-o.start.length)}else s=o.start.length,i=n.start.row,t.insert(n.end,o.end),t.insert(n.start,o.start);l.start.row==i&&(l.start.column+=s),l.end.row==i&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],r=n.prototype.$id,i=o.$modes[r];i||(o.$modes[r]=i=new n),o.$modes[t]||(o.$modes[t]=i),this.$embeds.push(t),this.$modes[t]=i}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],a=function(e){!function(t){var n=s[e],r=t[n];t[s[e]]=function(){return this.$delegator(n,arguments,r)}}(l)},l=this;for(t=0;t<s.length;t++)a(t)},this.$delegator=function(e,t,n){var r=t[0]||"start";if("string"!=typeof r){if(Array.isArray(r[2])){var o=r[2][r[2].length-1];if(s=this.$modes[o])return s[e].apply(s,[r[1]].concat([].slice.call(t,1)))}r=r[0]||"start"}for(var i=0;i<this.$embeds.length;i++)if(this.$modes[this.$embeds[i]]){var s,a=r.split(this.$embeds[i]);if(!a[0]&&a[1])return t[0]=a[1],(s=this.$modes[this.$embeds[i]])[e].apply(s,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,r,o){if(this.$behaviour){var i=this.$behaviour.getBehaviours();for(var s in i)if(i[s][t]){var a=i[s][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var r in t)for(var o=t[r],i=0,s=o.length;i<s;i++)if("string"===typeof o[i].token)/keyword|support|storage/.test(o[i].token)&&n.push(o[i].regex);else if("object"===typeof o[i].token)for(var a=0,l=o[i].token.length;a<l;a++)if(/keyword|support|storage/.test(o[i].token[a])){r=o[i].regex.match(/\(.+?\)/g)[a];n.push(r.substr(1,r.length-2))}this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,r){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call((r=function(){this.HighlightRules=s}).prototype),t.Mode=r})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("./lib/dom"),o=function(){function e(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return e.prototype.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},e.prototype.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},e.prototype.$onChangeEditor=function(e){this.attach(e.editor)},e.prototype.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},e.prototype.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},e.prototype.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var r=e.data,o=r.start.row,i=r.end.row,s="add"==e.action,a=o+1;a<i;a++)n[a]&&(n[a].hidden=s);n[i]&&(s?n[o]?n[i].hidden=s:n[o]=n[i]:(n[o]==n[i]&&(n[o]=void 0),n[i].hidden=s))}},e.prototype.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,r=e.end.row-n;if(0===r);else if("remove"==e.action){var o=t.splice(n+1,r);!t[n]&&o[o.length-1]&&(t[n]=o.pop()),o.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var i=new Array(r);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,i.unshift(n,0),t.splice.apply(t,i),this.$updateRows()}}},e.prototype.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},e.prototype.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},e.prototype.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=r.createElement("div"),e.el.innerHTML=e.html),e.text&&!e.el&&(e.el=r.createElement("div"),e.el.textContent=e.text),e.el&&(r.addCssClass(e.el,"ace_lineWidgetContainer"),e.className&&r.addCssClass(e.el,e.className),e.el.style.position="absolute",e.el.style.zIndex="5",t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex="3"),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var o=this.session.lineWidgets;e.row!=n.end.row||o[n.start.row]?e.hidden=!0:o[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},e.prototype.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(n){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},e.prototype.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],r=[];n;)r.push(n),n=n.$oldWidget;return r},e.prototype.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},e.prototype.measureWidgets=function(e,t){var n=this.session._changedWidgets,r=t.layerConfig;if(n&&n.length){for(var o=1/0,i=0;i<n.length;i++){var s=n[i];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/r.characterWidth));var a=s.h/r.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<o&&(o=s.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},e.prototype.renderWidgets=function(e,t){var n=t.layerConfig,r=this.session.lineWidgets;if(r){for(var o=Math.min(this.firstRow,n.firstRow),i=Math.max(this.lastRow,n.lastRow,r.length);o>0&&!r[o];)o--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=o;s<=i;s++){var a=r[s];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}},e}();t.LineWidgets=o})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var r=t.start.row,o=t.start.column,i=e[r]||"";switch(t.action){case"insert":if(1===t.lines.length)e[r]=i.substring(0,o)+t.lines[0]+i.substring(o);else{var s=[r,1].concat(t.lines);e.splice.apply(e,s),e[r]=i.substring(0,o)+e[r],e[r+t.lines.length-1]+=i.substring(o)}break;case"remove":var a=t.end.column,l=t.end.row;r===l?e[r]=i.substring(0,o)+i.substring(a):e.splice(r,l-r+1,i.substring(0,o)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,i=function(){function e(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),"number"!=typeof t?this.setPosition(t.row,t.column):this.setPosition(t,n)}return e.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},e.prototype.getDocument=function(){return this.document},e.prototype.onChange=function(e){if((e.start.row!=e.end.row||e.start.row==this.row)&&!(e.start.row>this.row)){var t=function(e,t,n){var r="insert"==e.action,o=(r?1:-1)*(e.end.row-e.start.row),i=(r?1:-1)*(e.end.column-e.start.column),a=e.start,l=r?a:e.end;if(s(t,a,n))return{row:t.row,column:t.column};if(s(l,t,!n))return{row:t.row+o,column:t.column+(t.row==l.row?i:0)};return{row:a.row,column:a.column}}(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(t.row,t.column,!0)}},e.prototype.setPosition=function(e,t,n){var r;if(r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=r.row||this.column!=r.column){var o={row:this.row,column:this.column};this.row=r.row,this.column=r.column,this._signal("change",{old:o,value:r})}},e.prototype.detach=function(){this.document.off("change",this.$onChange)},e.prototype.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},e.prototype.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n},e}();function s(e,t,n){var r=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&r}i.prototype.$insertRight=!1,r.implement(i.prototype,o),t.Anchor=i})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./apply_delta").applyDelta,i=e("./lib/event_emitter").EventEmitter,s=e("./range").Range,a=e("./anchor").Anchor,l=function(){function e(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return e.prototype.setValue=function(e){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},e.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},e.prototype.createAnchor=function(e,t){return new a(this,e,t)},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},e.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},e.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},e.prototype.getNewLineMode=function(){return this.$newLineMode},e.prototype.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},e.prototype.getLine=function(e){return this.$lines[e]||""},e.prototype.getLines=function(e,t){return this.$lines.slice(e,t+1)},e.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},e.prototype.getLength=function(){return this.$lines.length},e.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},e.prototype.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},e.prototype.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},e.prototype.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},e.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},e.prototype.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},e.prototype.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),r=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},e.prototype.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var r=this.getLine(e);return void 0==t&&(t=r.length),{row:e,column:t=Math.min(Math.max(t,0),r.length)}},e.prototype.clonePos=function(e){return{row:e.row,column:e.column}},e.prototype.pos=function(e,t){return{row:e,column:t}},e.prototype.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},e.prototype.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},e.prototype.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),r={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:r,action:"insert",lines:t}),this.clonePos(r)},e.prototype.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},e.prototype.removeInLine=function(e,t,n){var r=this.clippedPos(e,t),o=this.clippedPos(e,n);return this.applyDelta({start:r,end:o,action:"remove",lines:this.getLinesForRange({start:r,end:o})},!0),this.clonePos(r)},e.prototype.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,r=t<this.getLength()-1,o=n?e-1:e,i=n?this.getLine(o).length:0,a=r?t+1:t,l=r?0:this.getLine(a).length,c=new s(o,i,a,l),d=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),d},e.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},e.prototype.replace=function(e,t){return e instanceof s||(e=s.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},e.prototype.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},e.prototype.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},e.prototype.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!s.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(o(this.$lines,e,t),this._signal("change",e)))},e.prototype.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},e.prototype.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,r=n.length-t+1,o=e.start.row,i=e.start.column,s=0,a=0;s<r;s=a){a+=t-1;var l=n.slice(s,a);l.push(""),this.applyDelta({start:this.pos(o+s,i),end:this.pos(o+a,i=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=o+s,e.start.column=i,this.applyDelta(e,!0)},e.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},e.prototype.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,o=t||0,i=n.length;o<i;o++)if((e-=n[o].length+r)<0)return{row:o,column:e+n[o].length+r};return{row:i-1,column:e+n[i-1].length+r}},e.prototype.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,o=0,i=Math.min(e.row,n.length),s=t||0;s<i;++s)o+=n[s].length+r;return o+e.column},e.prototype.$split=function(e){return e.split(/\r\n|\r|\n/)},e}();l.prototype.$autoNewLine="",l.prototype.$newLineMode="auto",r.implement(l.prototype,i),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter,i=function(){function e(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,r=-1,o=n.doc,i=t;n.lines[t];)t++;var s=o.getLength(),a=0;for(n.running=!1;t<s;){n.$tokenizeRow(t),r=t;do{t++}while(n.lines[t]);if(++a%5===0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==r&&(r=t),i<=r&&n.fireUpdateEvent(i,r)}}}return e.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},e.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},e.prototype.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},e.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},e.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},e.prototype.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.lines.splice.apply(this.lines,r),this.states.splice.apply(this.states,r)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},e.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},e.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},e.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},e.prototype.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],r=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!==r.state+""?(this.states[e]=r.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=r.tokens},e.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},e}();r.implement(i.prototype,o),t.BackgroundTokenizer=i})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),o=e("./range").Range,i=function(){function e(e,t,n){void 0===n&&(n="text"),this.setRegexp(e),this.clazz=t,this.type=n,this.docLen=0}return e.prototype.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},e.prototype.update=function(e,t,n,i){if(this.regExp){for(var s=i.firstRow,a=i.lastRow,l={},c=n.$editor.$search,d=c.$isMultilineSearch(n.$editor.getLastSearchOptions()),u=s;u<=a;u++){var h=this.cache[u];if(null==h||n.getValue().length!=this.docLen){if(d){h=[];var p=c.$multiLineForward(n,this.regExp,u,a);if(p){var f=p.endRow<=a?p.endRow-1:a;f>u&&(u=f),h.push(new o(p.startRow,p.startCol,p.endRow,p.endCol))}h.length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES))}else(h=r.getMatchOffsets(n.getLine(u),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map((function(e){return new o(u,e.offset,u,e.offset+e.length)}));this.cache[u]=h.length?h:""}if(0!==h.length)for(var m=h.length;m--;){var g=h[m].toScreenRange(n),v=g.toString();l[v]||(l[v]=!0,t.drawSingleLineMarker(e,g,this.clazz,i))}}this.docLen=n.getValue().length}},e}();i.prototype.MAX_RANGES=500,t.SearchHighlight=i})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=function(){function e(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return e.prototype.addSession=function(e){this.$session=e},e.prototype.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var r=this.$undoStack.length;r>this.$undoDepth-1&&this.$undoStack.splice(0,r-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},e.prototype.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},e.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},e.prototype.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=n.length;r--;){var o=n[r][0];if(o.id<=e)break;o.id<t&&(o.ignore=!0)}this.lastDeltas=null},e.prototype.getSelection=function(e,t){for(var n=this.selections,r=n.length;r--;){var o=n[r];if(o.rev<e)return t&&(o=n[r+1]),o}},e.prototype.getRevision=function(){return this.$rev},e.prototype.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,r=null,o=0,i=n.length;i--;){var s=n[i][0];if(s.id<t&&!r&&(r=i+1),s.id<=e){o=i+1;break}}return n.slice(o,r)},e.prototype.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},e.prototype.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var r=e[n];if(r&&!r[0].ignore){for(;n<t-1;){var o=d(e[n],e[n+1]);e[n]=o[0],e[n+1]=o[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var r=n.pop(),o=null;return r&&(o=e.undoChanges(r,t),this.$redoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o}},e.prototype.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],o=0;o<r.length;o++)m(e,r[o])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var r=this.$redoStack.pop(),o=null;return r&&(o=e.redoChanges(r,t),this.$undoStack.push(r),this.$syncRev()),this.$fromUndo=!1,o},e.prototype.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},e.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},e.prototype.canUndo=function(){return this.$undoStack.length>0},e.prototype.canRedo=function(){return this.$redoStack.length>0},e.prototype.bookmark=function(e){void 0==e&&(e=this.$rev),this.mark=e},e.prototype.isAtBookmark=function(){return this.$rev===this.mark},e.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},e.prototype.fromJSON=function(e){this.reset(),this.$undoStack=e.$undoStack,this.$redoStack=e.$redoStack},e.prototype.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)},e}();r.prototype.hasUndo=r.prototype.canUndo,r.prototype.hasRedo=r.prototype.canRedo,r.prototype.isClean=r.prototype.isAtBookmark,r.prototype.markClean=r.prototype.bookmark;var o=e("./range").Range,i=o.comparePoints;o.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)if(i(t.start,e.end)>=0)h(t,e,-1);else{if(!(i(t.start,e.start)<=0))return null;h(e,t,1)}else if(n&&!r)if(i(t.start,e.end)>=0)h(t,e,-1);else{if(!(i(t.end,e.start)<=0))return null;h(e,t,-1)}else if(!n&&r)if(i(t.start,e.start)>=0)h(t,e,1);else{if(!(i(t.start,e.start)<=0))return null;h(e,t,1)}else if(!n&&!r)if(i(t.start,e.start)>=0)h(t,e,1);else{if(!(i(t.end,e.start)<=0))return null;h(e,t,-1)}return[t,e]}function d(e,t){for(var n=e.length;n--;)for(var r=0;r<t.length;r++)if(!c(e[n],t[r])){for(;n<e.length;){for(;r--;)c(t[r],e[n]);r=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function u(e,t){var n="insert"==e.action,r="insert"==t.action;if(n&&r)i(e.start,t.start)<0?h(t,e,1):h(e,t,1);else if(n&&!r)i(e.start,t.end)>=0?h(e,t,-1):(i(e.start,t.start)<=0||h(e,o.fromPoints(t.start,e.start),-1),h(t,e,1));else if(!n&&r)i(t.start,e.end)>=0?h(t,e,-1):(i(t.start,e.start)<=0||h(t,o.fromPoints(e.start,t.start),-1),h(e,t,1));else if(!n&&!r)if(i(t.start,e.end)>=0)h(t,e,-1);else{var s,a;if(!(i(t.end,e.start)<=0))return i(e.start,t.start)<0&&(s=e,e=f(e,t.start)),i(e.end,t.end)>0&&(a=f(e,t.end)),p(t.end,e.start,e.end,-1),a&&!s&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,s,a].filter(Boolean);h(e,t,-1)}return[t,e]}function h(e,t,n){p(e.start,t.start,t.end,n),p(e.end,t.start,t.end,n)}function p(e,t,n,r){e.row==(1==r?t:n).row&&(e.column+=r*(n.column-t.column)),e.row+=r*(n.row-t.row)}function f(e,t){var n=e.lines,r=e.end;e.end=s(t);var o=e.end.row-e.start.row,i=n.splice(o,n.length),a=o?t.column:t.column-e.start.column;return n.push(i[0].substring(0,a)),i[0]=i[0].substr(a),{start:s(t),end:r,lines:i,action:e.action}}function m(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var r=e[n],o=0;o<r.length;o++){var i=u(r[o],t);t=i[0],2!=i.length&&(i[2]?(r.splice(o+1,1,i[1],i[2]),o++):i[1]||(r.splice(o,1),o--))}r.length||e.splice(n,1)}return e}t.UndoManager=r})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range,o=function(){function e(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new r(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}return e.prototype.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},e.prototype.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},e.prototype.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},e.prototype.walk=function(e,t,n){var r,o,i=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(o=(r=s[l]).range.compareStart(t,n)))return void e(null,t,n,i,a);if(!e(null,r.start.row,r.start.column,i,a)&&e(r.placeholder,r.start.row,r.start.column,i)||0===o)return;a=!r.sameRow,i=r.end.column}e(null,t,n,i,a)},e.prototype.getNextFoldTo=function(e,t){for(var n,r,o=0;o<this.folds.length;o++){if(-1==(r=(n=this.folds[o]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===r)return{fold:n,kind:"inside"}}return null},e.prototype.addRemoveChars=function(e,t,n){var r,o,i=this.getNextFoldTo(e,t);if(i)if(r=i.fold,"inside"==i.kind&&r.start.column!=t&&r.start.row!=e)window.console&&window.console.log(e,t,r);else if(r.start.row==e){var s=(o=this.folds).indexOf(r);for(0===s&&(this.start.column+=n);s<o.length;s++){if((r=o[s]).start.column+=n,!r.sameRow)return;r.end.column+=n}this.end.column+=n}},e.prototype.split=function(t,n){var r=this.getNextFoldTo(t,n);if(!r||"inside"==r.kind)return null;var o=r.fold,i=this.folds,s=this.foldData,a=i.indexOf(o),l=i[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new e(s,i=i.splice(a,i.length-a));return s.splice(s.indexOf(this)+1,0,c),c},e.prototype.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var r=this.foldData;r.splice(r.indexOf(e),1)},e.prototype.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},e.prototype.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var r=this.folds[n];if((e-=r.start.column-t)<0)return{row:r.start.row,column:r.start.column+e};if((e-=r.placeholder.length)<0)return r.start;t=r.end.column}return{row:this.end.row,column:this.end.column+e}},e}();t.FoldLine=o})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("./range").Range.comparePoints,o=function(){function e(){this.ranges=[],this.$bias=1}return e.prototype.pointIndex=function(e,t,n){for(var o=this.ranges,i=n||0;i<o.length;i++){var s=o[i],a=r(e,s.end);if(!(a>0)){var l=r(e,s.start);return 0===a?t&&0!==l?-i-2:i:l>0||0===l&&!t?i:-i-1}}return-i-1},e.prototype.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var r=this.pointIndex(e.end,t,n);return r<0?r=-r-1:r++,this.ranges.splice(n,r-n,e)},e.prototype.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},e.prototype.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},e.prototype.merge=function(){for(var e,t=[],n=this.ranges,o=(n=n.sort((function(e,t){return r(e.start,t.start)})))[0],i=1;i<n.length;i++){e=o,o=n[i];var s=r(e.end,o.start);s<0||(0!=s||e.isEmpty()||o.isEmpty())&&(r(e.end,o.end)<0&&(e.end.row=o.end.row,e.end.column=o.end.column),n.splice(i,1),t.push(o),o=e,i--)}return this.ranges=n,t},e.prototype.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},e.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},e.prototype.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},e.prototype.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var r=this.pointIndex({row:e,column:0});r<0&&(r=-r-1);var o=this.pointIndex({row:t,column:0},r);o<0&&(o=-o-1);for(var i=[],s=r;s<o;s++)i.push(n[s]);return i},e.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},e.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},e.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},e.prototype.$onChange=function(e){for(var t=e.start,n=e.end,r=t.row,o=n.row,i=this.ranges,s=0,a=i.length;s<a;s++){if((d=i[s]).end.row>=r)break}if("insert"==e.action)for(var l=o-r,c=-t.column+n.column;s<a;s++){if((d=i[s]).start.row>r)break;if(d.start.row==r&&d.start.column>=t.column&&(d.start.column==t.column&&this.$bias<=0||(d.start.column+=c,d.start.row+=l)),d.end.row==r&&d.end.column>=t.column){if(d.end.column==t.column&&this.$bias<0)continue;d.end.column==t.column&&c>0&&s<a-1&&d.end.column>d.start.column&&d.end.column==i[s+1].start.column&&(d.end.column-=c),d.end.column+=c,d.end.row+=l}}else for(l=r-o,c=t.column-n.column;s<a;s++){if((d=i[s]).start.row>o)break;d.end.row<o&&(r<d.end.row||r==d.end.row&&t.column<d.end.column)?(d.end.row=r,d.end.column=t.column):d.end.row==o?d.end.column<=n.column?(l||d.end.column>t.column)&&(d.end.column=t.column,d.end.row=t.row):(d.end.column+=c,d.end.row+=l):d.end.row>o&&(d.end.row+=l),d.start.row<o&&(r<d.start.row||r==d.start.row&&t.column<d.start.column)?(d.start.row=r,d.start.column=t.column):d.start.row==o?d.start.column<=n.column?(l||d.start.column>t.column)&&(d.start.column=t.column,d.start.row=t.row):(d.start.column+=c,d.start.row+=l):d.start.row>o&&(d.start.row+=l)}if(0!=l&&s<a)for(;s<a;s++){var d;(d=i[s]).start.row+=l,d.end.row+=l}},e}();o.prototype.comparePoints=r,t.RangeList=o})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(e){function t(t,n){var r=e.call(this)||this;return r.foldLine=null,r.placeholder=n,r.range=t,r.start=t.start,r.end=t.end,r.sameRow=t.start.row==t.end.row,r.subFolds=r.ranges=[],r}return r(t,e),t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},t.prototype.clone=function(){var e=new t(this.range.clone(),this.placeholder);return this.subFolds.forEach((function(t){e.subFolds.push(t.clone())})),e.collapseChildren=this.collapseChildren,e},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,i(t.start,n),i(t.end,n);for(var r=e.start.row,o=e.start.column,s=0,a=-1;s<this.subFolds.length&&1==(a=this.subFolds[s].range.compare(r,o));s++);var l=this.subFolds[s],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}r=e.range.end.row,o=e.range.end.column;var d=s;for(a=-1;d<this.subFolds.length&&1==(a=this.subFolds[d].range.compare(r,o));d++);0==a&&d++;for(var u=this.subFolds.splice(s,d-s,e),h=0==a?u.length-1:u.length,p=c;p<h;p++)e.addSubFold(u[p]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return function(e,t){s(e.start,t),s(e.end,t)}(e,this.start)},t}(e("../range_list").RangeList);function i(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}t.Fold=o})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],(function(e,t,n){"use strict";var r=e("../range").Range,o=e("./fold_line").FoldLine,i=e("./fold").Fold,s=e("../token_iterator").TokenIterator,a=e("../mouse/mouse_event").MouseEvent;t.Folding=function(){this.getFoldAt=function(e,t,n){var r=this.getFoldLine(e);if(!r)return null;for(var o=r.folds,i=0;i<o.length;i++){var s=o[i].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return o[i]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,r=this.$foldData,o=[];t.column+=1,n.column-=1;for(var i=0;i<r.length;i++){var s=r[i].range.compareRange(e);if(2!=s){if(-2==s)break;for(var a=r[i].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(s=c.range.compareRange(e)))break;if(2!=s){if(42==s)break;o.push(c)}}}}return t.column-=1,n.column+=1,o},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var r=0;r<t[n].folds.length;r++)e.push(t[n].folds[r]);return e},this.getFoldStringAt=function(e,t,n,r){if(!(r=r||this.getFoldLine(e)))return null;for(var o,i,s={end:{column:0}},a=0;a<r.folds.length;a++){var l=(i=r.folds[a]).range.compareEnd(e,t);if(-1==l){o=this.getLine(i.start.row).substring(s.end.column,i.start.column);break}if(0===l)return null;s=i}return o||(o=this.getLine(i.start.row).substring(s.end.column)),-1==n?o.substring(0,t-s.end.column):1==n?o.substring(t-s.end.column):o},this.getFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var o=n[r];if(o.start.row<=e&&o.end.row>=e)return o;if(o.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,r=0;for(t&&(r=n.indexOf(t)),-1==r&&(r=0);r<n.length;r++){var o=n[r];if(o.end.row>=e)return o}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,r=t-e+1,o=0;o<n.length;o++){var i=n[o],s=i.end.row,a=i.start.row;if(s>=t){a<t&&(a>=e?r-=t-a:r=0);break}s>=e&&(r-=a>=e?s-a:s-e+1)}return r},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,r=this.$foldData,s=!1;e instanceof i?n=e:(n=new i(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,d=n.end.column,u=this.getFoldAt(a,l,1),h=this.getFoldAt(c,d,-1);if(u&&h==u)return u.addSubFold(n);u&&!u.range.isStart(a,l)&&this.removeFold(u),h&&!h.range.isEnd(c,d)&&this.removeFold(h);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<r.length;f++){var m=r[f];if(c==m.start.row){m.addFold(n),s=!0;break}if(a==m.end.row){if(m.addFold(n),s=!0,!n.sameRow){var g=r[f+1];if(g&&g.start.row==c){m.merge(g);break}}break}if(c<=m.start.row)break}return s||(m=this.$addFoldLine(new o(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,r=t.end.row,o=this.$foldData,i=t.folds;if(1==i.length)o.splice(o.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))i.pop(),t.end.row=i[i.length-1].end.row,t.end.column=i[i.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))i.shift(),t.start.row=i[0].start.row,t.start.column=i[0].start.column;else if(e.sameRow)i.splice(i.indexOf(e),1);else{var s=t.split(e.start.row,e.start.column);(i=s.folds).shift(),s.start.row=i[0].start.row,s.start.column=i[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,r):this.$updateRowLengthCache(n,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,o;if(null==e)n=new r(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new r(e,0,e,this.getLine(e).length);else if("row"in e)n=r.fromPoints(e,e);else{if(Array.isArray(e))return o=[],e.forEach((function(e){o=o.concat(this.unfold(e))}),this),o;n=e}for(var i=o=this.getFoldsInRangeList(n);1==o.length&&r.comparePoints(o[0].start,n.start)<0&&r.comparePoints(o[0].end,n.end)>0;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(o):this.expandFolds(o),i.length)return i},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,r,o){null==r&&(r=e.start.row),null==o&&(o=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var i=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<r)){if(t==r){if(n<o)return;a=Math.max(o,a)}s+=null!=e?e:i.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,r){var o,i=this.getFoldLine(e);return i?this.getFoldDisplayLine(i,e,t,n,r):(o=this.doc.getLine(e)).substring(r||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new o(e,n)}))},this.toggleFold=function(e){var t,n,r=this.selection.getRange();if(r.isEmpty()){var o=r.start;if(t=this.getFoldAt(o.row,o.column))return void this.expandFold(t);if(e){var i=this.getFoldLine(o.row);return void(i&&this.expandFolds(i.folds))}(n=this.findMatchingBracket(o))?1==r.comparePoint(n)?r.end=n:(r.start=n,r.start.column++,r.end.column--):(n=this.findMatchingBracket({row:o.row,column:o.column+1}))?(1==r.comparePoint(n)?r.end=n:r.start=n,r.start.column++):r=this.getCommentFoldRange(o.row,o.column)||r}else{var s=this.getFoldsInRange(r);if(e&&s.length)return void this.expandFolds(s);1==s.length&&(t=s[0])}if(t||(t=this.getFoldAt(r.start.row,r.start.column)),t&&t.range.toString()==r.toString())this.expandFold(t);else{var a="...";if(!r.isMultiLine()){if((a=this.getTextRange(r)).length<4)return;a=a.trim().substring(0,2)+".."}this.addFold(a,r)}},this.getCommentFoldRange=function(e,t,n){var o=new s(this,e,t),i=o.getCurrentToken(),a=i&&i.type;if(i&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start|\\.doc");var l=new RegExp(a),c=new r;if(1!=n){do{i=o.stepBackward()}while(i&&l.test(i.type));i=o.stepForward()}c.start.row=o.getCurrentTokenRow(),c.start.column=o.getCurrentTokenColumn()+i.value.length,o=new s(this,e,t);var d=this.getState(o.$row);if(-1!=n){var u=-1;do{if(i=o.stepForward(),-1==u){var h=this.getState(o.$row);d.toString()!==h.toString()&&(u=o.$row)}else if(o.$row>u)break}while(i&&l.test(i.type));i=o.stepBackward()}else i=o.getCurrentToken();if(c.end.row=o.getCurrentTokenRow(),c.end.column=o.getCurrentTokenColumn(),c.start.row==c.end.row&&c.start.column>c.end.column)return;return c}},this.foldAll=function(e,t,n,r){void 0==n&&(n=1e5);var o=this.foldWidgets;if(o){t=t||this.getLength();for(var i=e=e||0;i<t;i++)if(null==o[i]&&(o[i]=this.getFoldWidget(i)),"start"==o[i]&&(!r||r(i))){var s=this.getFoldWidgetRange(i);s&&s.isMultiLine()&&s.end.row<=t&&s.start.row>=e&&(i=s.end.row,s.collapseChildren=n,this.addFold("...",s))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),r=0;r<n.length;r++){var o=n[r];if("text"!=o.type||!/^\s+$/.test(o.value))return!!/comment/.test(o.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var r,o=e-1;o>=0;){var i=n[o];if(null==i&&(i=n[o]=this.getFoldWidget(o)),"start"==i){var s=this.getFoldWidgetRange(o);if(r||(r=s),s&&s.end.row>=e)break}o--}return{range:-1!==o&&s,firstRange:r}},this.onFoldWidgetClick=function(e,t){t instanceof a&&(t=t.domEvent);var n={children:t.shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var r=t.target||t.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),r=this.getLine(e),o="end"===n?-1:1,i=this.getFoldAt(e,-1===o?0:r.length,o);if(i)return t.children||t.all?this.removeFold(i):this.expandFold(i),i;var s=this.getFoldWidgetRange(e,!0);if(s&&!s.isMultiLine()&&(i=this.getFoldAt(s.start.row,s.start.column,1))&&s.isEqual(i.range))return this.removeFold(i),i;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=s?s.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):s&&(t.all&&(s.collapseChildren=1e4),this.addFold("...",s));return s}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var r=this.getParentFoldRangeData(t,!0);if(n=r.range||r.firstRange){t=n.start.row;var o=this.getFoldAt(t,this.getLine(t).length,1);o?this.removeFold(o):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var r=Array(n+1);r.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,r)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var r=e("../token_iterator").TokenIterator,o=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var r=n.match(/([\(\[\{])|([\)\]\}])/);return r?r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),r=!0,i=n.charAt(e.column-1),s=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(s||(i=n.charAt(e.column),e={row:e.row,column:e.column+1},s=i&&i.match(/([\(\[\{])|([\)\]\}])/),r=!1),!s)return null;if(s[1]){if(!(a=this.$findClosingBracket(s[1],e)))return null;t=o.fromPoints(e,a),r||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(s[2],e)))return null;t=o.fromPoints(a,e),r||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),r=/([\(\[\{])|([\)\]\}])/,i=!t&&n.charAt(e.column-1),s=i&&i.match(r);if(s||(i=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},s=i&&i.match(r)),!s)return null;var a=new o(e.row,e.column-1,e.row,e.column),l=s[1]?this.$findClosingBracket(s[1],e):this.$findOpeningBracket(s[2],e);return l?[a,new o(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var o=this.$brackets[e],i=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var d=c.charAt(l);if(d==o){if(0==(i-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(i+=1);l-=1}do{a=s.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var o=this.$brackets[e],i=1,s=new r(this,t.row,t.column),a=s.getCurrentToken();if(a||(a=s.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,d=c.length;l<d;){var u=c.charAt(l);if(u==o){if(0==(i-=1))return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else u==e&&(i+=1);l+=1}do{a=s.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new r(this,e.row,e.column),n=this.$findTagName(t);if(n)return"<"===t.stepBackward().value?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,r=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=r?e.stepBackward():e.stepForward())&&("/>"===t.value?r=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,r=t.value,i=t.value,s=0,a=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(-1!==(n=t).type.indexOf("tag-close")&&!c){var d=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(t=e.stepForward()){if(">"===t.value&&!c){d=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(i===(r=t.value))if("<"===n.value)s++;else if("</"===n.value&&--s<0){e.stepBackward();var u=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var h=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(-1===t.type.indexOf("tag-close")&&(t=e.stepForward()),!t||">"!==t.value)return;var p=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else if(i===r&&"/>"===t.value&&--s<0)p=h=u=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),d=new o(l.end.row,l.end.column,l.end.row,l.end.column+1)}}while(t&&s>=0);if(a&&d&&u&&p&&l&&h)return{openTag:new o(a.start.row,a.start.column,d.end.row,d.end.column),closeTag:new o(u.start.row,u.start.column,p.end.row,p.end.column),openTagName:l,closeTagName:h}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),r=t.value,i=0,s=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new o(s,a,s,l);e.stepForward();var d=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(-1===t.type.indexOf("tag-close")&&(t=e.stepForward()),t&&">"===t.value){var u=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,s=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(r===t.value)if("<"===n.value){if(++i>0){var h=new o(s,a,s,l),p=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var f=new o(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&i--}else if("/>"===t.value){for(var m=0,g=n;g;){if(-1!==g.type.indexOf("tag-name")&&g.value===r){i--;break}if("<"===g.value)break;g=e.stepBackward(),m++}for(var v=0;v<m;v++)e.stepForward()}}while(n&&i<=0);return p&&f&&c&&u&&h&&d?{openTag:new o(p.start.row,p.start.column,f.end.row,f.end.column),closeTag:new o(c.start.row,c.start.column,u.end.row,u.end.column),openTagName:h,closeTagName:d}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/lang"),i=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,d=e("./range").Range,u=e("./line_widgets").LineWidgets,h=e("./document").Document,p=e("./background_tokenizer").BackgroundTokenizer,f=e("./search_highlight").SearchHighlight,m=e("./undomanager").UndoManager,g=function(){function e(t,n){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++e.$uid,this.$foldData.toString=function(){return this.join("\n")},this.$gutterCustomWidgets={},this.bgTokenizer=new p((new c).getTokenizer(),this);var r=this;this.bgTokenizer.on("update",(function(e){r._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof t&&t.getLine||(t=new h(t)),this.setDocument(t),this.selection=new l(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new i(this),s.resetOptions(this),this.setMode(n),s._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return e.prototype.$initOperationListeners=function(){var e=this;this.curOp=null,this.on("change",(function(){e.curOp||(e.startOperation(),e.curOp.selectionBefore=e.$lastSel),e.curOp.docChanged=!0}),!0),this.on("changeSelection",(function(){e.curOp||(e.startOperation(),e.curOp.selectionBefore=e.$lastSel),e.curOp.selectionChanged=!0}),!0),this.$operationResetTimer=o.delayedCall(this.endOperation.bind(this,!0))},e.prototype.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(e={}),this.$operationResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",e)},e.prototype.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null,void this._signal("endOperation",e);if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;var t=this.selection.toJSON();this.curOp.selectionAfter=t,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(t),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",e)}},e.prototype.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},e.prototype.getDocument=function(){return this.doc},Object.defineProperty(e.prototype,"widgetManager",{get:function(){var e=new u(this);return this.widgetManager=e,this.$editor&&e.attach(this.$editor),e},set:function(e){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:e})},enumerable:!1,configurable:!0}),e.prototype.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},e.prototype.$getRowCacheIndex=function(e,t){for(var n=0,r=e.length-1;n<=r;){var o=n+r>>1,i=e[o];if(t>i)n=o+1;else{if(!(t<i))return o;r=o-1}}return n-1},e.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},e.prototype.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},e.prototype.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},e.prototype.onSelectionChange=function(){this._signal("changeSelection")},e.prototype.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},e.fromJSON=function(t){"string"==typeof t&&(t=JSON.parse(t));var n=new m;n.$undoStack=t.history.undo,n.$redoStack=t.history.redo,n.mark=t.history.mark,n.$rev=t.history.rev;var r=new e(t.value);return t.folds.forEach((function(e){r.addFold("...",d.fromPoints(e.start,e.end))})),r.setAnnotations(t.annotations),r.setBreakpoints(t.breakpoints),r.setMode(t.mode),r.setScrollLeft(t.scrollLeft),r.setScrollTop(t.scrollTop),r.setUndoManager(n),r.selection.fromJSON(t.selection),r},e.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map((function(e){return e.range})),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},e.prototype.toString=function(){return this.doc.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.getState=function(e){return this.bgTokenizer.getState(e)},e.prototype.getTokens=function(e){return this.bgTokenizer.getTokens(e)},e.prototype.getTokenAt=function(e,t){var n,r=this.bgTokenizer.getTokens(e),o=0;if(null==t){var i=r.length-1;o=this.getLine(e).length}else for(i=0;i<r.length&&!((o+=r[i].value.length)>=t);i++);return(n=r[i])?(n.index=i,n.start=o-n.value.length,n):null},e.prototype.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=o.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},e.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},e.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},e.prototype.getTabString=function(){return this.getUseSoftTabs()?o.stringRepeat(" ",this.getTabSize()):"\t"},e.prototype.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},e.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},e.prototype.setTabSize=function(e){this.setOption("tabSize",e)},e.prototype.getTabSize=function(){return this.$tabSize},e.prototype.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize===0},e.prototype.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},e.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},e.prototype.setOverwrite=function(e){this.setOption("overwrite",e)},e.prototype.getOverwrite=function(){return this.$overwrite},e.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},e.prototype.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},e.prototype.removeGutterCustomWidget=function(e){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(e)},e.prototype.addGutterCustomWidget=function(e,t){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},e.prototype.getBreakpoints=function(){return this.$breakpoints},e.prototype.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},e.prototype.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},e.prototype.addMarker=function(e,t,n,r){var o=this.$markerId++,i={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!r,id:o};return r?(this.$frontMarkers[o]=i,this._signal("changeFrontMarker")):(this.$backMarkers[o]=i,this._signal("changeBackMarker")),o},e.prototype.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},e.prototype.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},e.prototype.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},e.prototype.highlight=function(e){if(!this.$searchHighlight){var t=new f(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},e.prototype.highlightLines=function(e,t,n,r){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var o=new d(e,0,t,1/0);return o.id=this.addMarker(o,n,"fullLine",r),o},e.prototype.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},e.prototype.getAnnotations=function(){return this.$annotations||[]},e.prototype.clearAnnotations=function(){this.setAnnotations([])},e.prototype.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},e.prototype.getWordRange=function(e,t){var n=this.getLine(e),r=!1;if(t>0&&(r=!!n.charAt(t-1).match(this.tokenRe)),r||(r=!!n.charAt(t).match(this.tokenRe)),r)var o=this.tokenRe;else if(/^\s+$/.test(n.slice(t-1,t+1)))o=/\s/;else o=this.nonTokenRe;var i=t;if(i>0){do{i--}while(i>=0&&n.charAt(i).match(o));i++}for(var s=t;s<n.length&&n.charAt(s).match(o);)s++;return new d(e,i,e,s)},e.prototype.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),r=this.getLine(n.end.row);r.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},e.prototype.setNewLineMode=function(e){this.doc.setNewLineMode(e)},e.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},e.prototype.setUseWorker=function(e){this.setOption("useWorker",e)},e.prototype.getUseWorker=function(){return this.$useWorker},e.prototype.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},e.prototype.setMode=function(e,t){if(e&&"object"===typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,r=n.path}else r=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[r]&&!n)return this.$onChangeMode(this.$modes[r]),void(t&&t());this.$modeId=r,s.loadModule(["mode",r],function(e){if(!this.destroyed){if(this.$modeId!==r)return t&&t();this.$modes[r]&&!n?this.$onChangeMode(this.$modes[r]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[r]=e,e.$id=r),this.$onChangeMode(e)),t&&t()}}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},e.prototype.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var r=e.getTokenizer();if(void 0!==r.on){var o=this.onReloadTokenizer.bind(this);r.on("update",o)}this.bgTokenizer.setTokenizer(r),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},e.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},e.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},e.prototype.getMode=function(){return this.$mode},e.prototype.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},e.prototype.getScrollTop=function(){return this.$scrollTop},e.prototype.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},e.prototype.getScrollLeft=function(){return this.$scrollLeft},e.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},e.prototype.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},e.prototype.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,r=0,o=0,i=this.$foldData[o],s=i?i.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>s){if((l=i.end.row+1)>=a)break;s=(i=this.$foldData[o++])?i.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>r&&(r=n[l])}this.screenWidth=r}},e.prototype.getLine=function(e){return this.doc.getLine(e)},e.prototype.getLines=function(e,t){return this.doc.getLines(e,t)},e.prototype.getLength=function(){return this.doc.getLength()},e.prototype.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},e.prototype.insert=function(e,t){return this.doc.insert(e,t)},e.prototype.remove=function(e){return this.doc.remove(e)},e.prototype.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},e.prototype.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var r=e[n];"insert"==r.action||"remove"==r.action?this.doc.revertDelta(r):r.folds&&this.addFolds(r.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},e.prototype.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var r=e[n];"insert"!=r.action&&"remove"!=r.action||this.doc.$safeApplyDelta(r)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},e.prototype.setUndoSelect=function(e){this.$undoSelect=e},e.prototype.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var r,o,i=0;i<e.length;i++){var s=e[i];s.start&&(r?n(s)?(o=s.start,-1==r.compare(o.row,o.column)&&r.setStart(o),o=s.end,1==r.compare(o.row,o.column)&&r.setEnd(o)):(o=s.start,-1==r.compare(o.row,o.column)&&(r=d.fromPoints(s.start,s.start))):r=n(s)?d.fromPoints(s.start,s.end):d.fromPoints(s.start,s.start))}return r},e.prototype.replace=function(e,t){return this.doc.replace(e,t)},e.prototype.moveText=function(e,t,n){var r=this.getTextRange(e),o=this.getFoldsInRange(e),i=d.fromPoints(t,t);if(!n){this.remove(e);var s=e.start.row-e.end.row;(c=s?-e.end.column:e.start.column-e.end.column)&&(i.start.row==e.end.row&&i.start.column>e.end.column&&(i.start.column+=c),i.end.row==e.end.row&&i.end.column>e.end.column&&(i.end.column+=c)),s&&i.start.row>=e.end.row&&(i.start.row+=s,i.end.row+=s)}if(i.end=this.insert(i.start,r),o.length){var a=e.start,l=i.start,c=(s=l.row-a.row,l.column-a.column);this.addFolds(o.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=s,e.end.row+=s,e})))}return i},e.prototype.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var r=e;r<=t;r++)this.doc.insertInLine({row:r,column:0},n)},e.prototype.outdentRows=function(e){for(var t=e.collapseRows(),n=new d(0,0,0,0),r=this.getTabSize(),o=t.start.row;o<=t.end.row;++o){var i=this.getLine(o);n.start.row=o,n.end.row=o;for(var s=0;s<r&&" "==i.charAt(s);++s);s<r&&"\t"==i.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},e.prototype.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((o=this.getRowFoldStart(e+n))<0)return 0;var r=o-e}else if(n>0){var o;if((o=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;r=o-t}else{e=this.$clipRowToDocument(e);r=(t=this.$clipRowToDocument(t))-e+1}var i=new d(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(i).map((function(e){return(e=e.clone()).start.row+=r,e.end.row+=r,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+r,a),s.length&&this.addFolds(s),r},e.prototype.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},e.prototype.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},e.prototype.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},e.prototype.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},e.prototype.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},e.prototype.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},e.prototype.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},e.prototype.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},e.prototype.getUseWrapMode=function(){return this.$useWrapMode},e.prototype.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},e.prototype.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var r=this.$constrainWrapLimit(e,n.min,n.max);return r!=this.$wrapLimit&&r>1&&(this.$wrapLimit=r,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},e.prototype.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},e.prototype.getWrapLimit=function(){return this.$wrapLimit},e.prototype.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},e.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},e.prototype.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,r=e.start,o=e.end,i=r.row,s=o.row,a=s-i,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(i,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var d=0;if(m=this.getFoldLine(o.row)){m.addRemoveChars(o.row,o.column,r.column-o.column),m.shiftRow(-a);var u=this.getFoldLine(i);u&&u!==m&&(u.merge(m),m=u),d=c.indexOf(m)+1}for(;d<c.length;d++){(m=c[d]).start.row>=o.row&&m.shiftRow(-a)}s=i}else{var h=Array(a);h.unshift(i,0);var p=t?this.$wrapData:this.$rowLengthCache;p.splice.apply(p,h);c=this.$foldData,d=0;if(m=this.getFoldLine(i)){var f=m.range.compareInside(r.row,r.column);0==f?(m=m.split(r.row,r.column))&&(m.shiftRow(a),m.addRemoveChars(s,0,o.column-r.column)):-1==f&&(m.addRemoveChars(i,0,o.column-r.column),m.shiftRow(a)),d=c.indexOf(m)+1}for(;d<c.length;d++){var m;(m=c[d]).start.row>=i&&m.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(m=this.getFoldLine(i))&&m.addRemoveChars(i,r.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(i,s):this.$updateRowLengthCache(i,s),l},e.prototype.$updateRowLengthCache=function(e,t){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},e.prototype.$updateWrapData=function(e,t){var n,r,o=this.doc.getAllLines(),i=this.getTabSize(),s=this.$wrapData,a=this.$wrapLimit,l=e;for(t=Math.min(t,o.length-1);l<=t;)(r=this.getFoldLine(l,r))?(n=[],r.walk(function(e,t,r,i){var s;if(null!=e){(s=this.$getDisplayTokens(e,n.length))[0]=x;for(var a=1;a<s.length;a++)s[a]=b}else s=this.$getDisplayTokens(o[t].substring(i,r),n.length);n=n.concat(s)}.bind(this),r.end.row,o[r.end.row].length+1),s[r.start.row]=this.$computeWrapSplits(n,a,i),l=r.end.row+1):(n=this.$getDisplayTokens(o[l]),s[l]=this.$computeWrapSplits(n,a,i),l++)},e.prototype.$computeWrapSplits=function(e,t,n){if(0==e.length)return[];var r=[],o=e.length,i=0,s=0,a=this.$wrapAsCode,l=this.$indentedSoftWrap,c=t<=Math.max(2*n,8)||!1===l?0:Math.floor(t/2);function d(t){for(var o=t-i,d=i;d<t;d++){var h=e[d];12!==h&&2!==h||(o-=1)}r.length||(u=function(){var t=0;if(0===c)return t;if(l)for(var r=0;r<e.length;r++){var o=e[r];if(o==k)t+=1;else{if(o!=N){if(o==_)continue;break}t+=n}}return a&&!1!==l&&(t+=n),Math.min(t,c)}(),r.indent=u),s+=o,r.push(s),i=t}for(var u=0;o-i>t-u;){var h=i+t-u;if(e[h-1]>=k&&e[h]>=k)d(h);else if(e[h]!=x&&e[h]!=b){for(var p=Math.max(h-(t-(t>>2)),i-1);h>p&&e[h]<x;)h--;if(a){for(;h>p&&e[h]<x;)h--;for(;h>p&&e[h]==w;)h--}else for(;h>p&&e[h]<k;)h--;h>p?d(++h):(e[h=i+t]==y&&h--,d(h-u))}else{for(;h!=i-1&&e[h]!=x;h--);if(h>i){d(h);continue}for(h=i+t;h<e.length&&e[h]==b;h++);if(h==e.length)break;d(h)}}return r},e.prototype.$getDisplayTokens=function(e,t){var n,r=[];t=t||0;for(var o=0;o<e.length;o++){var i=e.charCodeAt(o);if(9==i){n=this.getScreenTabSize(r.length+t),r.push(N);for(var s=1;s<n;s++)r.push(_)}else 32==i?r.push(k):i>39&&i<48||i>57&&i<64?r.push(w):i>=4352&&S(i)?r.push(v,y):r.push(v)}return r},e.prototype.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var r,o;for(null==t&&(t=1/0),n=n||0,o=0;o<e.length&&(9==(r=e.charCodeAt(o))?n+=this.getScreenTabSize(n):r>=4352&&S(r)?n+=2:n+=1,!(n>t));o++);return[n,o]},e.prototype.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},e.prototype.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},e.prototype.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},e.prototype.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},e.prototype.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},e.prototype.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},e.prototype.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},e.prototype.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},e.prototype.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},e.prototype.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},e.prototype.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var r,o,i=0,s=0,a=0,l=0,c=this.$screenRowCache,d=this.$getRowCacheIndex(c,e),u=c.length;if(u&&d>=0){a=c[d],i=this.$docRowCache[d];var h=e>c[u-1]}else h=!u;for(var p=this.getLength()-1,f=this.getNextFoldLine(i),m=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(i))>e||i>=p);)a+=l,++i>m&&(i=f.end.row+1,m=(f=this.getNextFoldLine(i,f))?f.start.row:1/0),h&&(this.$docRowCache.push(i),this.$screenRowCache.push(a));if(f&&f.start.row<=i)r=this.getFoldDisplayLine(f),i=f.start.row;else{if(a+l<=e||i>p)return{row:p,column:this.getLine(p).length};r=this.getLine(i),f=null}var g=0,v=Math.floor(e-a);if(this.$useWrapMode){var y=this.$wrapData[i];y&&(o=y[v],v>0&&y.length&&(g=y.indent,s=y[v-1]||y[y.length-1],r=r.substring(s)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,i,v)&&(t=this.$bidiHandler.offsetToCol(n)),s+=this.$getStringScreenWidth(r,t-g)[1],this.$useWrapMode&&s>=o&&(s=o-1),f?f.idxToPosition(s):{row:i,column:s}},e.prototype.documentToScreenPosition=function(e,t){if("undefined"===typeof t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var r,o=0,i=null;(r=this.getFoldAt(e,t,1))&&(e=r.start.row,t=r.start.column);var s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),d=l.length;if(d&&c>=0){a=l[c],o=this.$screenRowCache[c];var u=e>l[d-1]}else u=!d;for(var h=this.getNextFoldLine(a),p=h?h.start.row:1/0;a<e;){if(a>=p){if((s=h.end.row+1)>e)break;p=(h=this.getNextFoldLine(s,h))?h.start.row:1/0}else s=a+1;o+=this.getRowLength(a),a=s,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(o))}var f="";h&&a>=p?(f=this.getFoldDisplayLine(h,e,t),i=h.start.row):(f=this.getLine(e).substring(0,t),i=e);var m=0;if(this.$useWrapMode){var g=this.$wrapData[i];if(g){for(var v=0;f.length>=g[v];)o++,v++;f=f.substring(g[v-1]||0,f.length),m=v>0?g.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(o+=this.lineWidgets[a].rowsAbove),{row:o,column:m+this.$getStringScreenWidth(f)[0]}},e.prototype.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},e.prototype.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},e.prototype.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,r=0,o=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);r<n;){var i=this.$wrapData[r];e+=i?i.length+1:1,++r>o&&(r=t.end.row+1,o=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var s=this.$foldData,a=0;a<s.length;a++)e-=(t=s[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},e.prototype.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,r){if(0===n)return[0,0];var o,i;for(n||(n=1/0),r=r||0,i=0;i<t.length&&!((r+="\t"===(o=t.charAt(i))?this.getScreenTabSize(r):e.getCharacterWidth(o))>n);i++);return[r,i]})},e.prototype.getPrecedingCharacter=function(){var e=this.selection.getCursor();return 0===e.column?0===e.row?"":this.doc.getNewLineCharacter():this.getLine(e.row)[e.column-1]},e.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},e}();g.$uid=0,g.prototype.$modes=s.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=S,r.implement(g.prototype,a);var v=1,y=2,x=3,b=4,w=9,k=10,N=11,_=12;function S(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var r=e("./lib/lang"),o=e("./lib/oop"),i=e("./range").Range,s=function(){function e(){this.$options={}}return e.prototype.set=function(e){return o.mixin(this.$options,e),this},e.prototype.getOptions=function(){return r.copyObject(this.$options)},e.prototype.setOptions=function(e){this.$options=e},e.prototype.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var r=null;return n.forEach((function(e,n,o,s){return r=new i(e,n,o,s),!(n==s&&t.start&&t.start.start&&0!=t.skipCurrent&&r.isEqual(t.start))||(r=null,!1)})),r},e.prototype.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,o=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),s=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,d=o.length-c;e:for(var u=a.offset||0;u<=d;u++){for(var h=0;h<c;h++)if(-1==o[u+h].search(a[h]))continue e;var p=o[u],f=o[u+c-1],m=p.length-p.match(a[0])[0].length,g=f.match(a[c-1])[0].length;l&&l.end.row===u&&l.end.column>m||(s.push(l=new i(u,m,u+c-1,g)),c>2&&(u=u+c-2))}}else for(var v,y=0;y<o.length;y++)if(this.$isMultilineSearch(t)){var x=o.length-1;if(v=this.$multiLineForward(e,a,y,x)){var b=v.endRow<=x?v.endRow-1:x;b>y&&(y=b),s.push(new i(v.startRow,v.startCol,v.endRow,v.endCol))}}else{v=r.getMatchOffsets(o[y],a);for(h=0;h<v.length;h++){var w=v[h];s.push(new i(y,w.offset,y,w.offset+w.length))}}if(n){var k=n.start.column,N=n.end.column;for(y=0,h=s.length-1;y<h&&s[y].start.column<k&&0==s[y].start.row;)y++;for(var _=n.end.row-n.start.row;y<h&&s[h].end.column>N&&s[h].end.row==_;)h--;for(s=s.slice(y,h+1),y=0,h=s.length;y<h;y++)s[y].start.row+=n.start.row,s[y].end.row+=n.start.row}return s},e.prototype.parseReplaceString=function(e){for(var t=36,n=38,r=48,o=49,i=57,s=92,a=110,l=116,c="",d=0,u=e.length;d<u;d++){var h=e.charCodeAt(d);if(h!==s){if(h===t){if(++d>=u){c+="$";break}var p=e.charCodeAt(d);if(p===t){c+="$$";continue}if(p===r||p===n){c+="$&";continue}if(o<=p&&p<=i){c+="$"+e[d];continue}}c+=e[d]}else{if(++d>=u){c+="\\";break}switch(e.charCodeAt(d)){case s:c+="\\";break;case a:c+="\n";break;case l:c+="\t"}}}return c||e},e.prototype.replace=function(e,t){var n=this.$options,r=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(r){var o=this.$isMultilineSearch(n);o&&(e=e.replace(/\r\n|\r|\n/g,"\n"));var i=r.exec(e);if(!i||!o&&i[0].length!=e.length)return null;if(t=n.regExp?this.parseReplaceString(t):t.replace(/\$/g,"$$$$"),t=e.replace(r,t),n.preserveCase){t=t.split("");for(var s=Math.min(e.length,e.length);s--;){var a=e[s];a&&a.toLowerCase()!=a?t[s]=t[s].toUpperCase():t[s]=t[s].toLowerCase()}t=t.join("")}return t}},e.prototype.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=r.escapeRegExp(n));var o=e.caseSensitive?"gm":"gmi";try{new RegExp(n,"u"),e.$supportsUnicodeFlag=!0,o+="u"}catch(s){e.$supportsUnicodeFlag=!1}if(e.wholeWord&&(n=function(e,t){var n=r.supportsLookbehind();function o(e,r){return void 0===r&&(r=!0),(n&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w")).test(e)||t.regExp?n&&t.$supportsUnicodeFlag?r?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var i=Array.from(e),s=i[0],a=i[i.length-1];return o(s)+e+o(a,!1)}(n,e)),e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,o);try{var i=new RegExp(n,o)}catch(s){i=!1}return e.re=i},e.prototype.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),r=[],o=0;o<n.length;o++)try{r.push(new RegExp(n[o],t))}catch(i){return!1}return r},e.prototype.$isMultilineSearch=function(e){return e.re&&/\\r\\n|\\r|\\n/.test(e.re.source)&&e.regExp&&!e.$isMultiLine},e.prototype.$multiLineForward=function(e,t,n,r){for(var o,i=l(e,n),s=n;s<=r;){for(var a=0;a<i&&!(s>r);a++){var c=e.getLine(s++);o=null==o?c:o+"\n"+c}var d=t.exec(o);if(t.lastIndex=0,d){var u=o.slice(0,d.index).split("\n"),h=d[0].split("\n"),p=n+u.length-1,f=u[u.length-1].length;return{startRow:p,startCol:f,endRow:p+h.length-1,endCol:1==h.length?f+h[0].length:h[h.length-1].length}}}return null},e.prototype.$multiLineBackward=function(e,t,n,r,o){for(var i,s=l(e,r),c=e.getLine(r).length-n,d=r;d>=o;){for(var u=0;u<s&&d>=o;u++){var h=e.getLine(d--);i=null==i?h:h+"\n"+i}var p=a(i,t,c);if(p){var f=i.slice(0,p.index).split("\n"),m=p[0].split("\n"),g=d+f.length,v=f[f.length-1].length;return{startRow:g,startCol:v,endRow:g+m.length-1,endCol:1==m.length?v+m[0].length:m[m.length-1].length}}}return null},e.prototype.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var o=this.$isMultilineSearch(t),i=this.$multiLineForward,s=this.$multiLineBackward,a=1==t.backwards,l=0!=t.skipCurrent,c=n.unicode,d=t.range,u=t.start;u||(u=d?d[a?"end":"start"]:e.selection.getRange()),u.start&&(u=u[l!=a?"end":"start"]);var h=d?d.start.row:0,p=d?d.end.row:e.getLength()-1;if(a)var f=function(e){var n=u.row;if(!g(n,u.column,e)){for(n--;n>=h;n--)if(g(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=p,h=u.row;n>=h;n--)if(g(n,Number.MAX_VALUE,e))return}};else f=function(e){var n=u.row;if(!g(n,u.column,e)){for(n+=1;n<=p;n++)if(g(n,0,e))return;if(0!=t.wrap)for(n=h,p=u.row;n<=p;n++)if(g(n,0,e))return}};if(t.$isMultiLine)var m=n.length,g=function(t,r,o){var i=a?t-m+1:t;if(!(i<0||i+m>e.getLength())){var s=e.getLine(i),l=s.search(n[0]);if(!(!a&&l<r||-1===l)){for(var c=1;c<m;c++)if(-1==(s=e.getLine(i+c)).search(n[c]))return;var d=s.match(n[m-1])[0].length;if(!(a&&d>r))return!!o(i,l,i+m-1,d)||void 0}}};else if(a)g=function(t,i,a){if(o){var l=s(e,n,i,t,h);if(!l)return!1;if(a(l.startRow,l.startCol,l.endRow,l.endCol))return!0}else{var d,u=e.getLine(t),p=[],f=0;for(n.lastIndex=0;d=n.exec(u);){var m=d[0].length;if(f=d.index,!m){if(f>=u.length)break;n.lastIndex=f+=r.skipEmptyMatch(u,f,c)}if(d.index+m>i)break;p.push(d.index,m)}for(var g=p.length-1;g>=0;g-=2){var v=p[g-1];if(a(t,v,t,v+(m=p[g])))return!0}}};else g=function(t,s,a){if(n.lastIndex=s,o){var l=i(e,n,t,p);if(l){var d=l.endRow<=p?l.endRow-1:p;d>t&&(t=d)}if(!l)return!1;if(a(l.startRow,l.startCol,l.endRow,l.endCol))return!0}else for(var u,h,f=e.getLine(t);h=n.exec(f);){var m=h[0].length;if(a(t,u=h.index,t,u+m))return!0;if(!m&&(n.lastIndex=u+=r.skipEmptyMatch(f,u,c),u>=f.length))return!1}};return{forEach:f}},e}();function a(e,t,n){for(var r=null,o=0;o<=e.length;){t.lastIndex=o;var i=t.exec(e);if(!i)break;var s=i.index+i[0].length;if(s>e.length-n)break;(!r||s>r.index+r[0].length)&&(r=i),o=i.index+1}return r}function l(e,t){var n={row:t,column:0},r=e.doc.positionToIndex(n)+5e3;return e.doc.indexToPosition(r).row+1}t.Search=s})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=e("../lib/keys"),i=e("../lib/useragent"),s=o.KEY_MODS,a=function(){function e(e,t){this.$init(e,t,!1)}return e.prototype.$init=function(e,t,n){this.platform=t||(i.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=n},e.prototype.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},e.prototype.removeCommand=function(e,t){var n=e&&("string"===typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var r=this.commandKeyBinding;for(var o in r){var i=r[o];if(i==e)delete r[o];else if(Array.isArray(i)){var s=i.indexOf(e);-1!=s&&(i.splice(s,1),1==i.length&&(r[o]=i[0]))}}},e.prototype.bindKey=function(e,t,n){if("object"==typeof e&&e&&(void 0==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var r="";if(-1!=e.indexOf(" ")){var o=e.split(/\s+/);e=o.pop(),o.forEach((function(e){var t=this.parseKeys(e),n=s[t.hashId]+t.key;r+=(r?" ":"")+n,this._addCommandToBinding(r,"chainKeys")}),this),r+=" "}var i=this.parseKeys(e),a=s[i.hashId]+i.key;this._addCommandToBinding(r+a,t,n)}),this)},e.prototype._addCommandToBinding=function(e,t,n){var r,o=this.commandKeyBinding;if(t)if(!o[e]||this.$singleCommand)o[e]=t;else{Array.isArray(o[e])?-1!=(r=o[e].indexOf(t))&&o[e].splice(r,1):o[e]=[o[e]],"number"!=typeof n&&(n=l(t));var i=o[e];for(r=0;r<i.length;r++){if(l(i[r])>n)break}i.splice(r,0,t)}else delete o[e]},e.prototype.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"===typeof n)return this.bindKey(n,t);"function"===typeof n&&(n={exec:n}),"object"===typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},e.prototype.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},e.prototype.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},e.prototype._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},e.prototype.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=o[n];if(o.FUNCTION_KEYS[r])n=o.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var i=0,s=t.length;s--;){var a=o.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;i|=a}return{key:n,hashId:i}},e.prototype.findKeyCommand=function(e,t){var n=s[e]+t;return this.commandKeyBinding[n]},e.prototype.handleKeyboard=function(e,t,n,r){if(!(r<0)){var o=s[t]+n,i=this.commandKeyBinding[o];return e.$keyChain&&(e.$keyChain+=" "+o,i=this.commandKeyBinding[e.$keyChain]||i),!i||"chainKeys"!=i&&"chainKeys"!=i[i.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||r>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-o.length-1)),{command:i}):(e.$keyChain=e.$keyChain||o,{command:"null"})}},e.prototype.getStatusText=function(e,t){return t.$keyChain||""},e}();function l(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}var c=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.$singleCommand=!0,r}return r(t,e),t}(a);c.call=function(e,t,n){a.prototype.$init.call(e,t,n,!0)},a.call=function(e,t,n){a.prototype.$init.call(e,t,n,!1)},t.HashHandler=c,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=e("../lib/oop"),i=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter,a=function(e){function t(t,n){var r=e.call(this,n,t)||this;return r.byName=r.commands,r.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)})),r}return r(t,e),t.prototype.exec=function(e,t,n){if(Array.isArray(e)){for(var r=e.length;r--;)if(this.exec(e[r],t,n))return!0;return!1}"string"===typeof e&&(e=this.commands[e]);var o={editor:t,command:e,args:n};return this.canExecute(e,t)?(o.returnValue=this._emit("exec",o),this._signal("afterExec",o),!1!==o.returnValue):(this._signal("commandUnavailable",o),!1)},t.prototype.canExecute=function(e,t){return"string"===typeof e&&(e=this.commands[e]),!!e&&(!(t&&t.$readOnly&&!e.readOnly)&&!(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t)))},t.prototype.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))},t}(i);o.implement(a.prototype,s),t.CommandManager=a})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var r=e("../lib/lang"),o=e("../config"),i=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(e){o.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){o.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!==typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(r.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),o=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=o.row+1;c++){var d=r.stringTrimLeft(r.stringTrimRight(e.session.doc.getLine(c)));0!==d.length&&(d=" "+d),l+=d}o.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new i(n.row,0,o.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,r=e.selection.rangeList.ranges,o=[];r.length<1&&(r=[e.selection.getRange()]);for(var s=0;s<r.length;s++)s==r.length-1&&(r[s].end.row===t&&r[s].end.column===n||o.push(new i(r[s].end.row,r[s].end.column,t,n))),0===s?0===r[s].start.row&&0===r[s].start.column||o.push(new i(0,0,r[s].start.row,r[s].start.column)):o.push(new i(r[s-1].end.row,r[s-1].end.column,r[s].start.row,r[s].start.column));e.exitMultiSelectMode(),e.clearSelection();for(s=0;s<o.length;s++)e.selection.addRange(o[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(e){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),e.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],(function(e,t,n){"use strict";var r=e("../lib/keys"),o=e("../mouse/default_gutter_handler").GutterTooltip,i=function(){function e(e){this.editor=e,this.gutterLayer=e.renderer.$gutterLayer,this.element=e.renderer.$gutter,this.lines=e.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new o(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(e){if(this.annotationTooltip.isOpen)return e.preventDefault(),void(e.keyCode===r.escape&&this.annotationTooltip.hideTooltip());if(e.target===this.element){if(e.keyCode!=r.enter)return;e.preventDefault();var t=this.editor.getCursorPosition().row;return this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),void setTimeout(function(){var e=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldLaneWidget(e),n=this.$findNearestAnnotation(e);if(null!==t||null!==n)return this.$findClosestNumber(t,n,e)===t?(this.activeLane="fold",this.activeRowIndex=t,this.$isCustomWidgetVisible(t)?void this.$focusCustomWidget(this.activeRowIndex):void this.$focusFoldWidget(this.activeRowIndex)):(this.activeRowIndex=n,this.activeLane="annotation",void this.$focusAnnotation(this.activeRowIndex))}.bind(this),10)}this.$handleGutterKeyboardInteraction(e),setTimeout(function(){this.editor._signal("gutterkeydown",new s(e,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(e){if(e.keyCode!==r.tab){if(e.keyCode===r.escape)return e.preventDefault(),this.$blurGutter(),this.element.focus(),void(this.lane=null);if(e.keyCode!==r.up)if(e.keyCode!==r.down){if(e.keyCode===r.left)return e.preventDefault(),void this.$switchLane("annotation");if(e.keyCode===r.right)return e.preventDefault(),void this.$switchLane("fold");if(e.keyCode!==r.enter&&e.keyCode!==r.space);else switch(e.preventDefault(),this.activeLane){case"fold":var t=this.$rowIndexToRow(this.activeRowIndex),n=this.editor.session.$gutterCustomWidgets[t];if(n)n.callbacks&&n.callbacks.onClick&&n.callbacks.onClick(e,t);else{if("start"===this.gutterLayer.session.foldWidgets[t]){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),e),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}if("end"===this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)])break}return;case"annotation":var o=this.lines.cells[this.activeRowIndex].element.childNodes[2].getBoundingClientRect(),i=this.annotationTooltip.getElement().style;i.left=o.right+"px",i.top=o.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex))}}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown()}else switch(e.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp()}}else e.preventDefault()},e.prototype.$blurGutter=function(){if(null!==this.activeRowIndex)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex)}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},e.prototype.$isFoldWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getFoldWidget(e).style.display;return t&&n},e.prototype.$isCustomWidgetVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n=!!this.$getCustomWidget(e);return t&&n},e.prototype.$isAnnotationVisible=function(e){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(e)),n="none"!==this.$getAnnotation(e).style.display;return t&&n},e.prototype.$getFoldWidget=function(e){return this.lines.get(e).element.childNodes[1]},e.prototype.$getCustomWidget=function(e){return this.lines.get(e).element.childNodes[3]},e.prototype.$getAnnotation=function(e){return this.lines.get(e).element.childNodes[2]},e.prototype.$findNearestFoldLaneWidget=function(e){if(this.$isCustomWidgetVisible(e))return e;if(this.$isFoldWidgetVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isCustomWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(e+t))return e+t;if(e-t>=0&&this.$isFoldWidgetVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(e+t))return e+t}return null},e.prototype.$findNearestAnnotation=function(e){if(this.$isAnnotationVisible(e))return e;for(var t=0;e-t>0||e+t<this.lines.getLength()-1;){if(e-++t>=0&&this.$isAnnotationVisible(e-t))return e-t;if(e+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(e+t))return e+t}return null},e.prototype.$focusFoldWidget=function(e){if(null!=e){var t=this.$getFoldWidget(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$focusCustomWidget=function(e){if(null!=e){var t=this.$getCustomWidget(e);t&&(t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus())}},e.prototype.$focusAnnotation=function(e){if(null!=e){var t=this.$getAnnotation(e);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$blurFoldWidget=function(e){var t=this.$getFoldWidget(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurCustomWidget=function(e){var t=this.$getCustomWidget(e);t&&(t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur())},e.prototype.$blurAnnotation=function(e){var t=this.$getAnnotation(e);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isFoldWidgetVisible(e)||this.$isCustomWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=e,void(this.$isFoldWidgetVisible(e)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex))},e.prototype.$moveFoldWidgetDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isFoldWidgetVisible(e)||this.$isCustomWidgetVisible(e))return this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=e,void(this.$isFoldWidgetVisible(e)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex))},e.prototype.$moveAnnotationUp=function(){for(var e=this.activeRowIndex;e>0;)if(e--,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$moveAnnotationDown=function(){for(var e=this.activeRowIndex;e<this.lines.getLength()-1;)if(e++,this.$isAnnotationVisible(e))return this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=e,void this.$focusAnnotation(this.activeRowIndex)},e.prototype.$findClosestNumber=function(e,t,n){return null===e?t:null===t||Math.abs(n-e)<=Math.abs(n-t)?e:t},e.prototype.$switchLane=function(e){switch(e){case"annotation":if("annotation"===this.activeLane)break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(null==t)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if("fold"===this.activeLane)break;var n=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(null===n)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$isCustomWidgetVisible(n)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex)}},e.prototype.$rowIndexToRow=function(e){var t=this.lines.get(e);return t?t.row:null},e.prototype.$rowToRowIndex=function(e){for(var t=0;t<this.lines.getLength();t++){if(this.lines.get(t).row==e)return t}return null},e}();t.GutterKeyboardHandler=i;var s=function(){function e(e,t){this.gutterKeyboardHandler=t,this.domEvent=e}return e.prototype.getKey=function(){return r.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return"annotation"===this.gutterKeyboardHandler.activeLane},e.prototype.isInFoldLane=function(){return"fold"===this.gutterKeyboardHandler.activeLane},e}();t.GutterKeyboardEvent=s})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/lang"),a=e("./lib/useragent"),l=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,d=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,h=e("./edit_session").EditSession,p=e("./search").Search,f=e("./range").Range,m=e("./lib/event_emitter").EventEmitter,g=e("./commands/command_manager").CommandManager,v=e("./commands/default_commands").commands,y=e("./config"),x=e("./token_iterator").TokenIterator,b=e("./keyboard/gutter_handler").GutterKeyboardHandler,w=e("./config").nls,k=e("./clipboard"),N=e("./lib/keys"),_=e("./lib/event"),S=e("./tooltip").HoverTooltip,C=function(){function e(t,n,r){this.session,this.$toDestroy=[];var o=t.getContainerElement();this.container=o,this.renderer=t,this.id="editor"+ ++e.$uid,this.commands=new g(a.isMac?"mac":"win",v),"object"==typeof document&&(this.textInput=new l(t.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new d(this)),this.keyBinding=new u(this),this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(n||r&&r.session||new h("")),y.resetOptions(this),r&&this.setOptions(r),y._signal("editor",this)}return e.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},e.prototype.startOperation=function(e){this.session.startOperation(e)},e.prototype.endOperation=function(e){this.session.endOperation(e)},e.prototype.onStartOperation=function(e){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,e||(this.previousCommand=null)},e.prototype.onEndOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue)return void(this.curOp=null);if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var r=this.selection.getRange(),o=this.renderer.layerConfig;(r.start.row>=o.lastRow||r.end.row<=o.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},e.prototype.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,r=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var o=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),r=r&&this.mergeNextCommand&&(!/\s/.test(o)||/\s/.test(t.args)),this.mergeNextCommand=!0}else r=r&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(r=!1),r?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},e.prototype.setKeyboardHandler=function(e,t){if(e&&"string"===typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;y.loadModule(["keybinding",e],(function(r){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(r&&r.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},e.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},e.prototype.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),t&&(t.$editor=null),e&&e._signal("changeEditor",{editor:this}),e&&(e.$editor=this),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},e.prototype.getSession=function(){return this.session},e.prototype.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},e.prototype.getValue=function(){return this.session.getValue()},e.prototype.getSelection=function(){return this.selection},e.prototype.resize=function(e){this.renderer.onResize(e)},e.prototype.setTheme=function(e,t){this.renderer.setTheme(e,t)},e.prototype.getTheme=function(){return this.renderer.getTheme()},e.prototype.setStyle=function(e){this.renderer.setStyle(e)},e.prototype.unsetStyle=function(e){this.renderer.unsetStyle(e)},e.prototype.getFontSize=function(){return this.getOption("fontSize")||i.computedStyle(this.container).fontSize},e.prototype.setFontSize=function(e){this.setOption("fontSize",e)},e.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),r=e.getKeyboardHandler(),o=r&&r.$getDirectionForHighlight&&r.$getDirectionForHighlight(e),i=t.getMatchingBracketRanges(n,o);if(!i){var s=new x(t,n.row,n.column).getCurrentToken();if(s&&/\b(?:tag-open|tag-name)/.test(s.type)){var a=t.getMatchingTags(n);a&&(i=[a.openTagName.isEmpty()?a.openTag:a.openTagName,a.closeTagName.isEmpty()?a.closeTag:a.closeTagName])}}if(!i&&t.$mode.getMatching&&(i=t.$mode.getMatching(e.session)),i){var l="ace_bracket";Array.isArray(i)?1==i.length&&(l="ace_error_bracket"):i=[i],2==i.length&&(0==f.comparePoints(i[0].end,i[1].start)?i=[f.fromPoints(i[0].start,i[1].end)]:0==f.comparePoints(i[0].start,i[1].end)&&(i=[f.fromPoints(i[1].start,i[0].end)])),t.$bracketHighlight={ranges:i,markerIds:i.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},e.prototype.focus=function(){this.textInput.focus()},e.prototype.isFocused=function(){return this.textInput.isFocused()},e.prototype.blur=function(){this.textInput.blur()},e.prototype.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},e.prototype.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},e.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},e.prototype.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},e.prototype.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},e.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},e.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},e.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},e.prototype.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},e.prototype.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),r=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",r)}var o=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(o),this._signal("changeSelection")},e.prototype.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,r=t.end.column,o=e.getLine(t.start.row),i=o.substring(n,r);if(!(i.length>5e3)&&/[\w\d]/.test(i)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:i}),a=o.substring(n-1,r+1);if(s.test(a))return s}}},e.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},e.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},e.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},e.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},e.prototype.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},e.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},e.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},e.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},e.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},e.prototype.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var r=this.selection.getAllRanges(),o=0;o<r.length;o++){var i=r[o];o&&r[o-1].start.row==i.start.row||(e+=this.session.getLine(i.start.row)+t)}}var s={text:e};return this._signal("copy",s),k.lineMode=!!n&&s.text,s.text},e.prototype.onCopy=function(){this.commands.exec("copy",this)},e.prototype.onCut=function(){this.commands.exec("cut",this)},e.prototype.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},e.prototype.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===k.lineMode,r=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?r.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){r.insert({row:e.start.row,column:0},t)}));else{var o=t.split(/\r\n|\r|\n/),i=this.selection.rangeList.ranges,s=2==o.length&&(!o[0]||!o[1]);if(o.length!=i.length||s)return this.commands.exec("insertstring",this,t);for(var a=i.length;a--;){var l=i[a];l.isEmpty()||r.remove(l),r.insert(l.start,o[a])}}},e.prototype.execCommand=function(e,t){return this.commands.exec(e,this,t)},e.prototype.insert=function(e,t){var n=this.session,r=n.getMode(),o=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var i=r.transformAction(n.getState(o.row),"insertion",this,n,e);i&&(e!==i.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=i.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&-1==e.indexOf("\n")){(s=f.fromPoints(o,o)).end.column+=e.length,this.session.remove(s)}}else{var s=this.getSelectionRange();o=this.session.remove(s),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(o.row);if(o.column>a.search(/\S|$/)){var l=a.substr(o.column).search(/\S|$/);n.doc.removeInLine(o.row,o.column,o.column+l)}}this.clearSelection();var c=o.column,d=n.getState(o.row),u=(a=n.getLine(o.row),r.checkOutdent(d,a,e));if(n.insert(o,e),i&&i.selection&&(2==i.selection.length?this.selection.setSelectionRange(new f(o.row,c+i.selection[0],o.row,c+i.selection[1])):this.selection.setSelectionRange(new f(o.row+i.selection[0],i.selection[1],o.row+i.selection[2],i.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var h=r.getNextLineIndent(d,a.slice(0,o.column),n.getTabString());n.insert({row:o.row+1,column:0},h)}u&&r.autoOutdent(d,n,o.row)}},e.prototype.autoIndent=function(){for(var e=this.session,t=e.getMode(),n=this.selection.isEmpty()?[new f(0,0,e.doc.getLength()-1,0)]:this.selection.getAllRanges(),r="",o="",i="",s=e.getTabString(),a=0;a<n.length;a++)for(var l=n[a].start.row,c=n[a].end.row,d=l;d<=c;d++){d>0&&(r=e.getState(d-1),o=e.getLine(d-1),i=t.getNextLineIndent(r,o,s));var u=e.getLine(d),h=t.$getIndent(u);if(i!==h){if(h.length>0){var p=new f(d,0,d,h.length);e.remove(p)}i.length>0&&e.insert({row:d,column:0},i)}t.autoOutdent(r,e,d)}},e.prototype.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},e.prototype.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove());(!e&&this.selection.isEmpty()||this.insert(e,!0),t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},e.prototype.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},e.prototype.setOverwrite=function(e){this.session.setOverwrite(e)},e.prototype.getOverwrite=function(){return this.session.getOverwrite()},e.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},e.prototype.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},e.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},e.prototype.setDragDelay=function(e){this.setOption("dragDelay",e)},e.prototype.getDragDelay=function(){return this.getOption("dragDelay")},e.prototype.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},e.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},e.prototype.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},e.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},e.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},e.prototype.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},e.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},e.prototype.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},e.prototype.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},e.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},e.prototype.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},e.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},e.prototype.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},e.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},e.prototype.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},e.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},e.prototype.setReadOnly=function(e){this.setOption("readOnly",e)},e.prototype.getReadOnly=function(){return this.getOption("readOnly")},e.prototype.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},e.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},e.prototype.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},e.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},e.prototype.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},e.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,r=n.getState(t.start.row),o=n.getMode().transformAction(r,"deletion",this,n,t);if(0===t.end.column){var i=n.getTextRange(t);if("\n"==i[i.length-1]){var s=n.getLine(t.end.row);/^\s+$/.test(s)&&(t.end.column=s.length)}}o&&(t=o)}this.session.remove(t),this.clearSelection()},e.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},e.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},e.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},e.prototype.setGhostText=function(e,t){this.renderer.setGhostText(e,t)},e.prototype.removeGhostText=function(){this.renderer.removeGhostText()},e.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,r,o=this.session.getLine(e.row);t<o.length?(n=o.charAt(t)+o.charAt(t-1),r=new f(e.row,t-1,e.row,t+1)):(n=o.charAt(t-1)+o.charAt(t-2),r=new f(e.row,t-2,e.row,t)),this.session.replace(r,n),this.session.selection.moveToPosition(r.end)}}},e.prototype.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},e.prototype.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},e.prototype.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n)){d=this.$getSelectedRows();return void e.indentRows(d.first,d.last,"\t")}}var r=e.getLine(t.start.row),o=t.start,i=e.getTabSize(),a=e.documentToScreenColumn(o.row,o.column);if(this.session.getUseSoftTabs())var l=i-a%i,c=s.stringRepeat(" ",l);else{for(l=a%i;" "==r[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var d=this.$getSelectedRows();e.indentRows(d.first,d.last,"\t")},e.prototype.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},e.prototype.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},e.prototype.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],r=e.first;r<=e.last;r++)n.push(t.getLine(r));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var o=new f(0,0,0,0);for(r=e.first;r<=e.last;r++){var i=t.getLine(r);o.start.row=r,o.end.row=r,o.end.column=i.length,t.replace(o,n[r-e.first])}},e.prototype.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},e.prototype.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},e.prototype.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var r=this.session.getLine(e);n.lastIndex<t;){var o=n.exec(r);if(o.index<=t&&o.index+o[0].length>=t)return{value:o[0],start:o.index,end:o.index+o[0].length}}return null},e.prototype.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,r=new f(t,n-1,t,n),o=this.session.getTextRange(r);if(!isNaN(parseFloat(o))&&isFinite(o)){var i=this.getNumberAt(t,n);if(i){var s=i.value.indexOf(".")>=0?i.start+i.value.indexOf(".")+1:i.end,a=i.start+i.value.length-s,l=parseFloat(i.value);l*=Math.pow(10,a),s!==i.end&&n<s?e*=Math.pow(10,i.end-n-1):e*=Math.pow(10,i.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),d=new f(t,i.start,t,i.end);this.session.replace(d,c),this.moveCursorTo(t,Math.max(i.start+1,n+c.length-i.value.length))}}else this.toggleWord()},e.prototype.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),r=this.selection.getWordRange().start.column,o=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),i=t-r-1;i<0&&(i=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&o.forEach((function(t,o){l=a+t.length,i>=a&&i<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+r),c.selection.selectTo(e,l+r)),a=l}));for(var d,u=this.$toggleWordPairs,h=0;h<u.length;h++)for(var p=u[h],f=0;f<=1;f++){var m=+!f,g=n.match(new RegExp("^\\s?_?("+s.escapeRegExp(p[f])+")\\s?$","i"));if(g)n.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(g[1])+")($|\\s)","g"))&&(d=n.replace(new RegExp(s.escapeRegExp(p[f]),"i"),(function(e){var t=p[m];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[m].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(d),d="")}},e.prototype.findLinkAt=function(e,t){var n,o,i=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),s=t;s<0&&(s=0);var a,l=0,c=0;try{for(var d=r(i),u=d.next();!u.done;u=d.next()){var h=u.value;if(c=l+h.length,s>=l&&s<=c&&h.match(/((?:https?|ftp):\/\/[\S]+)/)){a=h.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(p){n={error:p}}finally{try{u&&!u.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return a},e.prototype.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},e.prototype.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},e.prototype.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),r=e.isBackwards();if(n.isEmpty()){var o=n.start.row;t.duplicateLines(o,o)}else{var i=r?n.start:n.end,s=t.insert(i,t.getTextRange(n));n.start=i,n.end=s,e.setSelectionRange(n,r)}},e.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},e.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},e.prototype.moveText=function(e,t,n){return this.session.moveText(e,t,n)},e.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},e.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},e.prototype.$moveLines=function(e,t){var n,r,o=this.selection;if(!o.inMultiSelectMode||this.inVirtualSelectionMode){var i=o.toOrientedRange();n=this.$getSelectedRows(i),r=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(r=0),i.moveBy(r,0),o.fromOrientedRange(i)}else{var s=o.rangeList.ranges;o.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,d=0;d<c;d++){var u=d;s[d].moveBy(a,0);for(var h=(n=this.$getSelectedRows(s[d])).first,p=n.last;++d<c;){l&&s[d].moveBy(l,0);var f=this.$getSelectedRows(s[d]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(d--,a=this.session.$moveLines(h,p,t?0:e),t&&-1==e&&(u=d+1);u<=d;)s[u].moveBy(a,0),u++;t||(a=0),l+=a}o.fromOrientedRange(o.ranges[0]),o.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},e.prototype.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},e.prototype.onCompositionStart=function(e){this.renderer.showComposition(e)},e.prototype.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},e.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},e.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},e.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},e.prototype.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},e.prototype.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},e.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},e.prototype.$moveByPage=function(e,t){var n=this.renderer,r=this.renderer.layerConfig,o=e*Math.floor(r.height/r.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(o,0)})):!1===t&&(this.selection.moveCursorBy(o,0),this.selection.clearSelection());var i=n.scrollTop;n.scrollBy(0,o*r.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(i)},e.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},e.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},e.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},e.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},e.prototype.scrollPageDown=function(){this.$moveByPage(1)},e.prototype.scrollPageUp=function(){this.$moveByPage(-1)},e.prototype.scrollToRow=function(e){this.renderer.scrollToRow(e)},e.prototype.scrollToLine=function(e,t,n,r){this.renderer.scrollToLine(e,t,n,r)},e.prototype.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},e.prototype.getCursorPosition=function(){return this.selection.getCursor()},e.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},e.prototype.getSelectionRange=function(){return this.selection.getRange()},e.prototype.selectAll=function(){this.selection.selectAll()},e.prototype.clearSelection=function(){this.selection.clearSelection()},e.prototype.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},e.prototype.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},e.prototype.jumpToMatching=function(e,t){var n=this.getCursorPosition(),r=new x(this.session,n.row,n.column),o=r.getCurrentToken(),i=0;o&&-1!==o.type.indexOf("tag-name")&&(o=r.stepBackward());var s=o||r.stepForward();if(s){var a,l,c=!1,d={},u=n.column-s.start,h={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(s.value.match(/[{}()\[\]]/g)){for(;u<s.value.length&&!c;u++)if(h[s.value[u]])switch(l=h[s.value[u]]+"."+s.type.replace("rparen","lparen"),isNaN(d[l])&&(d[l]=0),s.value[u]){case"(":case"[":case"{":d[l]++;break;case")":case"]":case"}":d[l]--,-1===d[l]&&(a="bracket",c=!0)}}else-1!==s.type.indexOf("tag-name")&&(isNaN(d[s.value])&&(d[s.value]=0),"<"===o.value&&i>1?d[s.value]++:"</"===o.value&&d[s.value]--,-1===d[s.value]&&(a="tag",c=!0));c||(o=s,i++,s=r.stepForward(),u=0)}while(s&&!c);if(a){var p,m;if("bracket"===a)(p=this.session.getBracketRange(n))||(m=(p=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1,r.getCurrentTokenRow(),r.getCurrentTokenColumn()+u-1)).start,(t||m.row===n.row&&Math.abs(m.column-n.column)<2)&&(p=this.session.getBracketRange(m)));else if("tag"===a){if(!s||-1===s.type.indexOf("tag-name"))return;if(0===(p=new f(r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2,r.getCurrentTokenRow(),r.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var g=this.session.getMatchingTags(n);g&&(g.openTag.contains(n.row,n.column)?m=(p=g.closeTag).start:(p=g.openTag,m=g.closeTag.start.row===n.row&&g.closeTag.start.column===n.column?p.end:p.start))}m=m||p.start}(m=p&&p.cursor||m)&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(m.row,m.column):this.selection.moveTo(m.row,m.column))}}},e.prototype.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},e.prototype.navigateTo=function(e,t){this.selection.moveTo(e,t)},e.prototype.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},e.prototype.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},e.prototype.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},e.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},e.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},e.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},e.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},e.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},e.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},e.prototype.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),r=0;return n?(this.$tryReplace(n,e)&&(r=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),r):r},e.prototype.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),r=0;if(!n.length)return r;var o=this.getSelectionRange();this.selection.moveTo(0,0);for(var i=n.length-1;i>=0;--i)this.$tryReplace(n[i],e)&&r++;return this.selection.setSelectionRange(o),r},e.prototype.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},e.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},e.prototype.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&o.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var i=this.$search.find(this.session);return t.preventScroll?i:i?(this.revealRange(i,n),i):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},e.prototype.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},e.prototype.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},e.prototype.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},e.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},e.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},e.prototype.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,r=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var o=this.$scrollAnchor;o.style.cssText="position:absolute",this.container.insertBefore(o,this.container.firstChild);var i=this.on("changeSelection",(function(){r=!0})),s=this.renderer.on("beforeRender",(function(){r&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(r&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,i=e.$cursorLayer.$pixelPos,s=e.layerConfig,a=i.top-s.offset;null!=(r=i.top>=0&&a+t.top<0||!(i.top<s.height&&i.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(o.style.top=a+"px",o.style.left=i.left+"px",o.style.height=s.lineHeight+"px",o.scrollIntoView(r)),r=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",i),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))}}},e.prototype.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,i.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},e.prototype.prompt=function(e,t,n){var r=this;y.loadModule("ace/ext/prompt",(function(o){o.prompt(r,e,t,n)}))},e}();C.$uid=0,C.prototype.curOp=null,C.prototype.prevOp={},C.prototype.$mergeableCommands=["backspace","del","insertstring"],C.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],o.implement(C.prototype,m),y.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){var t=this;this.textInput.setReadOnly(e),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(e){var n=!1;if(e&&"keydown"==e.type){if(!(n=e&&e.key&&1==e.key.length&&!e.ctrlKey&&!e.metaKey))return}else e&&"exec"!==e.type&&(n=!0);if(n){t.hoverTooltip||(t.hoverTooltip=new S);var r=i.createElement("div");r.textContent=w("editor.tooltip.disable-editing","Editing is disabled"),t.hoverTooltip.isOpen||t.hoverTooltip.showForRange(t,t.getSelectionRange(),r)}else t.hoverTooltip&&t.hoverTooltip.isOpen&&t.hoverTooltip.hide()});var n=this.textInput.getElement();e?(_.addListener(n,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(_.removeListener(n,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?j.attach(this):j.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?j.attach(this):j.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),i.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),i.addCssClass(this.container,"ace_hasPlaceholder");var t=i.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(e){var t,n={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(e){e.blur(),e.renderer.scroller.focus()},readOnly:!0},r=function(e){if(e.target==this.renderer.scroller&&e.keyCode===N.enter){e.preventDefault();var t=this.getCursorPosition().row;this.isRowVisible(t)||this.scrollToLine(t,!0,!0),this.focus()}};e?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(a.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",w("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",w("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",r.bind(this)),this.commands.addCommand(n),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",w("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",w("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),t||(t=new b(this)),t.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",r.bind(this)),this.commands.removeCommand(n),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),t&&t.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(e){this.$textInputAriaLabel=e},initialValue:""},enableMobileMenu:{set:function(e){this.$enableMobileMenu=e},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var j={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=function(){function e(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return e.prototype.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},e.prototype.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},e.prototype.computeLineTop=function(e,t,n){var r=t.firstRowScreen*t.lineHeight,o=Math.floor(r/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-o*this.canvasHeight},e.prototype.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},e.prototype.getLength=function(){return this.cells.length},e.prototype.get=function(e){return this.cells[e]},e.prototype.shift=function(){this.$cacheCell(this.cells.shift())},e.prototype.pop=function(){this.$cacheCell(this.cells.pop())},e.prototype.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},e.prototype.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},e.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},e.prototype.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},e.prototype.createCell=function(e,t,n,o){var i=this.cellCache.pop();if(!i){var s=r.createElement("div");o&&o(s),this.element.appendChild(s),i={element:s,text:"",row:e}}return i.row=e,i},e}();t.Lines=o})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=e("../lib/oop"),i=e("../lib/lang"),s=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=e("../config").nls,c=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1}return e.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},e.prototype.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},e.prototype.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],r=n.row,o=this.$annotations[r];o||(o=this.$annotations[r]={text:[],type:[],displayText:[]});var s=n.text,a=n.text,l=n.type;s=s?i.escapeHTML(s):n.html||"",a=a||(n.html||""),-1===o.text.indexOf(s)&&(o.text.push(s),o.type.push(l),o.displayText.push(a));var c=n.className;c?o.className=c:"error"===l?o.className=" ace_error":"security"!==l||/\bace_error\b/.test(o.className)?"warning"!==l||/\bace_(error|security)\b/.test(o.className)?"info"!==l||o.className?"hint"!==l||o.className||(o.className=" ace_hint"):o.className=" ace_info":o.className=" ace_warning":o.className=" ace_security"}},e.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var r=new Array(n+1);r.unshift(t,1),this.$annotations.splice.apply(this.$annotations,r)}}},e.prototype.update=function(e){this.config=e;var t=this.session,n=e.firstRow,r=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=r,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(n),i=o?o.start.row:1/0,s=null,a=-1,l=n;;){if(l>i&&(l=o.end.row+1,i=(o=t.getNextFoldLine(l,o))?o.start.row:1/0),l>r){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,d),this.$lines.push(s)),this.$renderCell(s,e,o,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,r=t.$firstLineNumber,o=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(o=t.getLength()+r-1);var i=n?n.getWidth(t,o,e):o.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(i+=s.left+s.right)===this.gutterWidth||isNaN(i)||(this.gutterWidth=i,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",i))},e.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},e.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var r=t[n];if(r.row>=this.$cursorRow){if(r.row>this.$cursorRow){var o=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&o&&o.start.row==t[n-1].row))break;r=t[n-1]}r.element.className="ace_gutter-active-line "+r.element.className,this.$cursorCell=r;break}}}}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),r=this.oldLastRow;if(this.oldLastRow=n,!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(r>n)for(o=this.session.getFoldedRowCount(n+1,r);o>0;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>r&&this.$lines.push(this.$renderLines(e,r+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},e.prototype.$renderLines=function(e,t,n){for(var r=[],o=t,i=this.session.getNextFoldLine(o),s=i?i.start.row:1/0;o>s&&(o=i.end.row+1,s=(i=this.session.getNextFoldLine(o,i))?i.start.row:1/0),!(o>n);){var a=this.$lines.createCell(o,e,this.session,d);this.$renderCell(a,e,i,o),r.push(a),o++}return r},e.prototype.$renderCell=function(e,t,n,o){var i=e.element,s=this.session,a=i.childNodes[0],c=i.childNodes[1],d=i.childNodes[2],u=i.childNodes[3],h=d.firstChild,p=s.$firstLineNumber,f=s.$breakpoints,m=s.$decorations,g=s.gutterRenderer||this.$renderer,v=this.$showFoldWidgets&&s.foldWidgets,y=n?n.start.row:Number.MAX_VALUE,x=t.lineHeight+"px",b=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",w=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",k=(g?g.getText(s,o):o+p).toString();if(this.$highlightGutterLine&&(o==this.$cursorRow||n&&o<this.$cursorRow&&o>=y&&this.$cursorRow<=n.end.row)&&(b+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),f[o]&&(b+=f[o]),m[o]&&(b+=m[o]),this.$annotations[o]&&o!==y&&(b+=this.$annotations[o].className),v){var N=v[o];null==N&&(N=v[o]=s.getFoldWidget(o))}if(N){var _="ace_fold-widget ace_"+N,S="start"==N&&o==y&&o<n.end.row;if(S){_+=" ace_closed";for(var C="",j=!1,E=o+1;E<=n.end.row;E++)if(this.$annotations[E]){if(" ace_error"===this.$annotations[E].className){j=!0,C=" ace_error_fold";break}" ace_security"===this.$annotations[E].className?(j=!0,C=" ace_security_fold"):" ace_warning"===this.$annotations[E].className&&" ace_security_fold"!==C&&(j=!0,C=" ace_warning_fold")}b+=C}else _+=" ace_open";c.className!=_&&(c.className=_),r.setStyle(c.style,"height",x),r.setStyle(c.style,"display","inline-block"),c.setAttribute("role","button"),c.setAttribute("tabindex","-1");var T=s.getFoldWidgetRange(o);T?c.setAttribute("aria-label",l("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[T.start.row+1,T.end.row+1])):n?c.setAttribute("aria-label",l("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[n.start.row+1,n.end.row+1])):c.setAttribute("aria-label",l("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[o+1])),S?(c.setAttribute("aria-expanded","false"),c.setAttribute("title",l("gutter.code-folding.closed.title","Unfold code"))):(c.setAttribute("aria-expanded","true"),c.setAttribute("title",l("gutter.code-folding.open.title","Fold code")))}else c&&(r.setStyle(c.style,"display","none"),c.setAttribute("tabindex","0"),c.removeAttribute("role"),c.removeAttribute("aria-label"));var A=this.session.$gutterCustomWidgets[o];if(A?this.$addCustomWidget(o,A,e):u&&this.$removeCustomWidget(o,e),j&&this.$showFoldedAnnotations){switch(d.className="ace_gutter_annotation",h.className=w,h.className+=C,r.setStyle(h.style,"height",x),r.setStyle(d.style,"display","block"),r.setStyle(d.style,"height",x),C){case" ace_error_fold":M=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[k]);break;case" ace_security_fold":M=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[k]);break;case" ace_warning_fold":M=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[k])}d.setAttribute("aria-label",M),d.setAttribute("tabindex","-1"),d.setAttribute("role","button")}else if(this.$annotations[o]){var M;switch(d.className="ace_gutter_annotation",h.className=w,this.$useSvgGutterIcons?h.className+=this.$annotations[o].className:i.classList.add(this.$annotations[o].className.replace(" ","")),r.setStyle(h.style,"height",x),r.setStyle(d.style,"display","block"),r.setStyle(d.style,"height",x),this.$annotations[o].className){case" ace_error":M=l("gutter.annotation.aria-label.error","Error, read annotations row $0",[k]);break;case" ace_security":M=l("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[k]);break;case" ace_warning":M=l("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[k]);break;case" ace_info":M=l("gutter.annotation.aria-label.info","Info, read annotations row $0",[k]);break;case" ace_hint":M=l("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[k])}d.setAttribute("aria-label",M),d.setAttribute("tabindex","-1"),d.setAttribute("role","button")}else r.setStyle(d.style,"display","none"),d.removeAttribute("aria-label"),d.removeAttribute("role"),d.setAttribute("tabindex","0");return k!==a.data&&(a.data=k),i.className!=b&&(i.className=b),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(o,t,s)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(o,t,s)+"px"),e.text=k,"none"!==d.style.display||"none"!==c.style.display||A?e.element.setAttribute("aria-hidden",!1):e.element.setAttribute("aria-hidden",!0),e},e.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},e.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},e.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},e.prototype.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},e.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},e.prototype.$hideFoldWidget=function(e,t){var n=t||this.$getGutterCell(e);if(n&&n.element){var o=n.element.childNodes[1];o&&r.setStyle(o.style,"display","none")}},e.prototype.$showFoldWidget=function(e,t){var n=t||this.$getGutterCell(e);if(n&&n.element){var o=n.element.childNodes[1];o&&this.session.foldWidgets&&this.session.foldWidgets[n.row]&&r.setStyle(o.style,"display","inline-block")}},e.prototype.$getGutterCell=function(e){var t=this.$lines.cells,n=this.session.documentToScreenRow(e,0);return t[e-this.config.firstRowScreen-(e-n)]},e.prototype.$addCustomWidget=function(e,t,n){var o=t.className,i=t.label,s=t.title,a=t.callbacks;this.session.$gutterCustomWidgets[e]={className:o,label:i,title:s,callbacks:a},this.$hideFoldWidget(e,n);var l=n||this.$getGutterCell(e);if(l&&l.element){var c=l.element.querySelector(".ace_custom-widget");c&&c.remove(),(c=r.createElement("span")).className="ace_custom-widget ".concat(o),c.setAttribute("tabindex","-1"),c.setAttribute("role","button"),c.setAttribute("aria-label",i),c.setAttribute("title",s),r.setStyle(c.style,"display","inline-block"),r.setStyle(c.style,"height","inherit"),a&&a.onClick&&c.addEventListener("click",(function(t){a.onClick(t,e),t.stopPropagation()})),l.element.appendChild(c)}},e.prototype.$removeCustomWidget=function(e,t){delete this.session.$gutterCustomWidgets[e],this.$showFoldWidget(e,t);var n=t||this.$getGutterCell(e);if(n&&n.element){var r=n.element.querySelector(".ace_custom-widget");r&&n.element.removeChild(r)}},e.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},e.prototype.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0},e}();function d(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");e.appendChild(n);var o=r.createElement("span");e.appendChild(o);var i=r.createElement("span");return o.appendChild(i),e}c.prototype.$fixedWidth=!1,c.prototype.$highlightGutterLine=!0,c.prototype.$renderer="",c.prototype.$showLineNumbers=!0,c.prototype.$showFoldWidgets=!0,o.implement(c.prototype,s),t.Gutter=c})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../range").Range,o=e("../lib/dom"),i=function(){function e(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}return e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setMarkers=function(e){this.markers=e},e.prototype.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},e.prototype.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var r=this.markers[n];if(r.range){var o=r.range.clipRows(e.firstRow,e.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),r.renderer){var i=this.$getTop(o.start.row,e),s=this.$padding+o.start.column*e.characterWidth;r.renderer(t,o,s,i,e)}else"fullLine"==r.type?this.drawFullLineMarker(t,o,r.clazz,e):"screenLine"==r.type?this.drawScreenLineMarker(t,o,r.clazz,e):o.isMultiLine()?"text"==r.type?this.drawTextMarker(t,o,r.clazz,e):this.drawMultiLineMarker(t,o,r.clazz,e):this.drawSingleLineMarker(t,o,r.clazz+" ace_start ace_br15",e)}else r.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},e.prototype.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(e,t,n,o,i){for(var s=this.session,a=t.start.row,l=t.end.row,c=a,d=0,u=0,h=s.getScreenLastRowColumn(c),p=new r(c,t.start.column,c,u);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?t.start.column:s.getRowWrapIndent(c),p.end.column=h,d=u,u=h,h=c+1<l?s.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,p,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(d<u?2:0)|(u>h?4:0)|(c==l?8:0)),o,c==l?0:1,i)},e.prototype.drawMultiLineMarker=function(e,t,n,r,o){var i=this.$padding,s=r.lineHeight,a=this.$getTop(t.start.row,r),l=i+t.start.column*r.characterWidth;(o=o||"",this.session.$bidiHandler.isBidiRow(t.start.row))?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",r,null,o)):this.elt(n+" ace_br1 ace_start","height:"+s+"px;right:"+i+"px;top:"+a+"px;left:"+l+"px;"+(o||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",r,null,o)}else{a=this.$getTop(t.end.row,r);var d=t.end.column*r.characterWidth;this.elt(n+" ace_br12","height:"+s+"px;width:"+d+"px;top:"+a+"px;left:"+i+"px;"+(o||""))}if(!((s=(t.end.row-t.start.row-1)*r.lineHeight)<=0)){a=this.$getTop(t.start.row+1,r);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(u?" ace_br"+u:""),"height:"+s+"px;right:"+i+"px;top:"+a+"px;left:"+i+"px;"+(o||""))}},e.prototype.drawSingleLineMarker=function(e,t,n,r,o,i){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,r,o,i);var s=r.lineHeight,a=(t.end.column+(o||0)-t.start.column)*r.characterWidth,l=this.$getTop(t.start.row,r),c=this.$padding+t.start.column*r.characterWidth;this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(i||""))},e.prototype.drawBidiSingleLineMarker=function(e,t,n,r,o,i){var s=r.lineHeight,a=this.$getTop(t.start.row,r),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+(e.width+(o||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(i||""))}),this)},e.prototype.drawFullLineMarker=function(e,t,n,r,o){var i=this.$getTop(t.start.row,r),s=r.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,r)-i),this.elt(n,"height:"+s+"px;top:"+i+"px;left:0;right:0;"+(o||""))},e.prototype.drawScreenLineMarker=function(e,t,n,r,o){var i=this.$getTop(t.start.row,r),s=r.lineHeight;this.elt(n,"height:"+s+"px;top:"+i+"px;left:0;right:0;"+(o||""))},e}();i.prototype.$padding=0,t.Marker=i})),ace.define("ace/layer/text_util",["require","exports","module"],(function(e,t,n){var r=new Set(["text","rparen","lparen"]);t.isTextToken=function(e){return r.has(e)}})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],(function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/dom"),i=e("../lib/lang"),s=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=e("../config").nls,c=e("./text_util").isTextToken,d=function(){function e(e){this.dom=o,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return e.prototype.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},e.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},e.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},e.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},e.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},e.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},e.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},e.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},e.prototype.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},e.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},e.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},e.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++){if(this.showTabs)(r=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",r.textContent=i.stringRepeat(this.TAB_CHAR,n),t.push(r);else t.push(this.dom.createTextNode(i.stringRepeat(" ",n),this.element))}if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var r,o="ace_indent-guide",s=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?i.stringRepeat(this.SPACE_CHAR,this.tabSize):i.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?i.stringRepeat(this.TAB_CHAR,this.tabSize):a;(r=this.dom.createElement("span")).className=o+s,r.textContent=a,this.$tabStrings[" "]=r,(r=this.dom.createElement("span")).className=o+l,r.textContent=c,this.$tabStrings["\t"]=r}},e.prototype.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var r=Math.max(t,e.firstRow),o=Math.min(n,e.lastRow),i=this.element.childNodes,s=0,a=e.firstRow;a<r;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(r)){r=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,d=(a=r,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>d&&(a=l.end.row+1,d=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>o);){var u=i[s++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==d&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var h=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=h&&(c=!0,u.style.height=h)}a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},e.prototype.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,r=t?t.lastRow:-1;if(!t||r<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var o=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);o>0;o--)this.$lines.shift();if(t.lastRow>e.lastRow)for(o=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);o>0;o--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},e.prototype.$renderLinesFragment=function(e,t,n){for(var r=[],i=t,s=this.session.getNextFoldLine(i),a=s?s.start.row:1/0;i>a&&(i=s.end.row+1,a=(s=this.session.getNextFoldLine(i,s))?s.start.row:1/0),!(i>n);){var l=this.$lines.createCell(i,e,this.session),c=l.element;this.dom.removeChildren(c),o.setStyle(c.style,"height",this.$lines.computeLineHeight(i,e,this.session)+"px"),o.setStyle(c.style,"top",this.$lines.computeLineTop(i,e,this.session)+"px"),this.$renderLine(c,i,i==a&&s),this.$useLineGroups()?c.className="ace_line_group":c.className="ace_line",r.push(l),i++}return r},e.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,r=this.$lines;r.getLength();)r.pop();r.push(this.$renderLinesFragment(e,t,n))},e.prototype.$renderToken=function(e,t,n,r){for(var o,s=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,d=this.dom.createFragment(this.element),u=0;o=a.exec(r);){var h=o[1],p=o[2],f=o[3],m=o[4],g=o[5];if(s.showSpaces||!p){var v=u!=o.index?r.slice(u,o.index):"";if(u=o.index+o[0].length,v&&d.appendChild(this.dom.createTextNode(v,this.element)),h){var y=s.session.getScreenTabSize(t+o.index);d.appendChild(s.$tabStrings[y].cloneNode(!0)),t+=y-1}else if(p){if(s.showSpaces)(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",b.textContent=i.stringRepeat(s.SPACE_CHAR,p.length),d.appendChild(b);else d.appendChild(this.dom.createTextNode(p,this.element))}else if(f){(b=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",b.textContent=i.stringRepeat(s.SPACE_CHAR,f.length),d.appendChild(b)}else if(m){t+=1,(b=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",b.className=s.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",b.textContent=s.showSpaces?s.SPACE_CHAR:m,d.appendChild(b)}else if(g){t+=1,(b=this.dom.createElement("span")).style.width=2*s.config.characterWidth+"px",b.className="ace_cjk",b.textContent=g,d.appendChild(b)}}}if(d.appendChild(this.dom.createTextNode(u?r.slice(u):r,this.element)),c(n.type))e.appendChild(d);else{var x="ace_"+n.type.replace(/\./g," ace_"),b=this.dom.createElement("span");"fold"==n.type&&(b.style.width=n.value.length*this.config.characterWidth+"px",b.setAttribute("title",l("inline-fold.closed.title","Unfold code"))),b.className=x,b.appendChild(d),e.appendChild(b)}return t+r.length},e.prototype.renderIndentGuide=function(e,t,n){var r=t.search(this.$indentGuideRe);if(r<=0||r>=n)return t;if(" "==t[0]){for(var o=(r-=r%this.tabSize)/this.tabSize,i=0;i<o;i++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}if("\t"==t[0]){for(i=0;i<r;i++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(r)}return this.$highlightIndentGuide(),t},e.prototype.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,r=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:r,start:t.row},this.session.$bracketHighlight)for(var o=this.session.$bracketHighlight.ranges,i=0;i<o.length;i++)if(t.row!==o[i].start.row){this.$highlightIndentGuideMarker.end=o[i].start.row+1,t.row>o[i].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length){this.$highlightIndentGuideMarker.dir=1;for(i=t.row+1;i<e.length;i++){var s=e[i],a=/^\s*/.exec(s)[0].length;if(""!==s&&(this.$highlightIndentGuideMarker.end=i,a<=n))break}}this.$renderHighlightIndentGuide()}}},e.prototype.$clearActiveIndentGuide=function(){for(var e=this.element.querySelectorAll(".ace_indent-guide-active"),t=0;t<e.length;t++)e[t].classList.remove("ace_indent-guide-active")},e.prototype.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element;if(e.element.classList&&e.element.classList.contains("ace_line_group")){if(!(e.element.childNodes.length>0))return;n=e.element.childNodes[0]}var r=n.childNodes;if(r){var o=r[t-1];o&&o.classList&&o.classList.contains("ace_indent-guide")&&o.classList.add("ace_indent-guide-active")}}},e.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row>=this.$highlightIndentGuideMarker.start+1){if(r.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}else for(n=e.length-1;n>=0;n--){r=e[n];if(this.$highlightIndentGuideMarker.end&&r.row<this.$highlightIndentGuideMarker.start){if(r.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(r,t)}}}},e.prototype.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},e.prototype.$renderWrappedLine=function(e,t,n){var r=0,o=0,s=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var d=t[c],u=d.value;if(0==c&&this.displayIndentGuides){if(r=u.length,!(u=this.renderIndentGuide(l,u,s)))continue;r-=u.length}if(r+u.length<s)a=this.$renderToken(l,a,d,u),r+=u.length;else{for(;r+u.length>=s;)a=this.$renderToken(l,a,d,u.substring(0,s-r)),u=u.substring(s-r),r=s,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(i.stringRepeat("\xa0",n.indent),this.element)),a=0,s=n[++o]||Number.MAX_VALUE;0!=u.length&&(r+=u.length,a=this.$renderToken(l,a,d,u))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},e.prototype.$renderSimpleLine=function(e,t){for(var n=0,r=0;r<t.length;r++){var o=t[r],i=o.value;if(0!=r||!this.displayIndentGuides||(i=this.renderIndentGuide(e,i))){if(n+i.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,o,i);n=this.$renderToken(e,n,o,i)}}},e.prototype.$renderOverflowMessage=function(e,t,n,r,o){n&&this.$renderToken(e,t,n,r.slice(0,this.MAX_LINE_LENGTH-t));var i=this.dom.createElement("span");i.className="ace_inline_button ace_keyword ace_toggle_wrap",i.textContent=o?"<hide>":"<click to see more...>",e.appendChild(i)},e.prototype.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var r=this.$getFoldLineTokens(t,n);else r=this.session.getTokens(t);var o=e;if(r.length){var i=this.session.getRowSplitData(t);if(i&&i.length){this.$renderWrappedLine(e,r,i);o=e.lastChild}else{o=e;this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o)),this.$renderSimpleLine(o,r)}}else this.$useLineGroups()&&(o=this.$createLineElement(),e.appendChild(o));if(this.showEOL&&o){n&&(t=n.end.row);var s=this.dom.createElement("span");s.className="ace_invisible ace_invisible_eol",s.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,o.appendChild(s)}},e.prototype.$getFoldLineTokens=function(e,t){var n=this.session,r=[];var o=n.getTokens(e);return t.walk((function(e,t,i,s,a){null!=e?r.push({type:"fold",value:e}):(a&&(o=n.getTokens(t)),o.length&&function(e,t,n){for(var o=0,i=0;i+e[o].value.length<t;)if(i+=e[o].value.length,++o==e.length)return;for(i!=t&&((s=e[o].value.substring(t-i)).length>n-t&&(s=s.substring(0,n-t)),r.push({type:e[o].type,value:s}),i=t+s.length,o+=1);i<n&&o<e.length;){var s;(s=e[o].value).length+i>n?r.push({type:e[o].type,value:s.substring(0,n-i)}):r.push(e[o]),i+=s.length,o+=1}}(o,s,i))}),t.end.row,this.session.getLine(t.end.row).length),r},e.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},e}();d.prototype.EOF_CHAR="\xb6",d.prototype.EOL_CHAR_LF="\xac",d.prototype.EOL_CHAR_CRLF="\xa4",d.prototype.EOL_CHAR=d.prototype.EOL_CHAR_LF,d.prototype.TAB_CHAR="\u2014",d.prototype.SPACE_CHAR="\xb7",d.prototype.$padding=0,d.prototype.MAX_LINE_LENGTH=1e4,d.prototype.showInvisibles=!1,d.prototype.showSpaces=!1,d.prototype.showTabs=!1,d.prototype.showEOL=!1,d.prototype.displayIndentGuides=!0,d.prototype.$highlightIndentGuides=!0,d.prototype.$tabStrings=[],d.prototype.destroy={},d.prototype.onChangeTabSize=d.prototype.$computeTabString,r.implement(d.prototype,a),t.Text=d})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=function(){function e(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return e.prototype.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},e.prototype.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&r.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},e.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,r.removeCssClass(this.element,"ace_animate-blinking")},e.prototype.setPadding=function(e){this.$padding=e},e.prototype.setSession=function(e){this.session=e},e.prototype.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},e.prototype.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},e.prototype.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},e.prototype.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},e.prototype.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},e.prototype.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},e.prototype.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,r.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&r.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),r.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},e.prototype.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},e.prototype.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},e.prototype.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,o=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);n=0;for(var i=t.length;n<i;n++){var s=this.getPixelPosition(t[n].cursor,!0);if(!((s.top>e.height+e.offset||s.top<0)&&n>1)){var a=this.cursors[o++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,s,e,t[n],this.session):this.isCursorInView(s,e)?(r.setStyle(l,"display","block"),r.translate(a,s.left,s.top),r.setStyle(l,"width",Math.round(e.characterWidth)+"px"),r.setStyle(l,"height",e.lineHeight+"px")):r.setStyle(l,"display","none")}}for(;this.cursors.length>o;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=s,this.restartTimer()},e.prototype.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},e.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},e}();o.prototype.$padding=0,o.prototype.drawCursor=null,t.Cursor=o})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter,l=32768,c=function(){function e(e,t){this.element=i.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+t,this.inner=i.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();o.implement(c.prototype,a);var d=function(e){function t(t,n){var r=e.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,n.$scrollbarWidth=r.width=i.scrollbarWidth(t.ownerDocument),r.inner.style.width=r.element.style.width=(r.width||15)+5+"px",r.$minWidth=0,r}return r(t,e),t.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.element.style.height=e+"px"},t.prototype.setScrollHeight=function(e){this.scrollHeight=e,e>l?(this.coeff=l/e,e=l):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},t.prototype.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)},t}(c);d.prototype.setInnerHeight=d.prototype.setScrollHeight;var u=function(e){function t(t,n){var r=e.call(this,t,"-h")||this;return r.scrollLeft=0,r.height=n.$scrollbarWidth,r.inner.style.height=r.element.style.height=(r.height||15)+5+"px",r}return r(t,e),t.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.setWidth=function(e){this.element.style.width=e+"px"},t.prototype.setInnerWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollWidth=function(e){this.inner.style.width=e+"px"},t.prototype.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)},t}(c);t.ScrollBar=d,t.ScrollBarV=d,t.ScrollBarH=u,t.VScrollBar=d,t.HScrollBar=u})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=e("./lib/oop"),i=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter;i.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var l=function(){function e(e,t){this.element=i.createElement("div"),this.element.className="ace_sb"+t,this.inner=i.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return e.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},e}();o.implement(l.prototype,a);var c=function(e){function t(t,n){var r=e.call(this,t,"-v")||this;return r.scrollTop=0,r.scrollHeight=0,r.parent=t,r.width=r.VScrollWidth,r.renderer=n,r.inner.style.width=r.element.style.width=(r.width||15)+"px",r.$minWidth=0,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientY,o=t.clientY,i=this.thumbTop;s.capture(this.inner,(function(e){r=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollTopFromThumbTop(i+r-o);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),s.preventDefault(t)}},t.prototype.getHeight=function(){return this.height},t.prototype.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t|=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},t.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},t.prototype.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},t.prototype.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},t.prototype.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},t}(l);c.prototype.setInnerHeight=c.prototype.setScrollHeight;var d=function(e){function t(t,n){var r=e.call(this,t,"-h")||this;return r.scrollLeft=0,r.scrollWidth=0,r.height=r.HScrollHeight,r.inner.style.height=r.element.style.height=(r.height||12)+"px",r.renderer=n,r}return r(t,e),t.prototype.onMouseDown=function(e,t){if("mousedown"===e&&0===s.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,r=t.clientX,o=t.clientX,i=this.thumbLeft;s.capture(this.inner,(function(e){r=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==r){var e=n.scrollLeftFromThumbLeft(i+r-o);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return s.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),s.preventDefault(t)}},t.prototype.getHeight=function(){return this.isVisible?this.height:0},t.prototype.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t|=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},t.prototype.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},t.prototype.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},t.prototype.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},t}(l);d.prototype.setInnerWidth=d.prototype.setScrollWidth,t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=d,t.VScrollBar=c,t.HScrollBar=d})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var r=e("./lib/event"),o=function(){function e(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}return e.prototype.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},e.prototype.clear=function(e){var t=this.changes;return this.changes=0,t},e}();t.RenderLoop=o})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var r=e("../lib/oop"),o=e("../lib/dom"),i=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c=512,d="function"==typeof ResizeObserver,u=200,h=function(){function e(e){this.el=o.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=o.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=o.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=i.stringRepeat("X",c),this.$characterSize={width:0,height:0},d?this.$addObserver():this.checkForSizeChanges()}return e.prototype.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},e.prototype.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},e.prototype.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},e.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},e.prototype.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},e.prototype.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/c};return 0===t.width||0===t.height?null:t},e.prototype.$measureCharWidth=function(e){return this.$main.textContent=i.stringRepeat(e,c),this.$main.getBoundingClientRect().width/c},e.prototype.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},e.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},e.prototype.$getZoom=function(e){return e&&e.parentElement?(Number(window.getComputedStyle(e).zoom)||1)*this.$getZoom(e.parentElement):1},e.prototype.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=o.buildDom([e(0,0),e(u,0),e(0,u),e(u,u)],this.el)},e.prototype.transformCoordinates=function(e,t){e&&(e=i(1/this.$getZoom(this.el),e));function n(e,t,n){var r=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/r,(+e[1]*n[0]-e[0]*n[1])/r]}function r(e,t){return[e[0]-t[0],e[1]-t[1]]}function o(e,t){return[e[0]+t[0],e[1]+t[1]]}function i(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),d=s(this.els[3]),h=n(r(d,l),r(d,c),r(o(l,c),o(d,a))),p=i(1+h[0],r(l,a)),f=i(1+h[1],r(c,a));if(t){var m=t,g=h[0]*m[0]/u+h[1]*m[1]/u+1,v=o(i(m[0],p),i(m[1],f));return o(i(1/g/u,v),a)}var y=r(e,a),x=n(r(p,i(h[0],y)),r(f,i(h[1],y)),y);return i(u,x)},e}();h.prototype.$characterSize={width:0,height:0},r.implement(h.prototype,l),t.FontMetrics=h})),ace.define("ace/css/editor-css",["require","exports","module"],(function(e,t,n){n.exports='\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'Source Code Pro\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n    forced-color-adjust: none;\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n.ace_invisible {\n    font-variant-ligatures: none;\n}\n\n.ace_keyboard-focus:focus {\n    box-shadow: inset 0 0 0 2px #5E9ED6;\n    outline: none;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left:after {\n    content: "";\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n    pointer-events: none;\n}\n\n.ace_gutter-cell, .ace_gutter-cell_svg-icons {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell_svg-icons .ace_gutter_annotation {\n    margin-left: -14px;\n    float: left;\n}\n\n.ace_gutter-cell .ace_gutter_annotation {\n    margin-left: -19px;\n    float: left;\n}\n\n.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_icon_svg.ace_error {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_security {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: darkorange;\n}\n.ace_icon_svg.ace_info {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");\n    background-color: royalblue;\n}\n.ace_icon_svg.ace_hint {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");\n    background-color: silver;\n}\n\n.ace_icon_svg.ace_error_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_security_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");\n    background-color: crimson;\n}\n.ace_icon_svg.ace_warning_fold {\n    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");\n    background-color: darkorange;\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #f5f5f5;\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n    overflow: auto;\n    max-width: min(33em, 66vw);\n    overscroll-behavior: contain;\n}\n.ace_tooltip pre {\n    white-space: pre-wrap;\n}\n\n.ace_tooltip.ace_dark {\n    background-color: #636363;\n    color: #fff;\n}\n\n.ace_tooltip:focus {\n    outline: 1px solid #5E9ED6;\n}\n\n.ace_icon {\n    display: inline-block;\n    width: 18px;\n    vertical-align: top;\n}\n\n.ace_icon_svg {\n    display: inline-block;\n    width: 12px;\n    vertical-align: top;\n    -webkit-mask-repeat: no-repeat;\n    -webkit-mask-size: 12px;\n    -webkit-mask-position: center;\n}\n\n.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {\n    padding-right: 13px;\n}\n\n.ace_fold-widget, .ace_custom-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_custom-widget {\n    background: none;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    position: relative;\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n    z-index: 1;\n}\n\n.ace_ghost_text {\n    opacity: 0.5;\n    font-style: italic;\n}\n\n.ace_ghost_text_container > div {\n    white-space: pre;\n}\n\n.ghost_text_line_wrapped::after {\n    content: "\u21a9";\n    position: absolute;\n}\n\n.ace_lineWidgetContainer.ace_ghost_text {\n    margin: 0px 4px\n}\n\n.ace_screenreader-only {\n    position:absolute;\n    left:-10000px;\n    top:auto;\n    width:1px;\n    height:1px;\n    overflow:hidden;\n}\n\n.ace_hidden_token {\n    display: none;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=e("../lib/oop"),i=e("../lib/event_emitter").EventEmitter,s=function(){function e(e,t){this.canvas=r.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)}return e.prototype.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d");var r=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),r){var o={info:1,warning:2,error:3};r.forEach((function(e){e.priority=o[e.type]||null})),r=r.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var i=this.renderer.session.$foldData,s=0;s<r.length;s++){var a=r[s].row,l=this.compensateFoldRows(a,i),c=Math.round((a-l)*this.lineHeight*this.heightRatio),d=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(u-d<this.minDecorationHeight){var h=(d+u)/2|0;h<this.halfMinDecorationHeight?h=this.halfMinDecorationHeight:h+this.halfMinDecorationHeight>this.canvasHeight&&(h=this.canvasHeight-this.halfMinDecorationHeight),d=Math.round(h-this.halfMinDecorationHeight),u=Math.round(h+this.halfMinDecorationHeight)}n.fillStyle=t[r[s].type]||null,n.fillRect(0,c,this.canvasWidth,u-d)}}var p=this.renderer.session.selection.getCursor();if(p){l=this.compensateFoldRows(p.row,i),c=Math.round((p.row-l)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2)}},e.prototype.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var r=0;r<t.length;r++)e>t[r].start.row&&e<t[r].end.row?n+=e-t[r].start.row:e>=t[r].end.row&&(n+=t[r].end.row-t[r].start.row);return n},e}();o.implement(s.prototype,i),t.Decorator=s})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],(function(e,t,n){"use strict";var r=e("./lib/oop"),o=e("./lib/dom"),i=e("./lib/lang"),s=e("./config"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,c=e("./layer/text").Text,d=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,h=e("./scrollbar").VScrollBar,p=e("./scrollbar_custom").HScrollBar,f=e("./scrollbar_custom").VScrollBar,m=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,v=e("./lib/event_emitter").EventEmitter,y=e("./css/editor-css"),x=e("./layer/decorators").Decorator,b=e("./lib/useragent"),w=e("./layer/text_util").isTextToken;o.importCssString(y,"ace_editor.css",!1);var k=function(){function e(e,t){var n=this;this.container=e||o.createElement("div"),o.addCssClass(this.container,"ace_editor"),o.HI_DPI&&o.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==s.get("useStrictCSP")&&s.set("useStrictCSP",!1),this.$gutter=o.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=o.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=o.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var r=this.$textLayer=new c(this.content);this.canvas=r.element,this.$markerFront=new l(this.content),this.$cursorLayer=new d(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new m(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return e.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),o.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},e.prototype.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},e.prototype.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},e.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},e.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},e.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},e.prototype.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},e.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},e.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},e.prototype.onResize=function(e,t,n,r){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var o=this.container;r||(r=o.clientHeight||o.scrollHeight),!r&&this.$maxLines&&this.lineHeight>1&&(o.style.height&&"0px"!=o.style.height||(o.style.height="1px",r=o.clientHeight||o.scrollHeight)),n||(n=o.clientWidth||o.scrollWidth);var i=this.$updateCachedSize(e,t,n,r);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!n&&!r)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(i|this.$changes,!0):this.$loop.schedule(i|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},e.prototype.$updateCachedSize=function(e,t,n,r){r-=this.$extraHeight||0;var i=0,s=this.$size,a={width:s.width,height:s.height,scrollerHeight:s.scrollerHeight,scrollerWidth:s.scrollerWidth};if(r&&(e||s.height!=r)&&(s.height=r,i|=this.CHANGE_SIZE,s.scrollerHeight=s.height,this.$horizScroll&&(s.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(s.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",i|=this.CHANGE_SCROLL),n&&(e||s.width!=n)){i|=this.CHANGE_SIZE,s.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,o.setStyle(this.scrollBarH.element.style,"left",t+"px"),o.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),s.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),o.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";o.setStyle(this.scrollBarH.element.style,"right",l),o.setStyle(this.scroller.style,"right",l),o.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(s.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(i|=this.CHANGE_FULL)}return s.$dirty=!n||!r,i&&this._signal("resize",a),i},e.prototype.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},e.prototype.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},e.prototype.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},e.prototype.getAnimatedScroll=function(){return this.$animatedScroll},e.prototype.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},e.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},e.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},e.prototype.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},e.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},e.prototype.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},e.prototype.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},e.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},e.prototype.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},e.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},e.prototype.getShowGutter=function(){return this.getOption("showGutter")},e.prototype.setShowGutter=function(e){return this.setOption("showGutter",e)},e.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},e.prototype.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},e.prototype.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},e.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},e.prototype.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=o.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=o.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},e.prototype.getContainerElement=function(){return this.container},e.prototype.getMouseEventTarget=function(){return this.scroller},e.prototype.getTextAreaContainer=function(){return this.container},e.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var r=this.layerConfig,i=n.top,s=n.left;i-=r.offset;var a=t&&t.useTextareaForIME||b.isMobile?this.lineHeight:1;if(i<0||i>r.height-a)o.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var d=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(d)[0]}else i+=this.lineHeight+2;else i+=this.lineHeight;(s-=this.scrollLeft)>this.$size.scrollerWidth-l&&(s=this.$size.scrollerWidth-l),s+=this.gutterWidth+this.margin.left,o.setStyle(e,"height",a+"px"),o.setStyle(e,"width",l+"px"),o.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-l),Math.min(i,c))}}}else o.translate(this.textarea,-100,0)}},e.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},e.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},e.prototype.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},e.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},e.prototype.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},e.prototype.setScrollMargin=function(e,t,n,r){var o=this.scrollMargin;o.top=0|e,o.bottom=0|t,o.right=0|r,o.left=0|n,o.v=o.top+o.bottom,o.h=o.left+o.right,o.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-o.top),this.updateFull()},e.prototype.setMargin=function(e,t,n,r){var o=this.margin;o.top=0|e,o.bottom=0|t,o.right=0|r,o.left=0|n,o.v=o.top+o.bottom,o.h=o.left+o.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},e.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},e.prototype.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},e.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},e.prototype.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},e.prototype.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},e.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},e.prototype.freeze=function(){this.$frozen=!0},e.prototype.unfreeze=function(){this.$frozen=!1},e.prototype.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var r=this.scrollTop+(n.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;r>0&&(this.scrollTop=r,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),o.translate(this.content,-this.scrollLeft,-n.offset);var i=n.width+2*this.$padding+"px",s=n.minHeight+"px";o.setStyle(this.content.style,"width",i),o.setStyle(this.content.style,"height",s)}if(e&this.CHANGE_H_SCROLL&&(o.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},e.prototype.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var r=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||r!=this.$vScroll){r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r));var o=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,o,n),this.desiredHeight=n,this._signal("autosize")}},e.prototype.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,r=this.session.getScreenLength()*this.lineHeight,o=this.$getLongestLine(),i=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-o-2*this.$padding<0),s=this.$horizScroll!==i;s&&(this.$horizScroll=i,this.scrollBarH.setVisible(i));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),n=t.height<=2*this.lineHeight);var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;r+=c;var d=this.scrollMargin;this.session.setScrollTop(Math.max(-d.top,Math.min(this.scrollTop,r-t.scrollerHeight+d.bottom))),this.session.setScrollLeft(Math.max(-d.left,Math.min(this.scrollLeft,o+2*this.$padding-t.scrollerWidth+d.right)));var u=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-r+c<0||this.scrollTop>d.top),h=a!==u;h&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var p,f,m=this.scrollTop%this.lineHeight,g=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-m)/this.lineHeight)),y=v+g,x=this.lineHeight;v=e.screenToDocumentRow(v,0);var b=e.getFoldLine(v);b&&(v=b.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*x,y=Math.min(e.screenToDocumentRow(y,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(y)*x+f,m=this.scrollTop-p*x;var w=0;return(this.layerConfig.width!=o||s)&&(w=this.CHANGE_H_SCROLL),(s||h)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),h&&(o=this.$getLongestLine())),this.layerConfig={width:o,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:y,lineHeight:x,characterWidth:this.characterWidth,minHeight:l,maxHeight:r,offset:m,gutterOffset:x?Math.max(0,Math.ceil((m+t.height-t.scrollerHeight)/x)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(o-this.$padding),w},e.prototype.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1)&&!(t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},e.prototype.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},e.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},e.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},e.prototype.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},e.prototype.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},e.prototype.updateBreakpoints=function(e){this._rows=e,this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},e.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},e.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},e.prototype.showCursor=function(){this.$cursorLayer.showCursor()},e.prototype.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},e.prototype.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var r=this.$cursorLayer.getPixelPosition(e),o=r.left,i=r.top,s=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+s>i?(t&&l+s>i+this.lineHeight&&(i-=t*this.$size.scrollerHeight),0===i&&(i=-this.scrollMargin.top),this.session.setScrollTop(i)):l+this.$size.scrollerHeight-a<i+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<i-this.lineHeight&&(i+=t*this.$size.scrollerHeight),this.session.setScrollTop(i+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,d=2*this.layerConfig.characterWidth;o-d<c?((o-=d)<this.$padding+d&&(o=-this.scrollMargin.left),this.session.setScrollLeft(o)):(o+=d,c+this.$size.scrollerWidth<o+this.characterWidth?this.session.setScrollLeft(Math.round(o+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&o-c<this.characterWidth&&this.session.setScrollLeft(0))}},e.prototype.getScrollTop=function(){return this.session.getScrollTop()},e.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},e.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},e.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},e.prototype.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},e.prototype.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),r=this.$size.scrollerHeight-this.lineHeight,o=n.top-r*(t||0);return this.session.setScrollTop(o),o},e.prototype.$calcSteps=function(e,t){var n,r,o=0,i=this.STEPS,s=[];for(o=0;o<i;++o)s.push((n=o/this.STEPS,r=e,(t-e)*(Math.pow(n-1,3)+1)+r));return s},e.prototype.scrollToLine=function(e,t,n,r){var o=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(o-=this.$size.scrollerHeight/2);var i=this.scrollTop;this.session.setScrollTop(o),!1!==n&&this.animateScrolling(i,r)},e.prototype.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var r=this;if(e!=n){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==n)return}var i=r.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:i},clearInterval(this.$timer),r.session.setScrollTop(i.shift()),r.session.$scrollTop=n,this.$timer=setInterval((function(){if(!r.$stopAnimation)return r.session?void(i.length?(r.session.setScrollTop(i.shift()),r.session.$scrollTop=n):null!=n?(r.session.$scrollTop=-1,r.session.setScrollTop(n),n=null):s()):clearInterval(r.$timer);s()}),10)}}function s(){r.$timer=clearInterval(r.$timer),r.$scrollAnimation=null,r.$stopAnimation=!1,t&&t()}},e.prototype.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},e.prototype.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},e.prototype.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},e.prototype.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},e.prototype.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},e.prototype.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-n.left-this.$padding,i=o/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(i):Math.round(i);return{row:s,column:a,side:i-a>0?1:-1,offsetX:o}},e.prototype.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var r=this.$fontMetrics.transformCoordinates([e,t]);e=r[1]-this.gutterWidth-this.margin.left,t=r[0]}else n=this.scroller.getBoundingClientRect();var o=e+this.scrollLeft-n.left-this.$padding,i=o/this.characterWidth,s=this.$blockCursor?Math.floor(i):Math.round(i),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),o)},e.prototype.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),r=this.session.documentToScreenPosition(e,t),o=this.$padding+(this.session.$bidiHandler.isBidiRow(r.row,e)?this.session.$bidiHandler.getPosLeft(r.column):Math.round(r.column*this.characterWidth)),i=r.row*this.lineHeight;return{pageX:n.left+o-this.scrollLeft,pageY:n.top+i-this.scrollTop}},e.prototype.visualizeFocus=function(){o.addCssClass(this.container,"ace_focus")},e.prototype.visualizeBlur=function(){o.removeCssClass(this.container,"ace_focus")},e.prototype.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),void 0==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(o.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},e.prototype.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},e.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),o.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},e.prototype.setGhostText=function(e,t){var n=this.session.selection.cursor,r=t||{row:n.row,column:n.column};this.removeGhostText();var i=this.$calculateWrappedTextChunks(e,r);this.addToken(i[0].text,"ghost_text",r.row,r.column),this.$ghostText={text:e,position:{row:r.row,column:r.column}};var s=o.createElement("div");if(i.length>1){var a,l=this.hideTokensAfterPosition(r.row,r.column);i.slice(1).forEach((function(e){var t=o.createElement("div"),n=o.createElement("span");n.className="ace_ghost_text",e.wrapped&&(t.className="ghost_text_line_wrapped"),0===e.text.length&&(e.text=" "),n.appendChild(o.createTextNode(e.text)),t.appendChild(n),s.appendChild(t),a=t})),l.forEach((function(e){var t=o.createElement("span");w(e.type)||(t.className="ace_"+e.type.replace(/\./g," ace_")),t.appendChild(o.createTextNode(e.value)),a.appendChild(t)})),this.$ghostTextWidget={el:s,row:r.row,column:r.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var c=this.$cursorLayer.getPixelPosition(r,!0),d=this.container.getBoundingClientRect().height,u=i.length*this.lineHeight;if(u<d-c.top)return;u<d?this.scrollBy(0,(i.length-1)*this.lineHeight):this.scrollToRow(r.row)}},e.prototype.$calculateWrappedTextChunks=function(e,t){var n=this.$size.scrollerWidth-2*this.$padding,r=Math.floor(n/this.characterWidth)-2;r=r<=0?60:r;for(var o=e.split(/\r?\n/),i=[],s=0;s<o.length;s++){var a=this.session.$getDisplayTokens(o[s],t.column),l=this.session.$computeWrapSplits(a,r,this.session.$tabSize);if(l.length>0){var c=0;l.push(o[s].length);for(var d=0;d<l.length;d++){var u=o[s].slice(c,l[d]);i.push({text:u,wrapped:!0}),c=l[d]}}else i.push({text:o[s],wrapped:!1})}return i},e.prototype.removeGhostText=function(){if(this.$ghostText){var e=this.$ghostText.position;this.removeExtraToken(e.row,e.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},e.prototype.addToken=function(e,t,n,r){var o=this.session;o.bgTokenizer.lines[n]=null;var i={type:t,value:e},s=o.getTokens(n);if(null!=r&&s.length)for(var a=0,l=0;l<s.length;l++){var c=s[l];if(r<=(a+=c.value.length)){var d=c.value.length-(a-r),u=c.value.slice(0,d),h=c.value.slice(d);s.splice(l,1,{type:c.type,value:u},i,{type:c.type,value:h});break}}else s.push(i);this.updateLines(n,n)},e.prototype.hideTokensAfterPosition=function(e,t){for(var n=this.session.getTokens(e),r=0,o=!1,i=[],s=0;s<n.length;s++){var a=n[s];r+=a.value.length,"ghost_text"!==a.type&&(o?(i.push({type:a.type,value:a.value}),a.type="hidden_token"):r===t&&(o=!0))}return this.updateLines(e,e),i},e.prototype.removeExtraToken=function(e,t){this.session.bgTokenizer.lines[e]=null,this.updateLines(e,e)},e.prototype.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)i(e);else{var r=e||this.$options.theme.initialValue;s.loadModule(["theme",r],i)}function i(r){if(n.$themeId!=e)return t&&t();if(!r||!r.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");r.$id&&(n.$themeId=r.$id),o.importCssString(r.cssText,r.cssClass,n.container),n.theme&&o.removeCssClass(n.container,n.theme.cssClass);var i="padding"in r?r.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&i!=n.$padding&&n.setPadding(i),n.$theme=r.cssClass,n.theme=r,o.addCssClass(n.container,r.cssClass),o.setCssClass(n.container,"ace_dark",r.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:r}),t&&t(),b.isSafari&&n.scroller&&(n.scroller.style.background="red",n.scroller.style.background="")}},e.prototype.getTheme=function(){return this.$themeId},e.prototype.setStyle=function(e,t){o.setCssClass(this.container,e,!1!==t)},e.prototype.unsetStyle=function(e){o.removeCssClass(this.container,e)},e.prototype.setCursorStyle=function(e){o.setStyle(this.scroller.style,"cursor",e)},e.prototype.setMouseCursor=function(e){o.setStyle(this.scroller.style,"cursor",e)},e.prototype.attachToShadowRoot=function(){o.importCssString(y,"ace_editor.css",this.container)},e.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},e.prototype.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new f(this.container,this),this.scrollBarH=new p(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new x(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new h(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))},e.prototype.$addResizeObserver=function(){if(window.ResizeObserver&&!this.$resizeObserver){var e=this;this.$resizeTimer=i.delayedCall((function(){e.destroyed||e.onResize()}),50),this.$resizeObserver=new window.ResizeObserver((function(t){var n=t[0].contentRect.width,r=t[0].contentRect.height;Math.abs(e.$size.width-n)>1||Math.abs(e.$size.height-r)>1?e.$resizeTimer.delay():e.$resizeTimer.cancel()})),this.$resizeObserver.observe(this.container)}},e}();k.prototype.CHANGE_CURSOR=1,k.prototype.CHANGE_MARKER=2,k.prototype.CHANGE_GUTTER=4,k.prototype.CHANGE_SCROLL=8,k.prototype.CHANGE_LINES=16,k.prototype.CHANGE_TEXT=32,k.prototype.CHANGE_SIZE=64,k.prototype.CHANGE_MARKER_BACK=128,k.prototype.CHANGE_MARKER_FRONT=256,k.prototype.CHANGE_FULL=512,k.prototype.CHANGE_H_SCROLL=1024,k.prototype.$changes=0,k.prototype.$padding=null,k.prototype.$frozen=!1,k.prototype.STEPS=8,r.implement(k.prototype,v),s.defineOptions(k.prototype,"renderer",{useResizeObserver:{set:function(e){!e&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):e&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(e){this.$gutterLayer.$useSvgGutterIcons=e},initialValue:!1},showFoldedAnnotations:{set:function(e){this.$gutterLayer.$showFoldedAnnotations=e},initialValue:!1},fadeFoldWidgets:{set:function(e){o.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=k})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/oop"),o=e("../lib/net"),i=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(r){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){r.implement(this,i),this.$createWorkerFromOldConfig=function(t,n,r,o,i){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl)o=o||s.moduleUrl(n,"worker");else{var l=this.$normalizePath;o=o||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(o),i&&this.send("importScripts",i),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:r}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(e){e.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var r=this.callbackId++;this.callbacks[r]=n,t.push(r)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(n){console.error(n.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype);t.UIWorkerClient=function(e,t,n){var r=null,o=!1,a=Object.create(i),c=[],d=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),r&&(o?setTimeout(u):u())}});d.setEmitSync=function(e){o=e};var u=function(){var e=c.shift();e.command?r[e.command].apply(r,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){d.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(r=new e[n](a);c.length;)u()})),d},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var r=e("./range").Range,o=e("./lib/event_emitter").EventEmitter,i=e("./lib/oop"),s=function(){function e(e,t,n,r,o,i){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=o,this.othersClass=i,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=r,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}return e.prototype.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var o=this.pos;o.$insertRight=!0,o.detach(),o.markerId=n.addMarker(new r(o.row,o.column,o.row,o.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var r=t.createAnchor(n.row,n.column);r.$insertRight=!0,r.detach(),e.others.push(r)})),n.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},e.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},e.prototype.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,o=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,i=t.start.column-this.pos.column;if(this.updateAnchors(e),o&&(this.length+=n),o&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;s>=0;s--){var a={row:(l=this.others[s]).row,column:l.column+i};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;s>=0;s--){var l;a={row:(l=this.others[s]).row,column:l.column+i};this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},e.prototype.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},e.prototype.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,o){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),o,null,!1)};n(this.pos,this.mainClass);for(var o=this.others.length;o--;)n(this.others[o],this.othersClass)}},e.prototype.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},e}();i.implement(s.prototype,o),t.PlaceHolder=s})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var r=e("../lib/event"),o=e("../lib/useragent");function i(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var d,u=e.editor,h=u.selection,p=u.inMultiSelectMode,f=e.getDocumentPosition(),m=h.getCursor(),g=e.inSelection()||h.isEmpty()&&i(f,m),v=e.x,y=e.y,x=u.session,b=u.renderer.pixelToScreenCoordinates(v,y),w=b;if(u.$mouseHandler.$enableJumpToDef)a&&n||l&&n?d=s?"block":"add":n&&u.$blockSelectEnabled&&(d="block");else if(l&&!n){if(d="add",!p&&s)return}else n&&u.$blockSelectEnabled&&(d="block");if(d&&o.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==d){if(!p&&g)return;if(!p){var k=h.toOrientedRange();u.addSelectionMarker(k)}var N=h.rangeList.rangeAtPoint(f);u.inVirtualSelectionMode=!0,s&&(N=null,k=h.ranges[0]||k,u.removeSelectionMarker(k)),u.once("mouseup",(function(){var e=h.toOrientedRange();N&&e.isEmpty()&&i(N.cursor,e.cursor)?h.substractPoint(e.cursor):(s?h.substractPoint(k.cursor):k&&(u.removeSelectionMarker(k),h.addRange(k)),h.addRange(e)),u.inVirtualSelectionMode=!1}))}else if("block"==d){var _;e.stop(),u.inVirtualSelectionMode=!0;var S=[],C=function(){var e=u.renderer.pixelToScreenCoordinates(v,y),t=x.screenToDocumentPosition(e.row,e.column,e.offsetX);i(w,e)&&i(t,h.lead)||(w=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(S),S=h.rectangularRangeBlock(w,b),u.$mouseHandler.$clickSelection&&1==S.length&&S[0].isEmpty()&&(S[0]=u.$mouseHandler.$clickSelection.clone()),S.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};p&&!l?h.toSingleRange():!p&&l&&(_=h.toOrientedRange(),u.addSelectionMarker(_)),s?b=x.documentToScreenPosition(h.lead):h.moveToPosition(f),w={row:-1,column:-1};var j=C;r.capture(u.container,(function(e){v=e.clientX,y=e.clientY}),(function(e){C(),clearInterval(E),u.removeSelectionMarkers(S),S.length||(S=[h.toOrientedRange()]),_&&(u.removeSelectionMarker(_),h.toSingleRange(_));for(var t=0;t<S.length;t++)h.addRange(S[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null}));var E=setInterval((function(){j()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var r=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new r(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var r=e("./range_list").RangeList,o=e("./range").Range,i=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var d=new(0,e("./search").Search);var u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var r=this.rangeList.add(e);return this.$onAddRange(e),r.length&&this.$onRemoveRange(r),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var r=this.ranges.indexOf(e[n]);this.ranges.splice(r,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new r,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var r=e[n],i=r.start.row,s=r.end.row;if(i===s)t.push(r.clone());else{for(t.push(new o(i,r.start.column,i,this.session.getLine(i).length));++i<s;)t.push(this.getLineRange(i,!0));t.push(new o(s,0,s,r.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}this.toSingleRange();for(n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=o.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=o.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var r=this.session.documentToScreenPosition(this.cursor),i=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(r,i).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var r=[],i=e.column<t.column;if(i)var s=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else s=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var d,u,h,p=e.row<t.row;if(p)var f=e.row,m=t.row;else f=t.row,m=e.row;s<0&&(s=0),f<0&&(f=0),f==m&&(n=!0);for(var g=f;g<=m;g++){var v=o.fromPoints(this.session.screenToDocumentPosition(g,s,l),this.session.screenToDocumentPosition(g,a,c));if(v.isEmpty()){if(d&&(u=v.end,h=d,u.row==h.row&&u.column==h.column))break;d=v.end}v.cursor=i?v.start:v.end,r.push(v)}if(p&&r.reverse(),!n){for(var y=r.length-1;r[y].isEmpty()&&y>0;)y--;if(y>0)for(var x=0;r[x].isEmpty();)x++;for(var b=y;b>=x;b--)r[b].isEmpty()&&r.splice(b,1)}return r}}.call(i.prototype);var h=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(!e.textInput)return;var t=e.textInput.getElement(),n=!1;function r(t){n&&(e.renderer.setMouseCursor(""),n=!1)}a.addListener(t,"keydown",(function(t){var o=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&o?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&r()}),e),a.addListener(t,"keyup",r,e),a.addListener(t,"blur",r,e)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var r=e[n];if(r.marker){this.session.removeMarker(r.marker);var o=t.indexOf(r);-1!=o&&t.splice(o,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?r=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?r=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),r=t.exec(n,e.args||{})):r=t.multiSelectAction(n,e.args||{});else{var r=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return r}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var r,o=n&&n.keepOrder,s=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,d=(o?l:c).ranges;if(!d.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var h=new i(a);this.inVirtualSelectionMode=!0;for(var p=d.length;p--;){if(s)for(;p>0&&d[p].start.row==d[p-1].end.row;)p--;h.fromOrientedRange(d[p]),h.index=p,this.selection=a.selection=h;var f=e.exec?e.exec(this,t||{}):e(this,t||{});r||void 0===f||(r=f),h.toOrientedRange(d[p])}h.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),r}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],r=0;r<t.length;r++)n.push(this.session.getTextRange(t[r]));var o=this.session.getDocument().getNewLineCharacter();(e=n.join(o)).length==(n.length-1)*o.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var r=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;r.row!=t.row||this.session.$clipPositionToDocument(r.row,r.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,void 0==t.needle){var r=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(r)}this.$search.set(t);var o=this.$search.findAll(this.session);if(!o.length)return 0;var i=this.multiSelect;n||i.toSingleRange(o[0]);for(var s=o.length;s--;)i.addRange(o[s],!0);return r&&i.rangeList.rangeAtPoint(r.start)&&i.addRange(r,!0),o.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),r=n.cursor==n.end,i=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(i.column=this.selection.$desiredColumn);var s,a=this.session.screenToDocumentPosition(i.row+e,i.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(r?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);r?(s=o.fromPoints(a,c)).cursor=s.start:(s=o.fromPoints(c,a)).cursor=s.end;if(s.desiredColumn=i.column,this.selection.inMultiSelectMode){if(t)var d=n.cursor}else this.selection.addRange(n);this.selection.addRange(s),d&&this.selection.substractPoint(d)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,r=n.ranges,o=r.length;o--;){if((a=r[o]).isEmpty()){var i=t.getWordRange(a.start.row,a.start.column);a.start.row=i.start.row,a.start.column=i.start.column,a.end.row=i.end.row,a.end.column=i.end.column}}n.mergeOverlappingRanges();var s=[];for(o=r.length;o--;){var a=r[o];s.unshift(t.getTextRange(a))}e<0?s.unshift(s.pop()):s.push(s.shift());for(o=r.length;o--;){var l=(a=r[o]).clone();t.replace(a,s[o]),a.start.row=l.start.row,a.start.column=l.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var r=this.session,o=r.multiSelect.toOrientedRange();if(!o.isEmpty()||((o=r.getWordRange(o.start.row,o.start.column)).cursor=-1==e?o.start:o.end,this.multiSelect.addRange(o),!n)){var i=r.getTextRange(o),s=function(e,t,n){return d.$options.wrap=!0,d.$options.needle=t,d.$options.backwards=-1==n,d.find(e)}(r,i,e);s&&(s.cursor=-1==e?s.start:s.end,this.session.unfold(s),this.multiSelect.addRange(s),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(o.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,r=-1,i=n.filter((function(e){if(e.cursor.row==r)return!0;r=e.cursor.row}));if(n.length&&i.length!=n.length-1){i.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,r=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==r&&(r=0),n.column>s&&(s=n.column),r<a&&(a=r),r}));n.forEach((function(t,n){var r=t.cursor,i=s-r.column,d=c[n]-a;i>d?e.insert(r,l.stringRepeat(" ",i-d)):e.remove(new o(r.row,r.column,r.row,r.column-i+d)),t.start.column=t.end.column=s,t.start.row=t.end.row=r.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var d=this.selection.getRange(),u=d.start.row,h=d.end.row,p=u==h;if(p){var f,m=this.session.getLength();do{f=this.session.getLine(h)}while(/[=:]/.test(f)&&++h<m);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),h>=m&&(h=m-1)}var g=this.session.removeFullLines(u,h);g=this.$reAlignText(g,p),this.session.insert({row:u,column:0},g.join("\n")+"\n"),p||(d.start.column=0,d.end.column=g[g.length-1].length),this.selection.setRange(d)}},this.$reAlignText=function(e,t){var n,r,o,i=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,r=t[2].length,o=t[3].length,t):(n+r+o!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(i=!1),n>t[1].length&&(n=t[1].length),r<t[2].length&&(r=t[2].length),o>t[3].length&&(o=t[3].length),t):[e]})).map(t?c:i?s?function(e){return e[2]?a(n+r-e[2].length)+e[2]+a(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(r-e[2].length+o)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(h.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(h.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../../range").Range,o=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);return this.foldingStartMarker.test(r)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(r)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var o=/\S/,i=e.getLine(t),s=i.search(o);if(-1!=s){for(var a=n||i.length,l=e.getLength(),c=t,d=t;++t<l;){var u=e.getLine(t).search(o);if(-1!=u){if(u<=s){var h=e.getTokenAt(t,0);if(!h||"string"!==h.type)break}d=t}}if(d>c){var p=e.getLine(d).length;return new r(c,a,d,p)}}},this.openingBracketBlock=function(e,t,n,o,i){var s={row:n,column:o+1},a=e.$findClosingBracket(t,s,i);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),r.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,o,i){var s={row:n,column:o},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,r.fromPoints(a,s)}}).call(o.prototype)})),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],(function(e,t,n){"use strict";var r=e("../lib/dom"),o=e("../range").Range,i=e("../config").nls;t.showErrorMarker=function(e,t){var n=e.session,s=e.getCursorPosition(),a=s.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,d=function(e,t,n){var r=e.getAnnotations().sort(o.comparePoints);if(r.length){var i=function(e,t,n){for(var r=0,o=e.length-1;r<=o;){var i=r+o>>1,s=n(t,e[i]);if(s>0)r=i+1;else{if(!(s<0))return i;o=i-1}}return-(r+1)}(r,{row:t,column:-1},o.comparePoints);i<0&&(i=-i-1),i>=r.length?i=n>0?0:r.length-1:0===i&&n<0&&(i=r.length-1);var s=r[i];if(s&&n){if(s.row===t){do{s=r[i+=n]}while(s&&s.row===t);if(!s)return r.slice()}var a=[];t=s.row;do{a[n<0?"unshift":"push"](s),s=r[i+=n]}while(s&&s.row==t);return a.length&&a}}}(n,a,t);if(d){var u=d[0];s.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,s.row=u.row,c=e.renderer.$gutterLayer.$annotations[s.row]}else{if(l)return;c={displayText:[i("error-marker.good-state","Looks good!")],className:"ace_ok"}}e.session.unfold(s.row),e.selection.moveToPosition(s);var h={row:s.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=h.el.appendChild(r.createElement("div")),f=h.el.appendChild(r.createElement("div"));f.className="error_widget_arrow "+c.className;var m=e.renderer.$cursorLayer.getPixelPosition(s).left;f.style.left=m+e.renderer.gutterWidth-5+"px",h.el.className="error_widget_wrapper",p.className="error_widget "+c.className,c.displayText.forEach((function(e,t){p.appendChild(r.createTextNode(e)),t<c.displayText.length-1&&p.appendChild(r.createElement("br"))})),p.appendChild(r.createElement("div"));var g=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return h.destroy(),{command:"null"}};h.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(g),n.widgetManager.removeLineWidget(h),e.off("changeSelection",h.destroy),e.off("changeSession",h.destroy),e.off("mouseup",h.destroy),e.off("change",h.destroy))},e.keyBinding.addKeyboardHandler(g),e.on("changeSelection",h.destroy),e.on("changeSession",h.destroy),e.on("mouseup",h.destroy),e.on("change",h.destroy),e.session.widgetManager.addLineWidget(h),h.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:h.el.offsetHeight})},r.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var r=e("./lib/dom"),o=e("./range").Range,i=e("./editor").Editor,s=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof i)return e.env.editor;var s="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;s=a.value,e=r.createElement("pre"),a.parentNode.replaceChild(e,a)}else e&&(s=e.textContent,e.innerHTML="");var c=t.createEditSession(s),d=new i(new l(e),c,n),u={document:c,editor:d,onResize:d.resize.bind(d,null)};return a&&(u.textarea=a),d.on("destroy",(function(){u.editor.container.env=null})),d.container.env=d.env=u,d},t.createEditSession=function(e,t){var n=new s(e,t);return n.setUndoManager(new a),n},t.Range=o,t.Editor=i,t.EditSession=s,t.UndoManager=a,t.VirtualRenderer=l;var c=t.config.version;t.version=c})),ace.require(["ace/ace"],(function(t){t&&(t.config.init(!0),t.define=ace.define);var n=function(){return this}();for(var r in n||"undefined"==typeof window||(n=window),n||"undefined"==typeof self||(n=self),n.ace||(n.ace=t),t)t.hasOwnProperty(r)&&(n.ace[r]=t[r]);n.ace.default=n.ace,e&&(e.exports=n.ace)}))},663:(e,t,n)=>{const r=n(250);t.wordBoundary=()=>({type:r.POSITION,value:"b"}),t.nonWordBoundary=()=>({type:r.POSITION,value:"B"}),t.begin=()=>({type:r.POSITION,value:"^"}),t.end=()=>({type:r.POSITION,value:"$"})},698:(e,t,n)=>{e=n.nmd(e),ace.define("ace/theme/monokai-css",["require","exports","module"],(function(e,t,n){n.exports=".ace-monokai .ace_gutter {\n  background: #2F3129;\n  color: #8F908A\n}\n\n.ace-monokai .ace_print-margin {\n  width: 1px;\n  background: #555651\n}\n\n.ace-monokai {\n  background-color: #272822;\n  color: #F8F8F2\n}\n\n.ace-monokai .ace_cursor {\n  color: #F8F8F0\n}\n\n.ace-monokai .ace_marker-layer .ace_selection {\n  background: #49483E\n}\n\n.ace-monokai.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px #272822;\n}\n\n.ace-monokai .ace_marker-layer .ace_step {\n  background: rgb(102, 82, 0)\n}\n\n.ace-monokai .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_marker-layer .ace_active-line {\n  background: #202020\n}\n\n.ace-monokai .ace_gutter-active-line {\n  background-color: #272727\n}\n\n.ace-monokai .ace_marker-layer .ace_selected-word {\n  border: 1px solid #49483E\n}\n\n.ace-monokai .ace_invisible {\n  color: #52524d\n}\n\n.ace-monokai .ace_entity.ace_name.ace_tag,\n.ace-monokai .ace_keyword,\n.ace-monokai .ace_meta.ace_tag,\n.ace-monokai .ace_storage {\n  color: #F92672\n}\n\n.ace-monokai .ace_punctuation,\n.ace-monokai .ace_punctuation.ace_tag {\n  color: #fff\n}\n\n.ace-monokai .ace_constant.ace_character,\n.ace-monokai .ace_constant.ace_language,\n.ace-monokai .ace_constant.ace_numeric,\n.ace-monokai .ace_constant.ace_other {\n  color: #AE81FF\n}\n\n.ace-monokai .ace_invalid {\n  color: #F8F8F0;\n  background-color: #F92672\n}\n\n.ace-monokai .ace_invalid.ace_deprecated {\n  color: #F8F8F0;\n  background-color: #AE81FF\n}\n\n.ace-monokai .ace_support.ace_constant,\n.ace-monokai .ace_support.ace_function {\n  color: #66D9EF\n}\n\n.ace-monokai .ace_fold {\n  background-color: #A6E22E;\n  border-color: #F8F8F2\n}\n\n.ace-monokai .ace_storage.ace_type,\n.ace-monokai .ace_support.ace_class,\n.ace-monokai .ace_support.ace_type {\n  font-style: italic;\n  color: #66D9EF\n}\n\n.ace-monokai .ace_entity.ace_name.ace_function,\n.ace-monokai .ace_entity.ace_other,\n.ace-monokai .ace_entity.ace_other.ace_attribute-name,\n.ace-monokai .ace_variable {\n  color: #A6E22E\n}\n\n.ace-monokai .ace_variable.ace_parameter {\n  font-style: italic;\n  color: #FD971F\n}\n\n.ace-monokai .ace_string {\n  color: #E6DB74\n}\n\n.ace-monokai .ace_comment {\n  color: #75715E\n}\n\n.ace-monokai .ace_indent-guide {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWPQ0FD0ZXBzd/wPAAjVAoxeSgNeAAAAAElFTkSuQmCC) right repeat-y\n}\n\n.ace-monokai .ace_indent-guide-active {\n  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;\n}\n"})),ace.define("ace/theme/monokai",["require","exports","module","ace/theme/monokai-css","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-monokai",t.cssText=e("./monokai-css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/monokai"],(function(t){e&&(e.exports=t)}))},717:(e,t,n)=>{"use strict";var r=n(43),o=n(461);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=o.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var u=a(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=c((function(){function e(e){if(!l){if(l=!0,s=e,e=r(e),void 0!==o&&h.hasValue){var t=h.value;if(o(t,e))return a=t}return a=e}if(t=a,i(s,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(s=e,t):(s=e,a=n)}var s,a,l=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,o]);var p=s(e,u[0],u[1]);return l((function(){h.hasValue=!0,h.value=p}),[p]),d(p),p}},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function x(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!u.call(f,e)||!u.call(p,e)&&(h.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),j=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D,P=Object.assign;function $(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var z=!1;function F(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?$(e):""}function B(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case k:return"Portal";case S:return"Profiler";case _:return"StrictMode";case T:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case j:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function U(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=U(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=U(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return P({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&x(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return P({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ie(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=P({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Ne=null,_e=null;function Se(e){if(e=bo(e)){if("function"!==typeof ke)throw Error(i(280));var t=e.stateNode;t&&(t=ko(t),ke(e.stateNode,e.type,t))}}function Ce(e){Ne?_e?_e.push(e):_e=[e]:Ne=e}function je(){if(Ne){var e=Ne,t=_e;if(_e=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Te(){}var Ae=!1;function Me(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ee(e,t,n)}finally{Ae=!1,(null!==Ne||null!==_e)&&(Te(),je())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=ko(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Oe=!1}function Le(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Pe=null,$e=!1,ze=null,Fe={onError:function(e){De=!0,Pe=e}};function Be(e,t,n,r,o,i,s,a,l){De=!1,Pe=null,Le.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ve(e)!==e)throw Error(i(188))}function Ue(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return He(o),e;if(s===r)return He(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Xe=o.unstable_now,Ze=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=ut(a):0!==(i&=s)&&(r=ut(i))}else 0!==(s=n&~o)?r=ut(s):0!==i&&(r=ut(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var xt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,Nt,_t,St,Ct=!1,jt=[],Et=null,Tt=null,At=null,Mt=new Map,Rt=new Map,Ot=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Dt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Pt(e){var t=xo(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void St(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function $t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function zt(e,t,n){$t(e)&&n.delete(t)}function Ft(){Ct=!1,null!==Et&&$t(Et)&&(Et=null),null!==Tt&&$t(Tt)&&(Tt=null),null!==At&&$t(At)&&(At=null),Mt.forEach(zt),Rt.forEach(zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Vt(e){function t(t){return Bt(t,e)}if(0<jt.length){Bt(jt[0],e);for(var n=1;n<jt.length;n++){var r=jt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Et&&Bt(Et,e),null!==Tt&&Bt(Tt,e),null!==At&&Bt(At,e),Mt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Pt(n),null===n.blockedOn&&Ot.shift()}var Wt=b.ReactCurrentBatchConfig,Ht=!0;function Ut(e,t,n,r){var o=xt,i=Wt.transition;Wt.transition=null;try{xt=1,qt(e,t,n,r)}finally{xt=o,Wt.transition=i}}function Gt(e,t,n,r){var o=xt,i=Wt.transition;Wt.transition=null;try{xt=4,qt(e,t,n,r)}finally{xt=o,Wt.transition=i}}function qt(e,t,n,r){if(Ht){var o=Yt(e,t,n,r);if(null===o)Hr(e,t,r,Kt,n),Lt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Et=Dt(Et,e,t,n,r,o),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,o),!0;case"mouseover":return At=Dt(At,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mt.set(i,Dt(Mt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Dt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==o;){var i=bo(o);if(null!==i&&wt(i),null===(i=Yt(e,t,n,r))&&Hr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Yt(e,t,n,r){if(Kt=null,null!==(e=xo(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,o="value"in Xt?Xt.value:Xt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return P(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=on(cn),un=P({},cn,{view:0,detail:0}),hn=on(un),pn=P({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(pn),mn=on(P({},pn,{dataTransfer:0})),gn=on(P({},un,{relatedTarget:0})),vn=on(P({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=P({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=on(yn),bn=on(P({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return _n}var Cn=P({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),jn=on(Cn),En=on(P({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(P({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=on(P({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=P({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Mn),On=[9,13,27,32],In=d&&"CompositionEvent"in window,Ln=null;d&&"documentMode"in document&&(Ln=document.documentMode);var Dn=d&&"TextEvent"in window&&!Ln,Pn=d&&(!In||Ln&&8<Ln&&11>=Ln),$n=String.fromCharCode(32),zn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Un(e,t,n,r){Ce(r),0<(t=Gr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Kn(e){$r(e,0)}function Yn(e){if(q(wo(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Zn;if(d){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Un(t,qn,e,we(e)),Me(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ir(e,t){if("click"===e)return Yn(t)}function sr(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!u.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=dr(n,i);var s=dr(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,xr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},_r={};function Sr(e){if(Nr[e])return Nr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in _r)return Nr[e]=n[t];return e}d&&(_r=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Cr=Sr("animationend"),jr=Sr("animationiteration"),Er=Sr("animationstart"),Tr=Sr("transitionend"),Ar=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),l(t,[e])}for(var Or=0;Or<Mr.length;Or++){var Ir=Mr[Or];Rr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(jr,"onAnimationIteration"),Rr(Er,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Pr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,c){if(Be.apply(this,arguments),De){if(!De)throw Error(i(198));var d=Pe;De=!1,Pe=null,$e||($e=!0,ze=d)}}(r,t,void 0,e),e.currentTarget=null}function $r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Pr(o,a,c),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Pr(o,a,c),i=l}}}if($e)throw e=ze,$e=!1,ze=null,e}function zr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Qt(t)){case 1:var o=Ut;break;case 4:o=Gt;break;default:o=qt}n=o.bind(null,t,n,e),o=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=xo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Me((function(){var r=i,o=we(n),s=[];e:{var a=Ar.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=jn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Cr:case jr:case Er:l=vn;break;case Tr:l=An;break;case"scroll":l=hn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==a?a+"Capture":null:a;d=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==h&&(null!=(m=Re(f,h))&&d.push(Ur(f,m,p)))),u)break;f=f.return}0<d.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!xo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xo(c):null)&&(c!==(u=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=En,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?a:wo(l),p=null==c?a:wo(c),(a=new d(m,f+"leave",l,n,o)).target=u,a.relatedTarget=p,m=null,xo(o)===r&&((d=new d(h,f+"enter",c,n,o)).target=p,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,p=d=l;p;p=qr(p))f++;for(p=0,m=h;m;m=qr(m))p++;for(;0<f-p;)d=qr(d),f--;for(;0<p-f;)h=qr(h),p--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=qr(d),h=qr(h)}d=null}else d=null;null!==l&&Kr(s,a,l,d,!1),null!==c&&null!==u&&Kr(s,u,c,d,!0)}if("select"===(l=(a=r?wo(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Qn;else if(Hn(a))if(Xn)g=sr;else{g=or;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Un(s,g,n,o):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?wo(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,br(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,o)}var y;if(In)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Vn?Fn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Pn&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Vn&&(y=en()):(Zt="value"in(Xt=o)?Xt.value:Xt.textContent,Vn=!0)),0<(v=Gr(r,x)).length&&(x=new bn(x,e,null,n,o),s.push({event:x,listeners:v}),y?x.data=y:null!==(y=Bn(n))&&(x.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(zn=!0,$n);case"textInput":return(e=t.data)===$n&&zn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!In&&Fn(e,t)?(e=en(),Jt=Zt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Pn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=y))}$r(s,t)}))}function Ur(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(Ur(e,i,o)),null!=(i=Re(e,t))&&r.push(Ur(e,i,o))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Re(n,i))&&s.unshift(Ur(n,l,a)):o||null!=(l=Re(n,i))&&s.push(Ur(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(i(425))}function Jr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Vt(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),po="__reactFiber$"+ho,fo="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,vo="__reactListeners$"+ho,yo="__reactHandles$"+ho;function xo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[po])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wo(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function ko(e){return e[fo]||null}var No=[],_o=-1;function So(e){return{current:e}}function Co(e){0>_o||(e.current=No[_o],No[_o]=null,_o--)}function jo(e,t){_o++,No[_o]=e.current,e.current=t}var Eo={},To=So(Eo),Ao=So(!1),Mo=Eo;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Eo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Io(){Co(Ao),Co(To)}function Lo(e,t,n){if(To.current!==Eo)throw Error(i(168));jo(To,t),jo(Ao,n)}function Do(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,W(e)||"Unknown",o));return P({},n,r)}function Po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Eo,Mo=To.current,jo(To,e),jo(Ao,Ao.current),!0}function $o(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Do(e,t,Mo),r.__reactInternalMemoizedMergedChildContext=e,Co(Ao),Co(To),jo(To,e)):Co(Ao),jo(Ao,n)}var zo=null,Fo=!1,Bo=!1;function Vo(e){null===zo?zo=[e]:zo.push(e)}function Wo(){if(!Bo&&null!==zo){Bo=!0;var e=0,t=xt;try{var n=zo;for(xt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zo=null,Fo=!1}catch(o){throw null!==zo&&(zo=zo.slice(e+1)),qe(Je,Wo),o}finally{xt=t,Bo=!1}}return null}var Ho=[],Uo=0,Go=null,qo=0,Ko=[],Yo=0,Qo=null,Xo=1,Zo="";function Jo(e,t){Ho[Uo++]=qo,Ho[Uo++]=Go,Go=e,qo=t}function ei(e,t,n){Ko[Yo++]=Xo,Ko[Yo++]=Zo,Ko[Yo++]=Qo,Qo=e;var r=Xo;e=Zo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xo=1<<32-st(t)+o|n<<o|r,Zo=i+e}else Xo=1<<i|n<<o|r,Zo=e}function ti(e){null!==e.return&&(Jo(e,1),ei(e,1,0))}function ni(e){for(;e===Go;)Go=Ho[--Uo],Ho[Uo]=null,qo=Ho[--Uo],Ho[Uo]=null;for(;e===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Zo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Xo,overflow:Zo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ci(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function di(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ci(e))throw Error(i(418));t=co(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ci(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function ui(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return ui(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ci(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=co(t.nextSibling)}if(ui(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?co(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=co(e.nextSibling)}function fi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=b.ReactCurrentBatchConfig;function vi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function yi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Pc(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===N?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&xi(i)===t.type)?((r=o(t,n.props)).ref=vi(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=vi(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$c(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,r,i){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Pc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=vi(e,null,t),n.return=e,n;case k:return(t=$c(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;yi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===o?c(e,t,n,r):null;case k:return n.key===o?d(e,t,n,r):null;case R:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||L(n))return null!==o?null:u(e,t,n,r,null);yi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case k:return d(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return f(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||L(r))return u(t,e=e.get(n)||null,r,o,null);yi(t,r)}return null}function m(o,i,a,l){for(var c=null,d=null,u=i,m=i=0,g=null;null!==u&&m<a.length;m++){u.index>m?(g=u,u=null):g=u.sibling;var v=p(o,u,a[m],l);if(null===v){null===u&&(u=g);break}e&&u&&null===v.alternate&&t(o,u),i=s(v,i,m),null===d?c=v:d.sibling=v,d=v,u=g}if(m===a.length)return n(o,u),ii&&Jo(o,m),c;if(null===u){for(;m<a.length;m++)null!==(u=h(o,a[m],l))&&(i=s(u,i,m),null===d?c=u:d.sibling=u,d=u);return ii&&Jo(o,m),c}for(u=r(o,u);m<a.length;m++)null!==(g=f(u,o,m,a[m],l))&&(e&&null!==g.alternate&&u.delete(null===g.key?m:g.key),i=s(g,i,m),null===d?c=g:d.sibling=g,d=g);return e&&u.forEach((function(e){return t(o,e)})),ii&&Jo(o,m),c}function g(o,a,l,c){var d=L(l);if("function"!==typeof d)throw Error(i(150));if(null==(l=d.call(l)))throw Error(i(151));for(var u=d=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var x=p(o,m,y.value,c);if(null===x){null===m&&(m=v);break}e&&m&&null===x.alternate&&t(o,m),a=s(x,a,g),null===u?d=x:u.sibling=x,u=x,m=v}if(y.done)return n(o,m),ii&&Jo(o,g),d;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(a=s(y,a,g),null===u?d=y:u.sibling=y,u=y);return ii&&Jo(o,g),d}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(o,e)})),ii&&Jo(o,g),d}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===N&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===N){if(7===d.tag){n(r,d.sibling),(i=o(d,s.props.children)).return=r,r=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&xi(c)===d.type){n(r,d.sibling),(i=o(d,s.props)).ref=vi(r,d,s),i.return=r,r=i;break e}n(r,d);break}t(r,d),d=d.sibling}s.type===N?((i=Lc(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=Ic(s.type,s.key,s.props,null,r.mode,l)).ref=vi(r,i,s),l.return=r,r=l)}return a(r);case k:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=$c(s,r.mode,l)).return=r,r=i}return a(r);case R:return e(r,i,(d=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(L(s))return g(r,i,s,l);yi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Pc(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var wi=bi(!0),ki=bi(!1),Ni=So(null),_i=null,Si=null,Ci=null;function ji(){Ci=Si=_i=null}function Ei(e){var t=Ni.current;Co(Ni),e._currentValue=t}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ai(e,t){_i=e,Ci=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(xa=!0),e.firstContext=null)}function Mi(e){var t=e._currentValue;if(Ci!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===_i)throw Error(i(308));Si=e,_i.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ri=null;function Oi(e){null===Ri?Ri=[e]:Ri.push(e)}function Ii(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Li(e,r)}function Li(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Di=!1;function Pi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&El)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Li(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Li(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wi(e,t,n,r){var o=e.updateQueue;Di=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?i=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==i){var u=o.baseState;for(s=0,d=c=l=null,a=i;;){var h=a.lane,p=a.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(h=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(p,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(p,u,h):f)||void 0===h)break e;u=P({},u,h);break e;case 2:Di=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=u}}function Hi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ui={},Gi=So(Ui),qi=So(Ui),Ki=So(Ui);function Yi(e){if(e===Ui)throw Error(i(174));return e}function Qi(e,t){switch(jo(Ki,t),jo(qi,e),jo(Gi,Ui),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Co(Gi),jo(Gi,t)}function Xi(){Co(Gi),Co(qi),Co(Ki)}function Zi(e){Yi(Ki.current);var t=Yi(Gi.current),n=le(t,e.type);t!==n&&(jo(qi,e),jo(Gi,n))}function Ji(e){qi.current===e&&(Co(Gi),Co(qi))}var es=So(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=b.ReactCurrentDispatcher,is=b.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,ds=!1,us=!1,hs=0,ps=0;function fs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Js:ea,e=n(r,o),us){s=0;do{if(us=!1,hs=0,25<=s)throw Error(i(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(us)}if(os.current=Zs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,ds=!1,t)throw Error(i(300));return e}function vs(){var e=0!==hs;return hs=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function xs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function bs(e,t){return"function"===typeof t?t(e):t}function ws(e){var t=xs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,a=r):c=c.next=h,as.lanes|=u,Dl|=u}d=d.next}while(null!==d&&d!==s);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(xa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Dl|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ks(e){var t=xs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(xa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ns(){}function _s(e,t){var n=as,r=xs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,xa=!0),r=r.queue,Ds(js.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ms(9,Cs.bind(null,n,r,o,t),void 0,null),null===Tl)throw Error(i(349));0!==(30&ss)||Ss(n,t,o)}return o}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Cs(e,t,n,r){t.value=n,t.getSnapshot=r,Es(t)&&Ts(e)}function js(e,t,n){return n((function(){Es(t)&&Ts(e)}))}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Ts(e){var t=Li(e,1);null!==t&&nc(t,e,1,-1)}function As(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ms(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return xs().memoizedState}function Os(e,t,n,r){var o=ys();as.flags|=e,o.memoizedState=Ms(1|t,n,void 0,void 0===r?null:r)}function Is(e,t,n,r){var o=xs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ms(t,n,i,r))}as.flags|=e,o.memoizedState=Ms(1|t,n,i,r)}function Ls(e,t){return Os(8390656,8,e,t)}function Ds(e,t){return Is(2048,8,e,t)}function Ps(e,t){return Is(4,2,e,t)}function $s(e,t){return Is(4,4,e,t)}function zs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Is(4,4,zs.bind(null,t,e),n)}function Bs(){}function Vs(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=xs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,xa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Dl|=n,e.baseState=!0),t)}function Us(e,t){var n=xt;xt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{xt=n,is.transition=r}}function Gs(){return xs().memoizedState}function qs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Ii(e,t,n,r))){nc(n,e,r,ec()),Xs(n,t,r)}}function Ks(e,t,n){var r=tc(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Oi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Ii(e,t,o,r))&&(nc(n,e,r,o=ec()),Xs(n,t,r))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){us=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Zs={readContext:Mi,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Js={readContext:Mi,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Mi,useEffect:Ls,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,zs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ys();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:As,useDebugValue:Bs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=As(!1),t=e[0];return e=Us.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=ys();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Tl)throw Error(i(349));0!==(30&ss)||Ss(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ls(js.bind(null,r,s,e),[e]),r.flags|=2048,Ms(9,Cs.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=Tl.identifierPrefix;if(ii){var n=Zo;t=":"+t+"R"+(n=(Xo&~(1<<32-st(Xo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Mi,useCallback:Vs,useContext:Mi,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ps,useLayoutEffect:$s,useMemo:Ws,useReducer:ws,useRef:Rs,useState:function(){return ws(bs)},useDebugValue:Bs,useDeferredValue:function(e){return Hs(xs(),ls.memoizedState,e)},useTransition:function(){return[ws(bs)[0],xs().memoizedState]},useMutableSource:Ns,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1},ta={readContext:Mi,useCallback:Vs,useContext:Mi,useEffect:Ds,useImperativeHandle:Fs,useInsertionEffect:Ps,useLayoutEffect:$s,useMemo:Ws,useReducer:ks,useRef:Rs,useState:function(){return ks(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=xs();return null===ls?t.memoizedState=e:Hs(t,ls.memoizedState,e)},useTransition:function(){return[ks(bs)[0],xs().memoizedState]},useMutableSource:Ns,useSyncExternalStore:_s,useId:Gs,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=P({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:P({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),o=tc(e),i=zi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nc(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),o=zi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fi(e,o,r))&&(nc(t,e,r,n),Bi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=Eo,i=t.contextType;return"object"===typeof i&&null!==i?i=Mi(i):(o=Oo(t)?Mo:To.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):Eo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Pi(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Mi(i):(i=Oo(t)?Mo:To.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Wi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=zi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Ul=r),ua(0,t)},n}function fa(e,t,n){(n=zi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ua(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zi(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=b.ReactCurrentOwner,xa=!1;function ba(e,t,n,r){t.child=null===e?ki(t,null,n,r):wi(t,e.child,n,r)}function wa(e,t,n,r,o){n=n.render;var i=t.ref;return Ai(t,o),r=gs(e,t,n,r,i,o),n=vs(),null===e||xa?(ii&&n&&ti(t),t.flags|=1,ba(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ha(e,t,o))}function ka(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Rc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Na(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Ha(e,t,o)}return t.flags|=1,(e=Oc(i,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(xa=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Ha(e,t,o);0!==(131072&e.flags)&&(xa=!0)}}return Ca(e,t,n,r,o)}function _a(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jo(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jo(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,jo(Ol,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,jo(Ol,Rl),Rl|=r;return ba(e,t,o,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,o){var i=Oo(n)?Mo:To.current;return i=Ro(t,i),Ai(t,o),n=gs(e,t,n,r,i,o),r=vs(),null===e||xa?(ii&&r&&ti(t),t.flags|=1,ba(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ha(e,t,o))}function ja(e,t,n,r,o){if(Oo(n)){var i=!0;Po(t)}else i=!1;if(Ai(t,o),null===t.stateNode)Wa(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mi(c):c=Ro(t,c=Oo(n)?Mo:To.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==c)&&aa(t,s,r,c),Di=!1;var h=t.memoizedState;s.state=h,Wi(t,r,s,o),l=t.memoizedState,a!==r||h!==l||Ao.current||Di?("function"===typeof d&&(ra(t,n,d,r),l=t.memoizedState),(a=Di||ia(t,n,a,r,h,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,$i(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,u=t.pendingProps,h=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mi(l):l=Ro(t,l=Oo(n)?Mo:To.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||h!==l)&&aa(t,s,r,l),Di=!1,h=t.memoizedState,s.state=h,Wi(t,r,s,o);var f=t.memoizedState;a!==u||h!==f||Ao.current||Di?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(c=Di||ia(t,n,c,r,h,f,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Ea(e,t,n,r,i,o)}function Ea(e,t,n,r,o,i){Sa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&$o(t,n,!1),Ha(e,t,i);r=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,a,i)):ba(e,t,a,i),t.memoizedState=r.state,o&&$o(t,n,!0),t.child}function Ta(e){var t=e.stateNode;t.pendingContext?Lo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lo(0,t.context,!1),Qi(e,t.containerInfo)}function Aa(e,t,n,r,o){return fi(),mi(o),t.flags|=256,ba(e,t,n,r),t.child}var Ma,Ra,Oa,Ia,La={dehydrated:null,treeContext:null,retryLane:0};function Da(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pa(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),jo(es,1&s),null===e)return di(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Dc(l,o,0,null),e=Lc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Da(n),t.memoizedState=La,e):$a(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,za(e,t,a,r=da(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Dc({mode:"visible",children:r.children},o,0,null),(s=Lc(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&wi(t,e.child,null,a),t.child.memoizedState=Da(a),t.memoizedState=La,s);if(0===(1&t.mode))return za(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,za(e,t,a,r=da(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),xa||l){if(null!==(r=Tl)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Li(e,o),nc(r,e,o,-1))}return mc(),za(e,t,a,r=da(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=jc.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=co(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Yo++]=Xo,Ko[Yo++]=Zo,Ko[Yo++]=Qo,Xo=e.id,Zo=e.overflow,Qo=t),t=$a(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Oc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Da(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,o}return e=(a=e.child).sibling,o=Oc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function $a(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function za(e,t,n,r){return null!==r&&mi(r),wi(t,e.child,null,n),(e=$a(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function Ba(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Va(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(jo(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ba(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ua(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qa(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Oo(t.type)&&Io(),Ga(t),null;case 3:return r=t.stateNode,Xi(),Co(Ao),Co(To),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sc(si),si=null))),Ra(e,t),Ga(t),null;case 5:Ji(t);var o=Yi(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Ga(t),null}if(e=Yi(Gi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[fo]=s,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)zr(Lr[o],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Q(r,s),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},zr("invalid",r);break;case"textarea":oe(r,s),zr("invalid",r)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Zr(r.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&zr("scroll",r)}switch(n){case"input":G(r),J(r,s,!0);break;case"textarea":G(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Jr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[fo]=r,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(l=xe(n,r),n){case"dialog":zr("cancel",e),zr("close",e),o=r;break;case"iframe":case"object":case"embed":zr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)zr(Lr[o],e);o=r;break;case"source":zr("error",e),o=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),o=r;break;case"details":zr("toggle",e),o=r;break;case"input":Q(e,r),o=Y(e,r),zr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=P({},r,{value:void 0}),zr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),zr("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ge(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=d&&"onScroll"===s&&zr("scroll",e):null!=d&&x(e,s,d,l))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Ia(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Yi(Ki.current),Yi(Gi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Ga(t),null;case 13:if(Co(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),fi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),s=!1}else null!==si&&(sc(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return Xi(),Ra(e,t),null===e&&Vr(t.stateNode.containerInfo),Ga(t),null;case 10:return Ei(t.type._context),Ga(t),null;case 19:if(Co(es),null===(s=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)Ua(s,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,Ua(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return jo(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Xe()>Vl&&(t.flags|=128,r=!0,Ua(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ua(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Ga(t),null}else 2*Xe()-s.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Ua(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=es.current,jo(es,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ka(e,t){switch(ni(t),t.tag){case 1:return Oo(t.type)&&Io(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xi(),Co(Ao),Co(To),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ji(t),null;case 13:if(Co(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Co(es),null;case 4:return Xi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Oa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Yi(Gi.current);var i,s=null;switch(n){case"input":o=Y(e,o),r=Y(e,r),s=[];break;case"select":o=P({},o,{value:void 0}),r=P({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(d in ye(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(a.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(a.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&zr("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ia=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Qa=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){_c(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[fo],delete t[go],delete t[vo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Qa||Ja(n,t);case 6:var r=dl,o=ul;dl=null,hl(e,t,n),ul=o,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Vt(e)):lo(dl,n.stateNode));break;case 4:r=dl,o=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=r,ul=o;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}hl(e,t,n);break;case 1:if(!Qa&&(Ja(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_c(n,t,a)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qa=(r=Qa)||null!==n.memoizedState,hl(e,t,n),Qa=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Ec.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(i(160));pl(s,a,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){_c(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){_c(e,e.return,g)}try{nl(5,e,e.return)}catch(g){_c(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){_c(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&X(o,s),xe(l,a);var d=xe(l,s);for(a=0;a<c.length;a+=2){var u=c[a],h=c[a+1];"style"===u?ge(o,h):"dangerouslySetInnerHTML"===u?ue(o,h):"children"===u?he(o,h):x(o,u,h,d)}switch(l){case"input":Z(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(o,!!s.multiple,f,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[fo]=s}catch(g){_c(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){_c(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){_c(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Xe())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(d=Qa)||u,ml(t,e),Qa=d):ml(t,e),vl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Za=e,u=e.child;null!==u;){for(h=Za=u;null!==Za;){switch(f=(p=Za).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ja(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){_c(r,n,g)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){wl(h);continue}}null!==f?(f.return=p,Za=f):wl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{o=h.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=h.stateNode,a=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){_c(e,e.return,g)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){_c(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){_c(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Za=e,xl(e,t,n)}function xl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var o=Za,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Za=o;null!==Za;)l=(s=Za).child,22===s.tag&&null!==s.memoizedState?kl(o):null!==l?(l.return=s,Za=l):kl(o);for(;null!==i;)Za=i,xl(i,t,n),i=i.sibling;Za=o,Ya=a,Qa=c}bl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Za=i):bl(e)}}function bl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qa)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Hi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(i(163))}Qa||512&t.flags&&ol(t)}catch(p){_c(t,t.return,p)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function wl(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function kl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){_c(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){_c(t,o,l)}}var i=t.return;try{ol(t)}catch(l){_c(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){_c(t,s,l)}}}catch(l){_c(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Nl,_l=Math.ceil,Sl=b.ReactCurrentDispatcher,Cl=b.ReactCurrentOwner,jl=b.ReactCurrentBatchConfig,El=0,Tl=null,Al=null,Ml=0,Rl=0,Ol=So(0),Il=0,Ll=null,Dl=0,Pl=0,$l=0,zl=null,Fl=null,Bl=0,Vl=1/0,Wl=null,Hl=!1,Ul=null,Gl=null,ql=!1,Kl=null,Yl=0,Ql=0,Xl=null,Zl=-1,Jl=0;function ec(){return 0!==(6&El)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&El)&&0!==Ml?Ml&-Ml:null!==gi.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=xt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(i(185));vt(e,n,r),0!==(2&El)&&e===Tl||(e===Tl&&(0===(2&El)&&(Pl|=n),4===Il&&ac(e,Ml)),rc(e,r),1===n&&0===El&&0===(1&t.mode)&&(Vl=Xe()+500,Fo&&Wo()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===Tl?Ml:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fo=!0,Vo(e)}(lc.bind(null,e)):Vo(lc.bind(null,e)),so((function(){0===(6&El)&&Wo()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Zl=-1,Jl=0,0!==(6&El))throw Error(i(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Tl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var o=El;El|=2;var s=fc();for(Tl===e&&Ml===t||(Wl=null,Vl=Xe()+500,hc(e,t));;)try{yc();break}catch(l){pc(e,l)}ji(),Sl.current=s,El=o,null!==Al?t=0:(Tl=null,Ml=0,t=Il)}if(0!==t){if(2===t&&(0!==(o=ft(e))&&(r=o,t=ic(e,o))),1===t)throw n=Ll,hc(e,0),ac(e,r),rc(e,Xe()),n;if(6===t)ac(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=ic(e,s))),1===t))throw n=Ll,hc(e,0),ac(e,r),rc(e,Xe()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Fl,Wl);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=Bl+500-Xe())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(wc.bind(null,e,Fl,Wl),t);break}wc(e,Fl,Wl);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_l(r/1960))-r)){e.timeoutHandle=ro(wc.bind(null,e,Fl,Wl),r);break}wc(e,Fl,Wl);break;default:throw Error(i(329))}}}return rc(e,Xe()),e.callbackNode===n?oc.bind(null,e):null}function ic(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Fl,Fl=n,null!==t&&sc(t)),e}function sc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~$l,t&=~Pl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&El))throw Error(i(327));kc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ll,hc(e,0),ac(e,t),rc(e,Xe()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fl,Wl),rc(e,Xe()),null}function cc(e,t){var n=El;El|=1;try{return e(t)}finally{0===(El=n)&&(Vl=Xe()+500,Fo&&Wo())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&El)&&kc();var t=El;El|=1;var n=jl.transition,r=xt;try{if(jl.transition=null,xt=1,e)return e()}finally{xt=r,jl.transition=n,0===(6&(El=t))&&Wo()}}function uc(){Rl=Ol.current,Co(Ol)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Io();break;case 3:Xi(),Co(Ao),Co(To),rs();break;case 5:Ji(r);break;case 4:Xi();break;case 13:case 19:Co(es);break;case 10:Ei(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Tl=e,Al=e=Oc(e.current,null),Ml=Rl=t,Il=0,Ll=null,$l=Pl=Dl=0,Fl=zl=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Ri=null}return e}function pc(e,t){for(;;){var n=Al;try{if(ji(),os.current=Zs,ds){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}ds=!1}if(ss=0,cs=ls=as=null,us=!1,hs=0,Cl.current=null,null===n||null===n.return){Il=1,Ll=t,Al=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(s,d,t),c=d;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ma(s,d,t),mc();break e}c=Error(i(426))}else if(ii&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),mi(ca(c,l));break e}}s=c=ca(c,l),4!==Il&&(Il=2),null===zl?zl=[s]:zl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Vi(s,pa(0,c,t));break e;case 1:l=c;var y=s.type,x=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Gl||!Gl.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t,Vi(s,fa(s,l,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(b){t=b,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function fc(){var e=Sl.current;return Sl.current=Zs,null===e?Zs:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Tl||0===(268435455&Dl)&&0===(268435455&Pl)||ac(Tl,Ml)}function gc(e,t){var n=El;El|=2;var r=fc();for(Tl===e&&Ml===t||(Wl=null,hc(e,t));;)try{vc();break}catch(o){pc(e,o)}if(ji(),El=n,Sl.current=r,null!==Al)throw Error(i(261));return Tl=null,Ml=0,Il}function vc(){for(;null!==Al;)xc(Al)}function yc(){for(;null!==Al&&!Ye();)xc(Al)}function xc(e){var t=Nl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Al=t,Cl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qa(n,t,Rl)))return void(Al=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Il=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Il&&(Il=5)}function wc(e,t,n){var r=xt,o=jl.transition;try{jl.transition=null,xt=1,function(e,t,n,r){do{kc()}while(null!==Kl);if(0!==(6&El))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Tl&&(Al=Tl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Tc(tt,(function(){return kc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=jl.transition,jl.transition=null;var a=xt;xt=1;var l=El;El|=4,Cl.current=null,function(e,t){if(eo=Ht,pr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==o&&3!==h.nodeType||(l=a+o),h!==s||0!==r&&3!==h.nodeType||(c=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++d===o&&(l=a),p===s&&++u===r&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ht=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(w){_c(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(to),Ht=!!eo,to=eo=null,e.current=n,yl(n,e,o),Qe(),El=l,xt=a,jl.transition=s}else e.current=n;if(ql&&(ql=!1,Kl=e,Yl=o),s=e.pendingLanes,0===s&&(Gl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Hl)throw Hl=!1,e=Ul,Ul=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),s=e.pendingLanes,0!==(1&s)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Wo()}(e,t,n,r)}finally{jl.transition=o,xt=r}return null}function kc(){if(null!==Kl){var e=bt(Yl),t=jl.transition,n=xt;try{if(jl.transition=null,xt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&El))throw Error(i(331));var o=El;for(El|=4,Za=e.current;null!==Za;){var s=Za,a=s.child;if(0!==(16&Za.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Za=d;null!==Za;){var u=Za;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var h=u.child;if(null!==h)h.return=u,Za=h;else for(;null!==Za;){var p=(u=Za).sibling,f=u.return;if(il(u),u===d){Za=null;break}if(null!==p){p.return=f,Za=p;break}Za=f}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Za=a;else e:for(;null!==Za;){if(0!==(2048&(s=Za).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Za=y;break e}Za=s.return}}var x=e.current;for(Za=x;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=x;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(k){_c(l,l.return,k)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(El=o,Wo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(k){}r=!0}return r}finally{xt=n,jl.transition=t}}return!1}function Nc(e,t,n){e=Fi(e,t=pa(0,t=ca(n,t),1),1),t=ec(),null!==e&&(vt(e,1,t),rc(e,t))}function _c(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Fi(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(vt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tl===e&&(Ml&n)===n&&(4===Il||3===Il&&(130023424&Ml)===Ml&&500>Xe()-Bl?hc(e,0):$l|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Li(e,t))&&(vt(e,t,n),rc(e,n))}function jc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ec(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Cc(e,n)}function Tc(e,t){return qe(e,t)}function Ac(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,r){return new Ac(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Rc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case N:return Lc(n.children,o,s,t);case _:a=8,o|=8;break;case S:return(e=Mc(12,n,t,2|o)).elementType=S,e.lanes=s,e;case T:return(e=Mc(13,n,t,o)).elementType=T,e.lanes=s,e;case A:return(e=Mc(19,n,t,o)).elementType=A,e.lanes=s,e;case O:return Dc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case j:a=9;break e;case E:a=11;break e;case M:a=14;break e;case R:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Mc(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Lc(e,t,n,r){return(e=Mc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Mc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Pc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function $c(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,r,o,i,s,a,l){return e=new zc(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Mc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pi(i),e}function Bc(e){if(!e)return Eo;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Do(e,n,t)}return t}function Vc(e,t,n,r,o,i,s,a,l){return(e=Fc(n,r,!0,e,0,i,0,a,l)).context=Bc(null),n=e.current,(i=zi(r=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,o),e.current.lanes=o,vt(e,o,r),rc(e,r),e}function Wc(e,t,n,r){var o=t.current,i=ec(),s=tc(o);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(o,t,s))&&(nc(e,o,s,i),Bi(e,o,s)),s}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Uc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ao.current)xa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return xa=!1,function(e,t,n){switch(t.tag){case 3:Ta(t),fi();break;case 5:Zi(t);break;case 1:Oo(t.type)&&Po(t);break;case 4:Qi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;jo(Ni,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(jo(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pa(e,t,n):(jo(es,1&es.current),null!==(e=Ha(e,t,n))?e.sibling:null);jo(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Va(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),jo(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,_a(e,t,n)}return Ha(e,t,n)}(e,t,n);xa=0!==(131072&e.flags)}else xa=!1,ii&&0!==(1048576&t.flags)&&ei(t,qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var o=Ro(t,To.current);Ai(t,n),o=gs(null,t,r,e,o,n);var s=vs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(s=!0,Po(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Pi(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Ea(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),ba(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===M)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=ja(null,t,r,e,n);break e;case 11:t=wa(null,t,r,e,n);break e;case 14:t=ka(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ca(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,ja(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Ta(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,$i(e,t),Wi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Aa(e,t,r,n,o=ca(Error(i(423)),t));break e}if(r!==o){t=Aa(e,t,r,n,o=ca(Error(i(424)),t));break e}for(oi=co(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=ki(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===o){t=Ha(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Zi(t),null===e&&di(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&di(t),null;case 13:return Pa(e,t,n);case 4:return Qi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,wa(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,jo(Ni,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Ao.current){t=Ha(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=zi(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Ti(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ti(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ai(t,n),r=r(o=Mi(o)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),ka(e,t,r,o=na(r.type,o),n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Wa(e,t),t.tag=1,Oo(r)?(e=!0,Po(t)):e=!1,Ai(t,n),sa(t,r,o),la(t,r,o,n),Ea(null,t,r,!0,e,n);case 19:return Va(e,t,n);case 22:return _a(e,t,n)}throw Error(i(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Hc(s);a.call(e)}}Wc(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Hc(s);i.call(e)}}var s=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=s,e[mo]=s.current,Vr(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[mo]=l.current,Vr(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,r)})),l}(n,t,e,o,r);return Hc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Pt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),rc(t,Xe()),0===(6&El)&&(Vl=Xe()+500,Wo()))}break;case 13:dc((function(){var t=Li(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Gc(e,1)}},kt=function(e){if(13===e.tag){var t=Li(e,134217728);if(null!==t)nc(t,e,134217728,ec());Gc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Li(e,t);if(null!==n)nc(n,e,t,ec());Gc(e,t)}},_t=function(){return xt},St=function(e,t){var n=xt;try{return xt=e,t()}finally{xt=n}},ke=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=ko(r);if(!o)throw Error(i(90));q(r),Z(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ee=cc,Te=dc;var ed={usingClientEntryPoint:!1,Events:[bo,wo,ko,Ce,je,cc]},td={findFiberByHostInstance:xo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ue(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{ot=rd.inject(nd),it=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,r="",o=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ue(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(i(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Vr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(i(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},734:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(173),i=n(43),s=n(225),a=n(388),l=function(e){function t(t){var n=e.call(this,t)||this;return n.state={value:n.props.value},n.onChange=n.onChange.bind(n),n.diff=n.diff.bind(n),n}return r(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.value;e!==this.state.value&&this.setState({value:e})},t.prototype.onChange=function(e){this.setState({value:e}),this.props.onChange&&this.props.onChange(e)},t.prototype.diff=function(){var e=new a,t=this.state.value[0],n=this.state.value[1];if(0===t.length&&0===n.length)return[];var r=e.diff_main(t,n);e.diff_cleanupSemantic(r);var o=this.generateDiffedLines(r);return this.setCodeMarkers(o)},t.prototype.generateDiffedLines=function(e){var t=0,n=-1,r=1,o={left:[],right:[]},i={left:1,right:1};return e.forEach((function(e){var s=e[0],a=e[1],l=a.split("\n").length-1;if(0!==a.length){var c=a[0],d=a[a.length-1],u=0;switch(s){case t:i.left+=l,i.right+=l;break;case n:"\n"===c&&(i.left++,l--),0===(u=l)&&o.right.push({startLine:i.right,endLine:i.right}),"\n"===d&&(u-=1),o.left.push({startLine:i.left,endLine:i.left+u}),i.left+=l;break;case r:"\n"===c&&(i.right++,l--),0===(u=l)&&o.left.push({startLine:i.left,endLine:i.left}),"\n"===d&&(u-=1),o.right.push({startLine:i.right,endLine:i.right+u}),i.right+=l;break;default:throw new Error("Diff type was not defined.")}}})),o},t.prototype.setCodeMarkers=function(e){void 0===e&&(e={left:[],right:[]});for(var t=[],n={left:[],right:[]},r=0;r<e.left.length;r++){var o={startRow:e.left[r].startLine-1,endRow:e.left[r].endLine,type:"text",className:"codeMarker"};n.left.push(o)}for(r=0;r<e.right.length;r++){o={startRow:e.right[r].startLine-1,endRow:e.right[r].endLine,type:"text",className:"codeMarker"};n.right.push(o)}return t[0]=n.left,t[1]=n.right,t},t.prototype.render=function(){var e=this.diff();return i.createElement(s.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:e})},t.propTypes={cursorStart:o.number,editorProps:o.object,enableBasicAutocompletion:o.bool,enableLiveAutocompletion:o.bool,focus:o.bool,fontSize:o.number,height:o.string,highlightActiveLine:o.bool,maxLines:o.number,minLines:o.number,mode:o.string,name:o.string,className:o.string,onLoad:o.func,onPaste:o.func,onScroll:o.func,onChange:o.func,orientation:o.string,readOnly:o.bool,scrollMargin:o.array,setOptions:o.object,showGutter:o.bool,showPrintMargin:o.bool,splits:o.number,style:o.object,tabSize:o.number,theme:o.string,value:o.array,width:o.string,wrapEnabled:o.bool},t.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},t}(i.Component);t.default=l},763:(e,t,n)=>{"use strict";e.exports=n(983)},853:(e,t,n)=>{"use strict";e.exports=n(234)},869:(e,t,n)=>{"use strict";var r=n(494);n(734).default,n(225).default,t.Ay=r.default},878:(e,t,n)=>{e=n.nmd(e),ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],(function(e,t,n){"use strict";var r,o=e("./lib/oop"),i=(e("./lib/lang"),e("./lib/event_emitter").EventEmitter),s=e("./editor").Editor,a=e("./virtual_renderer").VirtualRenderer,l=e("./edit_session").EditSession;(function(){o.implement(this,i),this.$createEditor=function(){var e=document.createElement("div");e.className=this.$editorCSS,e.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(e);var t=new s(new a(e,this.$theme));return t.on("focus",function(){this._emit("focus",t)}.bind(this)),this.$editors.push(t),t.setFontSize(this.$fontSize),t},this.setSplits=function(e){var t;if(e<1)throw"The number of splits have to be > 0!";if(e!=this.$splits){if(e>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<e;)t=this.$editors[this.$splits],this.$container.appendChild(t.container),t.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<e;)this.$createEditor(),this.$splits++}else for(;this.$splits>e;)t=this.$editors[this.$splits-1],this.$container.removeChild(t.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(e){return this.$editors[e]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(e){this.$editors.forEach((function(t){t.setTheme(e)}))},this.setKeyboardHandler=function(e){this.$editors.forEach((function(t){t.setKeyboardHandler(e)}))},this.forEach=function(e,t){this.$editors.forEach(e,t)},this.$fontSize="",this.setFontSize=function(e){this.$fontSize=e,this.forEach((function(t){t.setFontSize(e)}))},this.$cloneSession=function(e){var t=new l(e.getDocument(),e.getMode()),n=e.getUndoManager();return t.setUndoManager(n),t.setTabSize(e.getTabSize()),t.setUseSoftTabs(e.getUseSoftTabs()),t.setOverwrite(e.getOverwrite()),t.setBreakpoints(e.getBreakpoints()),t.setUseWrapMode(e.getUseWrapMode()),t.setUseWorker(e.getUseWorker()),t.setWrapLimitRange(e.$wrapLimitRange.min,e.$wrapLimitRange.max),t.$foldData=e.$cloneFoldData(),t},this.setSession=function(e,t){var n;n=null==t?this.$cEditor:this.$editors[t];var r=this.$editors.some((function(t){return t.session===e}));return r&&(e=this.$cloneSession(e)),n.setSession(e),e},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(e){this.$orientation!=e&&(this.$orientation=e,this.resize())},this.resize=function(){var e,t=this.$container.clientWidth,n=this.$container.clientHeight;if(this.$orientation==this.BESIDE)for(var r=t/this.$splits,o=0;o<this.$splits;o++)(e=this.$editors[o]).container.style.width=r+"px",e.container.style.top="0px",e.container.style.left=o*r+"px",e.container.style.height=n+"px",e.resize();else{var i=n/this.$splits;for(o=0;o<this.$splits;o++)(e=this.$editors[o]).container.style.width=t+"px",e.container.style.top=o*i+"px",e.container.style.left="0px",e.container.style.height=i+"px",e.resize()}}}).call((r=function(e,t,n){this.BELOW=1,this.BESIDE=0,this.$container=e,this.$theme=t,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(n||1),this.$cEditor=this.$editors[0],this.on("focus",function(e){this.$cEditor=e}.bind(this))}).prototype),t.Split=r})),ace.define("ace/ext/split",["require","exports","module","ace/split"],(function(e,t,n){"use strict";n.exports=e("../split")})),ace.require(["ace/ext/split"],(function(t){e&&(e.exports=t)}))},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},960:(e,t,n)=>{const r=n(250),o=n(434),i={0:0,t:9,n:10,v:11,f:12,r:13};t.strToChars=function(e){return e=e.replace(/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g,(function(e,t,n,r,o,s,a,l){if(n)return e;var c=t?8:r?parseInt(r,16):o?parseInt(o,16):s?parseInt(s,8):a?"@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?".indexOf(a):i[l],d=String.fromCharCode(c);return/[[\]{}^$.|?*+()]/.test(d)&&(d="\\"+d),d}))},t.tokenizeClass=(e,n)=>{for(var i,s,a=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g;null!=(i=l.exec(e));)if(i[1])a.push(o.words());else if(i[2])a.push(o.ints());else if(i[3])a.push(o.whitespace());else if(i[4])a.push(o.notWords());else if(i[5])a.push(o.notInts());else if(i[6])a.push(o.notWhitespace());else if(i[7])a.push({type:r.RANGE,from:(i[8]||i[9]).charCodeAt(0),to:i[10].charCodeAt(0)});else{if(!(s=i[12]))return[a,l.lastIndex];a.push({type:r.CHAR,value:s.charCodeAt(0)})}t.error(n,"Unterminated character class")},t.error=(e,t)=>{throw new SyntaxError("Invalid regular expression: /"+e+"/: "+t)}},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,x=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case d:case u:case i:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case o:return t}}}function k(e){return w(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=h,t.Fragment=i,t.Lazy=g,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return k(e)||w(e)===d},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===i},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===u||e===a||e===s||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===x||e.$$typeof===b||e.$$typeof===v)},t.typeOf=w}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/new/";var r={};(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,n||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}function o(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(r,{If:()=>PQ});var a=n(43),l=n.t(a,2),c=n(391);function d(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function u(e,t){if(null==e)return{};var n,r,o=d(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(175);const h=["sri"],p=["page"],f=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],g=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],v=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var y="popstate";function x(){return C((function(e,t){let{pathname:n,search:r,hash:o}=e.location;return N("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:_(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function w(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function k(e,t){return{usr:e.state,key:e.key,idx:t}}function N(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return s(s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?S(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function _(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function S(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:i=!1}=r,a=o.history,l="POP",c=null,d=u();function u(){return(a.state||{idx:null}).idx}function h(){l="POP";let e=u(),t=null==e?null:e-d;d=e,c&&c({action:l,location:f.location,delta:t})}function p(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:_(e);return n=n.replace(/ $/,"%20"),b(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==d&&(d=0,a.replaceState(s(s({},a.state),{},{idx:d}),""));let f={get action(){return l},get location(){return e(o,a)},listen(e){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(y,h),c=e,()=>{o.removeEventListener(y,h),c=null}},createHref:e=>t(o,e),createURL:p,encodeLocation(e){let t=p(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l="PUSH";let r=N(f.location,e,t);n&&n(r,e),d=u()+1;let s=k(r,d),h=f.createHref(r);try{a.pushState(s,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;o.location.assign(h)}i&&c&&c({action:l,location:f.location,delta:1})},replace:function(e,t){l="REPLACE";let r=N(f.location,e,t);n&&n(r,e),d=u();let o=k(r,d),s=f.createHref(r);a.replaceState(o,"",s),i&&c&&c({action:l,location:f.location,delta:0})},go:e=>a.go(e)};return f}new WeakMap;function j(e,t){return E(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function E(e,t,n,r){let o=W(("string"===typeof t?S(t):t).pathname||"/",n);if(null==o)return null;let i=T(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a){let e=V(o);s=z(i[a],e,r)}return s}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=(e,o,i)=>{let s={relativePath:void 0===i?e.path||"":i,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(b(s.relativePath.startsWith(r),'Absolute route path "'.concat(s.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),s.relativePath=s.relativePath.slice(r.length));let a=K([r,s.relativePath]),l=n.concat(s);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(a,'".')),T(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:$(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of A(e.path))o(e,t,r);else o(e,t)})),t}function A(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(0===r.length)return o?[i,""]:[i];let s=A(r.join("/")),a=[];return a.push(...s.map((e=>""===e?i:[i,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var M=/^:[\w-]+$/,R=3,O=2,I=1,L=10,D=-2,P=e=>"*"===e;function $(e,t){let n=e.split("/"),r=n.length;return n.some(P)&&(r+=D),t&&(r+=O),n.filter((e=>!P(e))).reduce(((e,t)=>e+(M.test(t)?R:""===t?I:L)),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},i="/",s=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===i?t:t.slice(i.length)||"/",d=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:K([i,d.pathname]),pathnameBase:Y(K([i,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(i=K([i,d.pathnameBase]))}return s}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=B(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=a[n]||"";s=i.slice(0,i.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:i,pathnameBase:s,pattern:e}}function B(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];w("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function V(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return w(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function U(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function G(e){let t=U(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function q(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=S(e):(r=s({},e),b(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),b(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),b(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let i,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)i=n;else{let e=t.length-1;if(!o&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}i=e>=0?t[e]:"/"}let c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?S(e):e,i=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:i,search:Q(r),hash:X(o)}}(r,i),d=l&&"/"!==l&&l.endsWith("/"),u=(a||"."===l)&&n.endsWith("/");return c.pathname.endsWith("/")||!d&&!u||(c.pathname+="/"),c}var K=e=>e.join("/").replace(/\/\/+/g,"/"),Y=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",X=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var J=["POST","PUT","PATCH","DELETE"],ee=(new Set(J),["GET",...J]);new Set(ee),Symbol("ResetLoaderData");var te=a.createContext(null);te.displayName="DataRouter";var ne=a.createContext(null);ne.displayName="DataRouterState";var re=a.createContext({isTransitioning:!1});re.displayName="ViewTransition";var oe=a.createContext(new Map);oe.displayName="Fetchers";var ie=a.createContext(null);ie.displayName="Await";var se=a.createContext(null);se.displayName="Navigation";var ae=a.createContext(null);ae.displayName="Location";var le=a.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=a.createContext(null);ce.displayName="RouteError";function de(){return null!=a.useContext(ae)}function ue(){return b(de(),"useLocation() may be used only in the context of a <Router> component."),a.useContext(ae).location}var he="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){a.useContext(se).static||a.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=a.useContext(le);return e?function(){let{router:e}=Ne("useNavigate"),t=Se("useNavigate"),n=a.useRef(!1);pe((()=>{n.current=!0}));let r=a.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(n.current,he),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,s({fromRouteId:t},o)))}),[e,t]);return r}():function(){b(de(),"useNavigate() may be used only in the context of a <Router> component.");let e=a.useContext(te),{basename:t,navigator:n}=a.useContext(se),{matches:r}=a.useContext(le),{pathname:o}=ue(),i=JSON.stringify(G(r)),s=a.useRef(!1);pe((()=>{s.current=!0}));let l=a.useCallback((function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(s.current,he),!s.current)return;if("number"===typeof r)return void n.go(r);let l=q(r,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:K([t,l.pathname])),(a.replace?n.replace:n.push)(l,a.state,a)}),[t,n,i,o,e]);return l}()}a.createContext(null);function me(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=a.useContext(le),{pathname:r}=ue(),o=JSON.stringify(G(n));return a.useMemo((()=>q(e,JSON.parse(o),r,"path"===t)),[e,o,r,t])}function ge(e,t,n,r){b(de(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:i}=a.useContext(se),{matches:l}=a.useContext(le),c=l[l.length-1],d=c?c.params:{},u=c?c.pathname:"/",h=c?c.pathnameBase:"/",p=c&&c.route;{let e=p&&p.path||"";Ee(u,!p||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,m=ue();if(t){var g;let e="string"===typeof t?S(t):t;b("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=m;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!i&&n&&n.matches&&n.matches.length>0?n.matches:j(e,{pathname:y});w(p||null!=x,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),w(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let k=we(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:K([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:K([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,r);return t&&k?a.createElement(ae.Provider,{value:{location:s({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},k):k}function ve(){let e=Ce(),t=Z(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=a.createElement(a.Fragment,null,a.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),a.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",a.createElement("code",{style:i},"ErrorBoundary")," or"," ",a.createElement("code",{style:i},"errorElement")," prop on your route.")),a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),n?a.createElement("pre",{style:o},n):null,s)}var ye=a.createElement(ve,null),xe=class extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(le.Provider,{value:this.props.routeContext},a.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function be(e){let{routeContext:t,match:n,children:r}=e,o=a.useContext(te);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),a.createElement(le.Provider,{value:t},r)}function we(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,o=null===n||void 0===n?void 0:n.errors;if(null!=o){let e=r.findIndex((e=>e.route.id&&void 0!==(null===o||void 0===o?void 0:o[e.route.id])));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let i=!1,s=-1;if(n)for(let a=0;a<r.length;a++){let e=r[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(s=a),e.route.id){let{loaderData:t,errors:o}=n,a=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!o||void 0===o[e.route.id]);if(e.route.lazy||a){i=!0,r=s>=0?r.slice(0,s+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let d,u=!1,h=null,p=null;n&&(d=o&&l.route.id?o[l.route.id]:void 0,h=l.route.errorElement||ye,i&&(s<0&&0===c?(Ee("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),u=!0,p=null):s===c&&(u=!0,p=l.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,c+1)),m=()=>{let t;return t=d?h:u?p:l.route.Component?a.createElement(l.route.Component,null):l.route.element?l.route.element:e,a.createElement(be,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?a.createElement(xe,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:m(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):m()}),null)}function ke(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let t=a.useContext(te);return b(t,ke(e)),t}function _e(e){let t=a.useContext(ne);return b(t,ke(e)),t}function Se(e){let t=function(e){let t=a.useContext(le);return b(t,ke(e)),t}(e),n=t.matches[t.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Ce(){var e;let t=a.useContext(ce),n=_e("useRouteError"),r=Se("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var je={};function Ee(e,t,n){t||je[e]||(je[e]=!0,w(!1,n))}a.memo((function(e){let{routes:t,future:n,state:r}=e;return ge(t,void 0,r,n)}));function Te(e){let{to:t,replace:n,state:r,relative:o}=e;b(de(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=a.useContext(se);w(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=a.useContext(le),{pathname:l}=ue(),c=fe(),d=q(t,G(s),l,"path"===o),u=JSON.stringify(d);return a.useEffect((()=>{c(JSON.parse(u),{replace:n,state:r,relative:o})}),[c,u,o,n,r]),null}function Ae(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:n=null,location:r,navigationType:o="POP",navigator:i,static:s=!1}=e;b(!de(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=a.useMemo((()=>({basename:l,navigator:i,static:s,future:{}})),[l,i,s]);"string"===typeof r&&(r=S(r));let{pathname:d="/",search:u="",hash:h="",state:p=null,key:f="default"}=r,m=a.useMemo((()=>{let e=W(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:p,key:f},navigationType:o}}),[l,d,u,h,p,f,o]);return w(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:a.createElement(se.Provider,{value:c},a.createElement(ae.Provider,{children:n,value:m}))}function Re(e){let{children:t,location:n}=e;return ge(Oe(t),n)}a.Component;function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return a.Children.forEach(e,((e,r)=>{if(!a.isValidElement(e))return;let o=[...t,r];if(e.type===a.Fragment)return void n.push.apply(n,Oe(e.props.children,o));b(e.type===Ae,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Oe(e.props.children,o)),n.push(i)})),n}var Ie="get",Le="application/x-www-form-urlencoded";function De(e){return null!=e&&"string"===typeof e.tagName}function Pe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}var $e=null;var ze=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fe(e){return null==e||ze.has(e)?e:(w(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Le,'"')),null)}function Be(e,t){let n,r,o,i,s;if(De(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");r=s?W(s,t):null,n=e.getAttribute("method")||Ie,o=Fe(e.getAttribute("enctype"))||Le,i=new FormData(e)}else if(function(e){return De(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return De(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(r=a?W(a,t):null,n=e.getAttribute("formmethod")||s.getAttribute("method")||Ie,o=Fe(e.getAttribute("formenctype"))||Fe(s.getAttribute("enctype"))||Le,i=new FormData(s,e),!function(){if(null===$e)try{new FormData(document.createElement("form"),0),$e=!1}catch(e){$e=!0}return $e}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";i.append("".concat(e,"x"),"0"),i.append("".concat(e,"y"),"0")}else t&&i.append(t,r)}}else{if(De(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ie,r=null,o=Le,s=e}var a;return i&&"text/plain"===o&&(s=i,i=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:i,body:s}}function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function We(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function He(e){return null!=e&&"string"===typeof e.page}function Ue(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Ge(e,t,n,r,o,i){let s=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===i?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===i?t.filter(((t,i)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,i)||a(t,i))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function qe(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o})).flat(1),[...new Set(r)];var r}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,o)=>{if(t&&!He(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let i=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(i)||(n.add(i),e.push({key:i,link:o})),e}),[])}function Ye(e){return{__html:e}}Symbol("SingleFetchRedirect");var Qe=new Set([100,101,204,205]);function Xe(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===W(n.pathname,t)?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}a.Component;function Ze(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,o=a.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(Z(t))return a.createElement(Je,{title:"Unhandled Thrown Response!"},a.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),o);if(t instanceof Error)0;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);new Error(e)}return a.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},a.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),a.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),o)}function Je(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:o,children:i}=e,{routeModules:s}=ot();return null!==s.root&&void 0!==t&&t.Layout&&!o?i:a.createElement("html",{lang:"en"},a.createElement("head",null,a.createElement("meta",{charSet:"utf-8"}),a.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),a.createElement("title",null,n)),a.createElement("body",null,a.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,r?a.createElement(ut,null):null)))}function et(e){return!0===e}function tt(){let e=a.useContext(te);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function nt(){let e=a.useContext(ne);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var rt=a.createContext(void 0);function ot(){let e=a.useContext(rt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function it(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function st(e,t,n){if(n&&!dt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function at(e){let{page:t}=e,n=u(e,p),{router:r}=tt(),o=a.useMemo((()=>j(r.routes,t,r.basename)),[r.routes,t,r.basename]);return o?a.createElement(ct,s({page:t,matches:o},n)):null}function lt(e){let{manifest:t,routeModules:n}=ot(),[r,o]=a.useState([]);return a.useEffect((()=>{let r=!1;return async function(e,t,n){return Ke((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await We(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Ue).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?s(s({},e),{},{rel:"prefetch",as:"style"}):s(s({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||o(e)})),()=>{r=!0}}),[e,t,n]),r}function ct(e){let{page:t,matches:n}=e,r=u(e,f),o=ue(),{manifest:i,routeModules:l}=ot(),{basename:c}=tt(),{loaderData:d,matches:h}=nt(),p=a.useMemo((()=>Ge(t,n,h,i,o,"data")),[t,n,h,i,o]),m=a.useMemo((()=>Ge(t,n,h,i,o,"assets")),[t,n,h,i,o]),g=a.useMemo((()=>{if(t===o.pathname+o.search+o.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let o=i.routes[t.route.id];o&&o.hasLoader&&(!p.some((e=>e.route.id===t.route.id))&&t.route.id in d&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let s=Xe(t,c);return r&&e.size>0&&s.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[s.pathname+s.search]}),[c,d,o,i,p,n,t,l]),v=a.useMemo((()=>qe(m,i)),[m,i]),y=lt(m);return a.createElement(a.Fragment,null,g.map((e=>a.createElement("link",s({key:e,rel:"prefetch",as:"fetch",href:e},r)))),v.map((e=>a.createElement("link",s({key:e,rel:"modulepreload",href:e},r)))),y.map((e=>{let{key:t,link:n}=e;return a.createElement("link",s({key:t},n))})))}rt.displayName="FrameworkContext";var dt=!1;function ut(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,ssr:o,renderMeta:i}=ot(),{router:l,static:c,staticContext:d}=tt(),{matches:p}=nt(),f=et(o);i&&(i.didRenderScripts=!0);let m=st(p,null,r);a.useEffect((()=>{0}),[]);let g=a.useMemo((()=>{var r;let o=d?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=c?"".concat(null!==t.hmr&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(f?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(m.map(((e,n)=>{let r="route".concat(n),o=t.routes[e.route.id];Ve(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:i,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=o,d=[...i?[{module:i,varName:"".concat(r,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(r,"_clientLoader")}]:[],...a?[{module:a,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map((e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";'))).join("\n"),"const ".concat(r," = {").concat(d.map((e=>"...".concat(e.varName))).join(","),"};")].join("\n")})).join("\n"),"\n  ").concat(f?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=u(e,h),o=new Set(t.state.matches.map((e=>e.route.id))),i=t.state.location.pathname.split("/").filter(Boolean),a=["/"];for(i.pop();i.length>0;)a.push("/".concat(i.join("/"))),i.pop();a.forEach((e=>{let n=j(t.routes,e,t.basename);n&&n.forEach((e=>o.add(e.route.id)))}));let l=[...o].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return s(s({},r),{},{routes:l,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(m.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return a.createElement(a.Fragment,null,a.createElement("script",s(s({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ye(o),type:void 0})),a.createElement("script",s(s({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Ye(i),type:"module",async:!0})))}),[]),v=dt?[]:function(e){return[...new Set(e)]}(t.entry.imports.concat(qe(m,t,{includeHydrateFallback:!0}))),y="object"===typeof t.sri?t.sri:{};return dt?null:a.createElement(a.Fragment,null,"object"===typeof t.sri?a.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,f?null:a.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:y[t.url],suppressHydrationWarning:!0}),a.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:y[t.entry.module],suppressHydrationWarning:!0}),v.map((t=>a.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:y[t],suppressHydrationWarning:!0}))),g)}function ht(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var pt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{pt&&(window.__reactRouterVersion="7.5.2")}catch(zQ){}function ft(e){let{basename:t,children:n,window:r}=e,o=a.useRef();null==o.current&&(o.current=x({window:r,v5Compat:!0}));let i=o.current,[s,l]=a.useState({action:i.action,location:i.location}),c=a.useCallback((e=>{a.startTransition((()=>l(e)))}),[l]);return a.useLayoutEffect((()=>i.listen(c)),[i,c]),a.createElement(Me,{basename:t,children:n,location:s.location,navigationType:s.action,navigator:i})}var mt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=a.forwardRef((function(e,t){let n,{onClick:r,discover:o="render",prefetch:i="none",relative:l,reloadDocument:c,replace:d,state:h,target:p,to:f,preventScrollReset:g,viewTransition:v}=e,y=u(e,m),{basename:x}=a.useContext(se),k="string"===typeof f&&mt.test(f),N=!1;if("string"===typeof f&&k&&(n=f,pt))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=W(t.pathname,x);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:N=!0}catch(zQ){w(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let S=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(de(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=a.useContext(se),{hash:o,pathname:i,search:s}=me(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:K([n,i])),r.createHref({pathname:l,search:s,hash:o})}(f,{relative:l}),[C,j,E]=function(e,t){let n=a.useContext(rt),[r,o]=a.useState(!1),[i,s]=a.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=t,p=a.useRef(null);a.useEffect((()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{s(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),a.useEffect((()=>{if(r){let e=setTimeout((()=>{s(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{o(!0)},m=()=>{o(!1),s(!1)};return n?"intent"!==e?[i,p,{}]:[i,p,{onFocus:it(l,f),onBlur:it(c,m),onMouseEnter:it(d,f),onMouseLeave:it(u,m),onTouchStart:it(h,f)}]:[!1,p,{}]}(i,y),T=function(e){let{target:t,replace:n,state:r,preventScrollReset:o,relative:i,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=ue(),d=me(e,{relative:i});return a.useCallback((a=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(a,t)){a.preventDefault();let t=void 0!==n?n:_(c)===_(d);l(e,{replace:t,state:r,preventScrollReset:o,relative:i,viewTransition:s})}}),[c,l,d,n,r,t,e,o,i,s])}(f,{replace:d,state:h,target:p,preventScrollReset:g,relative:l,viewTransition:v});let A=a.createElement("a",s(s(s({},y),E),{},{href:n||S,onClick:N||c?r:function(e){r&&r(e),e.defaultPrevented||T(e)},ref:ht(t,j),target:p,"data-discover":k||"render"!==o?void 0:"true"}));return C&&!k?a.createElement(a.Fragment,null,A,a.createElement(at,{page:S})):A}));gt.displayName="Link";var vt=a.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:o="",end:i=!1,style:l,to:c,viewTransition:d,children:h}=e,p=u(e,g),f=me(c,{relative:p.relative}),m=ue(),v=a.useContext(ne),{navigator:y,basename:x}=a.useContext(se),w=null!=v&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.useContext(re);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=bt("useViewTransitionState"),o=me(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=W(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=W(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=F(o.pathname,s)||null!=F(o.pathname,i)}(f)&&!0===d,k=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,N=m.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(N=N.toLowerCase(),_=_?_.toLowerCase():null,k=k.toLowerCase()),_&&x&&(_=W(_,x)||_);const S="/"!==k&&k.endsWith("/")?k.length-1:k.length;let C,j=N===k||!i&&N.startsWith(k)&&"/"===N.charAt(S),E=null!=_&&(_===k||!i&&_.startsWith(k)&&"/"===_.charAt(k.length)),T={isActive:j,isPending:E,isTransitioning:w},A=j?n:void 0;C="function"===typeof o?o(T):[o,j?"active":null,E?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M="function"===typeof l?l(T):l;return a.createElement(gt,s(s({},p),{},{"aria-current":A,className:C,ref:t,style:M,to:c,viewTransition:d}),"function"===typeof h?h(T):h)}));vt.displayName="NavLink";var yt=a.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:o,reloadDocument:i,replace:l,state:c,method:d=Ie,action:h,onSubmit:p,relative:f,preventScrollReset:m,viewTransition:g}=e,y=u(e,v),x=_t(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=a.useContext(se),r=a.useContext(le);b(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),i=s({},me(e||".",{relative:t})),l=ue();if(null==e){i.search=l.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!o.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:K([n,i.pathname]));return _(i)}(h,{relative:f}),k="get"===d.toLowerCase()?"get":"post",N="string"===typeof h&&mt.test(h);return a.createElement("form",s(s({ref:t,method:k,action:w,onSubmit:i?p:e=>{if(p&&p(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||d;x(t||e.currentTarget,{fetcherKey:r,method:n,navigate:o,replace:l,state:c,relative:f,preventScrollReset:m,viewTransition:g})}},y),{},{"data-discover":N||"render"!==n?void 0:"true"}))}));function xt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function bt(e){let t=a.useContext(te);return b(t,xt(e)),t}function wt(e){w("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=a.useRef(Pe(e)),n=a.useRef(!1),r=ue(),o=a.useMemo((()=>function(e,t){let n=Pe(e);return t&&t.forEach(((e,r)=>{n.has(r)||t.getAll(r).forEach((e=>{n.append(r,e)}))})),n}(r.search,n.current?null:t.current)),[r.search]),i=fe(),s=a.useCallback(((e,t)=>{const r=Pe("function"===typeof e?e(o):e);n.current=!0,i("?"+r,t)}),[i,o]);return[o,s]}yt.displayName="Form";var kt=0,Nt=()=>"__".concat(String(++kt),"__");function _t(){let{router:e}=bt("useSubmit"),{basename:t}=a.useContext(se),n=Se("useRouteId");return a.useCallback((async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:a,formData:l,body:c}=Be(r,t);if(!1===o.navigate){let t=o.fetcherKey||Nt();await e.fetch(t,n,o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,flushSync:o.flushSync})}else await e.navigate(o.action||i,{preventScrollReset:o.preventScrollReset,formData:l,body:c,formMethod:o.method||s,formEncType:o.encType||a,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})}),[e,t,n])}new TextEncoder;function St(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=St(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ct(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=St(e))&&(r&&(r+=" "),r+=t);return r}const jt=Ct,Et=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Tt=e=>"number"==typeof e&&!isNaN(e),At=e=>"string"==typeof e,Mt=e=>"function"==typeof e,Rt=e=>At(e)||Mt(e)?e:null,Ot=(e,t)=>!1===e||Tt(e)&&e>0?e:t,It=e=>(0,a.isValidElement)(e)||At(e)||Mt(e)||Tt(e);function Lt(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:o=!0,collapseDuration:i=300}=e;return function(e){let{children:s,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h,playToast:p}=e,f=r?"".concat(t,"--").concat(l):t,m=r?"".concat(n,"--").concat(l):n,g=(0,a.useRef)(0);return(0,a.useLayoutEffect)((()=>{let e=u.current,t=f.split(" "),n=r=>{r.target===u.current&&(p(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,a.useEffect)((()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),o?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=r+"px",o.transition="all ".concat(n,"ms"),requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,d,i):d()};h||(c?t():(g.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))}),[h]),a.createElement(a.Fragment,null,s)}}function Dt(e,t){return{content:Pt(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Pt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,a.isValidElement)(e)&&!At(e.type)?(0,a.cloneElement)(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Mt(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function $t(e){let{delay:t,isRunning:n,closeToast:r,type:o="default",hide:i,className:l,controlledProgress:c,progress:d,rtl:u,isIn:h,theme:p}=e,f=i||c&&0===d,m={animationDuration:"".concat(t,"ms"),animationPlayState:n?"running":"paused"};c&&(m.transform="scaleX(".concat(d,")"));let g=jt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(p),"Toastify__progress-bar--".concat(o),{"Toastify__progress-bar--rtl":u}),v=Mt(l)?l({rtl:u,type:o,defaultClassName:g}):jt(g,l),y={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{h&&r()}};return a.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":f},a.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(p," Toastify__progress-bar--").concat(o)}),a.createElement("div",s({role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:v,style:m},y)))}var zt=1,Ft=()=>"".concat(zt++);function Bt(e,t,n){let r=1,o=0,i=[],a=[],l=t,c=new Map,d=new Set,u=()=>{a=Array.from(c.values()),d.forEach((e=>e()))},h=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},p=e=>{if(null==e)c.forEach(h);else{let t=c.get(e);t&&h(t)}u()},f=e=>{var t,r;let{toastId:o,updateId:i}=e.props,s=null==i;e.staleId&&c.delete(e.staleId),e.isActive=!0,c.set(o,e),u(),n(Dt(e,s?"added":"updated")),s&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:l,observe:e=>(d.add(e),()=>d.delete(e)),toggle:(e,t)=>{c.forEach((n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))}))},removeToast:p,toasts:c,clearQueue:()=>{o-=i.length,i=[]},buildToast:(t,a)=>{if((t=>{let{containerId:n,toastId:r,updateId:o}=t,i=n?n!==e:1!==e,s=c.has(r)&&null==o;return i||s})(a))return;let{toastId:d,updateId:h,data:m,staleId:g,delay:v}=a,y=null==h;y&&o++;let x=s(s(s({},l),{},{style:l.toastStyle,key:r++},Object.fromEntries(Object.entries(a).filter((e=>{let[t,n]=e;return null!=n})))),{},{toastId:d,updateId:h,data:m,isIn:!1,className:Rt(a.className||l.toastClassName),progressClassName:Rt(a.progressClassName||l.progressClassName),autoClose:!a.isLoading&&Ot(a.autoClose,l.autoClose),closeToast(e){c.get(d).removalReason=e,p(d)},deleteToast(){let e=c.get(d);if(null!=e){if(n(Dt(e,"removed")),c.delete(d),o--,o<0&&(o=0),i.length>0)return void f(i.shift());u()}}});x.closeButton=l.closeButton,!1===a.closeButton||It(a.closeButton)?x.closeButton=a.closeButton:!0===a.closeButton&&(x.closeButton=!It(l.closeButton)||l.closeButton);let b={content:t,props:x,staleId:g};l.limit&&l.limit>0&&o>l.limit&&y?i.push(b):Tt(v)?setTimeout((()=>{f(b)}),v):f(b)},setProps(e){l=e},setToggle:(e,t)=>{let n=c.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=c.get(e))?void 0:t.isActive},getSnapshot:()=>a}}var Vt=new Map,Wt=[],Ht=new Set,Ut=e=>Ht.forEach((t=>t(e))),Gt=()=>Vt.size>0;function qt(e,t){var n;if(t)return!(null==(n=Vt.get(t))||!n.isToastActive(e));let r=!1;return Vt.forEach((t=>{t.isToastActive(e)&&(r=!0)})),r}function Kt(e){if(Gt()){if(null==e||(e=>At(e)||Tt(e))(e))Vt.forEach((t=>{t.removeToast(e)}));else if(e&&("containerId"in e||"id"in e)){let t=Vt.get(e.containerId);t?t.removeToast(e.id):Vt.forEach((t=>{t.removeToast(e.id)}))}}else Wt=Wt.filter((t=>null!=e&&t.options.toastId!==e))}function Yt(e,t){It(e)&&(Gt()||Wt.push({content:e,options:t}),Vt.forEach((n=>{n.buildToast(e,t)})))}function Qt(e,t){Vt.forEach((n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)}))}function Xt(e){let t=e.containerId||1;return{subscribe(n){let r=Bt(t,e,Ut);Vt.set(t,r);let o=r.observe(n);return Wt.forEach((e=>Yt(e.content,e.options))),Wt=[],()=>{o(),Vt.delete(t)}},setProps(e){var n;null==(n=Vt.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=Vt.get(t))?void 0:e.getSnapshot()}}}function Zt(e){return e&&(At(e.toastId)||Tt(e.toastId))?e.toastId:Ft()}function Jt(e,t){return Yt(e,t),t.toastId}function en(e,t){return s(s({},t),{},{type:t&&t.type||e,toastId:Zt(t)})}function tn(e){return(t,n)=>Jt(t,en(e,n))}function nn(e,t){return Jt(e,en("default",t))}function rn(e){let[t,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),i=(0,a.useRef)(null),s=(0,a.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=e;function p(){n(!0)}function f(){n(!1)}function m(n){let r=i.current;if(s.canDrag&&r){s.didMove=!0,t&&f(),"x"===e.draggableDirection?s.delta=n.clientX-s.start:s.delta=n.clientY-s.start,s.start!==n.clientX&&(s.canCloseOnClick=!1);let o="x"===e.draggableDirection?"".concat(s.delta,"px, var(--y)"):"0, calc(".concat(s.delta,"px + var(--y))");r.style.transform="translate3d(".concat(o,",0)"),r.style.opacity="".concat(1-Math.abs(s.delta/s.removalDistance))}}function g(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",g);let t=i.current;if(s.canDrag&&s.didMove&&t){if(s.canDrag=!1,Math.abs(s.delta)>s.removalDistance)return o(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=Vt.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:n}),(0,a.useEffect)((()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",p),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",f)}}),[e.pauseOnFocusLoss]);let v={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){s.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",g);let n=i.current;s.canCloseOnClick=!0,s.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(s.start=t.clientX,s.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(s.start=t.clientY,s.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:o,right:s}=i.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=o&&t.clientX<=s&&t.clientY>=n&&t.clientY<=r?f():p()}};return l&&c&&(v.onMouseEnter=f,e.stacked||(v.onMouseLeave=p)),h&&(v.onClick=e=>{u&&u(e),s.canCloseOnClick&&d(!0)}),{playToast:p,pauseToast:f,isRunning:t,preventExitTransition:r,toastRef:i,eventHandlers:v}}nn.loading=(e,t)=>Jt(e,en("default",s({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),nn.promise=function(e,t,n){let r,{pending:o,error:i,success:a}=t;o&&(r=At(o)?nn.loading(o,n):nn.loading(o.render,s(s({},n),o)));let l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=(e,t,o)=>{if(null==t)return void nn.dismiss(r);let i=s(s(s({type:e},l),n),{},{data:o}),a=At(t)?{render:t}:t;return r?nn.update(r,s(s({},i),a)):nn(a.render,s(s({},i),a)),o},d=Mt(e)?e():e;return d.then((e=>c("success",a,e))).catch((e=>c("error",i,e))),d},nn.success=tn("success"),nn.info=tn("info"),nn.error=tn("error"),nn.warning=tn("warning"),nn.warn=nn.warning,nn.dark=(e,t)=>Jt(e,en("default",s({theme:"dark"},t))),nn.dismiss=function(e){Kt(e)},nn.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Vt.forEach((t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()}))},nn.isActive=qt,nn.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=Vt.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:o}=n,i=s(s(s({delay:100},r),t),{},{toastId:t.toastId||e,updateId:Ft()});i.toastId!==e&&(i.staleId=e);let a=i.render||o;delete i.render,Jt(a,i)}},nn.done=e=>{nn.update(e,{progress:1})},nn.onChange=function(e){return Ht.add(e),()=>{Ht.delete(e)}},nn.play=e=>Qt(!0,e),nn.pause=e=>Qt(!1,e);var on="undefined"!=typeof window?a.useLayoutEffect:a.useEffect,sn=e=>{let{theme:t,type:n,isLoading:r}=e,o=u(e,Et);return a.createElement("svg",s({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-".concat(n,")")},o))};var an={info:function(e){return a.createElement(sn,s({},e),a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return a.createElement(sn,s({},e),a.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return a.createElement(sn,s({},e),a.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return a.createElement(sn,s({},e),a.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return a.createElement("div",{className:"Toastify__spinner"})}};function ln(e){let{theme:t,type:n,isLoading:r,icon:o}=e,i=null,l={theme:t,type:n};return!1===o||(Mt(o)?i=o(s(s({},l),{},{isLoading:r})):(0,a.isValidElement)(o)?i=(0,a.cloneElement)(o,l):r?i=an.spinner():(e=>e in an)(n)&&(i=an[n](l))),i}var cn=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:o,playToast:i}=rn(e),{closeButton:l,children:c,autoClose:d,onClick:u,type:h,hideProgressBar:p,closeToast:f,transition:m,position:g,className:v,style:y,progressClassName:x,updateId:b,role:w,progress:k,rtl:N,toastId:_,deleteToast:S,isIn:C,isLoading:j,closeOnClick:E,theme:T,ariaLabel:A}=e,M=jt("Toastify__toast","Toastify__toast-theme--".concat(T),"Toastify__toast--".concat(h),{"Toastify__toast--rtl":N},{"Toastify__toast--close-on-click":E}),R=Mt(v)?v({rtl:N,position:g,type:h,defaultClassName:M}):jt(M,v),O=ln(e),I=!!k||!d,L={closeToast:f,type:h,theme:T},D=null;return!1===l||(D=Mt(l)?l(L):(0,a.isValidElement)(l)?(0,a.cloneElement)(l,L):function(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return a.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(n),type:"button",onClick:e=>{e.stopPropagation(),t(!0)},"aria-label":r},a.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},a.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(L)),a.createElement(m,{isIn:C,done:S,position:g,preventExitTransition:n,nodeRef:r,playToast:i},a.createElement("div",s(s({id:_,tabIndex:0,onClick:u,"data-in":C,className:R},o),{},{style:y,ref:r},C&&{role:w,"aria-label":A}),null!=O&&a.createElement("div",{className:jt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!j})},O),Pt(c,e,!t),D,!e.customProgressBar&&a.createElement($t,s(s({},b&&!I?{key:"p-".concat(b)}:{}),{},{rtl:N,theme:T,delay:d,isRunning:t,isIn:C,closeToast:f,hide:p,type:h,className:x,controlledProgress:I,progress:k||0}))))},dn=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},un=Lt(dn("bounce",!0)),hn=Lt(dn("slide",!0)),pn=(Lt(dn("zoom")),Lt(dn("flip")),{position:"top-right",transition:un,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function fn(e){let t=s(s({},pn),e),n=e.stacked,[r,o]=(0,a.useState)(!0),i=(0,a.useRef)(null),{getToastToRender:l,isToastActive:c,count:d}=function(e){var t;let{subscribe:n,getSnapshot:r,setProps:o}=(0,a.useRef)(Xt(e)).current;o(e);let i=null==(t=(0,a.useSyncExternalStore)(n,r,r))?void 0:t.slice();return{getToastToRender:function(t){if(!i)return[];let n=new Map;return e.newestOnTop&&i.reverse(),i.forEach((e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},isToastActive:qt,count:null==i?void 0:i.length}}(t),{className:u,style:h,rtl:p,containerId:f,hotKeys:m}=t;function g(e){let t=jt("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":p});return Mt(u)?u({position:e,rtl:p,defaultClassName:t}):jt(t,Rt(u))}function v(){n&&(o(!0),nn.play())}return on((()=>{var e;if(n){let n=i.current.querySelectorAll('[data-in="true"]'),o=12,s=null==(e=t.position)?void 0:e.includes("top"),a=0,l=0;Array.from(n).reverse().forEach(((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(r)),n.dataset.pos||(n.dataset.pos=s?"top":"bot");let i=a*(r?.2:1)+(r?0:o*t);n.style.setProperty("--y","".concat(s?i:-1*i,"px")),n.style.setProperty("--g","".concat(o)),n.style.setProperty("--s","".concat(1-(r?l:0))),a+=n.offsetHeight,l+=.025}))}}),[r,d,n]),(0,a.useEffect)((()=>{function e(e){var t;let n=i.current;m(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),o(!1),nn.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(o(!0),nn.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[m]),a.createElement("section",{ref:i,className:"Toastify",id:f,onMouseEnter:()=>{n&&(o(!1),nn.pause())},onMouseLeave:v,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},l(((e,t)=>{let r=t.length?s({},h):s(s({},h),{},{pointerEvents:"none"});return a.createElement("div",{tabIndex:-1,className:g(e),"data-stacked":n,style:r,key:"c-".concat(e)},t.map((e=>{let{content:t,props:r}=e;return a.createElement(cn,s(s({},r),{},{stacked:n,collapseAll:v,isIn:c(r.toastId,r.containerId),key:"t-".concat(r.key)}),t)})))})))}var mn=n(579);const gn=(0,a.createContext)({});function vn(e){const t=(0,a.useRef)(null);return null===t.current&&(t.current=e()),t.current}const yn="undefined"!==typeof window,xn=yn?a.useLayoutEffect:a.useEffect,bn=(0,a.createContext)(null);function wn(e){return"object"===typeof e&&null!==e}function kn(e){return wn(e)&&"offsetHeight"in e}const Nn=(0,a.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function _n(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Sn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useCallback(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=_n(t,e);return n||"function"!==typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"===typeof n?n():_n(t[e],null)}}}}(...t),t)}class Cn extends a.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=kn(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function jn(e){var t,n;let{children:r,isPresent:o,anchorX:i,root:s}=e;const l=(0,a.useId)(),c=(0,a.useRef)(null),d=(0,a.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,a.useContext)(Nn),h=null!==(t=null===(n=r.props)||void 0===n?void 0:n.ref)&&void 0!==t?t:null===r||void 0===r?void 0:r.ref,p=Sn(c,h);return(0,a.useInsertionEffect)((()=>{const{width:e,height:t,top:n,left:r,right:a}=d.current;if(o||!c.current||!e||!t)return;const h="left"===i?"left: ".concat(r):"right: ".concat(a);c.current.dataset.motionPopId=l;const p=document.createElement("style");u&&(p.nonce=u);const f=null!==s&&void 0!==s?s:document.head;return f.appendChild(p),p.sheet&&p.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat(h,"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{f.contains(p)&&f.removeChild(p)}}),[o]),(0,mn.jsx)(Cn,{isPresent:o,childRef:c,sizeRef:d,children:a.cloneElement(r,{ref:p})})}const En=e=>{let{children:t,initial:n,isPresent:r,onExitComplete:o,custom:i,presenceAffectsLayout:l,mode:c,anchorX:d,root:u}=e;const h=vn(Tn),p=(0,a.useId)();let f=!0,m=(0,a.useMemo)((()=>(f=!1,{id:p,initial:n,isPresent:r,custom:i,onExitComplete:e=>{h.set(e,!0);for(const t of h.values())if(!t)return;o&&o()},register:e=>(h.set(e,!1),()=>h.delete(e))})),[r,h,o]);return l&&f&&(m=s({},m)),(0,a.useMemo)((()=>{h.forEach(((e,t)=>h.set(t,!1)))}),[r]),a.useEffect((()=>{!r&&!h.size&&o&&o()}),[r]),"popLayout"===c&&(t=(0,mn.jsx)(jn,{isPresent:r,anchorX:d,root:u,children:t})),(0,mn.jsx)(bn.Provider,{value:m,children:t})};function Tn(){return new Map}function An(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=(0,a.useContext)(bn);if(null===t)return[!0,null];const{isPresent:n,onExitComplete:r,register:o}=t,i=(0,a.useId)();(0,a.useEffect)((()=>{if(e)return o(i)}),[e]);const s=(0,a.useCallback)((()=>e&&r&&r(i)),[i,r,e]);return!n&&r?[!1,s]:[!0]}const Mn=e=>e.key||"";function Rn(e){const t=[];return a.Children.forEach(e,(e=>{(0,a.isValidElement)(e)&&t.push(e)})),t}const On=e=>{let{children:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",root:d}=e;const[u,h]=An(l),p=(0,a.useMemo)((()=>Rn(t)),[t]),f=l&&!u?[]:p.map(Mn),m=(0,a.useRef)(!0),g=(0,a.useRef)(p),v=vn((()=>new Map)),y=(0,a.useRef)(new Set),[x,b]=(0,a.useState)(p),[w,k]=(0,a.useState)(p);xn((()=>{m.current=!1,g.current=p;for(let e=0;e<w.length;e++){const t=Mn(w[e]);f.includes(t)?(v.delete(t),y.current.delete(t)):!0!==v.get(t)&&v.set(t,!1)}}),[w,f.length,f.join("-")]);const N=[];if(p!==x){let e=[...p];for(let t=0;t<w.length;t++){const n=w[t],r=Mn(n);f.includes(r)||(e.splice(t,0,n),N.push(n))}return"wait"===s&&N.length&&(e=N),k(Rn(e)),b(p),null}const{forceRender:_}=(0,a.useContext)(gn);return(0,mn.jsx)(mn.Fragment,{children:w.map((e=>{const t=Mn(e),a=!(l&&!u)&&(p===w||f.includes(t));return(0,mn.jsx)(En,{isPresent:a,initial:!(m.current&&!r)&&void 0,custom:n,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:a?void 0:()=>{if(y.current.has(t))return;if(y.current.add(t),!v.has(t))return;v.set(t,!0);let e=!0;v.forEach((t=>{t||(e=!1)})),e&&(null===_||void 0===_||_(),k(g.current),l&&(null===h||void 0===h||h()),o&&o())},anchorX:c,children:e},t)}))})},In=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ln=(()=>new Set(In))(),Dn=e=>180*e/Math.PI,Pn=e=>{const t=Dn(Math.atan2(e[1],e[0]));return zn(t)},$n={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Pn,rotateZ:Pn,skewX:e=>Dn(Math.atan(e[1])),skewY:e=>Dn(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},zn=e=>((e%=360)<0&&(e+=360),e),Fn=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Bn=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Vn={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Fn,scaleY:Bn,scale:e=>(Fn(e)+Bn(e))/2,rotateX:e=>zn(Dn(Math.atan2(e[6],e[5]))),rotateY:e=>zn(Dn(Math.atan2(-e[2],e[0]))),rotateZ:Pn,rotate:Pn,skewX:e=>Dn(Math.atan(e[4])),skewY:e=>Dn(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Wn(e){return e.includes("scale")?1:0}function Hn(e,t){if(!e||"none"===e)return Wn(t);const n=e.match(/^matrix3d\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);let r,o;if(n)r=Vn,o=n;else{const t=e.match(/^matrix\(([\t-\r ,-\.0-9e\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+)\)$/);r=$n,o=t}if(!o)return Wn(t);const i=r[t],s=o[1].split(",").map(Un);return"function"===typeof i?i(s):s[i]}function Un(e){return parseFloat(e.trim())}const Gn=e=>t=>"string"===typeof t&&t.startsWith(e),qn=Gn("--"),Kn=Gn("var(--"),Yn=e=>!!Kn(e)&&Qn.test(e.split("/*")[0].trim()),Qn=/var\(--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)$/i;function Xn(e){let{top:t,left:n,right:r,bottom:o}=e;return{x:{min:n,max:r},y:{min:t,max:o}}}const Zn=(e,t,n)=>e+(t-e)*n;function Jn(e){return void 0===e||1===e}function er(e){let{scale:t,scaleX:n,scaleY:r}=e;return!Jn(t)||!Jn(n)||!Jn(r)}function tr(e){return er(e)||nr(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nr(e){return rr(e.x)||rr(e.y)}function rr(e){return e&&"0%"!==e}function or(e,t,n){return n+t*(e-n)}function ir(e,t,n,r,o){return void 0!==o&&(e=or(e,o,r)),or(e,n,r)+t}function sr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;e.min=ir(e.min,t,n,r,o),e.max=ir(e.max,t,n,r,o)}function ar(e,t){let{x:n,y:r}=t;sr(e.x,n.translate,n.scale,n.originPoint),sr(e.y,r.translate,r.scale,r.originPoint)}const lr=.999999999999,cr=1.0000000000001;function dr(e,t){e.min=e.min+t,e.max=e.max+t}function ur(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5;sr(e,t,n,Zn(e.min,e.max,o),r)}function hr(e,t){ur(e.x,t.x,t.scaleX,t.scale,t.originX),ur(e.y,t.y,t.scaleY,t.scale,t.originY)}function pr(e,t){return Xn(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}const fr=new Set(["width","height","top","left","right","bottom",...In]),mr=(e,t,n)=>n>t?t:n<e?e:n,gr={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},vr=s(s({},gr),{},{transform:e=>mr(0,1,e)}),yr=s(s({},gr),{},{default:1}),xr=e=>({test:t=>"string"===typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),br=xr("deg"),wr=xr("%"),kr=xr("px"),Nr=xr("vh"),_r=xr("vw"),Sr=(()=>s(s({},wr),{},{parse:e=>wr.parse(e)/100,transform:e=>wr.transform(100*e)}))(),Cr=e=>t=>t.test(e),jr=[gr,kr,wr,br,_r,Nr,{test:e=>"auto"===e,parse:e=>e}],Er=e=>jr.find(Cr(e));function Tr(e,t){return t?"".concat(e,". For more information and steps for solving, visit https://motion.dev/troubleshooting/").concat(t):e}var Ar;let Mr=()=>{},Rr=()=>{};"undefined"!==typeof process&&"production"!==(null===(Ar={NODE_ENV:"production",PUBLIC_URL:"/new",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===Ar?void 0:Ar.NODE_ENV)&&(Mr=(e,t,n)=>{e||"undefined"===typeof console||console.warn(Tr(t,n))},Rr=(e,t,n)=>{if(!e)throw new Error(Tr(t,n))});const Or=e=>/^-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)$/.test(e),Ir=/^var\(--(?:([\x2D0-9A-Z_a-z]+)|([\x2D0-9A-Z_a-z]+), ?([ #%\(\),-\.0-9A-Za-z]+))\)/;function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Rr(n<=4,'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");const[r,o]=function(e){const t=Ir.exec(e);if(!t)return[,];const[,n,r,o]=t;return["--".concat(null!==n&&void 0!==n?n:r),o]}(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const e=i.trim();return Or(e)?parseFloat(e):e}return Yn(o)?Lr(o,t,n+1):o}const Dr=e=>e===gr||e===kr,Pr=new Set(["x","y","z"]),$r=In.filter((e=>!Pr.has(e)));const zr={width:(e,t)=>{let{x:n}=e,{paddingLeft:r="0",paddingRight:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},height:(e,t)=>{let{y:n}=e,{paddingTop:r="0",paddingBottom:o="0"}=t;return n.max-n.min-parseFloat(r)-parseFloat(o)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:r}=t;return parseFloat(r)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:r}=t;return parseFloat(r)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return Hn(n,"x")},y:(e,t)=>{let{transform:n}=t;return Hn(n,"y")}};zr.translateX=zr.x,zr.translateY=zr.y;const Fr=e=>e,Br={},Vr=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Wr={value:null,addProjectionMetrics:null};function Hr(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,s=Vr.reduce(((e,n)=>(e[n]=function(e,t){let n=new Set,r=new Set,o=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(t){s.has(t)&&(d.schedule(t),e()),l++,t(a)}const d={schedule:function(e){const t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&o?n:r;return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&s.add(e),t.has(e)||t.add(e),e},cancel:e=>{r.delete(e),s.delete(e)},process:e=>{a=e,o?i=!0:(o=!0,[n,r]=[r,n],n.forEach(c),t&&Wr.value&&Wr.value.frameloop[t].push(l),l=0,n.clear(),o=!1,i&&(i=!1,d.process(e)))}};return d}(i,t?n:void 0),e)),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:d,update:u,preRender:h,render:p,postRender:f}=s,m=()=>{const i=Br.useManualTiming?o.timestamp:performance.now();n=!1,Br.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(i-o.timestamp,40),1)),o.timestamp=i,o.isProcessing=!0,a.process(o),l.process(o),c.process(o),d.process(o),u.process(o),h.process(o),p.process(o),f.process(o),o.isProcessing=!1,n&&t&&(r=!1,e(m))},g=Vr.reduce(((t,i)=>{const a=s[i];return t[i]=function(t){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(n=!0,r=!0,o.isProcessing||e(m)),a.schedule(t,i,s)},t}),{});return{schedule:g,cancel:e=>{for(let t=0;t<Vr.length;t++)s[Vr[t]].cancel(e)},state:o,steps:s}}const{schedule:Ur,cancel:Gr,state:qr,steps:Kr}=Hr("undefined"!==typeof requestAnimationFrame?requestAnimationFrame:Fr,!0),Yr=new Set;let Qr=!1,Xr=!1,Zr=!1;function Jr(){if(Xr){const e=Array.from(Yr).filter((e=>e.needsMeasurement)),t=new Set(e.map((e=>e.element))),n=new Map;t.forEach((e=>{const t=function(e){const t=[];return $r.forEach((n=>{const r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t}(e);t.length&&(n.set(e,t),e.render())})),e.forEach((e=>e.measureInitialState())),t.forEach((e=>{e.render();const t=n.get(e);t&&t.forEach((t=>{var n;let[r,o]=t;null===(n=e.getValue(r))||void 0===n||n.set(o)}))})),e.forEach((e=>e.measureEndState())),e.forEach((e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)}))}Xr=!1,Qr=!1,Yr.forEach((e=>e.complete(Zr))),Yr.clear()}function eo(){Yr.forEach((e=>{e.readKeyframes(),e.needsMeasurement&&(Xr=!0)}))}class to{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=r,this.element=o,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Yr.add(this),Qr||(Qr=!0,Ur.read(eo),Ur.resolveKeyframes(Jr))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:r}=this;if(null===e[0]){const o=null===r||void 0===r?void 0:r.get(),i=e[e.length-1];if(void 0!==o)e[0]=o;else if(n&&t){const r=n.readValue(t,i);void 0!==r&&null!==r&&(e[0]=r)}void 0===e[0]&&(e[0]=i),r&&void 0===o&&r.set(e[0])}!function(e){for(let n=1;n<e.length;n++){var t;null!==(t=e[n])&&void 0!==t||(e[n]=e[n-1])}}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Yr.delete(this)}cancel(){"scheduled"===this.state&&(Yr.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const no=e=>/^0(?:[\0-\x08\x0E-\x1F!-\x2D\/-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+$/.test(e);const ro=e=>Math.round(1e5*e)/1e5,oo=/-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/g;const io=/^(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))$/i,so=(e,t)=>n=>Boolean("string"===typeof n&&io.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),ao=(e,t,n)=>r=>{if("string"!==typeof r)return r;const[o,i,s,a]=r.match(oo);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:void 0!==a?parseFloat(a):1}},lo=s(s({},gr),{},{transform:e=>Math.round((e=>mr(0,255,e))(e))}),co={test:so("rgb","red"),parse:ao("red","green","blue"),transform:e=>{let{red:t,green:n,blue:r,alpha:o=1}=e;return"rgba("+lo.transform(t)+", "+lo.transform(n)+", "+lo.transform(r)+", "+ro(vr.transform(o))+")"}};const uo={test:so("#"),parse:function(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}},transform:co.transform},ho={test:so("hsl","hue"),parse:ao("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:r,alpha:o=1}=e;return"hsla("+Math.round(t)+", "+wr.transform(ro(n))+", "+wr.transform(ro(r))+", "+ro(vr.transform(o))+")"}},po={test:e=>co.test(e)||uo.test(e)||ho.test(e),parse:e=>co.test(e)?co.parse(e):ho.test(e)?ho.parse(e):uo.parse(e),transform:e=>"string"===typeof e?e:e.hasOwnProperty("red")?co.transform(e):ho.transform(e),getAnimatableNone:e=>{const t=po.parse(e);return t.alpha=0,po.transform(t)}},fo=/(?:#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\))/gi;const mo="number",go="color",vo=/var[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\([\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*--(?:[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*|[\x2D0-9A-Z_a-z\u017F\u212A]+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*,(?:[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:(?![\t-\r \(\)\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uD800-\uDFFF\uFEFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\((?:(?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])|\((?:(?![\(\)\uD800-\uDFFF])[^]|[\uD800-\uDBFF][\uDC00-\uDFFF])*\))*\))+[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)\)|#[0-9a-f]{3,8}|(?:rgb|h[s\u017F]l)a?\((?:-?[\.0-9]+%?[\t-\r ,\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+){2}-?[\.0-9]+%?[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*(?:[,\/][\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*)?(?:\b[0-9]+(?:\.[0-9]+)?|\.[0-9]+)?%?\)|-?(?:[0-9]+(?:\.[0-9]+)?|\.[0-9]+)/gi;function yo(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},o=[];let i=0;const s=t.replace(vo,(e=>(po.test(e)?(r.color.push(i),o.push(go),n.push(po.parse(e))):e.startsWith("var(")?(r.var.push(i),o.push("var"),n.push(e)):(r.number.push(i),o.push(mo),n.push(parseFloat(e))),++i,"${}"))).split("${}");return{values:n,split:s,indexes:r,types:o}}function xo(e){return yo(e).values}function bo(e){const{split:t,types:n}=yo(e),r=t.length;return e=>{let o="";for(let i=0;i<r;i++)if(o+=t[i],void 0!==e[i]){const t=n[i];o+=t===mo?ro(e[i]):t===go?po.transform(e[i]):e[i]}return o}}const wo=e=>"number"===typeof e?0:po.test(e)?po.getAnimatableNone(e):e;const ko={test:function(e){var t,n;return isNaN(e)&&"string"===typeof e&&((null===(t=e.match(oo))||void 0===t?void 0:t.length)||0)+((null===(n=e.match(fo))||void 0===n?void 0:n.length)||0)>0},parse:xo,createTransformer:bo,getAnimatableNone:function(e){const t=xo(e);return bo(e)(t.map(wo))}},No=new Set(["brightness","contrast","saturate","opacity"]);function _o(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(oo)||[];if(!r)return e;const o=n.replace(r,"");let i=No.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const So=/\b([\x2Da-z]*)\((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?\)/g,Co=s(s({},ko),{},{getAnimatableNone:e=>{const t=e.match(So);return t?t.map(_o).join(" "):e}}),jo=s(s({},gr),{},{transform:Math.round}),Eo=s(s({borderWidth:kr,borderTopWidth:kr,borderRightWidth:kr,borderBottomWidth:kr,borderLeftWidth:kr,borderRadius:kr,radius:kr,borderTopLeftRadius:kr,borderTopRightRadius:kr,borderBottomRightRadius:kr,borderBottomLeftRadius:kr,width:kr,maxWidth:kr,height:kr,maxHeight:kr,top:kr,right:kr,bottom:kr,left:kr,inset:kr,insetBlock:kr,insetBlockStart:kr,insetBlockEnd:kr,insetInline:kr,insetInlineStart:kr,insetInlineEnd:kr,padding:kr,paddingTop:kr,paddingRight:kr,paddingBottom:kr,paddingLeft:kr,paddingBlock:kr,paddingBlockStart:kr,paddingBlockEnd:kr,paddingInline:kr,paddingInlineStart:kr,paddingInlineEnd:kr,margin:kr,marginTop:kr,marginRight:kr,marginBottom:kr,marginLeft:kr,marginBlock:kr,marginBlockStart:kr,marginBlockEnd:kr,marginInline:kr,marginInlineStart:kr,marginInlineEnd:kr,backgroundPositionX:kr,backgroundPositionY:kr},{rotate:br,rotateX:br,rotateY:br,rotateZ:br,scale:yr,scaleX:yr,scaleY:yr,scaleZ:yr,skew:br,skewX:br,skewY:br,distance:kr,translateX:kr,translateY:kr,translateZ:kr,x:kr,y:kr,z:kr,perspective:kr,transformPerspective:kr,opacity:vr,originX:Sr,originY:Sr,originZ:kr}),{},{zIndex:jo,fillOpacity:vr,strokeOpacity:vr,numOctaves:jo}),To=s(s({},Eo),{},{color:po,backgroundColor:po,outlineColor:po,fill:po,stroke:po,borderColor:po,borderTopColor:po,borderRightColor:po,borderBottomColor:po,borderLeftColor:po,filter:Co,WebkitFilter:Co}),Ao=e=>To[e];function Mo(e,t){let n=Ao(e);return n!==Co&&(n=ko),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Ro=new Set(["auto","none","0"]);class Oo extends to{constructor(e,t,n,r,o){super(e,t,n,r,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let a=0;a<e.length;a++){let n=e[a];if("string"===typeof n&&(n=n.trim(),Yn(n))){const r=Lr(n,t.current);void 0!==r&&(e[a]=r),a===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!fr.has(n)||2!==e.length)return;const[r,o]=e,i=Er(r),s=Er(o);if(i!==s)if(Dr(i)&&Dr(s))for(let a=0;a<e.length;a++){const t=e[a];"string"===typeof t&&(e[a]=parseFloat(t))}else zr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let o=0;o<e.length;o++)(null===e[o]||("number"===typeof(r=e[o])?0===r:null===r||"none"===r||"0"===r||no(r)))&&n.push(o);var r;n.length&&function(e,t,n){let r,o=0;for(;o<e.length&&!r;){const t=e[o];"string"===typeof t&&!Ro.has(t)&&yo(t).values.length&&(r=e[o]),o++}if(r&&n)for(const i of t)e[i]=Mo(n,r)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];void 0!==r&&e.getValue(n,r).jump(r,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const o=t.getValue(n);o&&o.jump(this.measuredOrigin,!1);const i=r.length-1,s=r[i];r[i]=zr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==s&&void 0===this.finalKeyframe&&(this.finalKeyframe=s),null!==(e=this.removedTransforms)&&void 0!==e&&e.length&&this.removedTransforms.forEach((e=>{let[n,r]=e;t.getValue(n).set(r)})),this.resolveNoneKeyframes()}}const Io=e=>Boolean(e&&e.getVelocity);let Lo;function Do(){Lo=void 0}const Po={now:()=>(void 0===Lo&&Po.set(qr.isProcessing||Br.useManualTiming?qr.timestamp:performance.now()),Lo),set:e=>{Lo=e,queueMicrotask(Do)}};function $o(e,t){-1===e.indexOf(t)&&e.push(t)}function zo(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Fo{constructor(){this.subscriptions=[]}add(e){return $o(this.subscriptions,e),()=>zo(this.subscriptions,e)}notify(e,t,n){const r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(let o=0;o<r;o++){const r=this.subscriptions[o];r&&r(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Bo(e,t){return t?e*(1e3/t):0}const Vo={current:void 0};class Wo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{const t=Po.now();var n;if((this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev)&&(null===(n=this.events.change)||void 0===n||n.notify(this.current),this.dependents))for(const r of this.dependents)r.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=Po.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Fo);const n=this.events[e].add(t);return"change"===e?()=>{n(),Ur.read((()=>{this.events.change.getSize()||this.stop()}))}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null===(e=this.events.change)||void 0===e||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Vo.current&&Vo.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Po.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Bo(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise((t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()})).then((()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()}))}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null===(e=this.dependents)||void 0===e||e.clear(),null===(t=this.events.destroy)||void 0===t||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ho(e,t){return new Wo(e,t)}const Uo=[...jr,po,ko],{schedule:Go,cancel:qo}=Hr(queueMicrotask,!1),Ko={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yo={};for(const n in Ko)Yo[n]={isEnabled:e=>Ko[n].some((t=>!!e[t]))};const Qo=()=>({x:{min:0,max:0},y:{min:0,max:0}}),Xo={current:null},Zo={current:!1};const Jo=new WeakMap;function ei(e){return null!==e&&"object"===typeof e&&"function"===typeof e.start}function ti(e){return"string"===typeof e||Array.isArray(e)}const ni=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ri=["initial",...ni];function oi(e){return ei(e.animate)||ri.some((t=>ti(e[t])))}function ii(e){return Boolean(oi(e)||e.variants)}function si(e){const t=[{},{}];return null===e||void 0===e||e.values.forEach(((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()})),t}function ai(e,t,n,r){if("function"===typeof t){const[o,i]=si(r);t=t(void 0!==n?n:e.custom,o,i)}if("string"===typeof t&&(t=e.variants&&e.variants[t]),"function"===typeof t){const[o,i]=si(r);t=t(void 0!==n?n:e.custom,o,i)}return t}const li=["willChange"],ci=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class di{scrapeMotionValuesFromProps(e,t,n){return{}}constructor(e){let{parent:t,props:n,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:i,visualState:a}=e,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=to,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=Po.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Ur.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=a;this.latestValues=c,this.baseTarget=s({},c),this.initialValues=n.initial?s({},c):{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=Boolean(i),this.isControllingVariants=oi(n),this.isVariantNode=ii(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(t&&t.current);const h=this.scrapeMotionValuesFromProps(n,{},this),{willChange:p}=h,f=u(h,li);for(const s in f){const e=f[s];void 0!==c[s]&&Io(e)&&e.set(c[s])}}mount(e){var t;this.current=e,Jo.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach(((e,t)=>this.bindToMotionValue(t,e))),"never"===this.reducedMotionConfig?this.shouldReduceMotion=!1:"always"===this.reducedMotionConfig?this.shouldReduceMotion=!0:(Zo.current||function(){if(Zo.current=!0,yn)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Xo.current=e.matches;e.addEventListener("change",t),t()}else Xo.current=!1}(),this.shouldReduceMotion=Xo.current),null===(t=this.parent)||void 0===t||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Gr(this.notifyUpdate),Gr(this.render),this.valueSubscriptions.forEach((e=>e())),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null===(e=this.parent)||void 0===e||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){var t;this.children.add(e),null!==(t=this.enteringChildren)&&void 0!==t||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Ln.has(e);n&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",(t=>{this.latestValues[e]=t,this.props.onUpdate&&Ur.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()}));let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,(()=>{r(),o&&o(),t.owner&&t.stop()}))}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in Yo){const t=Yo[e];if(!t)continue;const{isEnabled:n,Feature:r}=t;if(!this.features[e]&&r&&n(this.props)&&(this.features[e]=new r(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<ci.length;n++){const t=ci[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const r=e["on"+t];r&&(this.propEventSubscriptions[t]=this.on(t,r))}this.prevMotionValues=function(e,t,n){for(const r in t){const o=t[r],i=n[r];if(Io(o))e.addValue(r,o);else if(Io(i))e.addValue(r,Ho(o,{owner:e}));else if(i!==o)if(e.hasValue(r)){const t=e.getValue(r);!0===t.liveStyle?t.jump(o):t.hasAnimated||t.set(o)}else{const t=e.getStaticValue(r);e.addValue(r,Ho(void 0!==t?t:o,{owner:e}))}}for(const r in n)void 0===t[r]&&e.removeValue(r);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=Ho(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let r=void 0===this.latestValues[e]&&this.current?null!==(n=this.getBaseTargetFromProps(this.props,e))&&void 0!==n?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var o;return void 0!==r&&null!==r&&("string"===typeof r&&(Or(r)||no(r))?r=parseFloat(r):(o=r,!Uo.find(Cr(o))&&ko.test(t)&&(r=Mo(e,t))),this.setBaseTarget(e,Io(r)?r.get():r)),Io(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let n;if("string"===typeof t||"object"===typeof t){var r;const o=ai(this.props,t,null===(r=this.presenceContext)||void 0===r?void 0:r.custom);o&&(n=o[e])}if(t&&void 0!==n)return n;const o=this.getBaseTargetFromProps(this.props,e);return void 0===o||Io(o)?void 0!==this.initialValues[e]&&void 0===n?void 0:this.baseTarget[e]:o}on(e,t){return this.events[e]||(this.events[e]=new Fo),this.events[e].add(t)}notify(e){if(this.events[e]){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.events[e].notify(...n)}}scheduleRenderMicrotask(){Go.render(this.render)}}class ui extends di{constructor(){super(...arguments),this.KeyframeResolver=Oo}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:r}=t;delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Io(e)&&(this.childSubscription=e.on("change",(e=>{this.current&&(this.current.textContent="".concat(e))})))}}const hi=(e,t)=>t&&"number"===typeof e?t.transform(e):e,pi={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fi=In.length;function mi(e,t,n){const{style:r,vars:o,transformOrigin:i}=e;let s=!1,a=!1;for(const l in t){const e=t[l];if(Ln.has(l))s=!0;else if(qn(l))o[l]=e;else{const t=hi(e,Eo[l]);l.startsWith("origin")?(a=!0,i[l]=t):r[l]=t}}if(t.transform||(s||n?r.transform=function(e,t,n){let r="",o=!0;for(let i=0;i<fi;i++){const s=In[i],a=e[s];if(void 0===a)continue;let l=!0;if(l="number"===typeof a?a===(s.startsWith("scale")?1:0):0===parseFloat(a),!l||n){const e=hi(a,Eo[s]);l||(o=!1,r+="".concat(pi[s]||s,"(").concat(e,") ")),n&&(t[s]=e)}}return r=r.trim(),n?r=n(t,o?"":r):o&&(r="none"),r}(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:e="50%",originY:t="50%",originZ:n=0}=i;r.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function gi(e,t,n,r){let{style:o,vars:i}=t;const s=e.style;let a;for(a in o)s[a]=o[a];for(a in null===r||void 0===r||r.applyProjectionStyles(s,n),i)s.setProperty(a,i[a])}function vi(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yi={correct:(e,t)=>{if(!t.target)return e;if("string"===typeof e){if(!kr.test(e))return e;e=parseFloat(e)}const n=vi(e,t.target.x),r=vi(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},xi={correct:(e,t)=>{let{treeScale:n,projectionDelta:r}=t;const o=e,i=ko.parse(e);if(i.length>5)return o;const s=ko.createTransformer(e),a="number"!==typeof i[0]?1:0,l=r.x.scale*n.x,c=r.y.scale*n.y;i[0+a]/=l,i[1+a]/=c;const d=Zn(l,c,.5);return"number"===typeof i[2+a]&&(i[2+a]/=d),"number"===typeof i[3+a]&&(i[3+a]/=d),s(i)}},bi={borderRadius:s(s({},yi),{},{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:yi,borderTopRightRadius:yi,borderBottomLeftRadius:yi,borderBottomRightRadius:yi,boxShadow:xi};function wi(e,t){let{layout:n,layoutId:r}=t;return Ln.has(e)||e.startsWith("origin")||(n||void 0!==r)&&(!!bi[e]||"opacity"===e)}function ki(e,t,n){const{style:r}=e,o={};for(const s in r){var i;(Io(r[s])||t.style&&Io(t.style[s])||wi(s,e)||void 0!==(null===n||void 0===n||null===(i=n.getValue(s))||void 0===i?void 0:i.liveStyle))&&(o[s]=r[s])}return o}class Ni extends ui{constructor(){super(...arguments),this.type="html",this.renderInstance=gi}readValueFromInstance(e,t){var n,r;if(Ln.has(t))return null!==(n=this.projection)&&void 0!==n&&n.isProjecting?Wn(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return Hn(n,t)})(e,t);{const n=(r=e,window.getComputedStyle(r)),o=(qn(t)?n.getPropertyValue(t):n[t])||0;return"string"===typeof o?o.trim():o}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return pr(e,n)}build(e,t,n){mi(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return ki(e,t,n)}}const _i=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Si={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ci={offset:"strokeDashoffset",array:"strokeDasharray"};const ji=["attrX","attrY","attrScale","pathLength","pathSpacing","pathOffset"],Ei=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Ti(e,t,n,r,o){let{attrX:i,attrY:s,attrScale:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0}=t;if(mi(e,u(t,ji),r),n)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:h,style:p}=e;var f,m;(h.transform&&(p.transform=h.transform,delete h.transform),p.transform||h.transformOrigin)&&(p.transformOrigin=null!==(f=h.transformOrigin)&&void 0!==f?f:"50% 50%",delete h.transformOrigin);p.transform&&(p.transformBox=null!==(m=null===o||void 0===o?void 0:o.transformBox)&&void 0!==m?m:"fill-box",delete h.transformBox);for(const u of Ei)void 0!==h[u]&&(p[u]=h[u],delete h[u]);void 0!==i&&(h.x=i),void 0!==s&&(h.y=s),void 0!==a&&(h.scale=a),void 0!==l&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];e.pathLength=1;const i=o?Si:Ci;e[i.offset]=kr.transform(-r);const s=kr.transform(t),a=kr.transform(n);e[i.array]="".concat(s," ").concat(a)}(h,l,c,d,!1)}const Ai=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Mi=e=>"string"===typeof e&&"svg"===e.toLowerCase();function Ri(e,t,n){const r=ki(e,t,n);for(const o in e)if(Io(e[o])||Io(t[o])){r[-1!==In.indexOf(o)?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o]=e[o]}return r}class Oi extends ui{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qo}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ln.has(t)){const e=Ao(t);return e&&e.default||0}return t=Ai.has(t)?t:_i(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return Ri(e,t,n)}build(e,t,n){Ti(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,r){!function(e,t,n,r){gi(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(Ai.has(o)?o:_i(o),t.attrs[o])}(e,t,0,r)}mount(e){this.isSVGTag=Mi(e.tagName),super.mount(e)}}const Ii=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Li(e){return"string"===typeof e&&!e.includes("-")&&!!(Ii.indexOf(e)>-1||/[A-Z]/.test(e))}const Di=(e,t)=>{var n;return(null!==(n=t.isSVG)&&void 0!==n?n:Li(e))?new Oi(t):new Ni(t,{allowProjection:e!==a.Fragment})},Pi=(0,a.createContext)({strict:!1}),$i=(0,a.createContext)({});function zi(e){const{initial:t,animate:n}=function(e,t){if(oi(e)){const{initial:t,animate:n}=e;return{initial:!1===t||ti(t)?t:void 0,animate:ti(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,a.useContext)($i));return(0,a.useMemo)((()=>({initial:t,animate:n})),[Fi(t),Fi(n)])}function Fi(e){return Array.isArray(e)?e.join(" "):e}const Bi=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Vi(e,t,n){for(const r in t)Io(t[r])||wi(r,n)||(e[r]=t[r])}function Wi(e,t){const n={};return Vi(n,e.style||{},e),Object.assign(n,function(e,t){let{transformTemplate:n}=e;return(0,a.useMemo)((()=>{const e={style:{},transform:{},transformOrigin:{},vars:{}};return mi(e,t,n),Object.assign({},e.vars,e.style)}),[t])}(e,t)),n}function Hi(e,t){const n={},r=Wi(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Ui=()=>s(s({},{style:{},transform:{},transformOrigin:{},vars:{}}),{},{attrs:{}});function Gi(e,t,n,r){const o=(0,a.useMemo)((()=>{const n=Ui();return Ti(n,t,Mi(r),e.transformTemplate,e.style),s(s({},n.attrs),{},{style:s({},n.style)})}),[t]);if(e.style){const t={};Vi(t,e.style,e),o.style=s(s({},t),o.style)}return o}const qi=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ki(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qi.has(e)}let Yi=e=>!Ki(e);try{"function"===typeof(Qi=require("@emotion/is-prop-valid").default)&&(Yi=e=>e.startsWith("on")?!Ki(e):Qi(e))}catch(FQ){}var Qi;function Xi(e,t,n,r,o){let{latestValues:i}=r,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0;const d=((null!==c&&void 0!==c?c:Li(e))?Gi:Hi)(t,i,o,e),u=function(e,t,n){const r={};for(const o in e)"values"===o&&"object"===typeof e.values||(Yi(o)||!0===n&&Ki(o)||!t&&!Ki(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}(t,"string"===typeof e,l),h=e!==a.Fragment?s(s(s({},u),d),{},{ref:n}):{},{children:p}=t,f=(0,a.useMemo)((()=>Io(p)?p.get():p),[p]);return(0,a.createElement)(e,s(s({},h),{},{children:f}))}function Zi(e){return Io(e)?e.get():e}const Ji=["transitionEnd","transition"];function es(e,t,n,r){const o={},i=r(e,{});for(const u in i)o[u]=Zi(i[u]);let{initial:s,animate:a}=e;const l=oi(e),c=ii(e);t&&c&&!l&&!1!==e.inherit&&(void 0===s&&(s=t.initial),void 0===a&&(a=t.animate));let d=!!n&&!1===n.initial;d=d||!1===s;const h=d?a:s;if(h&&"boolean"!==typeof h&&!ei(h)){const t=Array.isArray(h)?h:[h];for(let n=0;n<t.length;n++){const r=ai(e,t[n]);if(r){const{transitionEnd:e,transition:t}=r,n=u(r,Ji);for(const r in n){let e=n[r];if(Array.isArray(e)){e=e[d?e.length-1:0]}null!==e&&(o[r]=e)}for(const r in e)o[r]=e[r]}}}return o}const ts=e=>(t,n)=>{const r=(0,a.useContext)($i),o=(0,a.useContext)(bn),i=()=>function(e,t,n,r){let{scrapeMotionValuesFromProps:o,createRenderState:i}=e;return{latestValues:es(t,n,r,o),renderState:i()}}(e,t,r,o);return n?i():vn(i)},ns=ts({scrapeMotionValuesFromProps:ki,createRenderState:Bi}),rs=ts({scrapeMotionValuesFromProps:Ri,createRenderState:Ui});const os=Symbol.for("motionComponentSymbol");function is(e){return e&&"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function ss(e,t){if("function"===typeof e)return e(t);is(e)&&(e.current=t)}function as(e,t,n){const r=(0,a.useRef)(null);return(0,a.useCallback)((o=>{if(o&&e.onMount&&e.onMount(o),t&&(o?t.mount(o):t.unmount()),n)if(o){const e=ss(n,o);"function"===typeof e&&(r.current=e)}else r.current?(r.current(),r.current=null):ss(n,o)}),[t,e,n])}const ls="data-"+_i("framerAppearId"),cs=(0,a.createContext)({});function ds(e,t,n,r,o,i){var s,l,c,d;const{visualElement:u}=(0,a.useContext)($i),h=(0,a.useContext)(Pi),p=(0,a.useContext)(bn),f=(0,a.useContext)(Nn).reducedMotion,m=(0,a.useRef)(null);r=r||h.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:u,props:n,presenceContext:p,blockInitialAnimation:!!p&&!1===p.initial,reducedMotionConfig:f,isSVG:i}));const g=m.current,v=(0,a.useContext)(cs);!g||g.projection||!o||"html"!==g.type&&"svg"!==g.type||function(e,t,n,r){const{layoutId:o,layout:i,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:us(e.parent)),e.projection.setOptions({layoutId:o,layout:i,alwaysMeasureLayout:Boolean(s)||a&&is(a),visualElement:e,animationType:"string"===typeof i?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}(m.current,n,o,v);const y=(0,a.useRef)(!1);(0,a.useInsertionEffect)((()=>{g&&y.current&&g.update(n,p)}));const x=n[ls],b=(0,a.useRef)(Boolean(x)&&!(null!==(s=(l=window).MotionHandoffIsComplete)&&void 0!==s&&s.call(l,x))&&(null===(c=(d=window).MotionHasOptimisedAnimation)||void 0===c?void 0:c.call(d,x)));return xn((()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),b.current&&g.animationState&&g.animationState.animateChanges())})),(0,a.useEffect)((()=>{g&&(!b.current&&g.animationState&&g.animationState.animateChanges(),b.current&&(queueMicrotask((()=>{var e,t;null===(e=(t=window).MotionHandoffMarkAsComplete)||void 0===e||e.call(t,x)})),b.current=!1),g.enteringChildren=void 0)})),g}function us(e){if(e)return!1!==e.options.allowProjection?e.projection:us(e.parent)}function hs(e){var t,n;let{forwardMotionProps:r=!1,type:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;i&&function(e){for(const t in e)Yo[t]=s(s({},Yo[t]),e[t])}(i);const c=o?"svg"===o:Li(e),d=c?rs:ns;function u(t,n){let o;const i=s(s(s({},(0,a.useContext)(Nn)),t),{},{layoutId:ps(t)}),{isStatic:u}=i,h=zi(t),p=d(t,u);if(!u&&yn){!function(){(0,a.useContext)(Pi).strict;0}();const t=function(e){const{drag:t,layout:n}=Yo;if(!t&&!n)return{};const r=s(s({},t),n);return{MeasureLayout:null!==t&&void 0!==t&&t.isEnabled(e)||null!==n&&void 0!==n&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}(i);o=t.MeasureLayout,h.visualElement=ds(e,p,i,l,t.ProjectionNode,c)}return(0,mn.jsxs)($i.Provider,{value:h,children:[o&&h.visualElement?(0,mn.jsx)(o,s({visualElement:h.visualElement},i)):null,Xi(e,t,as(p,h.visualElement,n),p,u,r,c)]})}u.displayName="motion.".concat("string"===typeof e?e:"create(".concat(null!==(t=null!==(n=e.displayName)&&void 0!==n?n:e.name)&&void 0!==t?t:"",")"));const h=(0,a.forwardRef)(u);return h[os]=e,h}function ps(e){let{layoutId:t}=e;const n=(0,a.useContext)(gn).id;return n&&void 0!==t?n+"-"+t:t}function fs(e,t){if("undefined"===typeof Proxy)return hs;const n=new Map,r=(n,r)=>hs(n,r,e,t);return new Proxy(((e,t)=>r(e,t)),{get:(o,i)=>"create"===i?r:(n.has(i)||n.set(i,hs(i,void 0,e,t)),n.get(i))})}function ms(e,t,n){const r=e.getProps();return ai(r,t,void 0!==n?n:r.custom,e)}function gs(e,t){var n,r;return null!==(n=null!==(r=null===e||void 0===e?void 0:e[t])&&void 0!==r?r:null===e||void 0===e?void 0:e.default)&&void 0!==n?n:e}const vs=e=>Array.isArray(e),ys=["transitionEnd","transition"];function xs(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ho(n))}function bs(e,t){const n=e.getValue("willChange");if(r=n,Boolean(Io(r)&&r.add))return n.add(t);if(!n&&Br.WillChange){const n=new Br.WillChange("auto");e.addValue("willChange",n),n.add(t)}var r}function ws(e){return e.props[ls]}function ks(e){e.duration=0,e.type="keyframes"}const Ns=(e,t)=>n=>t(e(n)),_s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(Ns)},Ss=e=>1e3*e,Cs=e=>e/1e3,js={layout:0,mainThread:0,waapi:0};function Es(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ts(e,t){return n=>n>0?t:e}const As=(e,t,n)=>{const r=e*e,o=n*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Ms=[uo,co,ho];function Rs(e){const t=(n=e,Ms.find((e=>e.test(n))));var n;if(Mr(Boolean(t),"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!Boolean(t))return!1;let r=t.parse(e);return t===ho&&(r=function(e){let{hue:t,saturation:n,lightness:r,alpha:o}=e;t/=360,n/=100,r/=100;let i=0,s=0,a=0;if(n){const e=r<.5?r*(1+n):r+n-r*n,o=2*r-e;i=Es(o,e,t+1/3),s=Es(o,e,t),a=Es(o,e,t-1/3)}else i=s=a=r;return{red:Math.round(255*i),green:Math.round(255*s),blue:Math.round(255*a),alpha:o}}(r)),r}const Os=(e,t)=>{const n=Rs(e),r=Rs(t);if(!n||!r)return Ts(e,t);const o=s({},n);return e=>(o.red=As(n.red,r.red,e),o.green=As(n.green,r.green,e),o.blue=As(n.blue,r.blue,e),o.alpha=Zn(n.alpha,r.alpha,e),co.transform(o))},Is=new Set(["none","hidden"]);function Ls(e,t){return n=>Zn(e,t,n)}function Ds(e){return"number"===typeof e?Ls:"string"===typeof e?Yn(e)?Ts:po.test(e)?Os:zs:Array.isArray(e)?Ps:"object"===typeof e?po.test(e)?Os:$s:Ts}function Ps(e,t){const n=[...e],r=n.length,o=e.map(((e,n)=>Ds(e)(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=o[t](e);return n}}function $s(e,t){const n=s(s({},e),t),r={};for(const o in n)void 0!==e[o]&&void 0!==t[o]&&(r[o]=Ds(e[o])(e[o],t[o]));return e=>{for(const t in r)n[t]=r[t](e);return n}}const zs=(e,t)=>{const n=ko.createTransformer(t),r=yo(e),o=yo(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Is.has(e)&&!o.values.length||Is.has(t)&&!r.values.length?function(e,t){return Is.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):_s(Ps(function(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){var o;const s=t.types[i],a=e.indexes[s][r[s]],l=null!==(o=e.values[a])&&void 0!==o?o:0;n[i]=l,r[s]++}return n}(r,o),o.values),n):(Mr(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),Ts(e,t))};function Fs(e,t,n){if("number"===typeof e&&"number"===typeof t&&"number"===typeof n)return Zn(e,t,n);return Ds(e)(e,t)}const Bs=e=>{const t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Ur.update(t,e)},stop:()=>Gr(t),now:()=>qr.isProcessing?qr.timestamp:Po.now()}},Vs=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r="";const o=Math.max(Math.round(t/n),2);for(let i=0;i<o;i++)r+=Math.round(1e4*e(i/(o-1)))/1e4+", ";return"linear(".concat(r.substring(0,r.length-2),")")},Ws=2e4;function Hs(e){let t=0;let n=e.next(t);for(;!n.done&&t<Ws;)t+=50,n=e.next(t);return t>=Ws?1/0:t}function Us(e,t,n){const r=Math.max(t-5,0);return Bo(n-e(r),t-r)}const Gs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qs=.001;function Ks(e){let t,n,{duration:r=Gs.duration,bounce:o=Gs.bounce,velocity:i=Gs.velocity,mass:s=Gs.mass}=e;Mr(r<=Ss(Gs.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let a=1-o;a=mr(Gs.minDamping,Gs.maxDamping,a),r=mr(Gs.minDuration,Gs.maxDuration,Cs(r)),a<1?(t=e=>{const t=e*a,n=t*r,o=t-i,s=Qs(e,a),l=Math.exp(-n);return qs-o/s*l},n=e=>{const n=e*a*r,o=n*i+i,s=Math.pow(a,2)*Math.pow(e,2)*r,l=Math.exp(-n),c=Qs(Math.pow(e,2),a);return(-t(e)+qs>0?-1:1)*((o-s)*l)/c}):(t=e=>Math.exp(-e*r)*((e-i)*r+1)-.001,n=e=>Math.exp(-e*r)*(r*r*(i-e)));const l=function(e,t,n){let r=n;for(let o=1;o<Ys;o++)r-=e(r)/t(r);return r}(t,n,5/r);if(r=Ss(r),isNaN(l))return{stiffness:Gs.stiffness,damping:Gs.damping,duration:r};{const e=Math.pow(l,2)*s;return{stiffness:e,damping:2*a*Math.sqrt(s*e),duration:r}}}const Ys=12;function Qs(e,t){return e*Math.sqrt(1-t*t)}const Xs=["duration","bounce"],Zs=["stiffness","damping","mass"];function Js(e,t){return t.some((t=>void 0!==e[t]))}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gs.visualDuration,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Gs.bounce;const n="object"!==typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:o}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:u,duration:h,velocity:p,isResolvedFromDuration:f}=function(e){let t=s({velocity:Gs.velocity,stiffness:Gs.stiffness,damping:Gs.damping,mass:Gs.mass,isResolvedFromDuration:!1},e);if(!Js(e,Zs)&&Js(e,Xs))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(1.2*n),o=r*r,i=2*mr(.05,1,1-(e.bounce||0))*Math.sqrt(o);t=s(s({},t),{},{mass:Gs.mass,stiffness:o,damping:i})}else{const n=Ks(e);t=s(s(s({},t),n),{},{mass:Gs.mass}),t.isResolvedFromDuration=!0}return t}(s(s({},n),{},{velocity:-Cs(n.velocity||0)})),m=p||0,g=d/(2*Math.sqrt(c*u)),v=a-i,y=Cs(Math.sqrt(c/u)),x=Math.abs(v)<5;let b;if(r||(r=x?Gs.restSpeed.granular:Gs.restSpeed.default),o||(o=x?Gs.restDelta.granular:Gs.restDelta.default),g<1){const e=Qs(y,g);b=t=>{const n=Math.exp(-g*y*t);return a-n*((m+g*y*v)/e*Math.sin(e*t)+v*Math.cos(e*t))}}else if(1===g)b=e=>a-Math.exp(-y*e)*(v+(m+y*v)*e);else{const e=y*Math.sqrt(g*g-1);b=t=>{const n=Math.exp(-g*y*t),r=Math.min(e*t,300);return a-n*((m+g*y*v)*Math.sinh(r)+e*v*Math.cosh(r))/e}}const w={calculatedDuration:f&&h||null,next:e=>{const t=b(e);if(f)l.done=e>=h;else{let n=0===e?m:0;g<1&&(n=0===e?Ss(m):Us(b,e,t));const i=Math.abs(n)<=r,s=Math.abs(a-t)<=o;l.done=i&&s}return l.value=l.done?a:t,l},toString:()=>{const e=Math.min(Hs(w),Ws),t=Vs((t=>w.next(e*t).value),e,30);return e+"ms "+t},toTransition:()=>{}};return w}function ta(e){let{keyframes:t,velocity:n=0,power:r=.8,timeConstant:o=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:u}=e;const h=t[0],p={done:!1,value:h},f=e=>void 0===l?c:void 0===c||Math.abs(l-e)<Math.abs(c-e)?l:c;let m=r*n;const g=h+m,v=void 0===a?g:a(g);v!==g&&(m=v-h);const y=e=>-m*Math.exp(-e/o),x=e=>v+y(e),b=e=>{const t=y(e),n=x(e);p.done=Math.abs(t)<=d,p.value=p.done?v:n};let w,k;const N=e=>{var t;(t=p.value,void 0!==l&&t<l||void 0!==c&&t>c)&&(w=e,k=ea({keyframes:[p.value,f(p.value)],velocity:Us(x,e,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:u}))};return N(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),N(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),p)}}}ea.applyToOptions=e=>{const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const n=(arguments.length>2?arguments[2]:void 0)(s(s({},e),{},{keyframes:[0,t]})),r=Math.min(Hs(n),Ws);return{type:"keyframes",ease:e=>n.next(r*e).value/t,duration:Cs(r)}}(e,100,ea);return e.ease=t.ease,e.duration=Ss(t.duration),e.type="keyframes",e};const na=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function ra(e,t,n,r){if(e===t&&n===r)return Fr;const o=t=>function(e,t,n,r,o){let i,s,a=0;do{s=t+(n-t)/2,i=na(s,r,o)-e,i>0?n=s:t=s}while(Math.abs(i)>1e-7&&++a<12);return s}(t,0,1,e,n);return e=>0===e||1===e?e:na(o(e),t,r)}const oa=ra(.42,0,1,1),ia=ra(0,0,.58,1),sa=ra(.42,0,.58,1),aa=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,la=e=>t=>1-e(1-t),ca=ra(.33,1.53,.69,.99),da=la(ca),ua=aa(da),ha=e=>(e*=2)<1?.5*da(e):.5*(2-Math.pow(2,-10*(e-1))),pa=e=>1-Math.sin(Math.acos(e)),fa=la(pa),ma=aa(pa),ga=e=>Array.isArray(e)&&"number"===typeof e[0],va={linear:Fr,easeIn:oa,easeInOut:sa,easeOut:ia,circIn:pa,circInOut:ma,circOut:fa,backIn:da,backInOut:ua,backOut:ca,anticipate:ha},ya=e=>{if(ga(e)){Rr(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[t,n,r,o]=e;return ra(t,n,r,o)}return(e=>"string"===typeof e)(e)?(Rr(void 0!==va[e],"Invalid easing type '".concat(e,"'"),"invalid-easing-type"),va[e]):e},xa=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r};function ba(e,t){let{clamp:n=!0,ease:r,mixer:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.length;if(Rr(i===t.length,"Both input and output ranges must be the same length","range-length"),1===i)return()=>t[0];if(2===i&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=function(e,t,n){const r=[],o=n||Br.mix||Fs,i=e.length-1;for(let s=0;s<i;s++){let n=o(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]||Fr:t;n=_s(e,n)}r.push(n)}return r}(t,r,o),l=a.length,c=n=>{if(s&&n<e[0])return t[0];let r=0;if(l>1)for(;r<e.length-2&&!(n<e[r+1]);r++);const o=xa(e[r],e[r+1],n);return a[r](o)};return n?t=>c(mr(e[0],e[i-1],t)):c}function wa(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=xa(0,t,r);e.push(Zn(n,1,o))}}(t,e.length-1),t}function ka(e,t){return e.map((()=>t||sa)).splice(0,e.length-1)}function Na(e){let{duration:t=300,keyframes:n,times:r,ease:o="easeInOut"}=e;const i=(e=>Array.isArray(e)&&"number"!==typeof e[0])(o)?o.map(ya):ya(o),s={done:!1,value:n[0]},a=function(e,t){return e.map((e=>e*t))}(r&&r.length===n.length?r:wa(n),t),l=ba(a,n,{ease:Array.isArray(i)?i:ka(n,i)});return{calculatedDuration:t,next:e=>(s.value=l(e),s.done=e>=t,s)}}const _a=e=>null!==e;function Sa(e,t,n){let{repeat:r,repeatType:o="loop"}=t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const s=e.filter(_a),a=i<0||r&&"loop"!==o&&r%2===1?0:s.length-1;return a&&void 0!==n?n:s[a]}const Ca={decay:ta,inertia:ta,tween:Na,keyframes:Na,spring:ea};function ja(e){"string"===typeof e.type&&(e.type=Ca[e.type])}class Ea{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise((e=>{this.resolve=e}))}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const Ta=e=>e/100;class Aa extends Ea{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==Po.now()&&this.tick(Po.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null===(e=(t=this.options).onStop)||void 0===e||e.call(t))},js.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;ja(e);const{type:t=Na,repeat:n=0,repeatDelay:r=0,repeatType:o,velocity:i=0}=e;let{keyframes:a}=e;const l=t||Na;l!==Na&&"number"!==typeof a[0]&&(this.mixKeyframes=_s(Ta,Fs(a[0],a[1])),a=[0,100]);const c=l(s(s({},e),{},{keyframes:a}));"mirror"===o&&(this.mirroredGenerator=l(s(s({},e),{},{keyframes:[...a].reverse(),velocity:-i}))),null===c.calculatedDuration&&(c.calculatedDuration=Hs(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{generator:n,totalDuration:r,mixKeyframes:o,mirroredGenerator:i,resolvedDuration:s,calculatedDuration:a}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:d,repeatType:u,repeatDelay:h,type:p,onUpdate:f,finalKeyframe:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>r;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=r);let y=this.currentTime,x=n;if(d){const e=Math.min(this.currentTime,r)/s;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,d+1);Boolean(t%2)&&("reverse"===u?(n=1-n,h&&(n-=h/s)):"mirror"===u&&(x=i)),y=mr(0,1,n)*s}const b=v?{done:!1,value:c[0]}:x.next(y);o&&(b.value=o(b.value));let{done:w}=b;v||null===a||(w=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return k&&p!==ta&&(b.value=Sa(c,this.options,m,this.speed)),f&&f(b.value),k&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return Cs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cs(e)}get time(){return Cs(this.currentTime)}set time(e){var t;e=Ss(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null===(t=this.driver)||void 0===t||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Po.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Cs(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Bs,startTime:r}=this.options;this.driver||(this.driver=n((e=>this.tick(e)))),null===(e=(t=this.options).onPlay)||void 0===e||e.call(t);const o=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=o):null!==this.holdTime?this.startTime=o-this.holdTime:this.startTime||(this.startTime=null!==r&&void 0!==r?r:o),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Po.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null===(e=(t=this.options).onComplete)||void 0===e||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null===(e=(t=this.options).onCancel)||void 0===e||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,js.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null===(t=this.driver)||void 0===t||t.stop(),e.observe(this)}}function Ma(e){let t;return()=>(void 0===t&&(t=e()),t)}const Ra=Ma((()=>void 0!==window.ScrollTimeline)),Oa={};function Ia(e,t){const n=Ma(e);return()=>{var e;return null!==(e=Oa[t])&&void 0!==e?e:n()}}const La=Ia((()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(zQ){return!1}return!0}),"linearEasing"),Da=e=>{let[t,n,r,o]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(r,", ").concat(o,")")},Pa={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Da([0,.65,.55,1]),circOut:Da([.55,0,1,.45]),backIn:Da([.31,.01,.66,-.59]),backOut:Da([.33,1.53,.69,.99])};function $a(e,t){return e?"function"===typeof e?La()?Vs(e,t):"ease-out":ga(e)?Da(e):Array.isArray(e)?e.map((e=>$a(e,t)||Pa.easeOut)):Pa[e]:void 0}function za(e,t,n){let{delay:r=0,duration:o=300,repeat:i=0,repeatType:s="loop",ease:a="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d={[t]:n};l&&(d.offset=l);const u=$a(a,o);Array.isArray(u)&&(d.easing=u),Wr.value&&js.waapi++;const h={delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:"reverse"===s?"alternate":"normal"};c&&(h.pseudoElement=c);const p=e.animate(d,h);return Wr.value&&p.finished.finally((()=>{js.waapi--})),p}function Fa(e){return"function"===typeof e&&"applyToOptions"in e}const Ba=["type"];class Va extends Ea{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:r,pseudoElement:o,allowFlatten:i=!1,finalKeyframe:s,onComplete:a}=e;this.isPseudoElement=Boolean(o),this.allowFlatten=i,this.options=e,Rr("string"!==typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");const l=function(e){let{type:t}=e,n=u(e,Ba);return Fa(t)&&La()?t.applyToOptions(n):(null!==(r=n.duration)&&void 0!==r||(n.duration=300),null!==(o=n.ease)&&void 0!==o||(n.ease="easeOut"),n);var r,o}(e);this.animation=za(t,n,r,l,o),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const e=Sa(r,this.options,s,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null===a||void 0===a||a(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null===(e=(t=this.animation).finish)||void 0===e||e.call(t)}cancel(){try{this.animation.cancel()}catch(zQ){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(null===(e=(t=this.animation).commitStyles)||void 0===e||e.call(t))}get duration(){var e,t;const n=(null===(e=this.animation.effect)||void 0===e||null===(t=e.getComputedTiming)||void 0===t?void 0:t.call(e).duration)||0;return Cs(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Cs(e)}get time(){return Cs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;var r;this.allowFlatten&&(null===(r=this.animation.effect)||void 0===r||r.updateTiming({easing:"linear"}));return this.animation.onfinish=null,t&&Ra()?(this.animation.timeline=t,Fr):n(this)}}const Wa={anticipate:ha,backInOut:ua,circInOut:ma};function Ha(e){"string"===typeof e.ease&&e.ease in Wa&&(e.ease=Wa[e.ease])}const Ua=["motionValue","onUpdate","onComplete","element"];class Ga extends Va{constructor(e){Ha(e),ja(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){var t;const n=this.options,{motionValue:r,onUpdate:o,onComplete:i,element:a}=n,l=u(n,Ua);if(!r)return;if(void 0!==e)return void r.set(e);const c=new Aa(s(s({},l),{},{autoplay:!1})),d=Ss(null!==(t=this.finishedTime)&&void 0!==t?t:this.time);r.setWithVelocity(c.sample(d-10).value,c.sample(d).value,10),c.stop()}}const qa=(e,t)=>"zIndex"!==t&&(!("number"!==typeof e&&!Array.isArray(e))||!("string"!==typeof e||!ko.test(e)&&"0"!==e||e.startsWith("url(")));const Ka=new Set(["opacity","clipPath","filter","transform"]),Ya=Ma((()=>Object.hasOwnProperty.call(Element.prototype,"animate")));const Qa=["autoplay","delay","type","repeat","repeatDelay","repeatType","keyframes","name","motionValue","element"];class Xa extends Ea{constructor(e){var t;let{autoplay:n=!0,delay:r=0,type:o="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:d,motionValue:h,element:p}=e,f=u(e,Qa);super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null===(t=this.stopTimeline)||void 0===t||t.call(this));null===(e=this.keyframeResolver)||void 0===e||e.cancel()},this.createdAt=Po.now();const m=s({autoplay:n,delay:r,type:o,repeat:i,repeatDelay:a,repeatType:l,name:d,motionValue:h,element:p},f),g=(null===p||void 0===p?void 0:p.KeyframeResolver)||to;this.keyframeResolver=new g(c,((e,t,n)=>this.onKeyframesResolved(e,t,m,!n)),d,h,p),null===(t=this.keyframeResolver)||void 0===t||t.scheduleResolve()}onKeyframesResolved(e,t,n,r){this.keyframeResolver=void 0;const{name:o,type:i,velocity:a,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Po.now(),function(e,t,n,r){const o=e[0];if(null===o)return!1;if("display"===t||"visibility"===t)return!0;const i=e[e.length-1],s=qa(o,t),a=qa(i,t);return Mr(s===a,"You are trying to animate ".concat(t,' from "').concat(o,'" to "').concat(i,'". "').concat(s?i:o,'" is not an animatable value.'),"value-not-animatable"),!(!s||!a)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||Fa(n))&&r)}(e,o,i,a)||(!Br.instantAnimations&&l||null===d||void 0===d||d(Sa(e,n,t)),e[0]=e[e.length-1],ks(n),n.repeat=0);const u=s(s({startTime:r?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t},n),{},{keyframes:e}),h=!c&&function(e){var t;const{motionValue:n,name:r,repeatDelay:o,repeatType:i,damping:s,type:a}=e;if(!((null===n||void 0===n||null===(t=n.owner)||void 0===t?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return Ya()&&r&&Ka.has(r)&&("transform"!==r||!c)&&!l&&!o&&"mirror"!==i&&0!==s&&"inertia"!==a}(u)?new Ga(s(s({},u),{},{element:u.motionValue.owner.current})):new Aa(u);h.finished.then((()=>this.notifyFinished())).catch(Fr),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then((()=>{}))}get animation(){var e;this._animation||(null===(e=this.keyframeResolver)||void 0===e||e.resume(),Zr=!0,eo(),Jr(),Zr=!1);return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null===(e=this.keyframeResolver)||void 0===e||e.cancel()}}const Za=e=>null!==e;const Ja={type:"spring",stiffness:500,damping:25,restSpeed:10},el={type:"keyframes",duration:.8},tl={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nl=(e,t)=>{let{keyframes:n}=t;return n.length>2?el:Ln.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:Ja:tl},rl=["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from","elapsed"];const ol=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return a=>{const l=gs(r,e)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d-=Ss(c);const h=s(s({keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity()},l),{},{delay:-d,onUpdate:e=>{t.set(e),l.onUpdate&&l.onUpdate(e)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:o});(function(e){let{when:t,delay:n,delayChildren:r,staggerChildren:o,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d}=e,h=u(e,rl);return!!Object.keys(h).length})(l)||Object.assign(h,nl(e,h)),h.duration&&(h.duration=Ss(h.duration)),h.repeatDelay&&(h.repeatDelay=Ss(h.repeatDelay)),void 0!==h.from&&(h.keyframes[0]=h.from);let p=!1;if((!1===h.type||0===h.duration&&!h.repeatDelay)&&(ks(h),0===h.delay&&(p=!0)),(Br.instantAnimations||Br.skipAnimations)&&(p=!0,ks(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,p&&!i&&void 0!==t.get()){const e=function(e,t,n){let{repeat:r,repeatType:o="loop"}=t;const i=e.filter(Za),s=r&&"loop"!==o&&r%2===1?0:i.length-1;return s&&void 0!==n?n:i[s]}(h.keyframes,l);if(void 0!==e)return void Ur.update((()=>{h.onUpdate(e),h.onComplete()}))}return l.isSync?new Aa(h):new Xa(h)}},il=["transition","transitionEnd"];function sl(e,t){let{protectedKeys:n,needsAnimating:r}=e;const o=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,o}function al(e,t){let{delay:n=0,transitionOverride:r,type:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:i=e.getDefaultTransition(),transitionEnd:a}=t,l=u(t,il);r&&(i=r);const c=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const u in l){var h;const t=e.getValue(u,null!==(h=e.latestValues[u])&&void 0!==h?h:null),r=l[u];if(void 0===r||d&&sl(d,u))continue;const o=s({delay:n},gs(i||{},u)),a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(r)&&r===a&&!o.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const t=ws(e);if(t){const e=window.MotionHandoffAnimation(t,u,Ur);null!==e&&(o.startTime=e,p=!0)}}bs(e,u),t.start(ol(u,t,r,e.shouldReduceMotion&&fr.has(u)?{type:!1}:o,e,p));const f=t.animation;f&&c.push(f)}return a&&Promise.all(c).then((()=>{Ur.update((()=>{a&&function(e,t){let n=ms(e,t)||{},{transitionEnd:r={},transition:o={}}=n,i=u(n,ys);i=s(s({},i),r);for(const s in i)xs(e,s,(a=i[s],vs(a)?a[a.length-1]||0:a));var a}(e,a)}))})),c}function ll(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const i=Array.from(e).sort(((e,t)=>e.sortNodePosition(t))).indexOf(t),s=e.size,a=(s-1)*r;return"function"===typeof n?n(i,s):1===o?i*r:a-i*r}function cl(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=ms(e,t,"exit"===r.type?null===(n=e.presenceContext)||void 0===n?void 0:n.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(i=r.transitionOverride);const a=o?()=>Promise.all(al(e,o,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{delayChildren:o=0,staggerChildren:a,staggerDirection:l}=i;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0;const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(cl(c,t,s(s({},a),{},{delay:n+("function"===typeof r?0:r)+ll(e.variantChildren,c,r,o,i)})).then((()=>c.notify("AnimationComplete",t))));return Promise.all(l)}(e,t,n,o,a,l,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[e,t]="beforeChildren"===c?[a,l]:[l,a];return e().then((()=>t()))}return Promise.all([a(),l(r.delay)])}function dl(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const ul=ri.length;function hl(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&hl(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<ul;n++){const r=ri[n],o=e.props[r];(ti(o)||!1===o)&&(t[r]=o)}return t}const pl=["transition","transitionEnd"],fl=[...ni].reverse(),ml=ni.length;function gl(e){return t=>Promise.all(t.map((t=>{let{animation:n,options:r}=t;return function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t)){const o=t.map((t=>cl(e,t,r)));n=Promise.all(o)}else if("string"===typeof t)n=cl(e,t,r);else{const o="function"===typeof t?ms(e,t,r.custom):t;n=Promise.all(al(e,o,r))}return n.then((()=>{e.notify("AnimationComplete",t)}))}(e,n,r)})))}function vl(e){let t=gl(e),n=bl(),r=!0;const o=t=>(n,r)=>{var o;const i=ms(e,r,"exit"===t?null===(o=e.presenceContext)||void 0===o?void 0:o.custom:void 0);if(i){const{transition:e,transitionEnd:t}=i,r=u(i,pl);n=s(s(s({},n),r),t)}return n};function i(i){const{props:a}=e,l=hl(e.parent)||{},c=[],d=new Set;let u={},h=1/0;for(let t=0;t<ml;t++){const p=fl[t],f=n[p],m=void 0!==a[p]?a[p]:l[p],g=ti(m),v=p===i?f.isActive:null;!1===v&&(h=t);let y=m===l[p]&&m!==a[p]&&g;if(y&&r&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys=s({},u),!f.isActive&&null===v||!m&&!f.prevProp||ei(m)||"boolean"===typeof m)continue;const x=yl(f.prevProp,m);let b=x||p===i&&f.isActive&&!y&&g||t>h&&g,w=!1;const k=Array.isArray(m)?m:[m];let N=k.reduce(o(p),{});!1===v&&(N={});const{prevResolvedValues:_={}}=f,S=s(s({},_),N),C=t=>{b=!0,d.has(t)&&(w=!0,d.delete(t)),f.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=N[e],n=_[e];if(u.hasOwnProperty(e))continue;let r=!1;r=vs(t)&&vs(n)?!dl(t,n):t!==n,r?void 0!==t&&null!==t?C(e):d.add(e):void 0!==t&&d.has(e)?C(e):f.protectedKeys[e]=!0}f.prevProp=m,f.prevResolvedValues=N,f.isActive&&(u=s(s({},u),N)),r&&e.blockInitialAnimation&&(b=!1);const j=y&&x;b&&(!j||w)&&c.push(...k.map((t=>{const n={type:p};if("string"===typeof t&&r&&!j&&e.manuallyAnimateOnMount&&e.parent){const{parent:r}=e,o=ms(r,t);if(r.enteringChildren&&o){const{delayChildren:t}=o.transition||{};n.delay=ll(r.enteringChildren,e,t)}}return{animation:t,options:n}})))}if(d.size){const t={};if("boolean"!==typeof a.initial){const n=ms(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}d.forEach((n=>{const r=e.getBaseTarget(n),o=e.getValue(n);o&&(o.liveStyle=!0),t[n]=null!==r&&void 0!==r?r:null})),c.push({animation:t})}let p=Boolean(c.length);return!r||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(p=!1),r=!1,p?t(c):Promise.resolve()}return{animateChanges:i,setActive:function(t,r){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((e=>{var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;const s=i(t);for(const e in n)n[e].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=bl()}}}function yl(e,t){return"string"===typeof t?t!==e:!!Array.isArray(t)&&!dl(t,e)}function xl(){return{isActive:arguments.length>0&&void 0!==arguments[0]&&arguments[0],protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bl(){return{animate:xl(!0),whileInView:xl(),whileHover:xl(),whileTap:xl(),whileDrag:xl(),whileFocus:xl(),exit:xl()}}class wl{constructor(e){this.isMounted=!1,this.node=e}update(){}}let kl=0;const Nl={animation:{Feature:class extends wl{constructor(e){super(e),e.animationState||(e.animationState=vl(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ei(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null===(e=this.unmountControls)||void 0===e||e.call(this)}}},exit:{Feature:class extends wl{constructor(){super(...arguments),this.id=kl++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then((()=>{t(this.id)}))}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}},_l={x:!1,y:!1};function Sl(){return _l.x||_l.y}function Cl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const jl=e=>"mouse"===e.pointerType?"number"!==typeof e.button||e.button<=0:!1!==e.isPrimary;function El(e){return{point:{x:e.pageX,y:e.pageY}}}function Tl(e,t,n,r){return Cl(e,t,(e=>t=>jl(t)&&e(t,El(t)))(n),r)}function Al(e){return e.max-e.min}function Ml(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=r,e.originPoint=Zn(t.min,t.max,e.origin),e.scale=Al(n)/Al(t),e.translate=Zn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function Rl(e,t,n,r){Ml(e.x,t.x,n.x,r?r.originX:void 0),Ml(e.y,t.y,n.y,r?r.originY:void 0)}function Ol(e,t,n){e.min=n.min+t.min,e.max=e.min+Al(t)}function Il(e,t,n){e.min=t.min-n.min,e.max=e.min+Al(t)}function Ll(e,t,n){Il(e.x,t.x,n.x),Il(e.y,t.y,n.y)}function Dl(e){return[e("x"),e("y")]}const Pl=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},$l=(e,t)=>Math.abs(e-t);class zl{constructor(e,t){let{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:o=!1,distanceThreshold:i=3}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=Vl(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=$l(e.x,t.x),r=$l(e.y,t.y);return Math.sqrt(n**2+r**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:r}=e,{timestamp:o}=qr;this.history.push(s(s({},r),{},{timestamp:o}));const{onStart:i,onMove:a}=this.handlers;t||(i&&i(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=Fl(t,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:r,resumeAnimation:o}=this.handlers;if(this.dragSnapToOrigin&&o&&o(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const i=Vl("pointercancel"===e.type?this.lastMoveEventInfo:Fl(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,i),r&&r(e,i)},!jl(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=r||window;const a=Fl(El(e),this.transformPagePoint),{point:l}=a,{timestamp:c}=qr;this.history=[s(s({},l),{},{timestamp:c})];const{onSessionStart:d}=t;d&&d(e,Vl(a,this.history)),this.removeListeners=_s(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Gr(this.updatePoint)}}function Fl(e,t){return t?{point:t(e.point)}:e}function Bl(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vl(e,t){let{point:n}=e;return{point:n,delta:Bl(n,Hl(t)),offset:Bl(n,Wl(t)),velocity:Ul(t,.1)}}function Wl(e){return e[0]}function Hl(e){return e[e.length-1]}function Ul(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Hl(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>Ss(t)));)n--;if(!r)return{x:0,y:0};const i=Cs(o.timestamp-r.timestamp);if(0===i)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Gl(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ql(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}const Kl=.35;function Yl(e,t,n){return{min:Ql(e,t),max:Ql(e,n)}}function Ql(e,t){return"number"===typeof e?e:e[t]||0}const Xl=new WeakMap;class Zl{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{presenceContext:r}=this.visualElement;if(r&&!1===r.isPresent)return;const{dragSnapToOrigin:o}=this.getProps();this.panSession=new zl(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(El(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:r,onDragStart:o}=this.getProps();if(n&&!r&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(i=n)||"y"===i?_l[i]?null:(_l[i]=!0,()=>{_l[i]=!1}):_l.x||_l.y?null:(_l.x=_l.y=!0,()=>{_l.x=_l.y=!1}),!this.openDragLock))return;var i;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dl((e=>{let t=this.getAxisMotionValue(e).get()||0;if(wr.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const r=n.layout.layoutBox[e];if(r){t=Al(r)*(parseFloat(t)/100)}}}this.originPoint[e]=t})),o&&Ur.postRender((()=>o(e,t))),bs(this.visualElement,"transform");const{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:r,onDirectionLock:o,onDrag:i}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:s}=t;if(r&&null===this.currentDirection)return this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(s),void(null!==this.currentDirection&&o&&o(this.currentDirection));this.updateAxis("x",t.point,s),this.updateAxis("y",t.point,s),this.visualElement.render(),i&&i(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>Dl((e=>{var t;return"paused"===this.getAnimationState(e)&&(null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.play())}))},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:o,distanceThreshold:n,contextWindow:Pl(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,r=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!r||!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Ur.postRender((()=>s(n,r)))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:r}=this.getProps();if(!n||!Jl(e,r,this.currentDirection))return;const o=this.getAxisMotionValue(e);let i=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(i=function(e,t,n){let{min:r,max:o}=t;return void 0!==r&&e<r?e=n?Zn(r,e,n.min):Math.max(e,r):void 0!==o&&e>o&&(e=n?Zn(o,e,n.max):Math.min(e,o)),e}(i,this.constraints[e],this.elastic[e])),o.set(i)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null===(e=this.visualElement.projection)||void 0===e?void 0:e.layout,o=this.constraints;t&&is(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!r)&&function(e,t){let{top:n,left:r,bottom:o,right:i}=t;return{x:Gl(e.x,r,i),y:Gl(e.y,n,o)}}(r.layoutBox,t),this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kl;return!1===e?e=0:!0===e&&(e=Kl),{x:Yl(e,"left","right"),y:Yl(e,"top","bottom")}}(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Dl((e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(r.layoutBox[e],this.constraints[e]))}))}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!is(e))return!1;const n=e.current;Rr(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const o=function(e,t,n){const r=pr(e,n),{scroll:o}=t;return o&&(dr(r.x,o.offset.x),dr(r.y,o.offset.y)),r}(n,r.root,this.visualElement.getTransformPagePoint());let i=function(e,t){return{x:ql(e.x,t.x),y:ql(e.y,t.y)}}(r.layout.layoutBox,o);if(t){const e=t(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(i));this.hasMutatedConstraints=!!e,e&&(i=Xn(e))}return i}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:r,dragTransition:o,dragSnapToOrigin:i,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Dl((a=>{if(!Jl(a,t,this.currentDirection))return;let c=l&&l[a]||{};i&&(c={min:0,max:0});const d=r?200:1e6,u=r?40:1e7,h=s(s({type:"inertia",velocity:n?e[a]:0,bounceStiffness:d,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10},o),c);return this.startAxisValueAnimation(a,h)}));return Promise.all(c).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return bs(this.visualElement,e),n.start(ol(e,n,0,t,this.visualElement,!1))}stopAnimation(){Dl((e=>this.getAxisMotionValue(e).stop()))}pauseAnimation(){Dl((e=>{var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.pause()}))}getAnimationState(e){var t;return null===(t=this.getAxisMotionValue(e).animation)||void 0===t?void 0:t.state}getAxisMotionValue(e){const t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps(),r=n[t];return r||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Dl((t=>{const{drag:n}=this.getProps();if(!Jl(t,n,this.currentDirection))return;const{projection:r}=this.visualElement,o=this.getAxisMotionValue(t);if(r&&r.layout){const{min:n,max:i}=r.layout.layoutBox[t],s=o.get()||0;o.set(e[t]-Zn(n,i,.5)+s)}}))}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!is(t)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Dl((e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();r[e]=function(e,t){let n=.5;const r=Al(e),o=Al(t);return o>r?n=xa(t.min,t.max-r,e.min):r>o&&(n=xa(e.min,e.max-o,t.min)),mr(0,1,n)}({min:n,max:n},this.constraints[e])}}));const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Dl((t=>{if(!Jl(t,e,null))return;const n=this.getAxisMotionValue(t),{min:o,max:i}=this.constraints[t];n.set(Zn(o,i,r[t]))}))}addListeners(){if(!this.visualElement.current)return;Xl.set(this.visualElement,this);const e=Tl(this.visualElement.current,"pointerdown",(e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)})),t=()=>{const{dragConstraints:e}=this.getProps();is(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,r=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Ur.read(t);const o=Cl(window,"resize",(()=>this.scalePositionWithinConstraints())),i=n.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(Dl((e=>{const n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))})),this.visualElement.render())}));return()=>{o(),e(),r(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:o=!1,dragElastic:i=Kl,dragMomentum:a=!0}=e;return s(s({},e),{},{drag:t,dragDirectionLock:n,dragPropagation:r,dragConstraints:o,dragElastic:i,dragMomentum:a})}}function Jl(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}const ec=e=>(t,n)=>{e&&Ur.postRender((()=>e(t,n)))};const tc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let nc=!1;class rc extends a.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:r}=this.props,{projection:o}=e;o&&(t.group&&t.group.add(o),n&&n.register&&r&&n.register(o),nc&&o.root.didUpdate(),o.addEventListener("animationComplete",(()=>{this.safeToRemove()})),o.setOptions(s(s({},o.options),{},{onExitComplete:()=>this.safeToRemove()}))),tc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:r,isPresent:o}=this.props,{projection:i}=n;return i?(i.isPresent=o,nc=!0,r||e.layoutDependency!==t||void 0===t||e.isPresent!==o?i.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?i.promote():i.relegate()||Ur.postRender((()=>{const e=i.getStack();e&&e.members.length||this.safeToRemove()}))),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Go.postRender((()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()})))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:r}=e;nc=!0,r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oc(e){const[t,n]=An(),r=(0,a.useContext)(gn);return(0,mn.jsx)(rc,s(s({},e),{},{layoutGroup:r,switchLayoutGroup:(0,a.useContext)(cs),isPresent:t,safeToRemove:n}))}function ic(e){return wn(e)&&"ownerSVGElement"in e}const sc=(e,t)=>e.depth-t.depth;class ac{constructor(){this.children=[],this.isDirty=!1}add(e){$o(this.children,e),this.isDirty=!0}remove(e){zo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sc),this.isDirty=!1,this.children.forEach(e)}}function lc(e,t){const n=Po.now(),r=o=>{let{timestamp:i}=o;const s=i-n;s>=t&&(Gr(r),e(s-t))};return Ur.setup(r,!0),()=>Gr(r)}const cc=["TopLeft","TopRight","BottomLeft","BottomRight"],dc=cc.length,uc=e=>"string"===typeof e?parseFloat(e):e,hc=e=>"number"===typeof e||kr.test(e);function pc(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const fc=gc(0,.5,fa),mc=gc(.5,.95,Fr);function gc(e,t,n){return r=>r<e?0:r>t?1:n(xa(e,t,r))}function vc(e,t){e.min=t.min,e.max=t.max}function yc(e,t){vc(e.x,t.x),vc(e.y,t.y)}function xc(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function bc(e,t,n,r,o){return e=or(e-=t,1/n,r),void 0!==o&&(e=or(e,1/o,r)),e}function wc(e,t,n,r,o){let[i,s,a]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;wr.test(t)&&(t=parseFloat(t),t=Zn(s.min,s.max,t/100)-s.min);if("number"!==typeof t)return;let a=Zn(i.min,i.max,r);e===i&&(a-=t),e.min=bc(e.min,t,n,a,o),e.max=bc(e.max,t,n,a,o)}(e,t[i],t[s],t[a],t.scale,r,o)}const kc=["x","scaleX","originX"],Nc=["y","scaleY","originY"];function _c(e,t,n,r){wc(e.x,t,kc,n?n.x:void 0,r?r.x:void 0),wc(e.y,t,Nc,n?n.y:void 0,r?r.y:void 0)}function Sc(e){return 0===e.translate&&1===e.scale}function Cc(e){return Sc(e.x)&&Sc(e.y)}function jc(e,t){return e.min===t.min&&e.max===t.max}function Ec(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Tc(e,t){return Ec(e.x,t.x)&&Ec(e.y,t.y)}function Ac(e){return Al(e.x)/Al(e.y)}function Mc(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Rc{constructor(){this.members=[]}add(e){$o(this.members,e),e.scheduleRender()}remove(e){if(zo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex((t=>e===t));if(0===t)return!1;let n;for(let r=t;r>=0;r--){const e=this.members[r];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;!1===r&&n.hide()}}exitAnimationComplete(){this.members.forEach((e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()}))}scheduleRender(){this.members.forEach((e=>{e.instance&&e.scheduleRender(!1)}))}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Oc={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},Ic=["","X","Y","Z"];let Lc=0;function Dc(e,t,n,r){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Pc(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=ws(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:r}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ur,!(t||r))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Pc(r)}function $c(e){let{attachResizeListener:t,defaultParent:n,measureScroll:r,checkIsScrollRoot:o,resetTransform:i}=e;return class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null===n||void 0===n?void 0:n();this.id=Lc++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Wr.value&&(Oc.nodes=Oc.calculatedTargetDeltas=Oc.calculatedProjections=0),this.nodes.forEach(Bc),this.nodes.forEach(Kc),this.nodes.forEach(Yc),this.nodes.forEach(Vc),Wr.addProjectionMetrics&&Wr.addProjectionMetrics(Oc)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let n=0;n<this.path.length;n++)this.path[n].shouldResetTransform=!0;this.root===this&&(this.nodes=new ac)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Fo),this.eventHandlers.get(e).add(t)}notifyListeners(e){const t=this.eventHandlers.get(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];t&&t.notify(...r)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;var n;this.isSVG=ic(e)&&!(ic(n=e)&&"svg"===n.tagName),this.instance=e;const{layoutId:r,layout:o,visualElement:i}=this.options;if(i&&!i.current&&i.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(o||r)&&(this.isLayoutDirty=!0),t){let n,r=0;const o=()=>this.root.updateBlockedByResize=!1;Ur.read((()=>{r=window.innerWidth})),t(e,(()=>{const e=window.innerWidth;e!==r&&(r=e,this.root.updateBlockedByResize=!0,n&&n(),n=lc(o,250),tc.hasAnimatedSinceResize&&(tc.hasAnimatedSinceResize=!1,this.nodes.forEach(qc)))}))}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&i&&(r||o)&&this.addEventListener("didUpdate",(e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:r,layout:o}=e;if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const a=this.options.transition||i.getDefaultTransition()||td,{onLayoutAnimationStart:l,onLayoutAnimationComplete:c}=i.getProps(),d=!this.targetLayout||!Tc(this.targetLayout,o),u=!n&&r;if(this.options.layoutRoot||this.resumeFrom||u||n&&(d||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const e=s(s({},gs(a,"layout")),{},{onPlay:l,onComplete:c});(i.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,u)}else n||qc(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=o}))}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qc),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let o=0;o<this.path.length;o++){const e=this.path[o];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const r=this.getTransformTemplate();this.prevTransformTemplateValue=r?r(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Hc);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(Uc);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Gc),this.nodes.forEach(zc),this.nodes.forEach(Fc)):this.nodes.forEach(Uc),this.clearAllSnapshots();const e=Po.now();qr.delta=mr(0,1e3/60,e-qr.timestamp),qr.timestamp=e,qr.isProcessing=!0,Kr.update.process(qr),Kr.preRender.process(qr),Kr.render.process(qr),qr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Go.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Wc),this.sharedNodes.forEach(Xc)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender((()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()}))}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||Al(this.snapshot.measuredBox.x)||Al(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),(!this.options.alwaysMeasureLayout||!this.isLead())&&!this.isLayoutDirty)return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=o(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!i)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!Cc(this.projectionDelta),n=this.getTransformTemplate(),r=n?n(this.latestValues,""):void 0,o=r!==this.prevTransformTemplateValue;e&&this.instance&&(t||tr(this.latestValues)||o)&&(i(this.instance,r),this.shouldResetTransform=!1,this.scheduleRender())}measure(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.measurePageBox();let n=this.removeElementScroll(t);var r;return e&&(n=this.removeTransform(n)),od((r=n).x),od(r.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null===(e=this.scroll)||void 0===e?void 0:e.wasRoot)||this.path.some(sd))){const{scroll:e}=this.root;e&&(dr(n.x,e.offset.x),dr(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(yc(n,e),null!==(t=this.scroll)&&void 0!==t&&t.wasRoot)return n;for(let r=0;r<this.path.length;r++){const t=this.path[r],{scroll:o,options:i}=t;t!==this.root&&o&&i.layoutScroll&&(o.wasRoot&&yc(n,e),dr(n.x,o.offset.x),dr(n.y,o.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n={x:{min:0,max:0},y:{min:0,max:0}};yc(n,e);for(let r=0;r<this.path.length;r++){const e=this.path[r];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&hr(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),tr(e.latestValues)&&hr(n,e.latestValues)}return tr(this.latestValues)&&hr(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};yc(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!tr(e.latestValues))continue;er(e.latestValues)&&e.updateSnapshot();const r={x:{min:0,max:0},y:{min:0,max:0}};yc(r,e.measurePageBox()),_c(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,r)}return tr(this.latestValues)&&_c(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options=s(s(s({},this.options),e),{},{crossfade:void 0===e.crossfade||e.crossfade})}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const r=Boolean(this.resumingFrom)||this!==n;if(!(t||r&&this.isSharedProjectionDirty||this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:o,layoutId:i}=this.options;if(!this.layout||!o&&!i)return;this.resolvedRelativeTargetAt=qr.timestamp;const s=this.getClosestProjectingParent();var a,l,c;(s&&this.linkedParentVersion!==s.layoutVersion&&!s.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(s&&s.layout?this.createRelativeTarget(s,this.layout.layoutBox,s.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),a=this.target,l=this.relativeTarget,c=this.relativeParent.target,Ol(a.x,l.x,c.x),Ol(a.y,l.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):yc(this.target,this.layout.layoutBox),ar(this.target,this.targetDelta)):yc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,s&&Boolean(s.resumingFrom)===Boolean(this.resumingFrom)&&!s.options.layoutScroll&&s.target&&1!==this.animationProgress?this.createRelativeTarget(s,this.target,s.target):this.relativeParent=this.relativeTarget=void 0),Wr.value&&Oc.calculatedTargetDeltas++)}getClosestProjectingParent(){if(this.parent&&!er(this.parent.latestValues)&&!nr(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},Ll(this.relativeTargetOrigin,t,n),yc(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let r=!0;if((this.isProjectionDirty||null!==(e=this.parent)&&void 0!==e&&e.isProjectionDirty)&&(r=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(r=!1),this.resolvedRelativeTargetAt===qr.timestamp&&(r=!1),r)return;const{layout:o,layoutId:i}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!o&&!i)return;yc(this.layoutCorrected,this.layout.layoutBox);const s=this.treeScale.x,a=this.treeScale.y;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=n.length;if(!o)return;let i,s;t.x=t.y=1;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const{visualElement:o}=i.options;o&&o.props.style&&"contents"===o.props.style.display||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ar(e,s)),r&&tr(i.latestValues)&&hr(e,i.latestValues))}t.x<cr&&t.x>lr&&(t.x=1),t.y<cr&&t.y>lr&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(xc(this.prevProjectionDelta.x,this.projectionDelta.x),xc(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),Rl(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===s&&this.treeScale.y===a&&Mc(this.projectionDelta.x,this.prevProjectionDelta.x)&&Mc(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),Wr.value&&Oc.calculatedProjections++):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(null===(e=this.options.visualElement)||void 0===e||e.scheduleRender(),t){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.snapshot,r=n?n.latestValues:{},o=s({},this.latestValues),i={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},l=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),c=this.getStack(),d=!c||c.members.length<=1,u=Boolean(l&&!d&&!0===this.options.crossfade&&!this.path.some(ed));let h;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var s,c;Zc(i.x,e.x,n),Zc(i.y,e.y,n),this.setTargetDelta(i),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,r){Jc(e.x,t.x,n.x,r),Jc(e.y,t.y,n.y,r)}(this.relativeTarget,this.relativeTargetOrigin,a,n),h&&(s=this.relativeTarget,c=h,jc(s.x,c.x)&&jc(s.y,c.y))&&(this.isProjectionDirty=!1),h||(h={x:{min:0,max:0},y:{min:0,max:0}}),yc(h,this.relativeTarget)),l&&(this.animationValues=o,function(e,t,n,r,o,i){var s,a;if(o)e.opacity=Zn(0,null!==(s=n.opacity)&&void 0!==s?s:1,fc(r)),e.opacityExit=Zn(null!==(a=t.opacity)&&void 0!==a?a:1,0,mc(r));else if(i){var l,c;e.opacity=Zn(null!==(l=t.opacity)&&void 0!==l?l:1,null!==(c=n.opacity)&&void 0!==c?c:1,r)}for(let d=0;d<dc;d++){const o="border".concat(cc[d],"Radius");let i=pc(t,o),s=pc(n,o);void 0===i&&void 0===s||(i||(i=0),s||(s=0),0===i||0===s||hc(i)===hc(s)?(e[o]=Math.max(Zn(uc(i),uc(s),r),0),(wr.test(s)||wr.test(i))&&(e[o]+="%")):e[o]=s)}(t.rotate||n.rotate)&&(e.rotate=Zn(t.rotate||0,n.rotate||0,r))}(o,r,this.latestValues,n,u,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),null===(n=this.resumingFrom)||void 0===n||null===(n=n.currentAnimation)||void 0===n||n.stop(),this.pendingAnimation&&(Gr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update((()=>{tc.hasAnimatedSinceResize=!0,js.layout++,this.motionValue||(this.motionValue=Ho(0)),this.currentAnimation=function(e,t,n){const r=Io(e)?e:Ho(e);return r.start(ol("",r,t,n)),r.animation}(this.motionValue,[0,1e3],s(s({},e),{},{velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{js.layout--},onComplete:()=>{js.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}})),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0}))}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:r,latestValues:o}=e;if(t&&n&&r){if(this!==e&&this.layout&&r&&id(this.options.animationType,this.layout.layoutBox,r.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=Al(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const r=Al(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+r}yc(t,n),hr(t,o),Rl(this.projectionDeltaWithTransform,this.layoutCorrected,t,o)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new Rc);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this.getStack();r&&r.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const r={};n.z&&Dc("z",e,r,this.animationValues);for(let o=0;o<Ic.length;o++)Dc("rotate".concat(Ic[o]),e,r,this.animationValues),Dc("skew".concat(Ic[o]),e,r,this.animationValues);e.render();for(const o in r)e.setStaticValue(o,r[o]),this.animationValues&&(this.animationValues[o]=r[o]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=Zi(null===t||void 0===t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const r=this.getLead();if(!this.projectionDelta||!this.layout||!r.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=Zi(null===t||void 0===t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!tr(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const o=r.animationValues||r.latestValues;this.applyTransformsToTarget();let i=function(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y,s=(null===n||void 0===n?void 0:n.z)||0;if((o||i||s)&&(r="translate3d(".concat(o,"px, ").concat(i,"px, ").concat(s,"px) ")),1===t.x&&1===t.y||(r+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){const{transformPerspective:e,rotate:t,rotateX:o,rotateY:i,skewX:s,skewY:a}=n;e&&(r="perspective(".concat(e,"px) ").concat(r)),t&&(r+="rotate(".concat(t,"deg) ")),o&&(r+="rotateX(".concat(o,"deg) ")),i&&(r+="rotateY(".concat(i,"deg) ")),s&&(r+="skewX(".concat(s,"deg) ")),a&&(r+="skewY(".concat(a,"deg) "))}const a=e.x.scale*t.x,l=e.y.scale*t.y;return 1===a&&1===l||(r+="scale(".concat(a,", ").concat(l,")")),r||"none"}(this.projectionDeltaWithTransform,this.treeScale,o);n&&(i=n(o,i)),e.transform=i;const{x:s,y:a}=this.projectionDelta;var l,c;(e.transformOrigin="".concat(100*s.origin,"% ").concat(100*a.origin,"% 0"),r.animationValues)?e.opacity=r===this?null!==(l=null!==(c=o.opacity)&&void 0!==c?c:this.latestValues.opacity)&&void 0!==l?l:1:this.preserveOpacity?this.latestValues.opacity:o.opacityExit:e.opacity=r===this?void 0!==o.opacity?o.opacity:"":void 0!==o.opacityExit?o.opacityExit:0;for(const d in bi){if(void 0===o[d])continue;const{correct:t,applyTo:n,isCSSVariable:s}=bi[d],a="none"===i?o[d]:t(o[d],r);if(n){const t=n.length;for(let r=0;r<t;r++)e[n[r]]=a}else s?this.options.visualElement.renderState.vars[d]=a:e[d]=a}this.options.layoutId&&(e.pointerEvents=r===this?Zi(null===t||void 0===t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach((e=>{var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Hc),this.root.sharedNodes.clear()}}}function zc(e){e.updateLayout()}function Fc(e){var t;const n=(null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:r}=e.layout,{animationType:o}=e.options,i=n.source!==e.layout.source;"size"===o?Dl((e=>{const r=i?n.measuredBox[e]:n.layoutBox[e],o=Al(r);r.min=t[e].min,r.max=r.min+o})):id(o,n.layoutBox,t)&&Dl((r=>{const o=i?n.measuredBox[r]:n.layoutBox[r],s=Al(t[r]);o.max=o.min+s,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[r].max=e.relativeTarget[r].min+s)}));const s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Rl(s,t,n.layoutBox);const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};i?Rl(a,e.applyTransform(r,!0),n.measuredBox):Rl(a,t,n.layoutBox);const l=!Cc(s);let c=!1;if(!e.resumeFrom){const r=e.getClosestProjectingParent();if(r&&!r.resumeFrom){const{snapshot:o,layout:i}=r;if(o&&i){const s={x:{min:0,max:0},y:{min:0,max:0}};Ll(s,n.layoutBox,o.layoutBox);const a={x:{min:0,max:0},y:{min:0,max:0}};Ll(a,t,i.layoutBox),Tc(s,a)||(c=!0),r.options.layoutRoot&&(e.relativeTarget=a,e.relativeTargetOrigin=s,e.relativeParent=r)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function Bc(e){Wr.value&&Oc.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Vc(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Wc(e){e.clearSnapshot()}function Hc(e){e.clearMeasurements()}function Uc(e){e.isLayoutDirty=!1}function Gc(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qc(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Kc(e){e.resolveTargetDelta()}function Yc(e){e.calcProjection()}function Qc(e){e.resetSkewAndRotation()}function Xc(e){e.removeLeadSnapshot()}function Zc(e,t,n){e.translate=Zn(t.translate,0,n),e.scale=Zn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Jc(e,t,n,r){e.min=Zn(t.min,n.min,r),e.max=Zn(t.max,n.max,r)}function ed(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const td={duration:.45,ease:[.4,0,.1,1]},nd=e=>"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),rd=nd("applewebkit/")&&!nd("chrome/")?Math.round:Fr;function od(e){e.min=rd(e.min),e.max=rd(e.max)}function id(e,t,n){return"position"===e||"preserve-aspect"===e&&(r=Ac(t),o=Ac(n),i=.2,!(Math.abs(r-o)<=i));var r,o,i}function sd(e){var t;return e!==e.root&&(null===(t=e.scroll)||void 0===t?void 0:t.wasRoot)}const ad=$c({attachResizeListener:(e,t)=>Cl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ld={current:void 0},cd=$c({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ld.current){const e=new ad({});e.mount(window),e.setOptions({layoutScroll:!0}),ld.current=e}return ld.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),dd={pan:{Feature:class extends wl{constructor(){super(...arguments),this.removePointerDownListener=Fr}onPointerDown(e){this.session=new zl(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Pl(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:ec(e),onStart:ec(t),onMove:n,onEnd:(e,t)=>{delete this.session,r&&Ur.postRender((()=>r(e,t)))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",(e=>this.onPointerDown(e)))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends wl{constructor(e){super(e),this.removeGroupControls=Fr,this.removeListeners=Fr,this.controls=new Zl(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Fr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:cd,MeasureLayout:oc}};function ud(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"===typeof e){var r;let o=document;t&&(o=t.current);const i=null!==(r=null===n||void 0===n?void 0:n[e])&&void 0!==r?r:o.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),r=new AbortController;return[n,s(s({passive:!0},t),{},{signal:r.signal}),()=>r.abort()]}function hd(e){return!("touch"===e.pointerType||Sl())}function pd(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover","Start"===n);const o=r["onHover"+n];o&&Ur.postRender((()=>o(t,El(t))))}const fd=(e,t)=>!!t&&(e===t||fd(e,t.parentElement)),md=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const gd=new WeakSet;function vd(e){return t=>{"Enter"===t.key&&e(t)}}function yd(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function xd(e){return jl(e)&&!Sl()}function bd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=ud(e,n),s=e=>{const r=e.currentTarget;if(!xd(e))return;gd.add(r);const i=t(r,e),s=(e,t)=>{window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",l),gd.has(r)&&gd.delete(r),xd(e)&&"function"===typeof i&&i(e,{success:t})},a=e=>{s(e,r===window||r===document||n.useGlobalTarget||fd(r,e.target))},l=e=>{s(e,!1)};window.addEventListener("pointerup",a,o),window.addEventListener("pointercancel",l,o)};return r.forEach((e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",s,o),kn(e)&&(e.addEventListener("focus",(e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const r=vd((()=>{if(gd.has(n))return;yd(n,"down");const e=vd((()=>{yd(n,"up")}));n.addEventListener("keyup",e,t),n.addEventListener("blur",(()=>yd(n,"cancel")),t)}));n.addEventListener("keydown",r,t),n.addEventListener("blur",(()=>n.removeEventListener("keydown",r)),t)})(e,o))),t=e,md.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))})),i}function wd(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap","Start"===n);const o=r["onTap"+("End"===n?"":n)];o&&Ur.postRender((()=>o(t,El(t))))}const kd=["root"],Nd=new WeakMap,_d=new WeakMap,Sd=e=>{const t=Nd.get(e.target);t&&t(e)},Cd=e=>{e.forEach(Sd)};function jd(e,t,n){const r=function(e){let{root:t}=e,n=u(e,kd);const r=t||document;_d.has(r)||_d.set(r,{});const o=_d.get(r),i=JSON.stringify(n);return o[i]||(o[i]=new IntersectionObserver(Cd,s({root:t},n))),o[i]}(t);return Nd.set(e,n),r.observe(e),()=>{Nd.delete(e),r.unobserve(e)}}const Ed={some:0,all:1};const Td={inView:{Feature:class extends wl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:r="some",once:o}=e,i={root:t?t.current:void 0,rootMargin:n,threshold:"number"===typeof r?r:Ed[r]};return jd(this.node.current,i,(e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,o&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:r}=this.node.getProps(),i=t?n:r;i&&i(e)}))}mount(){this.startObserver()}update(){if("undefined"===typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node,n=["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t));n&&this.startObserver()}unmount(){}}},tap:{Feature:class extends wl{mount(){const{current:e}=this.node;e&&(this.unmount=bd(e,((e,t)=>(wd(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return wd(this.node,e,n?"End":"Cancel")})),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends wl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(zQ){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=_s(Cl(this.node.current,"focus",(()=>this.onFocus())),Cl(this.node.current,"blur",(()=>this.onBlur())))}unmount(){}}},hover:{Feature:class extends wl{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const[r,o,i]=ud(e,n),s=e=>{if(!hd(e))return;const{target:n}=e,r=t(n,e);if("function"!==typeof r||!n)return;const i=e=>{hd(e)&&(r(e),n.removeEventListener("pointerleave",i))};n.addEventListener("pointerleave",i,o)};return r.forEach((e=>{e.addEventListener("pointerenter",s,o)})),i}(e,((e,t)=>(pd(this.node,t,"Start"),e=>pd(this.node,e,"End")))))}unmount(){}}}},Ad={layout:{ProjectionNode:cd,MeasureLayout:oc}},Md=fs(s(s(s(s({},Nl),Td),dd),Ad),Di),Rd=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Od=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Id=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var Ld={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dd=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],Pd=(0,a.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:d}=e,h=u(e,Dd);return(0,a.createElement)("svg",s(s(s({ref:t},Ld),{},{width:r,height:r,stroke:n,strokeWidth:i?24*Number(o)/Number(r):o,className:Id("lucide",l)},!c&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(h)&&{"aria-hidden":"true"}),h),[...d.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...Array.isArray(c)?c:[c]])})),$d=["className"],zd=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{className:o}=n,i=u(n,$d);return(0,a.createElement)(Pd,s({ref:r,iconNode:t,className:Id("lucide-".concat(Rd(Od(e))),"lucide-".concat(e),o)},i))}));return n.displayName=Od(e),n},Fd=zd("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Bd=zd("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Vd=zd("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Wd=zd("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);var Hd=n(48),Ud=n.t(Hd,2),Gd=function(e,t){return Gd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Gd(e,t)};function qd(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Gd(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Kd=function(){return Kd=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Kd.apply(this,arguments)};function Yd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function Qd(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(zQ){i(zQ)}}function a(e){try{l(r.throw(e))}catch(zQ){i(zQ)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}function Xd(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(zQ){a=[6,zQ],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}Object.create;function Zd(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Jd="Invariant Violation",eu=Object.setPrototypeOf,tu=void 0===eu?function(e,t){return e.__proto__=t,e}:eu,nu=function(e){function t(n){void 0===n&&(n=Jd);var r=e.call(this,"number"===typeof n?Jd+": "+n+" (see https://github.com/apollographql/invariant-packages)":n)||this;return r.framesToPop=1,r.name=Jd,tu(r,t.prototype),r}return qd(t,e),t}(Error);function ru(e,t){if(!e)throw new nu(t)}var ou=["debug","log","warn","error","silent"],iu=ou.indexOf("log");function su(e){return function(){if(ou.indexOf(e)>=iu)return(console[e]||console.log).apply(console,arguments)}}!function(e){e.debug=su("debug"),e.log=su("log"),e.warn=su("warn"),e.error=su("error")}(ru||(ru={}));var au="3.13.8";function lu(e){try{return e()}catch(eu){}}const cu=lu((function(){return globalThis}))||lu((function(){return window}))||lu((function(){return self}))||lu((function(){return global}))||lu((function(){return lu.constructor("return this")()}));var du=new Map;function uu(e){var t=du.get(e)||1;return du.set(e,t+1),"".concat(e,":").concat(t,":").concat(Math.random().toString(36).slice(2))}function hu(e,t){void 0===t&&(t=0);var n=uu("stringifyForDisplay");return JSON.stringify(e,(function(e,t){return void 0===t?n:t}),t).split(JSON.stringify(n)).join("<undefined>")}function pu(e){return function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if("number"===typeof t){var o=t;(t=yu(o))||(t=xu(o,n),n=[])}e.apply(void 0,[t].concat(n))}}var fu=Object.assign((function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e||ru(e,yu(t,n)||xu(t,n))}),{debug:pu(ru.debug),log:pu(ru.log),warn:pu(ru.warn),error:pu(ru.error)});function mu(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new nu(yu(e,t)||xu(e,t))}var gu=Symbol.for("ApolloErrorMessageHandler_"+au);function vu(e){if("string"==typeof e)return e;try{return hu(e,2).slice(0,1e3)}catch(eu){return"<non-serializable>"}}function yu(e,t){if(void 0===t&&(t=[]),e)return cu[gu]&&cu[gu](e,t.map(vu))}function xu(e,t){if(void 0===t&&(t=[]),e)return"An error occurred! For more details, see the full error text at https://go.apollo.dev/c/err#".concat(encodeURIComponent(JSON.stringify({version:au,message:e,args:t.map(vu)})))}globalThis.__DEV__;var bu="ReactNative"==lu((function(){return navigator.product})),wu="function"===typeof WeakMap&&!(bu&&!global.HermesInternal),ku="function"===typeof WeakSet,Nu="function"===typeof Symbol&&"function"===typeof Symbol.for,_u=Nu&&Symbol.asyncIterator,Su="function"===typeof lu((function(){return window.document.createElement})),Cu=lu((function(){return navigator.userAgent.indexOf("jsdom")>=0}))||!1,ju=(Su||bu)&&!Cu,Eu=!1,Tu=Ud.useSyncExternalStore||function(e,t,n){var r=t();!1===globalThis.__DEV__||Eu||r===t()||(Eu=!0,!1!==globalThis.__DEV__&&fu.error(68));var o=Hd.useState({inst:{value:r,getSnapshot:t}}),i=o[0].inst,s=o[1];return ju?Hd.useLayoutEffect((function(){Object.assign(i,{value:r,getSnapshot:t}),Au(i)&&s({inst:i})}),[e,r,t]):Object.assign(i,{value:r,getSnapshot:t}),Hd.useEffect((function(){return Au(i)&&s({inst:i}),e((function(){Au(i)&&s({inst:i})}))}),[e]),r};function Au(e){var t=e.value,n=e.getSnapshot;try{return t!==n()}catch(r){return!0}}function Mu(e){return Tu(Hd.useCallback((function(t){return e.onNextChange((function n(){t(),e.onNextChange(n)}))}),[e]),e,e)}const{toString:Ru,hasOwnProperty:Ou}=Object.prototype,Iu=Function.prototype.toString,Lu=new Map;function Du(e,t){try{return $u(e,t)}finally{Lu.clear()}}const Pu=Du;function $u(e,t){if(e===t)return!0;const n=Ru.call(e);if(n!==Ru.call(t))return!1;switch(n){case"[object Array]":if(e.length!==t.length)return!1;case"[object Object]":{if(Vu(e,t))return!0;const n=zu(e),r=zu(t),o=n.length;if(o!==r.length)return!1;for(let e=0;e<o;++e)if(!Ou.call(t,n[e]))return!1;for(let i=0;i<o;++i){const r=n[i];if(!$u(e[r],t[r]))return!1}return!0}case"[object Error]":return e.name===t.name&&e.message===t.message;case"[object Number]":if(e!==e)return t!==t;case"[object Boolean]":case"[object Date]":return+e===+t;case"[object RegExp]":case"[object String]":return e=="".concat(t);case"[object Map]":case"[object Set]":{if(e.size!==t.size)return!1;if(Vu(e,t))return!0;const r=e.entries(),o="[object Map]"===n;for(;;){const e=r.next();if(e.done)break;const[n,i]=e.value;if(!t.has(n))return!1;if(o&&!$u(i,t.get(n)))return!1}return!0}case"[object Uint16Array]":case"[object Uint8Array]":case"[object Uint32Array]":case"[object Int32Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object ArrayBuffer]":e=new Uint8Array(e),t=new Uint8Array(t);case"[object DataView]":{let n=e.byteLength;if(n===t.byteLength)for(;n--&&e[n]===t[n];);return-1===n}case"[object AsyncFunction]":case"[object GeneratorFunction]":case"[object AsyncGeneratorFunction]":case"[object Function]":{const n=Iu.call(e);return n===Iu.call(t)&&!function(e,t){const n=e.length-t.length;return n>=0&&e.indexOf(t,n)===n}(n,Bu)}}return!1}function zu(e){return Object.keys(e).filter(Fu,e)}function Fu(e){return void 0!==this[e]}const Bu="{ [native code] }";function Vu(e,t){let n=Lu.get(e);if(n){if(n.has(t))return!0}else Lu.set(e,n=new Set);return n.add(t),!1}function Wu(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Object.create(null);return e.forEach((function(e){e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&(n[t]=r)}))})),n}function Hu(e,t){return Wu(e,t,t.variables&&{variables:Wu(Kd(Kd({},e&&e.variables),t.variables))})}var Uu=Nu?Symbol.for("__APOLLO_CONTEXT__"):"__APOLLO_CONTEXT__";function Gu(){fu("createContext"in Ud,54);var e=Hd.createContext[Uu];return e||(Object.defineProperty(Hd.createContext,Uu,{value:e=Hd.createContext({}),enumerable:!1,writable:!1,configurable:!0}),e.displayName="ApolloContext"),e}function qu(e){return null!==e&&"object"===typeof e}var Ku=Symbol();function Yu(e){return!!e.extensions&&Array.isArray(e.extensions[Ku])}function Qu(e){return e.hasOwnProperty("graphQLErrors")}var Xu,Zu=function(e){function t(n){var r=n.graphQLErrors,o=n.protocolErrors,i=n.clientErrors,s=n.networkError,a=n.errorMessage,l=n.extraInfo,c=e.call(this,a)||this;return c.name="ApolloError",c.graphQLErrors=r||[],c.protocolErrors=o||[],c.clientErrors=i||[],c.networkError=s||null,c.message=a||function(e){var t=Zd(Zd(Zd([],e.graphQLErrors,!0),e.clientErrors,!0),e.protocolErrors,!0);return e.networkError&&t.push(e.networkError),t.map((function(e){return qu(e)&&e.message||"Error message not found."})).join("\n")}(c),c.extraInfo=l,c.cause=Zd(Zd(Zd([s],r||[],!0),o||[],!0),i||[],!0).find((function(e){return!!e}))||null,c.__proto__=t.prototype,c}return qd(t,e),t}(Error);function Ju(e){return!!e&&e<7}function eh(e,t){if(!Boolean(e))throw new Error(t)}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Xu||(Xu={}));function th(e){return nh(e,[])}function nh(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const n=[...t,e];if(function(e){return"function"===typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"===typeof t?t:nh(t,n)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";const n=Math.min(10,e.length),r=e.length-n,o=[];for(let i=0;i<n;++i)o.push(nh(e[i],t));1===r?o.push("... 1 more item"):r>1&&o.push("... ".concat(r," more items"));return"["+o.join(", ")+"]"}(e,n);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>2)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){const t=e.constructor.name;if("string"===typeof t&&""!==t)return t}return t}(e)+"]";const r=n.map((e=>{let[n,r]=e;return n+": "+nh(r,t)}));return"{ "+r.join(", ")+" }"}(e,n)}(e,t);default:return String(e)}}class rh{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}class oh{constructor(e,t,n,r,o,i){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=o,this.value=i,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}const ih={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},sh=new Set(Object.keys(ih));function ah(e){const t=null===e||void 0===e?void 0:e.kind;return"string"===typeof t&&sh.has(t)}var lh,ch;!function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(lh||(lh={})),function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(ch||(ch={}));const dh=Object.freeze({});function uh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ih;const r=new Map;for(const v of Object.values(ch))r.set(v,hh(t,v));let o,i,s,a=Array.isArray(e),l=[e],c=-1,d=[],u=e;const h=[],p=[];do{c++;const e=c===l.length,v=e&&0!==d.length;if(e){if(i=0===p.length?void 0:h[h.length-1],u=s,s=p.pop(),v)if(a){u=u.slice();let e=0;for(const[t,n]of d){const r=t-e;null===n?(u.splice(r,1),e++):u[r]=n}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(const[e,t]of d)u[e]=t}c=o.index,l=o.keys,d=o.edits,a=o.inArray,o=o.prev}else if(s){if(i=a?c:l[c],u=s[i],null===u||void 0===u)continue;h.push(i)}let y;if(!Array.isArray(u)){var f,m;ah(u)||eh(!1,"Invalid AST Node: ".concat(th(u),"."));const n=e?null===(f=r.get(u.kind))||void 0===f?void 0:f.leave:null===(m=r.get(u.kind))||void 0===m?void 0:m.enter;if(y=null===n||void 0===n?void 0:n.call(t,u,i,s,h,p),y===dh)break;if(!1===y){if(!e){h.pop();continue}}else if(void 0!==y&&(d.push([i,y]),!e)){if(!ah(y)){h.pop();continue}u=y}}var g;if(void 0===y&&v&&d.push([i,u]),e)h.pop();else o={inArray:a,index:c,keys:l,edits:d,prev:o},a=Array.isArray(u),l=a?u:null!==(g=n[u.kind])&&void 0!==g?g:[],c=-1,d=[],s&&p.push(s),s=u}while(void 0!==o);return 0!==d.length?d[d.length-1][1]:e}function hh(e,t){const n=e[t];return"object"===typeof n?n:"function"===typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}function ph(e,t){var n=t,r=[];return e.definitions.forEach((function(e){if("OperationDefinition"===e.kind)throw mu(85,e.operation,e.name?" named '".concat(e.name.value,"'"):"");"FragmentDefinition"===e.kind&&r.push(e)})),"undefined"===typeof n&&(fu(1===r.length,86,r.length),n=r[0].name.value),Kd(Kd({},e),{definitions:Zd([{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:n}}]}}],e.definitions,!0)})}function fh(e){void 0===e&&(e=[]);var t={};return e.forEach((function(e){t[e.name.value]=e})),t}function mh(e,t){switch(e.kind){case"InlineFragment":return e;case"FragmentSpread":var n=e.name.value;if("function"===typeof t)return t(n);var r=t&&t[n];return fu(r,87,n),r||null;default:return null}}function gh(){}const vh=gh,yh="undefined"!==typeof WeakRef?WeakRef:function(e){return{deref:()=>e}},xh="undefined"!==typeof WeakMap?WeakMap:Map,bh="undefined"!==typeof FinalizationRegistry?FinalizationRegistry:function(){return{register:gh,unregister:gh}};class wh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vh;this.max=e,this.dispose=t,this.map=new xh,this.newest=null,this.oldest=null,this.unfinalizedNodes=new Set,this.finalizationScheduled=!1,this.size=0,this.finalize=()=>{const e=this.unfinalizedNodes.values();for(let t=0;t<10024;t++){const t=e.next().value;if(!t)break;this.unfinalizedNodes.delete(t);const n=t.key;delete t.key,t.keyRef=new yh(n),this.registry.register(n,t,t)}this.unfinalizedNodes.size>0?queueMicrotask(this.finalize):this.finalizationScheduled=!1},this.registry=new bh(this.deleteNode.bind(this))}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.scheduleFinalization(n),this.map.set(e,n),this.size++,n.value)}clean(){for(;this.oldest&&this.size>this.max;)this.deleteNode(this.oldest)}deleteNode(e){e===this.newest&&(this.newest=e.older),e===this.oldest&&(this.oldest=e.newer),e.newer&&(e.newer.older=e.older),e.older&&(e.older.newer=e.newer),this.size--;const t=e.key||e.keyRef&&e.keyRef.deref();this.dispose(e.value,t),e.keyRef?this.registry.unregister(e):this.unfinalizedNodes.delete(e),t&&this.map.delete(t)}delete(e){const t=this.map.get(e);return!!t&&(this.deleteNode(t),!0)}scheduleFinalization(e){this.unfinalizedNodes.add(e),this.finalizationScheduled||(this.finalizationScheduled=!0,queueMicrotask(this.finalize))}}function kh(){}class Nh{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kh;this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}has(e){return this.map.has(e)}get(e){const t=this.getNode(e);return t&&t.value}get size(){return this.map.size}getNode(e){const t=this.map.get(e);if(t&&t!==this.newest){const{older:e,newer:n}=t;n&&(n.older=e),e&&(e.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t}set(e,t){let n=this.getNode(e);return n?n.value=t:(n={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=n),this.newest=n,this.oldest=this.oldest||n,this.map.set(e,n),n.value)}clean(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)}delete(e){const t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)}}var _h=new WeakSet;function Sh(e){e.size<=(e.max||-1)||_h.has(e)||(_h.add(e),setTimeout((function(){e.clean(),_h.delete(e)}),100))}var Ch=function(e,t){var n=new wh(e,t);return n.set=function(e,t){var n=wh.prototype.set.call(this,e,t);return Sh(this),n},n},jh=function(e,t){var n=new Nh(e,t);return n.set=function(e,t){var n=Nh.prototype.set.call(this,e,t);return Sh(this),n},n},Eh=Symbol.for("apollo.cacheSize"),Th=Kd({},cu[Eh]),Ah={};function Mh(e,t){Ah[e]=t}var Rh=!1!==globalThis.__DEV__?function(){var e,t,n,r,o;if(!1===globalThis.__DEV__)throw new Error("only supported in development mode");return{limits:Lh(),sizes:Kd({print:null===(e=Ah.print)||void 0===e?void 0:e.call(Ah),parser:null===(t=Ah.parser)||void 0===t?void 0:t.call(Ah),canonicalStringify:null===(n=Ah.canonicalStringify)||void 0===n?void 0:n.call(Ah),links:Bh(this.link),queryManager:{getDocumentInfo:this.queryManager.transformCache.size,documentTransforms:zh(this.queryManager.documentTransform)}},null===(o=(r=this.cache).getMemoryInternals)||void 0===o?void 0:o.call(r))}}:void 0,Oh=!1!==globalThis.__DEV__?function(){var e=this.config.fragments;return Kd(Kd({},Dh.apply(this)),{addTypenameDocumentTransform:zh(this.addTypenameTransform),inMemoryCache:{executeSelectionSet:Ph(this.storeReader.executeSelectionSet),executeSubSelectedArray:Ph(this.storeReader.executeSubSelectedArray),maybeBroadcastWatch:Ph(this.maybeBroadcastWatch)},fragmentRegistry:{findFragmentSpreads:Ph(null===e||void 0===e?void 0:e.findFragmentSpreads),lookup:Ph(null===e||void 0===e?void 0:e.lookup),transform:Ph(null===e||void 0===e?void 0:e.transform)}})}:void 0,Ih=!1!==globalThis.__DEV__?Dh:void 0;function Lh(){return Object.fromEntries(Object.entries({parser:1e3,canonicalStringify:1e3,print:2e3,"documentTransform.cache":2e3,"queryManager.getDocumentInfo":2e3,"PersistedQueryLink.persistedQueryHashes":2e3,"fragmentRegistry.transform":2e3,"fragmentRegistry.lookup":1e3,"fragmentRegistry.findFragmentSpreads":4e3,"cache.fragmentQueryDocuments":1e3,"removeTypenameFromVariables.getVariableDefinitions":2e3,"inMemoryCache.maybeBroadcastWatch":5e3,"inMemoryCache.executeSelectionSet":5e4,"inMemoryCache.executeSubSelectedArray":1e4}).map((function(e){var t=e[0],n=e[1];return[t,Th[t]||n]})))}function Dh(){return{cache:{fragmentQueryDocuments:Ph(this.getFragmentDoc)}}}function Ph(e){return function(e){return!!e&&"dirtyKey"in e}(e)?e.size:void 0}function $h(e){return null!=e}function zh(e){return Fh(e).map((function(e){return{cache:e}}))}function Fh(e){return e?Zd(Zd([Ph(null===e||void 0===e?void 0:e.performWork)],Fh(null===e||void 0===e?void 0:e.left),!0),Fh(null===e||void 0===e?void 0:e.right),!0).filter($h):[]}function Bh(e){var t;return e?Zd(Zd([null===(t=null===e||void 0===e?void 0:e.getMemoryInternals)||void 0===t?void 0:t.call(e)],Bh(null===e||void 0===e?void 0:e.left),!0),Bh(null===e||void 0===e?void 0:e.right),!0).filter($h):[]}var Vh,Wh=Object.assign((function(e){return JSON.stringify(e,Hh)}),{reset:function(){Vh=new jh(Th.canonicalStringify||1e3)}});function Hh(e,t){if(t&&"object"===typeof t){var n=Object.getPrototypeOf(t);if(n===Object.prototype||null===n){var r=Object.keys(t);if(r.every(Uh))return t;var o=JSON.stringify(r),i=Vh.get(o);if(!i){r.sort();var s=JSON.stringify(r);i=Vh.get(s)||r,Vh.set(o,i),Vh.set(s,i)}var a=Object.create(n);return i.forEach((function(e){a[e]=t[e]})),a}}return t}function Uh(e,t,n){return 0===t||n[t-1]<=e}function Gh(e){return{__ref:String(e)}}function qh(e){return Boolean(e&&"object"===typeof e&&"string"===typeof e.__ref)}function Kh(e,t,n,r){if(function(e){return"IntValue"===e.kind}(n)||function(e){return"FloatValue"===e.kind}(n))e[t.value]=Number(n.value);else if(function(e){return"BooleanValue"===e.kind}(n)||function(e){return"StringValue"===e.kind}(n))e[t.value]=n.value;else if(function(e){return"ObjectValue"===e.kind}(n)){var o={};n.fields.map((function(e){return Kh(o,e.name,e.value,r)})),e[t.value]=o}else if(function(e){return"Variable"===e.kind}(n)){var i=(r||{})[n.name.value];e[t.value]=i}else if(function(e){return"ListValue"===e.kind}(n))e[t.value]=n.values.map((function(e){var n={};return Kh(n,t,e,r),n[t.value]}));else if(function(e){return"EnumValue"===e.kind}(n))e[t.value]=n.value;else{if(!function(e){return"NullValue"===e.kind}(n))throw mu(96,t.value,n.kind);e[t.value]=null}}!1!==globalThis.__DEV__&&Mh("canonicalStringify",(function(){return Vh.size})),Wh.reset();var Yh=["connection","include","skip","client","rest","export","nonreactive"],Qh=Wh,Xh=Object.assign((function(e,t,n){if(t&&n&&n.connection&&n.connection.key){if(n.connection.filter&&n.connection.filter.length>0){var r=n.connection.filter?n.connection.filter:[];r.sort();var o={};return r.forEach((function(e){o[e]=t[e]})),"".concat(n.connection.key,"(").concat(Qh(o),")")}return n.connection.key}var i=e;if(t){var s=Qh(t);i+="(".concat(s,")")}return n&&Object.keys(n).forEach((function(e){-1===Yh.indexOf(e)&&(n[e]&&Object.keys(n[e]).length?i+="@".concat(e,"(").concat(Qh(n[e]),")"):i+="@".concat(e))})),i}),{setStringify:function(e){var t=Qh;return Qh=e,t}});function Zh(e,t){if(e.arguments&&e.arguments.length){var n={};return e.arguments.forEach((function(e){var r=e.name,o=e.value;return Kh(n,r,o,t)})),n}return null}function Jh(e){return e.alias?e.alias.value:e.name.value}function ep(e,t,n){for(var r,o=0,i=t.selections;o<i.length;o++){if(tp(l=i[o])){if("__typename"===l.name.value)return e[Jh(l)]}else r?r.push(l):r=[l]}if("string"===typeof e.__typename)return e.__typename;if(r)for(var s=0,a=r;s<a.length;s++){var l,c=ep(e,mh(l=a[s],n).selectionSet,n);if("string"===typeof c)return c}}function tp(e){return"Field"===e.kind}function np(e){fu(e&&"Document"===e.kind,88);var t=e.definitions.filter((function(e){return"FragmentDefinition"!==e.kind})).map((function(e){if("OperationDefinition"!==e.kind)throw mu(89,e.kind);return e}));return fu(t.length<=1,90,t.length),e}function rp(e){return np(e),e.definitions.filter((function(e){return"OperationDefinition"===e.kind}))[0]}function op(e){return e.definitions.filter((function(e){return"OperationDefinition"===e.kind&&!!e.name})).map((function(e){return e.name.value}))[0]||null}function ip(e){return e.definitions.filter((function(e){return"FragmentDefinition"===e.kind}))}function sp(e){var t=rp(e);return fu(t&&"query"===t.operation,91),t}function ap(e){fu("Document"===e.kind,92),fu(e.definitions.length<=1,93);var t=e.definitions[0];return fu("FragmentDefinition"===t.kind,94),t}function lp(e){var t;np(e);for(var n=0,r=e.definitions;n<r.length;n++){var o=r[n];if("OperationDefinition"===o.kind){var i=o.operation;if("query"===i||"mutation"===i||"subscription"===i)return o}"FragmentDefinition"!==o.kind||t||(t=o)}if(t)return t;throw mu(95)}function cp(e){var t=Object.create(null),n=e&&e.variableDefinitions;return n&&n.length&&n.forEach((function(e){e.defaultValue&&Kh(t,e.variable.name,e.defaultValue)})),t}var dp=Object.prototype.toString;function up(e){return hp(e)}function hp(e,t){switch(dp.call(e)){case"[object Array]":if((t=t||new Map).has(e))return t.get(e);var n=e.slice(0);return t.set(e,n),n.forEach((function(e,r){n[r]=hp(e,t)})),n;case"[object Object]":if((t=t||new Map).has(e))return t.get(e);var r=Object.create(Object.getPrototypeOf(e));return t.set(e,r),Object.keys(e).forEach((function(n){r[n]=hp(e[n],t)})),r;default:return e}}function pp(e,t,n){var r=[];e.forEach((function(e){return e[t]&&r.push(e)})),r.forEach((function(e){return e[t](n)}))}function fp(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return mp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mp(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t,n){return t&&gp(e.prototype,t),n&&gp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var yp=function(){return"function"===typeof Symbol},xp=function(e){return yp()&&Boolean(Symbol[e])},bp=function(e){return xp(e)?Symbol[e]:"@@"+e};yp()&&!xp("observable")&&(Symbol.observable=Symbol("observable"));var wp=bp("iterator"),kp=bp("observable"),Np=bp("species");function _p(e,t){var n=e[t];if(null!=n){if("function"!==typeof n)throw new TypeError(n+" is not a function");return n}}function Sp(e){var t=e.constructor;return void 0!==t&&null===(t=t[Np])&&(t=void 0),void 0!==t?t:Lp}function Cp(e){return e instanceof Lp}function jp(e){jp.log?jp.log(e):setTimeout((function(){throw e}))}function Ep(e){Promise.resolve().then((function(){try{e()}catch(zQ){jp(zQ)}}))}function Tp(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"===typeof t)t();else{var n=_p(t,"unsubscribe");n&&n.call(t)}}catch(zQ){jp(zQ)}}function Ap(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function Mp(e,t,n){e._state="running";var r=e._observer;try{var o=_p(r,t);switch(t){case"next":o&&o.call(r,n);break;case"error":if(Ap(e),!o)throw n;o.call(r,n);break;case"complete":Ap(e),o&&o.call(r)}}catch(zQ){jp(zQ)}"closed"===e._state?Tp(e):"running"===e._state&&(e._state="ready")}function Rp(e,t,n){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void Ep((function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var n=0;n<t.length&&(Mp(e,t[n].type,t[n].value),"closed"!==e._state);++n);}}(e)}))):void Mp(e,t,n);e._queue.push({type:t,value:n})}}var Op=function(){function e(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";var n=new Ip(this);try{this._cleanup=t.call(void 0,n)}catch(zQ){n.error(zQ)}"initializing"===this._state&&(this._state="ready")}return e.prototype.unsubscribe=function(){"closed"!==this._state&&(Ap(this),Tp(this))},vp(e,[{key:"closed",get:function(){return"closed"===this._state}}]),e}(),Ip=function(){function e(e){this._subscription=e}var t=e.prototype;return t.next=function(e){Rp(this._subscription,"next",e)},t.error=function(e){Rp(this._subscription,"error",e)},t.complete=function(){Rp(this._subscription,"complete")},vp(e,[{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),Lp=function(){function e(t){if(!(this instanceof e))throw new TypeError("Observable cannot be called as a function");if("function"!==typeof t)throw new TypeError("Observable initializer must be a function");this._subscriber=t}var t=e.prototype;return t.subscribe=function(e){return"object"===typeof e&&null!==e||(e={next:e,error:arguments[1],complete:arguments[2]}),new Op(e,this._subscriber)},t.forEach=function(e){var t=this;return new Promise((function(n,r){if("function"===typeof e)var o=t.subscribe({next:function(t){try{e(t,i)}catch(zQ){r(zQ),o.unsubscribe()}},error:r,complete:n});else r(new TypeError(e+" is not a function"));function i(){o.unsubscribe(),n()}}))},t.map=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(Sp(this))((function(n){return t.subscribe({next:function(t){try{t=e(t)}catch(zQ){return n.error(zQ)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.filter=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");return new(Sp(this))((function(n){return t.subscribe({next:function(t){try{if(!e(t))return}catch(zQ){return n.error(zQ)}n.next(t)},error:function(e){n.error(e)},complete:function(){n.complete()}})}))},t.reduce=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=Sp(this),r=arguments.length>1,o=!1,i=arguments[1];return new n((function(n){return t.subscribe({next:function(t){var s=!o;if(o=!0,!s||r)try{i=e(i,t)}catch(zQ){return n.error(zQ)}else i=t},error:function(e){n.error(e)},complete:function(){if(!o&&!r)return n.error(new TypeError("Cannot reduce an empty sequence"));n.next(i),n.complete()}})}))},t.concat=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var o=Sp(this);return new o((function(t){var r,i=0;return function e(s){r=s.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){i===n.length?(r=void 0,t.complete()):e(o.from(n[i++]))}})}(e),function(){r&&(r.unsubscribe(),r=void 0)}}))},t.flatMap=function(e){var t=this;if("function"!==typeof e)throw new TypeError(e+" is not a function");var n=Sp(this);return new n((function(r){var o=[],i=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(zQ){return r.error(zQ)}var i=n.from(t).subscribe({next:function(e){r.next(e)},error:function(e){r.error(e)},complete:function(){var e=o.indexOf(i);e>=0&&o.splice(e,1),s()}});o.push(i)},error:function(e){r.error(e)},complete:function(){s()}});function s(){i.closed&&0===o.length&&r.complete()}return function(){o.forEach((function(e){return e.unsubscribe()})),i.unsubscribe()}}))},t[kp]=function(){return this},e.from=function(t){var n="function"===typeof this?this:e;if(null==t)throw new TypeError(t+" is not an object");var r=_p(t,kp);if(r){var o=r.call(t);if(Object(o)!==o)throw new TypeError(o+" is not an object");return Cp(o)&&o.constructor===n?o:new n((function(e){return o.subscribe(e)}))}if(xp("iterator")&&(r=_p(t,wp)))return new n((function(e){Ep((function(){if(!e.closed){for(var n,o=fp(r.call(t));!(n=o()).done;){var i=n.value;if(e.next(i),e.closed)return}e.complete()}}))}));if(Array.isArray(t))return new n((function(e){Ep((function(){if(!e.closed){for(var n=0;n<t.length;++n)if(e.next(t[n]),e.closed)return;e.complete()}}))}));throw new TypeError(t+" is not observable")},e.of=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new("function"===typeof this?this:e)((function(e){Ep((function(){if(!e.closed){for(var t=0;t<n.length;++t)if(e.next(n[t]),e.closed)return;e.complete()}}))}))},vp(e,null,[{key:Np,get:function(){return this}}]),e}();function Dp(e){function t(t){Object.defineProperty(e,t,{value:Lp})}return Nu&&Symbol.species&&t(Symbol.species),t("@@species"),e}function Pp(e,t){var n=e.directives;return!n||!n.length||function(e){var t=[];e&&e.length&&e.forEach((function(e){if(function(e){var t=e.name.value;return"skip"===t||"include"===t}(e)){var n=e.arguments,r=e.name.value;fu(n&&1===n.length,79,r);var o=n[0];fu(o.name&&"if"===o.name.value,80,r);var i=o.value;fu(i&&("Variable"===i.kind||"BooleanValue"===i.kind),81,r),t.push({directive:e,ifArgument:o})}}));return t}(n).every((function(e){var n=e.directive,r=e.ifArgument,o=!1;return"Variable"===r.value.kind?(o=t&&t[r.value.name.value],fu(void 0!==o,78,n.name.value)):o=r.value.value,"skip"===n.name.value?!o:o}))}yp()&&Object.defineProperty(Lp,Symbol("extensions"),{value:{symbol:kp,hostReportError:jp},configurable:!0});function $p(e,t,n){var r=new Set(e),o=r.size;return uh(t,{Directive:function(e){if(r.delete(e.name.value)&&(!n||!r.size))return dh}}),n?!r.size:r.size<o}function zp(e){return e&&$p(["client","export"],e,!0)}function Fp(e){var t,n,r=null===(t=e.directives)||void 0===t?void 0:t.find((function(e){return"unmask"===e.name.value}));if(!r)return"mask";var o=null===(n=r.arguments)||void 0===n?void 0:n.find((function(e){return"mode"===e.name.value}));return!1!==globalThis.__DEV__&&o&&(o.value.kind===ch.VARIABLE?!1!==globalThis.__DEV__&&fu.warn(82):o.value.kind!==ch.STRING?!1!==globalThis.__DEV__&&fu.warn(83):"migrate"!==o.value.value&&!1!==globalThis.__DEV__&&fu.warn(84,o.value.value)),o&&"value"in o.value&&"migrate"===o.value.value?"migrate":"unmask"}function Bp(e,t,n,r){var o=t.data,i=Yd(t,["data"]),s=n.data,a=Yd(n,["data"]);return Pu(i,a)&&Vp(lp(e).selectionSet,o,s,{fragmentMap:fh(ip(e)),variables:r})}function Vp(e,t,n,r){if(t===n)return!0;var o=new Set;return e.selections.every((function(e){if(o.has(e))return!0;if(o.add(e),!Pp(e,r.variables))return!0;if(Wp(e))return!0;if(tp(e)){var i=Jh(e),s=t&&t[i],a=n&&n[i],l=e.selectionSet;if(!l)return Pu(s,a);var c=Array.isArray(s),d=Array.isArray(a);if(c!==d)return!1;if(c&&d){var u=s.length;if(a.length!==u)return!1;for(var h=0;h<u;++h)if(!Vp(l,s[h],a[h],r))return!1;return!0}return Vp(l,s,a,r)}var p=mh(e,r.fragmentMap);return p?!!Wp(p)||Vp(p.selectionSet,t,n,r):void 0}))}function Wp(e){return!!e.directives&&e.directives.some(Hp)}function Hp(e){return"nonreactive"===e.name.value}const Up=()=>Object.create(null),{forEach:Gp,slice:qp}=Array.prototype,{hasOwnProperty:Kp}=Object.prototype;class Yp{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Up;this.weakness=e,this.makeData=t}lookup(){return this.lookupArray(arguments)}lookupArray(e){let t=this;return Gp.call(e,(e=>t=t.getChildTrie(e))),Kp.call(t,"data")?t.data:t.data=this.makeData(qp.call(e))}peek(){return this.peekArray(arguments)}peekArray(e){let t=this;for(let n=0,r=e.length;t&&n<r;++n){const r=t.mapFor(e[n],!1);t=r&&r.get(e[n])}return t&&t.data}remove(){return this.removeArray(arguments)}removeArray(e){let t;if(e.length){const n=e[0],r=this.mapFor(n,!1),o=r&&r.get(n);o&&(t=o.removeArray(qp.call(e,1)),o.data||o.weak||o.strong&&o.strong.size||r.delete(n))}else t=this.data,delete this.data;return t}getChildTrie(e){const t=this.mapFor(e,!0);let n=t.get(e);return n||t.set(e,n=new Yp(this.weakness,this.makeData)),n}mapFor(e,t){return this.weakness&&function(e){switch(typeof e){case"object":if(null===e)break;case"function":return!0}return!1}(e)?this.weak||(t?this.weak=new WeakMap:void 0):this.strong||(t?this.strong=new Map:void 0)}}let Qp=null;const Xp={};let Zp=1;function Jp(e){try{return e()}catch(t){}}const ef="@wry/context:Slot",tf=Jp((()=>globalThis))||Jp((()=>global))||Object.create(null),nf=tf[ef]||Array[ef]||function(e){try{Object.defineProperty(tf,ef,{value:e,enumerable:!1,writable:!1,configurable:!0})}finally{return e}}(class{constructor(){this.id=["slot",Zp++,Date.now(),Math.random().toString(36).slice(2)].join(":")}hasValue(){for(let e=Qp;e;e=e.parent)if(this.id in e.slots){const t=e.slots[this.id];if(t===Xp)break;return e!==Qp&&(Qp.slots[this.id]=t),!0}return Qp&&(Qp.slots[this.id]=Xp),!1}getValue(){if(this.hasValue())return Qp.slots[this.id]}withValue(e,t,n,r){const o={__proto__:null,[this.id]:e},i=Qp;Qp={parent:i,slots:o};try{return t.apply(r,n)}finally{Qp=i}}static bind(e){const t=Qp;return function(){const n=Qp;try{return Qp=t,e.apply(this,arguments)}finally{Qp=n}}}static noContext(e,t,n){if(!Qp)return e.apply(n,t);{const r=Qp;try{return Qp=null,e.apply(n,t)}finally{Qp=r}}}}),{bind:rf,noContext:of}=nf;const sf=new nf;const{hasOwnProperty:af}=Object.prototype,lf=Array.from||function(e){const t=[];return e.forEach((e=>t.push(e))),t};function cf(e){const{unsubscribe:t}=e;"function"===typeof t&&(e.unsubscribe=void 0,t())}const df=[];function uf(e,t){if(!e)throw new Error(t||"assertion failure")}function hf(e,t){const n=e.length;return n>0&&n===t.length&&e[n-1]===t[n-1]}function pf(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}function ff(e){return e.slice(0)}class mf{constructor(e){this.fn=e,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],this.deps=null,++mf.count}peek(){if(1===this.value.length&&!yf(this))return gf(this),this.value[0]}recompute(e){return uf(!this.recomputing,"already recomputing"),gf(this),yf(this)?function(e,t){Sf(e),sf.withValue(e,vf,[e,t]),function(e,t){if("function"===typeof e.subscribe)try{cf(e),e.unsubscribe=e.subscribe.apply(null,t)}catch(zQ){return e.setDirty(),!1}return!0}(e,t)&&function(e){if(e.dirty=!1,yf(e))return;bf(e)}(e);return pf(e.value)}(this,e):pf(this.value)}setDirty(){this.dirty||(this.dirty=!0,xf(this),cf(this))}dispose(){this.setDirty(),Sf(this),wf(this,((e,t)=>{e.setDirty(),Cf(e,this)}))}forget(){this.dispose()}dependOn(e){e.add(this),this.deps||(this.deps=df.pop()||new Set),this.deps.add(e)}forgetDeps(){this.deps&&(lf(this.deps).forEach((e=>e.delete(this))),this.deps.clear(),df.push(this.deps),this.deps=null)}}function gf(e){const t=sf.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),yf(e)?kf(t,e):Nf(t,e),t}function vf(e,t){e.recomputing=!0;const{normalizeResult:n}=e;let r;n&&1===e.value.length&&(r=ff(e.value)),e.value.length=0;try{if(e.value[0]=e.fn.apply(null,t),n&&r&&!hf(r,e.value))try{e.value[0]=n(e.value[0],r[0])}catch(eu){}}catch(zQ){e.value[1]=zQ}e.recomputing=!1}function yf(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function xf(e){wf(e,kf)}function bf(e){wf(e,Nf)}function wf(e,t){const n=e.parents.size;if(n){const r=lf(e.parents);for(let o=0;o<n;++o)t(r[o],e)}}function kf(e,t){uf(e.childValues.has(t)),uf(yf(t));const n=!yf(e);if(e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=df.pop()||new Set;e.dirtyChildren.add(t),n&&xf(e)}function Nf(e,t){uf(e.childValues.has(t)),uf(!yf(t));const n=e.childValues.get(t);0===n.length?e.childValues.set(t,ff(t.value)):hf(n,t.value)||e.setDirty(),_f(e,t),yf(e)||bf(e)}function _f(e,t){const n=e.dirtyChildren;n&&(n.delete(t),0===n.size&&(df.length<100&&df.push(n),e.dirtyChildren=null))}function Sf(e){e.childValues.size>0&&e.childValues.forEach(((t,n)=>{Cf(e,n)})),e.forgetDeps(),uf(null===e.dirtyChildren)}function Cf(e,t){t.parents.delete(e),e.childValues.delete(t),_f(e,t)}mf.count=0;const jf={setDirty:!0,dispose:!0,forget:!0};function Ef(e){const t=new Map,n=e&&e.subscribe;function r(e){const r=sf.getValue();if(r){let o=t.get(e);o||t.set(e,o=new Set),r.dependOn(o),"function"===typeof n&&(cf(o),o.unsubscribe=n(e))}}return r.dirty=function(e,n){const r=t.get(e);if(r){const o=n&&af.call(jf,n)?n:"setDirty";lf(r).forEach((e=>e[o]())),t.delete(e),cf(r)}},r}let Tf;function Af(){const e=Tf||(Tf=new Yp("function"===typeof WeakMap));for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.lookupArray(n)}const Mf=new Set;function Rf(e){let{max:t=Math.pow(2,16),keyArgs:n,makeCacheKey:r=Af,normalizeResult:o,subscribe:i,cache:s=Nh}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.create(null);const a="function"===typeof s?new s(t,(e=>e.dispose())):s,l=function(){const t=r.apply(null,n?n.apply(null,arguments):arguments);if(void 0===t)return e.apply(null,arguments);let s=a.get(t);s||(a.set(t,s=new mf(e)),s.normalizeResult=o,s.subscribe=i,s.forget=()=>a.delete(t));const l=s.recompute(Array.prototype.slice.call(arguments));return a.set(t,s),Mf.add(a),sf.hasValue()||(Mf.forEach((e=>e.clean())),Mf.clear()),l};function c(e){const t=e&&a.get(e);t&&t.setDirty()}function d(e){const t=e&&a.get(e);if(t)return t.peek()}function u(e){return!!e&&a.delete(e)}return Object.defineProperty(l,"size",{get:()=>a.size,configurable:!1,enumerable:!1}),Object.freeze(l.options={max:t,keyArgs:n,makeCacheKey:r,normalizeResult:o,subscribe:i,cache:a}),l.dirtyKey=c,l.dirty=function(){c(r.apply(null,arguments))},l.peekKey=d,l.peek=function(){return d(r.apply(null,arguments))},l.forgetKey=u,l.forget=function(){return u(r.apply(null,arguments))},l.makeCacheKey=r,l.getKey=n?function(){return r.apply(null,n.apply(null,arguments))}:r,Object.freeze(l)}var Of,If,Lf=Object.assign,Df=Object.hasOwnProperty,Pf=function(e){function t(n){var r=n.queryManager,o=n.queryInfo,i=n.options,s=this,a=t.inactiveOnCreation.getValue();(s=e.call(this,(function(e){a&&(r.queries.set(s.queryId,o),a=!1);try{var t=e._subscription._observer;t&&!t.error&&(t.error=$f)}catch(n){}var i=!s.observers.size;s.observers.add(e);var l=s.last;return l&&l.error?e.error&&e.error(l.error):l&&l.result&&e.next&&e.next(s.maskResult(l.result)),i&&s.reobserve().catch((function(){})),function(){s.observers.delete(e)&&!s.observers.size&&s.tearDownQuery()}}))||this).observers=new Set,s.subscriptions=new Set,s.dirty=!1,s.queryInfo=o,s.queryManager=r,s.waitForOwnResult=Ff(i.fetchPolicy),s.isTornDown=!1,s.subscribeToMore=s.subscribeToMore.bind(s),s.maskResult=s.maskResult.bind(s);var l=r.defaultOptions.watchQuery,c=(void 0===l?{}:l).fetchPolicy,d=void 0===c?"cache-first":c,u=i.fetchPolicy,h=void 0===u?d:u,p=i.initialFetchPolicy,f=void 0===p?"standby"===h?d:h:p;s.options=Kd(Kd({},i),{initialFetchPolicy:f,fetchPolicy:h}),s.queryId=o.queryId||r.generateQueryId();var m=rp(s.query);return s.queryName=m&&m.name&&m.name.value,s}return qd(t,e),Object.defineProperty(t.prototype,"query",{get:function(){return this.lastQuery||this.options.query},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"variables",{get:function(){return this.options.variables},enumerable:!1,configurable:!0}),t.prototype.result=function(){var e=this;return new Promise((function(t,n){var r={next:function(n){t(n),e.observers.delete(r),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout((function(){o.unsubscribe()}),0)},error:n},o=e.subscribe(r)}))},t.prototype.resetDiff=function(){this.queryInfo.resetDiff()},t.prototype.getCurrentFullResult=function(e){void 0===e&&(e=!0);var t=this.getLastResult(!0),n=this.queryInfo.networkStatus||t&&t.networkStatus||Xu.ready,r=Kd(Kd({},t),{loading:Ju(n),networkStatus:n}),o=this.options.fetchPolicy,i=void 0===o?"cache-first":o;if(Ff(i)||this.queryManager.getDocumentInfo(this.query).hasForcedResolvers);else if(this.waitForOwnResult)this.queryInfo.updateWatch();else{var s=this.queryInfo.getDiff();(s.complete||this.options.returnPartialData)&&(r.data=s.result),Du(r.data,{})&&(r.data=void 0),s.complete?(delete r.partial,!s.complete||r.networkStatus!==Xu.loading||"cache-first"!==i&&"cache-only"!==i||(r.networkStatus=Xu.ready,r.loading=!1)):r.partial=!0,r.networkStatus===Xu.ready&&(r.error||r.errors)&&(r.networkStatus=Xu.error),!1===globalThis.__DEV__||s.complete||this.options.partialRefetch||r.loading||r.data||r.error||zf(s.missing)}return e&&this.updateLastResult(r),r},t.prototype.getCurrentResult=function(e){return void 0===e&&(e=!0),this.maskResult(this.getCurrentFullResult(e))},t.prototype.isDifferentFromLastResult=function(e,t){if(!this.last)return!0;var n=this.queryManager.getDocumentInfo(this.query),r=this.queryManager.dataMasking,o=r?n.nonReactiveQuery:this.query;return(r||n.hasNonreactiveDirective?!Bp(o,this.last.result,e,this.variables):!Du(this.last.result,e))||t&&!Du(this.last.variables,t)},t.prototype.getLast=function(e,t){var n=this.last;if(n&&n[e]&&(!t||Du(n.variables,this.variables)))return n[e]},t.prototype.getLastResult=function(e){return this.getLast("result",e)},t.prototype.getLastError=function(e){return this.getLast("error",e)},t.prototype.resetLastResults=function(){delete this.last,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){this.queryManager.resetErrors(this.queryId)},t.prototype.refetch=function(e){var t,n={pollInterval:0},r=this.options.fetchPolicy;if(n.fetchPolicy="no-cache"===r?"no-cache":"network-only",!1!==globalThis.__DEV__&&e&&Df.call(e,"variables")){var o=sp(this.query),i=o.variableDefinitions;i&&i.some((function(e){return"variables"===e.variable.name.value}))||!1!==globalThis.__DEV__&&fu.warn(21,e,(null===(t=o.name)||void 0===t?void 0:t.value)||o)}return e&&!Du(this.options.variables,e)&&(n.variables=this.options.variables=Kd(Kd({},this.options.variables),e)),this.queryInfo.resetLastWrite(),this.reobserve(n,Xu.refetch)},t.prototype.fetchMore=function(e){var t=this,n=Kd(Kd({},e.query?e:Kd(Kd(Kd(Kd({},this.options),{query:this.options.query}),e),{variables:Kd(Kd({},this.options.variables),e.variables)})),{fetchPolicy:"no-cache"});n.query=this.transformDocument(n.query);var r=this.queryManager.generateQueryId();this.lastQuery=e.query?this.transformDocument(this.options.query):n.query;var o=this.queryInfo,i=o.networkStatus;o.networkStatus=Xu.fetchMore,n.notifyOnNetworkStatusChange&&this.observe();var s=new Set,a=null===e||void 0===e?void 0:e.updateQuery,l="no-cache"!==this.options.fetchPolicy;return l||fu(a,22),this.queryManager.fetchQuery(r,n,Xu.fetchMore).then((function(c){if(t.queryManager.removeQuery(r),o.networkStatus===Xu.fetchMore&&(o.networkStatus=i),l)t.queryManager.cache.batch({update:function(r){var o=e.updateQuery;o?r.updateQuery({query:t.query,variables:t.variables,returnPartialData:!0,optimistic:!1},(function(e){return o(e,{fetchMoreResult:c.data,variables:n.variables})})):r.writeQuery({query:n.query,variables:n.variables,data:c.data})},onWatchUpdated:function(e){s.add(e.query)}});else{var d=t.getLast("result"),u=a(d.data,{fetchMoreResult:c.data,variables:n.variables});t.reportResult(Kd(Kd({},d),{networkStatus:i,loading:Ju(i),data:u}),t.variables)}return t.maskResult(c)})).finally((function(){l&&!s.has(t.query)&&t.reobserveCacheFirst()}))},t.prototype.subscribeToMore=function(e){var t=this,n=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables,context:e.context}).subscribe({next:function(n){var r=e.updateQuery;r&&t.updateQuery((function(e,t){return r(e,Kd({subscriptionData:n},t))}))},error:function(t){e.onError?e.onError(t):!1!==globalThis.__DEV__&&fu.error(23,t)}});return this.subscriptions.add(n),function(){t.subscriptions.delete(n)&&n.unsubscribe()}},t.prototype.setOptions=function(e){return this.reobserve(e)},t.prototype.silentSetOptions=function(e){var t=Wu(this.options,e||{});Lf(this.options,t)},t.prototype.setVariables=function(e){return Du(this.variables,e)?this.observers.size?this.result():Promise.resolve():(this.options.variables=e,this.observers.size?this.reobserve({fetchPolicy:this.options.initialFetchPolicy,variables:e},Xu.setVariables):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,n=t.cache.diff({query:this.options.query,variables:this.variables,returnPartialData:!0,optimistic:!1}),r=n.result,o=n.complete,i=e(r,{variables:this.variables,complete:!!o,previousData:r});i&&(t.cache.writeQuery({query:this.options.query,data:i,variables:this.variables}),t.broadcastQueries())},t.prototype.startPolling=function(e){this.options.pollInterval=e,this.updatePolling()},t.prototype.stopPolling=function(){this.options.pollInterval=0,this.updatePolling()},t.prototype.applyNextFetchPolicy=function(e,t){if(t.nextFetchPolicy){var n=t.fetchPolicy,r=void 0===n?"cache-first":n,o=t.initialFetchPolicy,i=void 0===o?r:o;"standby"===r||("function"===typeof t.nextFetchPolicy?t.fetchPolicy=t.nextFetchPolicy(r,{reason:e,options:t,observable:this,initialFetchPolicy:i}):t.fetchPolicy="variables-changed"===e?i:t.nextFetchPolicy)}return t.fetchPolicy},t.prototype.fetch=function(e,t,n){var r=this.queryManager.getOrCreateQuery(this.queryId);return r.setObservableQuery(this),this.queryManager.fetchConcastWithInfo(r,e,t,n)},t.prototype.updatePolling=function(){var e=this;if(!this.queryManager.ssrMode){var t=this.pollingInfo,n=this.options.pollInterval;if(n&&this.hasObservers()){if(!t||t.interval!==n){fu(n,24),(t||(this.pollingInfo={})).interval=n;var r=function(){var t,n;e.pollingInfo&&(Ju(e.queryInfo.networkStatus)||(null===(n=(t=e.options).skipPollAttempt)||void 0===n?void 0:n.call(t))?o():e.reobserve({fetchPolicy:"no-cache"===e.options.initialFetchPolicy?"no-cache":"network-only"},Xu.poll).then(o,o))},o=function(){var t=e.pollingInfo;t&&(clearTimeout(t.timeout),t.timeout=setTimeout(r,t.interval))};o()}}else t&&(clearTimeout(t.timeout),delete this.pollingInfo)}},t.prototype.updateLastResult=function(e,t){void 0===t&&(t=this.variables);var n=this.getLastError();return n&&this.last&&!Du(t,this.last.variables)&&(n=void 0),this.last=Kd({result:this.queryManager.assumeImmutableResults?e:up(e),variables:t},n?{error:n}:null)},t.prototype.reobserveAsConcast=function(e,t){var n=this;this.isTornDown=!1;var r=t===Xu.refetch||t===Xu.fetchMore||t===Xu.poll,o=this.options.variables,i=this.options.fetchPolicy,s=Wu(this.options,e||{}),a=r?s:Lf(this.options,s),l=this.transformDocument(a.query);this.lastQuery=l,r||(this.updatePolling(),!e||!e.variables||Du(e.variables,o)||"standby"===a.fetchPolicy||a.fetchPolicy!==i&&"function"!==typeof a.nextFetchPolicy||(this.applyNextFetchPolicy("variables-changed",a),void 0===t&&(t=Xu.setVariables))),this.waitForOwnResult&&(this.waitForOwnResult=Ff(a.fetchPolicy));var c=function(){n.concast===h&&(n.waitForOwnResult=!1)},d=a.variables&&Kd({},a.variables),u=this.fetch(a,t,l),h=u.concast,p=u.fromLink,f={next:function(e){Du(n.variables,d)&&(c(),n.reportResult(e,d))},error:function(e){Du(n.variables,d)&&(Qu(e)||(e=new Zu({networkError:e})),c(),n.reportError(e,d))}};return r||!p&&this.concast||(this.concast&&this.observer&&this.concast.removeObserver(this.observer),this.concast=h,this.observer=f),h.addObserver(f),h},t.prototype.reobserve=function(e,t){return(n=this.reobserveAsConcast(e,t).promise.then(this.maskResult)).catch((function(){})),n;var n},t.prototype.resubscribeAfterError=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.last;this.resetLastResults();var r=this.subscribe.apply(this,e);return this.last=n,r},t.prototype.observe=function(){this.reportResult(this.getCurrentFullResult(!1),this.variables)},t.prototype.reportResult=function(e,t){var n=this.getLastError(),r=this.isDifferentFromLastResult(e,t);(n||!e.partial||this.options.returnPartialData)&&this.updateLastResult(e,t),(n||r)&&pp(this.observers,"next",this.maskResult(e))},t.prototype.reportError=function(e,t){var n=Kd(Kd({},this.getLastResult()),{error:e,errors:e.graphQLErrors,networkStatus:Xu.error,loading:!1});this.updateLastResult(n,t),pp(this.observers,"error",this.last.error=e)},t.prototype.hasObservers=function(){return this.observers.size>0},t.prototype.tearDownQuery=function(){this.isTornDown||(this.concast&&this.observer&&(this.concast.removeObserver(this.observer),delete this.concast,delete this.observer),this.stopPolling(),this.subscriptions.forEach((function(e){return e.unsubscribe()})),this.subscriptions.clear(),this.queryManager.stopQuery(this.queryId),this.observers.clear(),this.isTornDown=!0)},t.prototype.transformDocument=function(e){return this.queryManager.transform(e)},t.prototype.maskResult=function(e){return e&&"data"in e?Kd(Kd({},e),{data:this.queryManager.maskOperation({document:this.query,data:e.data,fetchPolicy:this.options.fetchPolicy,id:this.queryId})}):e},t.prototype.resetNotifications=function(){this.cancelNotifyTimeout(),this.dirty=!1},t.prototype.cancelNotifyTimeout=function(){this.notifyTimeout&&(clearTimeout(this.notifyTimeout),this.notifyTimeout=void 0)},t.prototype.scheduleNotify=function(){var e=this;this.dirty||(this.dirty=!0,this.notifyTimeout||(this.notifyTimeout=setTimeout((function(){return e.notify()}),0)))},t.prototype.notify=function(){(this.cancelNotifyTimeout(),this.dirty)&&("cache-only"!=this.options.fetchPolicy&&"cache-and-network"!=this.options.fetchPolicy&&Ju(this.queryInfo.networkStatus)||(this.queryInfo.getDiff().fromOptimisticTransaction?this.observe():this.reobserveCacheFirst()));this.dirty=!1},t.prototype.reobserveCacheFirst=function(){var e=this.options,t=e.fetchPolicy,n=e.nextFetchPolicy;return"cache-and-network"===t||"network-only"===t?this.reobserve({fetchPolicy:"cache-first",nextFetchPolicy:function(e,r){return this.nextFetchPolicy=n,"function"===typeof this.nextFetchPolicy?this.nextFetchPolicy(e,r):t}}):this.reobserve()},t.inactiveOnCreation=new nf,t}(Lp);function $f(e){!1!==globalThis.__DEV__&&fu.error(25,e.message,e.stack)}function zf(e){!1!==globalThis.__DEV__&&e&&!1!==globalThis.__DEV__&&fu.debug(26,e)}function Ff(e){return"network-only"===e||"no-cache"===e||"standby"===e}function Bf(e){var t;switch(e){case Of.Query:t="Query";break;case Of.Mutation:t="Mutation";break;case Of.Subscription:t="Subscription"}return t}function Vf(e){If||(If=new Ch(Th.parser||1e3));var t,n,r=If.get(e);if(r)return r;fu(!!e&&!!e.kind,70,e);for(var o=[],i=[],s=[],a=[],l=0,c=e.definitions;l<c.length;l++){var d=c[l];if("FragmentDefinition"!==d.kind){if("OperationDefinition"===d.kind)switch(d.operation){case"query":i.push(d);break;case"mutation":s.push(d);break;case"subscription":a.push(d)}}else o.push(d)}fu(!o.length||i.length||s.length||a.length,71),fu(i.length+s.length+a.length<=1,72,e,i.length,a.length,s.length),n=i.length?Of.Query:Of.Mutation,i.length||s.length||(n=Of.Subscription);var u=i.length?i:s.length?s:a;fu(1===u.length,73,e,u.length);var h=u[0];t=h.variableDefinitions||[];var p={name:h.name&&"Name"===h.name.kind?h.name.value:"data",type:n,variables:t};return If.set(e,p),p}function Wf(e,t){var n=Vf(e),r=Bf(t),o=Bf(n.type);fu(n.type===t,74,r,r,o)}function Hf(e){var t=Hd.useContext(Gu()),n=e||t.client;return fu(!!n,58),n}Dp(Pf),function(e){e[e.Query=0]="Query",e[e.Mutation=1]="Mutation",e[e.Subscription=2]="Subscription"}(Of||(Of={})),Vf.resetCache=function(){If=void 0},!1!==globalThis.__DEV__&&Mh("parser",(function(){return If?If.size:0}));var Uf=Array.isArray;function Gf(e){return Array.isArray(e)&&e.length>0}function qf(e){var t=new Set([e]);return t.forEach((function(e){qu(e)&&function(e){if(!1!==globalThis.__DEV__&&!Object.isFrozen(e))try{Object.freeze(e)}catch(zQ){if(zQ instanceof TypeError)return null;throw zQ}return e}(e)===e&&Object.getOwnPropertyNames(e).forEach((function(n){qu(e[n])&&t.add(e[n])}))})),e}function Kf(e){return!1!==globalThis.__DEV__&&qf(e),e}var Yf=Symbol.for("apollo.hook.wrappers");var Qf=Object.prototype.hasOwnProperty;function Xf(){}var Zf=Symbol();function Jf(e,t){return void 0===t&&(t=Object.create(null)),function(e,t,n){var r=n.queryManager,o=r&&r[Yf],i=o&&o[e];return i?i(t):t}("useQuery",em,Hf(t&&t.client))(e,t)}function em(e,t){var n=tm(e,t),r=n.result,o=n.obsQueryFields;return Hd.useMemo((function(){return Kd(Kd({},r),o)}),[r,o])}function tm(e,t){var n=Hf(t.client),r=Hd.useContext(Gu()).renderPromises,o=!!r,i=n.disableNetworkFetches,s=!1!==t.ssr&&!t.skip,a=t.partialRefetch,l=nm(n,e,t,o),c=function(e,t,n,r,o){function i(i){var s;return Wf(t,Of.Query),{client:e,query:t,observable:r&&r.getSSRObservable(o())||Pf.inactiveOnCreation.withValue(!r,(function(){return e.watchQuery(rm(void 0,e,n,o()))})),resultData:{previousData:null===(s=null===i||void 0===i?void 0:i.resultData.current)||void 0===s?void 0:s.data}}}var s=Hd.useState(i),a=s[0],l=s[1];function c(e){var t,n;Object.assign(a.observable,((t={})[Zf]=e,t));var r=a.resultData;l(Kd(Kd({},a),{query:e.query,resultData:Object.assign(r,{previousData:(null===(n=r.current)||void 0===n?void 0:n.data)||r.previousData,current:void 0})}))}if(e!==a.client||t!==a.query){var d=i(a);return l(d),[d,c]}return[a,c]}(n,e,t,r,l),d=c[0],u=d.observable,h=d.resultData,p=c[1],f=l(u);!function(e,t,n,r,o){var i;t[Zf]&&!Du(t[Zf],o)&&(t.reobserve(rm(t,n,r,o)),e.previousData=(null===(i=e.current)||void 0===i?void 0:i.data)||e.previousData,e.current=void 0);t[Zf]=o}(h,u,n,t,f);var m=Hd.useMemo((function(){return function(e){return{refetch:e.refetch.bind(e),reobserve:e.reobserve.bind(e),fetchMore:e.fetchMore.bind(e),updateQuery:e.updateQuery.bind(e),startPolling:e.startPolling.bind(e),stopPolling:e.stopPolling.bind(e),subscribeToMore:e.subscribeToMore.bind(e)}}(u)}),[u]);!function(e,t,n){t&&n&&(t.registerSSRObservable(e),e.getCurrentResult().loading&&t.addObservableQueryPromise(e))}(u,r,s);var g=function(e,t,n,r,o,i,s,a,l){var c=Hd.useRef(l);Hd.useEffect((function(){c.current=l}));var d=!a&&!i||!1!==r.ssr||r.skip?r.skip||"standby"===o.fetchPolicy?dm:void 0:cm,u=e.previousData,h=Hd.useMemo((function(){return d&&lm(d,u,t,n)}),[n,t,d,u]);return Tu(Hd.useCallback((function(r){if(a)return function(){};var o=function(){var o=e.current,i=t.getCurrentResult();o&&o.loading===i.loading&&o.networkStatus===i.networkStatus&&Du(o.data,i.data)||om(i,e,t,n,s,r,c.current)},i=function(a){if(l.current.unsubscribe(),l.current=t.resubscribeAfterError(o,i),!Qf.call(a,"graphQLErrors"))throw a;var d=e.current;(!d||d&&d.loading||!Du(a,d.error))&&om({data:d&&d.data,error:a,loading:!1,networkStatus:Xu.error},e,t,n,s,r,c.current)},l={current:t.subscribe(o,i)};return function(){setTimeout((function(){return l.current.unsubscribe()}))}}),[i,a,t,e,s,n]),(function(){return h||im(e,t,c.current,s,n)}),(function(){return h||im(e,t,c.current,s,n)}))}(h,u,n,t,f,i,a,o,{onCompleted:t.onCompleted||Xf,onError:t.onError||Xf});return{result:g,obsQueryFields:m,observable:u,resultData:h,client:n,onQueryExecuted:p}}function nm(e,t,n,r){void 0===n&&(n={});var o=n.skip,i=(n.ssr,n.onCompleted,n.onError,n.defaultOptions),s=Yd(n,["skip","ssr","onCompleted","onError","defaultOptions"]);return function(n){var a=Object.assign(s,{query:t});return!r||"network-only"!==a.fetchPolicy&&"cache-and-network"!==a.fetchPolicy||(a.fetchPolicy="cache-first"),a.variables||(a.variables={}),o?(a.initialFetchPolicy=a.initialFetchPolicy||a.fetchPolicy||sm(i,e.defaultOptions),a.fetchPolicy="standby"):a.fetchPolicy||(a.fetchPolicy=(null===n||void 0===n?void 0:n.options.initialFetchPolicy)||sm(i,e.defaultOptions)),a}}function rm(e,t,n,r){var o=[],i=t.defaultOptions.watchQuery;return i&&o.push(i),n.defaultOptions&&o.push(n.defaultOptions),o.push(Wu(e&&e.options,r)),o.reduce(Hu)}function om(e,t,n,r,o,i,s){var a=t.current;a&&a.data&&(t.previousData=a.data),!e.error&&Gf(e.errors)&&(e.error=new Zu({graphQLErrors:e.errors})),t.current=lm(function(e,t,n){if(e.partial&&n&&!e.loading&&(!e.data||0===Object.keys(e.data).length)&&"cache-only"!==t.options.fetchPolicy)return t.refetch(),Kd(Kd({},e),{loading:!0,networkStatus:Xu.refetch});return e}(e,n,o),t.previousData,n,r),i(),function(e,t,n){if(!e.loading){var r=am(e);Promise.resolve().then((function(){r?n.onError(r):e.data&&t!==e.networkStatus&&e.networkStatus===Xu.ready&&n.onCompleted(e.data)})).catch((function(e){!1!==globalThis.__DEV__&&fu.warn(e)}))}}(e,null===a||void 0===a?void 0:a.networkStatus,s)}function im(e,t,n,r,o){return e.current||om(t.getCurrentResult(),e,t,o,r,(function(){}),n),e.current}function sm(e,t){var n;return(null===e||void 0===e?void 0:e.fetchPolicy)||(null===(n=null===t||void 0===t?void 0:t.watchQuery)||void 0===n?void 0:n.fetchPolicy)||"cache-first"}function am(e){return Gf(e.errors)?new Zu({graphQLErrors:e.errors}):e.error}function lm(e,t,n,r){var o=e.data,i=(e.partial,Yd(e,["data","partial"]));return Kd(Kd({data:o},i),{client:r,observable:n,variables:n.variables,called:e!==cm&&e!==dm,previousData:t})}var cm=Kf({loading:!0,data:void 0,error:void 0,networkStatus:Xu.loading}),dm=Kf({loading:!1,data:void 0,error:void 0,networkStatus:Xu.ready});const um=zd("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),hm=zd("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),pm=zd("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),fm=zd("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),mm=zd("server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),gm=zd("key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),vm=zd("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),ym=zd("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),xm=zd("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),bm=zd("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),wm=zd("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),km=zd("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Nm=function(){return{nextPart:arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,validators:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,classGroupId:arguments.length>2?arguments[2]:void 0}},_m="-",Sm=[],Cm=e=>{const t=Tm(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return Em(e);const n=e.split(_m),r=""===n[0]&&n.length>1?1:0;return jm(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],o=n[e];return t?o?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(o,t):t:o||Sm}return n[e]||Sm}}},jm=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],o=n.nextPart.get(r);if(o){const n=jm(e,t+1,o);if(n)return n}const i=n.validators;if(null===i)return;const s=0===t?e.join(_m):e.slice(t).join(_m),a=i.length;for(let l=0;l<a;l++){const e=i[l];if(e.validator(s))return e.classGroupId}},Em=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),Tm=e=>{const{theme:t,classGroups:n}=e;return Am(n,t)},Am=(e,t)=>{const n=Nm();for(const r in e){const o=e[r];Mm(o,n,r,t)}return n},Mm=(e,t,n,r)=>{const o=e.length;for(let i=0;i<o;i++){const o=e[i];Rm(o,t,n,r)}},Rm=(e,t,n,r)=>{"string"!==typeof e?"function"!==typeof e?Lm(e,t,n,r):Im(e,t,n,r):Om(e,t,n)},Om=(e,t,n)=>{(""===e?t:Dm(t,e)).classGroupId=n},Im=(e,t,n,r)=>{Pm(e)?Mm(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},Lm=(e,t,n,r)=>{const o=Object.entries(e),i=o.length;for(let s=0;s<i;s++){const[e,i]=o[s];Mm(i,Dm(t,e),n,r)}},Dm=(e,t)=>{let n=e;const r=t.split(_m),o=r.length;for(let i=0;i<o;i++){const e=r[i];let t=n.nextPart.get(e);t||(t=Nm(),n.nextPart.set(e,t)),n=t}return n},Pm=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,$m=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const o=(o,i)=>{n[o]=i,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(o(e,t),t):void 0},set(e,t){e in n?n[e]=t:o(e,t)}}},zm=[],Fm=(e,t,n,r,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:o}),Bm=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,o=0,i=0;const s=e.length;for(let d=0;d<s;d++){const s=e[d];if(0===r&&0===o){if(":"===s){t.push(e.slice(i,d)),i=d+1;continue}if("/"===s){n=d;continue}}"["===s?r++:"]"===s?r--:"("===s?o++:")"===s&&o--}const a=0===t.length?e:e.slice(i);let l=a,c=!1;a.endsWith("!")?(l=a.slice(0,-1),c=!0):a.startsWith("!")&&(l=a.slice(1),c=!0);return Fm(t,c,l,n&&n>i?n-i:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):Fm(zm,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},Vm=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach(((e,n)=>{t.set(e,1e6+n)})),e=>{const n=[];let r=[];for(let o=0;o<e.length;o++){const i=e[o],s="["===i[0],a=t.has(i);s||a?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(i)):r.push(i)}return r.length>0&&(r.sort(),n.push(...r)),n}},Wm=/\s+/,Hm=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Hm(e[r]))&&(n&&(n+=" "),n+=t);return n},Um=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o,i,a,l;const c=e=>{const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:i}=t,s=[],a=e.trim().split(Wm);let l="";for(let c=a.length-1;c>=0;c-=1){const e=a[c],{isExternal:t,modifiers:d,hasImportantModifier:u,baseClassName:h,maybePostfixModifierPosition:p}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let f=!!p,m=r(f?h.substring(0,p):h);if(!m){if(!f){l=e+(l.length>0?" "+l:l);continue}if(m=r(h),!m){l=e+(l.length>0?" "+l:l);continue}f=!1}const g=0===d.length?"":1===d.length?d[0]:i(d).join(":"),v=u?g+"!":g,y=v+m;if(s.indexOf(y)>-1)continue;s.push(y);const x=o(m,f);for(let n=0;n<x.length;++n){const e=x[n];s.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,o);return a(e,n),n};return l=t=>{const r=n.reduce(((e,t)=>t(e)),e());return o=(e=>s({cache:$m(e.cacheSize),parseClassName:Bm(e),sortModifiers:Vm(e)},Cm(e)))(r),i=o.cache.get,a=o.cache.set,l=c,c(t)},function(){return l(function(){let e,t,n=0,r="";for(;n<arguments.length;){var o;(e=(o=n++)<0||arguments.length<=o?void 0:arguments[o])&&(t=Hm(e))&&(r&&(r+=" "),r+=t)}return r}(...arguments))}},Gm=[],qm=e=>{const t=t=>t[e]||Gm;return t.isThemeGetter=!0,t},Km=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ym=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Qm=/^\d+\/\d+$/,Xm=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zm=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Jm=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eg=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tg=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ng=e=>Qm.test(e),rg=e=>!!e&&!Number.isNaN(Number(e)),og=e=>!!e&&Number.isInteger(Number(e)),ig=e=>e.endsWith("%")&&rg(e.slice(0,-1)),sg=e=>Xm.test(e),ag=()=>!0,lg=e=>Zm.test(e)&&!Jm.test(e),cg=()=>!1,dg=e=>eg.test(e),ug=e=>tg.test(e),hg=e=>!fg(e)&&!bg(e),pg=e=>jg(e,Mg,cg),fg=e=>Km.test(e),mg=e=>jg(e,Rg,lg),gg=e=>jg(e,Og,rg),vg=e=>jg(e,Tg,cg),yg=e=>jg(e,Ag,ug),xg=e=>jg(e,Lg,dg),bg=e=>Ym.test(e),wg=e=>Eg(e,Rg),kg=e=>Eg(e,Ig),Ng=e=>Eg(e,Tg),_g=e=>Eg(e,Mg),Sg=e=>Eg(e,Ag),Cg=e=>Eg(e,Lg,!0),jg=(e,t,n)=>{const r=Km.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},Eg=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Ym.exec(e);return!!r&&(r[1]?t(r[1]):n)},Tg=e=>"position"===e||"percentage"===e,Ag=e=>"image"===e||"url"===e,Mg=e=>"length"===e||"size"===e||"bg-size"===e,Rg=e=>"length"===e,Og=e=>"number"===e,Ig=e=>"family-name"===e,Lg=e=>"shadow"===e,Dg=(Symbol.toStringTag,()=>{const e=qm("color"),t=qm("font"),n=qm("text"),r=qm("font-weight"),o=qm("tracking"),i=qm("leading"),s=qm("breakpoint"),a=qm("container"),l=qm("spacing"),c=qm("radius"),d=qm("shadow"),u=qm("inset-shadow"),h=qm("text-shadow"),p=qm("drop-shadow"),f=qm("blur"),m=qm("perspective"),g=qm("aspect"),v=qm("ease"),y=qm("animate"),x=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",bg,fg],b=()=>[bg,fg,l],w=()=>[ng,"full","auto",...b()],k=()=>[og,"none","subgrid",bg,fg],N=()=>["auto",{span:["full",og,bg,fg]},og,bg,fg],_=()=>[og,"auto",bg,fg],S=()=>["auto","min","max","fr",bg,fg],C=()=>["auto",...b()],j=()=>[ng,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],E=()=>[e,bg,fg],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",Ng,vg,{position:[bg,fg]}],A=()=>["auto","cover","contain",_g,pg,{size:[bg,fg]}],M=()=>[ig,wg,mg],R=()=>["","none","full",c,bg,fg],O=()=>["",rg,wg,mg],I=()=>[rg,ig,Ng,vg],L=()=>["","none",f,bg,fg],D=()=>["none",rg,bg,fg],P=()=>["none",rg,bg,fg],$=()=>[rg,bg,fg],z=()=>[ng,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[sg],breakpoint:[sg],color:[ag],container:[sg],"drop-shadow":[sg],ease:["in","out","in-out"],font:[hg],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[sg],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[sg],shadow:[sg],spacing:["px",rg],text:[sg],"text-shadow":[sg],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ng,fg,bg,g]}],container:["container"],columns:[{columns:[rg,fg,bg,a]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:x()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:w()}],"inset-x":[{"inset-x":w()}],"inset-y":[{"inset-y":w()}],start:[{start:w()}],end:[{end:w()}],top:[{top:w()}],right:[{right:w()}],bottom:[{bottom:w()}],left:[{left:w()}],visibility:["visible","invisible","collapse"],z:[{z:[og,"auto",bg,fg]}],basis:[{basis:[ng,"full","auto",a,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[rg,ng,"auto","initial","none",fg]}],grow:[{grow:["",rg,bg,fg]}],shrink:[{shrink:["",rg,bg,fg]}],order:[{order:[og,"first","last","none",bg,fg]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":_()}],"col-end":[{"col-end":_()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":_()}],"row-end":[{"row-end":_()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:C()}],mx:[{mx:C()}],my:[{my:C()}],ms:[{ms:C()}],me:[{me:C()}],mt:[{mt:C()}],mr:[{mr:C()}],mb:[{mb:C()}],ml:[{ml:C()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:j()}],w:[{w:[a,"screen",...j()]}],"min-w":[{"min-w":[a,"screen","none",...j()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...j()]}],h:[{h:["screen","lh",...j()]}],"min-h":[{"min-h":["screen","lh","none",...j()]}],"max-h":[{"max-h":["screen","lh",...j()]}],"font-size":[{text:["base",n,wg,mg]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,bg,gg]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",ig,fg]}],"font-family":[{font:[kg,fg,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,bg,fg]}],"line-clamp":[{"line-clamp":[rg,"none",bg,gg]}],leading:[{leading:[i,...b()]}],"list-image":[{"list-image":["none",bg,fg]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bg,fg]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:E()}],"text-color":[{text:E()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[rg,"from-font","auto",bg,mg]}],"text-decoration-color":[{decoration:E()}],"underline-offset":[{"underline-offset":[rg,"auto",bg,fg]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bg,fg]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bg,fg]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:T()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:A()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},og,bg,fg],radial:["",bg,fg],conic:[og,bg,fg]},Sg,yg]}],"bg-color":[{bg:E()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:E()}],"gradient-via":[{via:E()}],"gradient-to":[{to:E()}],rounded:[{rounded:R()}],"rounded-s":[{"rounded-s":R()}],"rounded-e":[{"rounded-e":R()}],"rounded-t":[{"rounded-t":R()}],"rounded-r":[{"rounded-r":R()}],"rounded-b":[{"rounded-b":R()}],"rounded-l":[{"rounded-l":R()}],"rounded-ss":[{"rounded-ss":R()}],"rounded-se":[{"rounded-se":R()}],"rounded-ee":[{"rounded-ee":R()}],"rounded-es":[{"rounded-es":R()}],"rounded-tl":[{"rounded-tl":R()}],"rounded-tr":[{"rounded-tr":R()}],"rounded-br":[{"rounded-br":R()}],"rounded-bl":[{"rounded-bl":R()}],"border-w":[{border:O()}],"border-w-x":[{"border-x":O()}],"border-w-y":[{"border-y":O()}],"border-w-s":[{"border-s":O()}],"border-w-e":[{"border-e":O()}],"border-w-t":[{"border-t":O()}],"border-w-r":[{"border-r":O()}],"border-w-b":[{"border-b":O()}],"border-w-l":[{"border-l":O()}],"divide-x":[{"divide-x":O()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":O()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:E()}],"border-color-x":[{"border-x":E()}],"border-color-y":[{"border-y":E()}],"border-color-s":[{"border-s":E()}],"border-color-e":[{"border-e":E()}],"border-color-t":[{"border-t":E()}],"border-color-r":[{"border-r":E()}],"border-color-b":[{"border-b":E()}],"border-color-l":[{"border-l":E()}],"divide-color":[{divide:E()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[rg,bg,fg]}],"outline-w":[{outline:["",rg,wg,mg]}],"outline-color":[{outline:E()}],shadow:[{shadow:["","none",d,Cg,xg]}],"shadow-color":[{shadow:E()}],"inset-shadow":[{"inset-shadow":["none",u,Cg,xg]}],"inset-shadow-color":[{"inset-shadow":E()}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:E()}],"ring-offset-w":[{"ring-offset":[rg,mg]}],"ring-offset-color":[{"ring-offset":E()}],"inset-ring-w":[{"inset-ring":O()}],"inset-ring-color":[{"inset-ring":E()}],"text-shadow":[{"text-shadow":["none",h,Cg,xg]}],"text-shadow-color":[{"text-shadow":E()}],opacity:[{opacity:[rg,bg,fg]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[rg]}],"mask-image-linear-from-pos":[{"mask-linear-from":I()}],"mask-image-linear-to-pos":[{"mask-linear-to":I()}],"mask-image-linear-from-color":[{"mask-linear-from":E()}],"mask-image-linear-to-color":[{"mask-linear-to":E()}],"mask-image-t-from-pos":[{"mask-t-from":I()}],"mask-image-t-to-pos":[{"mask-t-to":I()}],"mask-image-t-from-color":[{"mask-t-from":E()}],"mask-image-t-to-color":[{"mask-t-to":E()}],"mask-image-r-from-pos":[{"mask-r-from":I()}],"mask-image-r-to-pos":[{"mask-r-to":I()}],"mask-image-r-from-color":[{"mask-r-from":E()}],"mask-image-r-to-color":[{"mask-r-to":E()}],"mask-image-b-from-pos":[{"mask-b-from":I()}],"mask-image-b-to-pos":[{"mask-b-to":I()}],"mask-image-b-from-color":[{"mask-b-from":E()}],"mask-image-b-to-color":[{"mask-b-to":E()}],"mask-image-l-from-pos":[{"mask-l-from":I()}],"mask-image-l-to-pos":[{"mask-l-to":I()}],"mask-image-l-from-color":[{"mask-l-from":E()}],"mask-image-l-to-color":[{"mask-l-to":E()}],"mask-image-x-from-pos":[{"mask-x-from":I()}],"mask-image-x-to-pos":[{"mask-x-to":I()}],"mask-image-x-from-color":[{"mask-x-from":E()}],"mask-image-x-to-color":[{"mask-x-to":E()}],"mask-image-y-from-pos":[{"mask-y-from":I()}],"mask-image-y-to-pos":[{"mask-y-to":I()}],"mask-image-y-from-color":[{"mask-y-from":E()}],"mask-image-y-to-color":[{"mask-y-to":E()}],"mask-image-radial":[{"mask-radial":[bg,fg]}],"mask-image-radial-from-pos":[{"mask-radial-from":I()}],"mask-image-radial-to-pos":[{"mask-radial-to":I()}],"mask-image-radial-from-color":[{"mask-radial-from":E()}],"mask-image-radial-to-color":[{"mask-radial-to":E()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[rg]}],"mask-image-conic-from-pos":[{"mask-conic-from":I()}],"mask-image-conic-to-pos":[{"mask-conic-to":I()}],"mask-image-conic-from-color":[{"mask-conic-from":E()}],"mask-image-conic-to-color":[{"mask-conic-to":E()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:T()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:A()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bg,fg]}],filter:[{filter:["","none",bg,fg]}],blur:[{blur:L()}],brightness:[{brightness:[rg,bg,fg]}],contrast:[{contrast:[rg,bg,fg]}],"drop-shadow":[{"drop-shadow":["","none",p,Cg,xg]}],"drop-shadow-color":[{"drop-shadow":E()}],grayscale:[{grayscale:["",rg,bg,fg]}],"hue-rotate":[{"hue-rotate":[rg,bg,fg]}],invert:[{invert:["",rg,bg,fg]}],saturate:[{saturate:[rg,bg,fg]}],sepia:[{sepia:["",rg,bg,fg]}],"backdrop-filter":[{"backdrop-filter":["","none",bg,fg]}],"backdrop-blur":[{"backdrop-blur":L()}],"backdrop-brightness":[{"backdrop-brightness":[rg,bg,fg]}],"backdrop-contrast":[{"backdrop-contrast":[rg,bg,fg]}],"backdrop-grayscale":[{"backdrop-grayscale":["",rg,bg,fg]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[rg,bg,fg]}],"backdrop-invert":[{"backdrop-invert":["",rg,bg,fg]}],"backdrop-opacity":[{"backdrop-opacity":[rg,bg,fg]}],"backdrop-saturate":[{"backdrop-saturate":[rg,bg,fg]}],"backdrop-sepia":[{"backdrop-sepia":["",rg,bg,fg]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bg,fg]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[rg,"initial",bg,fg]}],ease:[{ease:["linear","initial",v,bg,fg]}],delay:[{delay:[rg,bg,fg]}],animate:[{animate:["none",y,bg,fg]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,bg,fg]}],"perspective-origin":[{"perspective-origin":x()}],rotate:[{rotate:D()}],"rotate-x":[{"rotate-x":D()}],"rotate-y":[{"rotate-y":D()}],"rotate-z":[{"rotate-z":D()}],scale:[{scale:P()}],"scale-x":[{"scale-x":P()}],"scale-y":[{"scale-y":P()}],"scale-z":[{"scale-z":P()}],"scale-3d":["scale-3d"],skew:[{skew:$()}],"skew-x":[{"skew-x":$()}],"skew-y":[{"skew-y":$()}],transform:[{transform:[bg,fg,"","none","gpu","cpu"]}],"transform-origin":[{origin:x()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:z()}],"translate-x":[{"translate-x":z()}],"translate-y":[{"translate-y":z()}],"translate-z":[{"translate-z":z()}],"translate-none":["translate-none"],accent:[{accent:E()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:E()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bg,fg]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bg,fg]}],fill:[{fill:["none",...E()]}],"stroke-w":[{stroke:[rg,wg,mg,gg]}],stroke:[{stroke:["none",...E()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}}),Pg=Um(Dg);function $g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pg(Ct(t))}function zg(e){let{title:t,icon:n,children:r,className:o,delay:i=0}=e;return(0,mn.jsxs)("div",{className:$g("border border-ghost/50 bg-void/50 p-6 relative group overflow-hidden hover:border-signal/50 transition-colors duration-500 h-full",o),children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 w-8 h-8 border-t border-r border-ghost group-hover:border-signal transition-colors duration-500"}),(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-4 text-gray-400 group-hover:text-signal transition-colors duration-300",children:[n,(0,mn.jsx)("h3",{className:"font-mono text-sm tracking-widest uppercase",children:t})]}),(0,mn.jsx)("div",{className:"relative z-10",children:r}),(0,mn.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-5 pointer-events-none"})]})}function Fg(e){let{count:t=0,totalCount:n=0}=e;return(0,mn.jsxs)(zg,{title:"Active Callbacks",icon:(0,mn.jsx)(um,{size:18}),children:[(0,mn.jsxs)("div",{className:"flex items-end gap-2",children:[(0,mn.jsx)("span",{className:"text-5xl font-bold text-signal font-mono",children:t}),(0,mn.jsxs)("span",{className:"text-gray-400 font-mono mb-2",children:["/ ",n," TOTAL"]})]}),(0,mn.jsx)("div",{className:"mt-4 h-1 w-full bg-ghost/20",children:(0,mn.jsx)("div",{className:"h-full bg-signal transition-all duration-1000",style:{width:n>0?"".concat(t/n*100,"%"):"0%"}})}),(0,mn.jsxs)("div",{className:"mt-2 text-xs text-gray-400 font-mono flex justify-between",children:[(0,mn.jsx)("span",{children:"SIGNAL_STRENGTH"}),(0,mn.jsx)("span",{className:t>0?"text-signal":"",children:t>0?"STRONG":"NO_SIGNAL"})]})]})}function Bg(e){let{count:t=0}=e;return(0,mn.jsxs)(zg,{title:"Total Payloads",icon:(0,mn.jsx)(hm,{size:18}),children:[(0,mn.jsxs)("div",{className:"flex items-end gap-2",children:[(0,mn.jsx)("span",{className:"text-5xl font-bold text-signal font-mono",children:t}),(0,mn.jsx)("span",{className:"text-gray-400 font-mono mb-2",children:"GENERATED"})]}),(0,mn.jsx)("div",{className:"mt-4 h-1 w-full bg-ghost/20",children:(0,mn.jsx)("div",{className:"h-full bg-signal transition-all duration-1000",style:{width:"".concat(Math.min(2*t,100),"%")}})}),(0,mn.jsxs)("div",{className:"mt-2 text-xs text-gray-400 font-mono flex justify-between",children:[(0,mn.jsx)("span",{children:"REPOSITORY"}),(0,mn.jsx)("span",{className:t>0?"text-signal":"",children:t>0?"POPULATED":"EMPTY"})]})]})}function Vg(e){let{payloads:t=[]}=e;return(0,mn.jsx)(zg,{title:"Recent Payloads",icon:(0,mn.jsx)(pm,{size:18}),children:(0,mn.jsxs)("div",{className:"space-y-3",children:[t.map(((e,t)=>{var n,r;const o=function(e){if(!e)return"Unknown";try{if(/^[A-Za-z0-9+/=]+$/.test(e)&&e.length>10){const t=atob(e);if(/^[\x20-\x7E]+$/.test(t))return t}return e}catch(FQ){return e}}(null===(n=e.filemetum)||void 0===n?void 0:n.filename_text);return(0,mn.jsxs)("div",{className:"flex items-center justify-between text-sm font-mono border-b border-ghost/20 pb-2 last:border-0 group/item",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("div",{className:"w-2 h-2 bg-signal rounded-full group-hover/item:bg-white/80 transition-colors"}),(0,mn.jsx)("span",{className:"text-signal/80 truncate max-w-[180px]",title:o,children:o})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-gray-400 text-xs",children:[(0,mn.jsx)("span",{className:"uppercase",children:null===(r=e.payloadtype)||void 0===r?void 0:r.name}),(0,mn.jsx)("span",{className:$g("hidden sm:inline-block px-1.5 py-0.5 rounded text-[10px]","success"===e.build_phase?"bg-green-500/20 text-green-400":"building"===e.build_phase?"bg-yellow-500/20 text-yellow-400 animate-pulse":"bg-gray-500/20 text-gray-400"),children:e.build_phase})]})]},e.id||t)})),0===t.length&&(0,mn.jsx)("div",{className:"text-gray-400 text-xs",children:"NO PAYLOADS DETECTED"})]})})}function Wg(e){var t;let{operations:n=[],currentOpId:r,totalOperations:o=0}=e;const i=n.find((e=>e.id===r))||n[0],s=(null===i||void 0===i||null===(t=i.operatoroperations)||void 0===t?void 0:t.length)||0;return(0,mn.jsx)(zg,{title:"Operation Status",icon:(0,mn.jsx)(fm,{size:18}),children:i?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-4 gap-2",children:[(0,mn.jsx)("div",{className:"text-lg text-signal font-mono break-all",title:i.name,children:i.name}),(0,mn.jsx)("div",{className:"px-2 py-0.5 border border-signal text-signal text-[10px] font-mono uppercase flex-shrink-0",children:"Active"})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs font-mono text-gray-400",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"mb-1",children:"OPERATORS"}),(0,mn.jsx)("div",{className:"text-signal text-lg",children:s})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"mb-1",children:"TOTAL OPS"}),(0,mn.jsx)("div",{className:"text-signal text-lg",children:o})]})]})]}):(0,mn.jsx)("div",{className:"text-gray-400 text-xs font-mono",children:"NO ACTIVE OPERATIONS"})})}function Hg(e){let{tasks:t=[],totalTasks:n=0,completedTasks:r=0,errorTasks:o=0,opsecTasks:i=0}=e;const s=(0,a.useMemo)((()=>{const e={};return t.forEach((t=>{t.command_name&&(e[t.command_name]=(e[t.command_name]||0)+1)})),Object.entries(e).sort(((e,t)=>t[1]-e[1])).slice(0,6)}),[t]),l=s.length>0?Math.max(...s.map((e=>e[1]))):1;return(0,mn.jsx)(zg,{title:"Command Statistics",icon:(0,mn.jsx)(Wd,{size:18}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-center border-b border-ghost/20 pb-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-2xl font-mono text-signal font-bold",children:n}),(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono",children:"TOTAL"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-2xl font-mono text-green-400 font-bold",children:r}),(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono",children:"DONE"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-2xl font-mono text-red-400 font-bold",children:o}),(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono",children:"ERROR"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-2xl font-mono text-yellow-400 font-bold",children:i}),(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono",children:"OPSEC"})]})]}),(0,mn.jsxs)("div",{className:"space-y-2",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-2",children:"RECENT COMMAND FREQUENCY"}),s.length>0?s.map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-xs font-mono text-signal/80 w-20 truncate",children:t}),(0,mn.jsx)("div",{className:"flex-1 h-1.5 bg-ghost/20 overflow-hidden",children:(0,mn.jsx)("div",{className:"h-full bg-signal/60 transition-all duration-500",style:{width:"".concat(n/l*100,"%")}})}),(0,mn.jsx)("span",{className:"text-xs font-mono text-gray-500 w-6 text-right",children:n})]},t)})):(0,mn.jsx)("div",{className:"text-gray-500 text-xs font-mono text-center py-4",children:"NO COMMANDS EXECUTED"})]})]})})}function Ug(e){let{profiles:t=[]}=e;const n=t.filter((e=>e.running)).length,r=t.length;return(0,mn.jsxs)(zg,{title:"C2 Infrastructure",icon:(0,mn.jsx)(mm,{size:18}),children:[(0,mn.jsxs)("div",{className:"flex items-end gap-2 mb-4",children:[(0,mn.jsx)("span",{className:$g("text-4xl font-bold font-mono",r>0?"text-signal":"text-gray-500"),children:n}),(0,mn.jsxs)("span",{className:"text-gray-400 font-mono mb-1 text-xs",children:["/ ",r," RUNNING"]})]}),(0,mn.jsxs)("div",{className:"space-y-2 max-h-[120px] overflow-y-auto cyber-scrollbar pr-1",children:[t.map((e=>(0,mn.jsxs)("div",{className:"flex items-center justify-between text-xs font-mono border-b border-ghost/20 pb-1 last:border-0",children:[(0,mn.jsx)("span",{className:$g("truncate max-w-[120px]",e.running?"text-signal":"text-gray-500"),children:e.name}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("div",{className:$g("w-1.5 h-1.5 rounded-full",e.running?"bg-signal animate-pulse":"bg-red-500")}),(0,mn.jsx)("span",{className:e.running?"text-signal":"text-red-500",children:e.running?"UP":"DOWN"})]})]},e.id))),0===t.length&&(0,mn.jsx)("div",{className:"text-gray-500 text-xs italic",children:"NO PROFILES FOUND"})]})]})}function Gg(e){let{credentials:t=0,keylogs:n=0,downloads:r=0,uploads:o=0,screenshots:i=0}=e;const s=[{label:"CREDENTIALS",value:t,icon:gm,color:"text-yellow-400"},{label:"DOWNLOADS",value:r,icon:vm,color:"text-blue-400"},{label:"UPLOADS",value:o,icon:ym,color:"text-purple-400"},{label:"SCREENSHOTS",value:i,icon:xm,color:"text-cyan-400"}];return(0,mn.jsx)(zg,{title:"Asset Collection",icon:(0,mn.jsx)(bm,{size:18}),children:(0,mn.jsx)("div",{className:"grid grid-cols-2 gap-4",children:s.map((e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(e.icon,{size:16,className:$g("opacity-70",e.color)}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:$g("text-xl font-mono font-bold",e.value>0?e.color:"text-gray-600"),children:e.value}),(0,mn.jsx)("div",{className:"text-[9px] text-gray-500 font-mono",children:e.label})]})]},e.label)))})})}function qg(e){let{operators:t=[]}=e;return(0,mn.jsxs)(zg,{title:"Active Operators",icon:(0,mn.jsx)(wm,{size:18}),children:[(0,mn.jsxs)("div",{className:"flex items-end gap-2 mb-4",children:[(0,mn.jsx)("span",{className:"text-4xl font-bold text-signal font-mono",children:t.length}),(0,mn.jsx)("span",{className:"text-gray-400 font-mono mb-1 text-xs",children:"ONLINE"})]}),(0,mn.jsxs)("div",{className:"space-y-2 max-h-[100px] overflow-y-auto cyber-scrollbar",children:[t.slice(0,5).map((e=>(0,mn.jsxs)("div",{className:"flex items-center justify-between text-xs font-mono border-b border-ghost/20 pb-1 last:border-0",children:[(0,mn.jsx)("span",{className:"text-signal",children:e.username}),e.last_login&&(0,mn.jsx)("span",{className:"text-gray-500 text-[10px]",children:new Date(e.last_login).toLocaleDateString()})]},e.id))),0===t.length&&(0,mn.jsx)("div",{className:"text-gray-500 text-xs",children:"NO OPERATORS ONLINE"})]})]})}function Kg(e){let{tasks:t=[]}=e;const n=t.slice(0,8);return(0,mn.jsx)(zg,{title:"Recent Activity",icon:(0,mn.jsx)(km,{size:18}),children:(0,mn.jsxs)("div",{className:"space-y-2 max-h-[180px] overflow-y-auto cyber-scrollbar pr-1",children:[n.map((e=>{var t,n;return(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono border-b border-ghost/10 pb-1.5 last:border-0",children:[(0,mn.jsx)("div",{className:$g("w-1.5 h-1.5 rounded-full flex-shrink-0","completed"===e.status?"bg-green-500":"error"===e.status?"bg-red-500":"processing"===e.status?"bg-blue-500 animate-pulse":"bg-yellow-500 animate-pulse")}),(0,mn.jsx)("span",{className:"text-signal truncate flex-1",children:e.command_name}),(0,mn.jsx)("span",{className:"text-gray-500 text-[10px] flex-shrink-0",children:(null===(t=e.callback)||void 0===t||null===(n=t.host)||void 0===n?void 0:n.substring(0,10))||"\u2014"})]},e.id)})),0===n.length&&(0,mn.jsx)("div",{className:"text-gray-500 text-xs text-center py-4",children:"NO RECENT ACTIVITY"})]})})}const Yg=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,o,i);return i},Qg=e=>e;const Xg=e=>{const t=(e=>e?Yg(e):Yg)(e),n=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qg;const n=a.useSyncExternalStore(e.subscribe,a.useCallback((()=>t(e.getState())),[e,t]),a.useCallback((()=>t(e.getInitialState())),[e,t]));return a.useDebugValue(n),n}(t,e);return Object.assign(n,t),n},Zg=(e=>e?Xg(e):Xg)((e=>({appState:"LOGIN",isLoggingOut:!1,isSidebarCollapsed:!0,alertCount:0,setAppState:t=>e({appState:t}),startLogout:()=>e({isLoggingOut:!0,appState:"LOGOUT_ANIMATION"}),reset:()=>e({appState:"LOGIN",isLoggingOut:!1}),setSidebarCollapsed:t=>e({isSidebarCollapsed:t}),toggleSidebar:()=>e((e=>({isSidebarCollapsed:!e.isSidebarCollapsed}))),setAlertCount:t=>e({alertCount:t})})));function Jg(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function ev(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}const tv=/\r\n|[\n\r]/g;function nv(e,t){let n=0,r=1;for(const o of e.body.matchAll(tv)){if("number"===typeof o.index||ev(!1),o.index>=t)break;n=o.index+o[0].length,r+=1}return{line:r,column:t+1-n}}function rv(e,t){const n=e.locationOffset.column-1,r="".padStart(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,s=t.line+i,a=1===t.line?n:0,l=t.column+a,c="".concat(e.name,":").concat(s,":").concat(l,"\n"),d=r.split(/\r\n|[\n\r]/g),u=d[o];if(u.length>120){const e=Math.floor(l/80),t=l%80,n=[];for(let r=0;r<u.length;r+=80)n.push(u.slice(r,r+80));return c+ov([["".concat(s," |"),n[0]],...n.slice(1,e+1).map((e=>["|",e])),["|","^".padStart(t)],["|",n[e+1]]])}return c+ov([["".concat(s-1," |"),d[o-1]],["".concat(s," |"),u],["|","^".padStart(l)],["".concat(s+1," |"),d[o+1]]])}function ov(e){const t=e.filter((e=>{let[t,n]=e;return void 0!==n})),n=Math.max(...t.map((e=>{let[t]=e;return t.length})));return t.map((e=>{let[t,r]=e;return t.padStart(n)+(r?" "+r:"")})).join("\n")}class iv extends Error{constructor(e){for(var t,n,r,o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];const{nodes:a,source:l,positions:c,path:d,originalError:u,extensions:h}=function(e){const t=e[0];return null==t||"kind"in t||"length"in t?{nodes:t,source:e[1],positions:e[2],path:e[3],originalError:e[4],extensions:e[5]}:t}(i);super(e),this.name="GraphQLError",this.path=null!==d&&void 0!==d?d:void 0,this.originalError=null!==u&&void 0!==u?u:void 0,this.nodes=sv(Array.isArray(a)?a:a?[a]:void 0);const p=sv(null===(t=this.nodes)||void 0===t?void 0:t.map((e=>e.loc)).filter((e=>null!=e)));this.source=null!==l&&void 0!==l?l:null===p||void 0===p||null===(n=p[0])||void 0===n?void 0:n.source,this.positions=null!==c&&void 0!==c?c:null===p||void 0===p?void 0:p.map((e=>e.start)),this.locations=c&&l?c.map((e=>nv(l,e))):null===p||void 0===p?void 0:p.map((e=>nv(e.source,e.start)));const f="object"==typeof(m=null===u||void 0===u?void 0:u.extensions)&&null!==m?null===u||void 0===u?void 0:u.extensions:void 0;var m;this.extensions=null!==(r=null!==h&&void 0!==h?h:f)&&void 0!==r?r:Object.create(null),Object.defineProperties(this,{message:{writable:!0,enumerable:!0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==u&&void 0!==u&&u.stack?Object.defineProperty(this,"stack",{value:u.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,iv):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}get[Symbol.toStringTag](){return"GraphQLError"}toString(){let e=this.message;if(this.nodes)for(const n of this.nodes)n.loc&&(e+="\n\n"+rv((t=n.loc).source,nv(t.source,t.start)));else if(this.source&&this.locations)for(const n of this.locations)e+="\n\n"+rv(this.source,n);var t;return e}toJSON(){const e={message:this.message};return null!=this.locations&&(e.locations=this.locations),null!=this.path&&(e.path=this.path),null!=this.extensions&&Object.keys(this.extensions).length>0&&(e.extensions=this.extensions),e}}function sv(e){return void 0===e||0===e.length?void 0:e}function av(e,t,n){return new iv("Syntax Error: ".concat(n),{source:e,positions:[t]})}var lv,cv;function dv(e){return 9===e||32===e}function uv(e){return e>=48&&e<=57}function hv(e){return e>=97&&e<=122||e>=65&&e<=90}function pv(e){return hv(e)||95===e}function fv(e){return hv(e)||uv(e)||95===e}function mv(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let s=0;s<e.length;++s){var i;const t=e[s],a=gv(t);a!==t.length&&(r=null!==(i=r)&&void 0!==i?i:s,o=s,0!==s&&a<n&&(n=a))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,o+1)}function gv(e){let t=0;for(;t<e.length&&dv(e.charCodeAt(t));)++t;return t}!function(e){e.QUERY="QUERY",e.MUTATION="MUTATION",e.SUBSCRIPTION="SUBSCRIPTION",e.FIELD="FIELD",e.FRAGMENT_DEFINITION="FRAGMENT_DEFINITION",e.FRAGMENT_SPREAD="FRAGMENT_SPREAD",e.INLINE_FRAGMENT="INLINE_FRAGMENT",e.VARIABLE_DEFINITION="VARIABLE_DEFINITION",e.SCHEMA="SCHEMA",e.SCALAR="SCALAR",e.OBJECT="OBJECT",e.FIELD_DEFINITION="FIELD_DEFINITION",e.ARGUMENT_DEFINITION="ARGUMENT_DEFINITION",e.INTERFACE="INTERFACE",e.UNION="UNION",e.ENUM="ENUM",e.ENUM_VALUE="ENUM_VALUE",e.INPUT_OBJECT="INPUT_OBJECT",e.INPUT_FIELD_DEFINITION="INPUT_FIELD_DEFINITION"}(lv||(lv={})),function(e){e.SOF="<SOF>",e.EOF="<EOF>",e.BANG="!",e.DOLLAR="$",e.AMP="&",e.PAREN_L="(",e.PAREN_R=")",e.SPREAD="...",e.COLON=":",e.EQUALS="=",e.AT="@",e.BRACKET_L="[",e.BRACKET_R="]",e.BRACE_L="{",e.PIPE="|",e.BRACE_R="}",e.NAME="Name",e.INT="Int",e.FLOAT="Float",e.STRING="String",e.BLOCK_STRING="BlockString",e.COMMENT="Comment"}(cv||(cv={}));class vv{constructor(e){const t=new oh(cv.SOF,0,0,0,0);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}get[Symbol.toStringTag](){return"Lexer"}advance(){this.lastToken=this.token;return this.token=this.lookahead()}lookahead(){let e=this.token;if(e.kind!==cv.EOF)do{if(e.next)e=e.next;else{const t=_v(this,e.end);e.next=t,t.prev=e,e=t}}while(e.kind===cv.COMMENT);return e}}function yv(e){return e>=0&&e<=55295||e>=57344&&e<=1114111}function xv(e,t){return bv(e.charCodeAt(t))&&wv(e.charCodeAt(t+1))}function bv(e){return e>=55296&&e<=56319}function wv(e){return e>=56320&&e<=57343}function kv(e,t){const n=e.source.body.codePointAt(t);if(void 0===n)return cv.EOF;if(n>=32&&n<=126){const e=String.fromCodePoint(n);return'"'===e?"'\"'":'"'.concat(e,'"')}return"U+"+n.toString(16).toUpperCase().padStart(4,"0")}function Nv(e,t,n,r,o){const i=e.line,s=1+n-e.lineStart;return new oh(t,n,r,i,s,o)}function _v(e,t){const n=e.source.body,r=n.length;let o=t;for(;o<r;){const t=n.charCodeAt(o);switch(t){case 65279:case 9:case 32:case 44:++o;continue;case 10:++o,++e.line,e.lineStart=o;continue;case 13:10===n.charCodeAt(o+1)?o+=2:++o,++e.line,e.lineStart=o;continue;case 35:return Sv(e,o);case 33:return Nv(e,cv.BANG,o,o+1);case 36:return Nv(e,cv.DOLLAR,o,o+1);case 38:return Nv(e,cv.AMP,o,o+1);case 40:return Nv(e,cv.PAREN_L,o,o+1);case 41:return Nv(e,cv.PAREN_R,o,o+1);case 46:if(46===n.charCodeAt(o+1)&&46===n.charCodeAt(o+2))return Nv(e,cv.SPREAD,o,o+3);break;case 58:return Nv(e,cv.COLON,o,o+1);case 61:return Nv(e,cv.EQUALS,o,o+1);case 64:return Nv(e,cv.AT,o,o+1);case 91:return Nv(e,cv.BRACKET_L,o,o+1);case 93:return Nv(e,cv.BRACKET_R,o,o+1);case 123:return Nv(e,cv.BRACE_L,o,o+1);case 124:return Nv(e,cv.PIPE,o,o+1);case 125:return Nv(e,cv.BRACE_R,o,o+1);case 34:return 34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)?Iv(e,o):Ev(e,o)}if(uv(t)||45===t)return Cv(e,o,t);if(pv(t))return Lv(e,o);throw av(e.source,o,39===t?"Unexpected single quote character ('), did you mean to use a double quote (\")?":yv(t)||xv(n,o)?"Unexpected character: ".concat(kv(e,o),"."):"Invalid character: ".concat(kv(e,o),"."))}return Nv(e,cv.EOF,r,r)}function Sv(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){const e=n.charCodeAt(o);if(10===e||13===e)break;if(yv(e))++o;else{if(!xv(n,o))break;o+=2}}return Nv(e,cv.COMMENT,t,o,n.slice(t+1,o))}function Cv(e,t,n){const r=e.source.body;let o=t,i=n,s=!1;if(45===i&&(i=r.charCodeAt(++o)),48===i){if(i=r.charCodeAt(++o),uv(i))throw av(e.source,o,"Invalid number, unexpected digit after 0: ".concat(kv(e,o),"."))}else o=jv(e,o,i),i=r.charCodeAt(o);if(46===i&&(s=!0,i=r.charCodeAt(++o),o=jv(e,o,i),i=r.charCodeAt(o)),69!==i&&101!==i||(s=!0,i=r.charCodeAt(++o),43!==i&&45!==i||(i=r.charCodeAt(++o)),o=jv(e,o,i),i=r.charCodeAt(o)),46===i||pv(i))throw av(e.source,o,"Invalid number, expected digit but got: ".concat(kv(e,o),"."));return Nv(e,s?cv.FLOAT:cv.INT,t,o,r.slice(t,o))}function jv(e,t,n){if(!uv(n))throw av(e.source,t,"Invalid number, expected digit but got: ".concat(kv(e,t),"."));const r=e.source.body;let o=t+1;for(;uv(r.charCodeAt(o));)++o;return o}function Ev(e,t){const n=e.source.body,r=n.length;let o=t+1,i=o,s="";for(;o<r;){const r=n.charCodeAt(o);if(34===r)return s+=n.slice(i,o),Nv(e,cv.STRING,t,o+1,s);if(92!==r){if(10===r||13===r)break;if(yv(r))++o;else{if(!xv(n,o))throw av(e.source,o,"Invalid character within String: ".concat(kv(e,o),"."));o+=2}}else{s+=n.slice(i,o);const t=117===n.charCodeAt(o+1)?123===n.charCodeAt(o+2)?Tv(e,o):Av(e,o):Ov(e,o);s+=t.value,o+=t.size,i=o}}throw av(e.source,o,"Unterminated string.")}function Tv(e,t){const n=e.source.body;let r=0,o=3;for(;o<12;){const e=n.charCodeAt(t+o++);if(125===e){if(o<5||!yv(r))break;return{value:String.fromCodePoint(r),size:o}}if(r=r<<4|Rv(e),r<0)break}throw av(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+o),'".'))}function Av(e,t){const n=e.source.body,r=Mv(n,t+2);if(yv(r))return{value:String.fromCodePoint(r),size:6};if(bv(r)&&92===n.charCodeAt(t+6)&&117===n.charCodeAt(t+7)){const e=Mv(n,t+8);if(wv(e))return{value:String.fromCodePoint(r,e),size:12}}throw av(e.source,t,'Invalid Unicode escape sequence: "'.concat(n.slice(t,t+6),'".'))}function Mv(e,t){return Rv(e.charCodeAt(t))<<12|Rv(e.charCodeAt(t+1))<<8|Rv(e.charCodeAt(t+2))<<4|Rv(e.charCodeAt(t+3))}function Rv(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Ov(e,t){const n=e.source.body;switch(n.charCodeAt(t+1)){case 34:return{value:'"',size:2};case 92:return{value:"\\",size:2};case 47:return{value:"/",size:2};case 98:return{value:"\b",size:2};case 102:return{value:"\f",size:2};case 110:return{value:"\n",size:2};case 114:return{value:"\r",size:2};case 116:return{value:"\t",size:2}}throw av(e.source,t,'Invalid character escape sequence: "'.concat(n.slice(t,t+2),'".'))}function Iv(e,t){const n=e.source.body,r=n.length;let o=e.lineStart,i=t+3,s=i,a="";const l=[];for(;i<r;){const r=n.charCodeAt(i);if(34===r&&34===n.charCodeAt(i+1)&&34===n.charCodeAt(i+2)){a+=n.slice(s,i),l.push(a);const r=Nv(e,cv.BLOCK_STRING,t,i+3,mv(l).join("\n"));return e.line+=l.length-1,e.lineStart=o,r}if(92!==r||34!==n.charCodeAt(i+1)||34!==n.charCodeAt(i+2)||34!==n.charCodeAt(i+3))if(10!==r&&13!==r)if(yv(r))++i;else{if(!xv(n,i))throw av(e.source,i,"Invalid character within String: ".concat(kv(e,i),"."));i+=2}else a+=n.slice(s,i),l.push(a),13===r&&10===n.charCodeAt(i+1)?i+=2:++i,a="",s=i,o=i;else a+=n.slice(s,i),s=i+1,i+=4}throw av(e.source,i,"Unterminated string.")}function Lv(e,t){const n=e.source.body,r=n.length;let o=t+1;for(;o<r;){if(!fv(n.charCodeAt(o)))break;++o}return Nv(e,cv.NAME,t,o,n.slice(t,o))}const Dv=globalThis.process&&!0?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;if("object"===typeof e&&null!==e){var n;const r=t.prototype[Symbol.toStringTag];if(r===(Symbol.toStringTag in e?e[Symbol.toStringTag]:null===(n=e.constructor)||void 0===n?void 0:n.name)){const t=th(e);throw new Error("Cannot use ".concat(r,' "').concat(t,'" from another module or realm.\n\nEnsure that there is only one instance of "graphql" in the node_modules\ndirectory. If different versions of "graphql" are the dependencies of other\nrelied on modules, use "resolutions" to ensure only one version is installed.\n\nhttps://yarnpkg.com/en/docs/selective-version-resolutions\n\nDuplicate "graphql" modules cannot be used at the same time since different\nversions may have different capabilities and behavior. The data from one\nversion used in the function from another could produce confusing and\nspurious results.'))}}return!1};class Pv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"===typeof e||eh(!1,"Body must be a string. Received: ".concat(th(e),".")),this.body=e,this.name=t,this.locationOffset=n,this.locationOffset.line>0||eh(!1,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||eh(!1,"column in locationOffset is 1-indexed and must be positive.")}get[Symbol.toStringTag](){return"Source"}}class $v{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=function(e){return Dv(e,Pv)}(e)?e:new Pv(e);this._lexer=new vv(n),this._options=t,this._tokenCounter=0}get tokenCount(){return this._tokenCounter}parseName(){const e=this.expectToken(cv.NAME);return this.node(e,{kind:ch.NAME,value:e.value})}parseDocument(){return this.node(this._lexer.token,{kind:ch.DOCUMENT,definitions:this.many(cv.SOF,this.parseDefinition,cv.EOF)})}parseDefinition(){if(this.peek(cv.BRACE_L))return this.parseOperationDefinition();const e=this.peekDescription(),t=e?this._lexer.lookahead():this._lexer.token;if(t.kind===cv.NAME){switch(t.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}if(e)throw av(this._lexer.source,this._lexer.token.start,"Unexpected description, descriptions are supported only on type definitions.");switch(t.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"extend":return this.parseTypeSystemExtension()}}throw this.unexpected(t)}parseOperationDefinition(){const e=this._lexer.token;if(this.peek(cv.BRACE_L))return this.node(e,{kind:ch.OPERATION_DEFINITION,operation:lh.QUERY,name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet()});const t=this.parseOperationType();let n;return this.peek(cv.NAME)&&(n=this.parseName()),this.node(e,{kind:ch.OPERATION_DEFINITION,operation:t,name:n,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseOperationType(){const e=this.expectToken(cv.NAME);switch(e.value){case"query":return lh.QUERY;case"mutation":return lh.MUTATION;case"subscription":return lh.SUBSCRIPTION}throw this.unexpected(e)}parseVariableDefinitions(){return this.optionalMany(cv.PAREN_L,this.parseVariableDefinition,cv.PAREN_R)}parseVariableDefinition(){return this.node(this._lexer.token,{kind:ch.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(cv.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(cv.EQUALS)?this.parseConstValueLiteral():void 0,directives:this.parseConstDirectives()})}parseVariable(){const e=this._lexer.token;return this.expectToken(cv.DOLLAR),this.node(e,{kind:ch.VARIABLE,name:this.parseName()})}parseSelectionSet(){return this.node(this._lexer.token,{kind:ch.SELECTION_SET,selections:this.many(cv.BRACE_L,this.parseSelection,cv.BRACE_R)})}parseSelection(){return this.peek(cv.SPREAD)?this.parseFragment():this.parseField()}parseField(){const e=this._lexer.token,t=this.parseName();let n,r;return this.expectOptionalToken(cv.COLON)?(n=t,r=this.parseName()):r=t,this.node(e,{kind:ch.FIELD,alias:n,name:r,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(cv.BRACE_L)?this.parseSelectionSet():void 0})}parseArguments(e){const t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(cv.PAREN_L,t,cv.PAREN_R)}parseArgument(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._lexer.token,n=this.parseName();return this.expectToken(cv.COLON),this.node(t,{kind:ch.ARGUMENT,name:n,value:this.parseValueLiteral(e)})}parseConstArgument(){return this.parseArgument(!0)}parseFragment(){const e=this._lexer.token;this.expectToken(cv.SPREAD);const t=this.expectOptionalKeyword("on");return!t&&this.peek(cv.NAME)?this.node(e,{kind:ch.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1)}):this.node(e,{kind:ch.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentDefinition(){const e=this._lexer.token;return this.expectKeyword("fragment"),!0===this._options.allowLegacyFragmentVariables?this.node(e,{kind:ch.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()}):this.node(e,{kind:ch.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet()})}parseFragmentName(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()}parseValueLiteral(e){const t=this._lexer.token;switch(t.kind){case cv.BRACKET_L:return this.parseList(e);case cv.BRACE_L:return this.parseObject(e);case cv.INT:return this.advanceLexer(),this.node(t,{kind:ch.INT,value:t.value});case cv.FLOAT:return this.advanceLexer(),this.node(t,{kind:ch.FLOAT,value:t.value});case cv.STRING:case cv.BLOCK_STRING:return this.parseStringLiteral();case cv.NAME:switch(this.advanceLexer(),t.value){case"true":return this.node(t,{kind:ch.BOOLEAN,value:!0});case"false":return this.node(t,{kind:ch.BOOLEAN,value:!1});case"null":return this.node(t,{kind:ch.NULL});default:return this.node(t,{kind:ch.ENUM,value:t.value})}case cv.DOLLAR:if(e){if(this.expectToken(cv.DOLLAR),this._lexer.token.kind===cv.NAME){const e=this._lexer.token.value;throw av(this._lexer.source,t.start,'Unexpected variable "$'.concat(e,'" in constant value.'))}throw this.unexpected(t)}return this.parseVariable();default:throw this.unexpected()}}parseConstValueLiteral(){return this.parseValueLiteral(!0)}parseStringLiteral(){const e=this._lexer.token;return this.advanceLexer(),this.node(e,{kind:ch.STRING,value:e.value,block:e.kind===cv.BLOCK_STRING})}parseList(e){return this.node(this._lexer.token,{kind:ch.LIST,values:this.any(cv.BRACKET_L,(()=>this.parseValueLiteral(e)),cv.BRACKET_R)})}parseObject(e){return this.node(this._lexer.token,{kind:ch.OBJECT,fields:this.any(cv.BRACE_L,(()=>this.parseObjectField(e)),cv.BRACE_R)})}parseObjectField(e){const t=this._lexer.token,n=this.parseName();return this.expectToken(cv.COLON),this.node(t,{kind:ch.OBJECT_FIELD,name:n,value:this.parseValueLiteral(e)})}parseDirectives(e){const t=[];for(;this.peek(cv.AT);)t.push(this.parseDirective(e));return t}parseConstDirectives(){return this.parseDirectives(!0)}parseDirective(e){const t=this._lexer.token;return this.expectToken(cv.AT),this.node(t,{kind:ch.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e)})}parseTypeReference(){const e=this._lexer.token;let t;if(this.expectOptionalToken(cv.BRACKET_L)){const n=this.parseTypeReference();this.expectToken(cv.BRACKET_R),t=this.node(e,{kind:ch.LIST_TYPE,type:n})}else t=this.parseNamedType();return this.expectOptionalToken(cv.BANG)?this.node(e,{kind:ch.NON_NULL_TYPE,type:t}):t}parseNamedType(){return this.node(this._lexer.token,{kind:ch.NAMED_TYPE,name:this.parseName()})}peekDescription(){return this.peek(cv.STRING)||this.peek(cv.BLOCK_STRING)}parseDescription(){if(this.peekDescription())return this.parseStringLiteral()}parseSchemaDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");const n=this.parseConstDirectives(),r=this.many(cv.BRACE_L,this.parseOperationTypeDefinition,cv.BRACE_R);return this.node(e,{kind:ch.SCHEMA_DEFINITION,description:t,directives:n,operationTypes:r})}parseOperationTypeDefinition(){const e=this._lexer.token,t=this.parseOperationType();this.expectToken(cv.COLON);const n=this.parseNamedType();return this.node(e,{kind:ch.OPERATION_TYPE_DEFINITION,operation:t,type:n})}parseScalarTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");const n=this.parseName(),r=this.parseConstDirectives();return this.node(e,{kind:ch.SCALAR_TYPE_DEFINITION,description:t,name:n,directives:r})}parseObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:ch.OBJECT_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseImplementsInterfaces(){return this.expectOptionalKeyword("implements")?this.delimitedMany(cv.AMP,this.parseNamedType):[]}parseFieldsDefinition(){return this.optionalMany(cv.BRACE_L,this.parseFieldDefinition,cv.BRACE_R)}parseFieldDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName(),r=this.parseArgumentDefs();this.expectToken(cv.COLON);const o=this.parseTypeReference(),i=this.parseConstDirectives();return this.node(e,{kind:ch.FIELD_DEFINITION,description:t,name:n,arguments:r,type:o,directives:i})}parseArgumentDefs(){return this.optionalMany(cv.PAREN_L,this.parseInputValueDef,cv.PAREN_R)}parseInputValueDef(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseName();this.expectToken(cv.COLON);const r=this.parseTypeReference();let o;this.expectOptionalToken(cv.EQUALS)&&(o=this.parseConstValueLiteral());const i=this.parseConstDirectives();return this.node(e,{kind:ch.INPUT_VALUE_DEFINITION,description:t,name:n,type:r,defaultValue:o,directives:i})}parseInterfaceTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");const n=this.parseName(),r=this.parseImplementsInterfaces(),o=this.parseConstDirectives(),i=this.parseFieldsDefinition();return this.node(e,{kind:ch.INTERFACE_TYPE_DEFINITION,description:t,name:n,interfaces:r,directives:o,fields:i})}parseUnionTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseUnionMemberTypes();return this.node(e,{kind:ch.UNION_TYPE_DEFINITION,description:t,name:n,directives:r,types:o})}parseUnionMemberTypes(){return this.expectOptionalToken(cv.EQUALS)?this.delimitedMany(cv.PIPE,this.parseNamedType):[]}parseEnumTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseEnumValuesDefinition();return this.node(e,{kind:ch.ENUM_TYPE_DEFINITION,description:t,name:n,directives:r,values:o})}parseEnumValuesDefinition(){return this.optionalMany(cv.BRACE_L,this.parseEnumValueDefinition,cv.BRACE_R)}parseEnumValueDefinition(){const e=this._lexer.token,t=this.parseDescription(),n=this.parseEnumValueName(),r=this.parseConstDirectives();return this.node(e,{kind:ch.ENUM_VALUE_DEFINITION,description:t,name:n,directives:r})}parseEnumValueName(){if("true"===this._lexer.token.value||"false"===this._lexer.token.value||"null"===this._lexer.token.value)throw av(this._lexer.source,this._lexer.token.start,"".concat(zv(this._lexer.token)," is reserved and cannot be used for an enum value."));return this.parseName()}parseInputObjectTypeDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");const n=this.parseName(),r=this.parseConstDirectives(),o=this.parseInputFieldsDefinition();return this.node(e,{kind:ch.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:n,directives:r,fields:o})}parseInputFieldsDefinition(){return this.optionalMany(cv.BRACE_L,this.parseInputValueDef,cv.BRACE_R)}parseTypeSystemExtension(){const e=this._lexer.lookahead();if(e.kind===cv.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)}parseSchemaExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");const t=this.parseConstDirectives(),n=this.optionalMany(cv.BRACE_L,this.parseOperationTypeDefinition,cv.BRACE_R);if(0===t.length&&0===n.length)throw this.unexpected();return this.node(e,{kind:ch.SCHEMA_EXTENSION,directives:t,operationTypes:n})}parseScalarTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");const t=this.parseName(),n=this.parseConstDirectives();if(0===n.length)throw this.unexpected();return this.node(e,{kind:ch.SCALAR_TYPE_EXTENSION,name:t,directives:n})}parseObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:ch.OBJECT_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseInterfaceTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");const t=this.parseName(),n=this.parseImplementsInterfaces(),r=this.parseConstDirectives(),o=this.parseFieldsDefinition();if(0===n.length&&0===r.length&&0===o.length)throw this.unexpected();return this.node(e,{kind:ch.INTERFACE_TYPE_EXTENSION,name:t,interfaces:n,directives:r,fields:o})}parseUnionTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseUnionMemberTypes();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ch.UNION_TYPE_EXTENSION,name:t,directives:n,types:r})}parseEnumTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseEnumValuesDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ch.ENUM_TYPE_EXTENSION,name:t,directives:n,values:r})}parseInputObjectTypeExtension(){const e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");const t=this.parseName(),n=this.parseConstDirectives(),r=this.parseInputFieldsDefinition();if(0===n.length&&0===r.length)throw this.unexpected();return this.node(e,{kind:ch.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:n,fields:r})}parseDirectiveDefinition(){const e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(cv.AT);const n=this.parseName(),r=this.parseArgumentDefs(),o=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");const i=this.parseDirectiveLocations();return this.node(e,{kind:ch.DIRECTIVE_DEFINITION,description:t,name:n,arguments:r,repeatable:o,locations:i})}parseDirectiveLocations(){return this.delimitedMany(cv.PIPE,this.parseDirectiveLocation)}parseDirectiveLocation(){const e=this._lexer.token,t=this.parseName();if(Object.prototype.hasOwnProperty.call(lv,t.value))return t;throw this.unexpected(e)}node(e,t){return!0!==this._options.noLocation&&(t.loc=new rh(e,this._lexer.lastToken,this._lexer.source)),t}peek(e){return this._lexer.token.kind===e}expectToken(e){const t=this._lexer.token;if(t.kind===e)return this.advanceLexer(),t;throw av(this._lexer.source,t.start,"Expected ".concat(Fv(e),", found ").concat(zv(t),"."))}expectOptionalToken(e){return this._lexer.token.kind===e&&(this.advanceLexer(),!0)}expectKeyword(e){const t=this._lexer.token;if(t.kind!==cv.NAME||t.value!==e)throw av(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(zv(t),"."));this.advanceLexer()}expectOptionalKeyword(e){const t=this._lexer.token;return t.kind===cv.NAME&&t.value===e&&(this.advanceLexer(),!0)}unexpected(e){const t=null!==e&&void 0!==e?e:this._lexer.token;return av(this._lexer.source,t.start,"Unexpected ".concat(zv(t),"."))}any(e,t,n){this.expectToken(e);const r=[];for(;!this.expectOptionalToken(n);)r.push(t.call(this));return r}optionalMany(e,t,n){if(this.expectOptionalToken(e)){const e=[];do{e.push(t.call(this))}while(!this.expectOptionalToken(n));return e}return[]}many(e,t,n){this.expectToken(e);const r=[];do{r.push(t.call(this))}while(!this.expectOptionalToken(n));return r}delimitedMany(e,t){this.expectOptionalToken(e);const n=[];do{n.push(t.call(this))}while(this.expectOptionalToken(e));return n}advanceLexer(){const{maxTokens:e}=this._options,t=this._lexer.advance();if(t.kind!==cv.EOF&&(++this._tokenCounter,void 0!==e&&this._tokenCounter>e))throw av(this._lexer.source,t.start,"Document contains more that ".concat(e," tokens. Parsing aborted."))}}function zv(e){const t=e.value;return Fv(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function Fv(e){return function(e){return e===cv.BANG||e===cv.DOLLAR||e===cv.AMP||e===cv.PAREN_L||e===cv.PAREN_R||e===cv.SPREAD||e===cv.COLON||e===cv.EQUALS||e===cv.AT||e===cv.BRACKET_L||e===cv.BRACKET_R||e===cv.BRACE_L||e===cv.PIPE||e===cv.BRACE_R}(e)?'"'.concat(e,'"'):e}var Bv=new Map,Vv=new Map,Wv=!0,Hv=!1;function Uv(e){return e.replace(/[\s,]+/g," ").trim()}function Gv(e){var t=new Set,n=[];return e.definitions.forEach((function(e){if("FragmentDefinition"===e.kind){var r=e.name.value,o=Uv((s=e.loc).source.body.substring(s.start,s.end)),i=Vv.get(r);i&&!i.has(o)?Wv&&console.warn("Warning: fragment with name "+r+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"):i||Vv.set(r,i=new Set),i.add(o),t.has(o)||(t.add(o),n.push(e))}else n.push(e);var s})),Kd(Kd({},e),{definitions:n})}function qv(e){var t=Uv(e);if(!Bv.has(t)){var n=function(e,t){const n=new $v(e,t),r=n.parseDocument();return Object.defineProperty(r,"tokenCount",{enumerable:!1,value:n.tokenCount}),r}(e,{experimentalFragmentVariables:Hv,allowLegacyFragmentVariables:Hv});if(!n||"Document"!==n.kind)throw new Error("Not a valid GraphQL document.");Bv.set(t,function(e){var t=new Set(e.definitions);t.forEach((function(e){e.loc&&delete e.loc,Object.keys(e).forEach((function(n){var r=e[n];r&&"object"===typeof r&&t.add(r)}))}));var n=e.loc;return n&&(delete n.startToken,delete n.endToken),e}(Gv(n)))}return Bv.get(t)}function Kv(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];"string"===typeof e&&(e=[e]);var r=e[0];return t.forEach((function(t,n){t&&"Document"===t.kind?r+=t.loc.source.body:r+=t,r+=e[n+1]})),qv(r)}var Yv,Qv=Kv,Xv=function(){Bv.clear(),Vv.clear()},Zv=function(){Wv=!1},Jv=function(){Hv=!0},ey=function(){Hv=!1};(Yv=Kv||(Kv={})).gql=Qv,Yv.resetCaches=Xv,Yv.disableFragmentWarnings=Zv,Yv.enableExperimentalFragmentVariables=Jv,Yv.disableExperimentalFragmentVariables=ey,Kv.default=Kv;var ty,ny,ry,oy,iy,sy,ay,ly,cy,dy,uy,hy,py,fy,my,gy,vy,yy,xy,by,wy,ky,Ny,_y,Sy,Cy,jy,Ey,Ty,Ay,My,Ry,Oy,Iy,Ly,Dy,Py,$y,zy,Fy,By,Vy,Wy,Hy,Uy,Gy,qy,Ky;const Yy=Kv(ty||(ty=Jg(["\nquery GetMinervaDashboard($operator_id: Int!) {\n  # 1. Active Callbacks\n  callback(order_by: {id: asc}, where: {active: {_eq: true}}) {\n    id\n    display_id\n    user\n    host\n    ip\n    integrity_level\n    last_checkin\n    description\n    payload {\n        payloadtype {\n            name\n        }\n    }\n  }\n\n  # All Callbacks (for total count)\n  all_callbacks: callback {\n    id\n  }\n  \n  # 2. Recent Payloads\n  payload(order_by: {id: desc}, limit: 5, where: {deleted: {_eq: false}, auto_generated: {_eq: false}}) {\n    id\n    uuid\n    build_phase\n    filemetum {\n      filename_text\n    }\n    payloadtype {\n      name\n    }\n    creation_time\n  }\n\n  # Payload Count (supported aggregate)\n  payload_aggregate(where: {deleted: {_eq: false}, auto_generated: {_eq: false}}) {\n    aggregate {\n      count\n    }\n  }\n\n  # 3. Operations Status\n  operation(where: {complete: {_eq: false}, deleted: {_eq: false}}) {\n    id\n    name\n    complete\n    operatoroperations {\n      operator {\n        username\n      }\n    }\n  }\n\n  # All Operations (for count)\n  all_operations: operation(where: {deleted: {_eq: false}}) {\n    id\n  }\n\n  # 4. Recent Tasks / Command Stats\n  task(limit: 100, order_by: {id: desc}) {\n    id\n    command_name\n    status\n    timestamp\n    completed\n    opsec_pre_blocked\n    opsec_pre_bypassed\n    opsec_post_blocked\n    opsec_post_bypassed\n    operator {\n        username\n    }\n    callback {\n      display_id\n      host\n    }\n  }\n  \n  # 5. Current Operator Info\n  operator(where: {id: {_eq: $operator_id}}){\n    username\n    admin\n  }\n\n  # All Operators\n  operators: operator(where: {deleted: {_eq: false}, active: {_eq: true}}) {\n    id\n    username\n    last_login\n  }\n\n  # 6. C2 Profiles Status\n  c2profile(where: {deleted: {_eq: false}}, order_by: {name: asc}) {\n    id\n    name\n    running\n    container_running\n    is_p2p\n    description\n    author\n    semver\n  }\n\n  # 7. Credentials count\n  credential_aggregate {\n    aggregate {\n      count\n    }\n  }\n\n  # 8. Keylogs count\n  keylog_aggregate {\n    aggregate {\n      count\n    }\n  }\n\n  # 9. Downloaded files (supported aggregate)\n  filemeta_aggregate(where: {is_download_from_agent: {_eq: true}, deleted: {_eq: false}}) {\n    aggregate {\n      count\n    }\n  }\n\n  # 10. Uploaded files  \n  uploaded_files: filemeta_aggregate(where: {is_screenshot: {_eq: false}, is_download_from_agent: {_eq: false}, deleted: {_eq: false}, is_payload: {_eq: false}}) {\n    aggregate {\n      count\n    }\n  }\n\n  # 11. Screenshots\n  screenshot_aggregate: filemeta_aggregate(where: {is_screenshot: {_eq: true}, deleted: {_eq: false}}) {\n    aggregate {\n      count\n    }\n  }\n}\n"]))),Qy=Kv(ny||(ny=Jg(["\nquery GetCallbacks($limit: Int = 50, $offset: Int = 0) {\n  callback(order_by: {id: desc}, limit: $limit, offset: $offset) {\n    id\n    display_id\n    user\n    host\n    pid\n    ip\n    domain\n    os\n    architecture\n    integrity_level\n    last_checkin\n    init_callback\n    description\n    sleep_info\n    locked\n    active\n    payload {\n      payloadtype {\n        name\n      }\n    }\n    callbackc2profiles {\n      c2profile {\n        name\n        is_p2p\n      }\n    }\n  }\n}\n"]))),Xy=Kv(ry||(ry=Jg(["\nquery GetCallbackDetails($display_id: Int!) {\n  callback(where: {display_id: {_eq: $display_id}}) {\n    id\n    display_id\n    agent_callback_id\n    user\n    host\n    pid\n    ip\n    domain\n    os\n    architecture\n    integrity_level\n    last_checkin\n    description\n    sleep_info\n    process_name\n    payload {\n      id\n      uuid\n      payloadtype {\n        name\n      }\n    }\n  }\n}\n"]))),Zy=Kv(oy||(oy=Jg(["\nquery GetCallbackGraphEdges {\n  callbackgraphedge(order_by: {id: desc, end_timestamp: desc_nulls_first}) {\n    id\n    end_timestamp\n    destination {\n      id\n      display_id\n      user\n      host\n      ip\n      description\n      payload {\n        payloadtype {\n          name\n        }\n      }\n    }\n    source {\n      id\n      display_id\n      user\n      host\n      ip\n      description\n      payload {\n        payloadtype {\n          name\n        }\n      }\n    }\n    c2profile {\n      id\n      name\n      is_p2p\n    }\n  }\n}\n"]))),Jy=Kv(iy||(iy=Jg(["\nmutation hideCallback ($callback_display_id: Int!, $active: Boolean){\n  updateCallback(input: {callback_display_id: $callback_display_id, active: $active}) {\n    status\n    error\n  }\n}\n"]))),ex=Kv(sy||(sy=Jg(["\nmutation lockCallack($callback_display_id: Int!, $locked: Boolean!){\n  updateCallback(input: {callback_display_id: $callback_display_id, locked: $locked}) {\n    status\n    error\n  }\n}\n"]))),tx=Kv(ay||(ay=Jg(["\nmutation updateDescriptionCallback($callback_display_id: Int!, $description: String!){\n  updateCallback(input: {callback_display_id: $callback_display_id, description: $description}) {\n    status\n    error\n  }\n}\n"]))),nx=Kv(ly||(ly=Jg(["\nmutation addEdgeMutation($source_id: Int!, $destination_id: Int!, $c2profile: String!){\n  callbackgraphedge_add(c2profile: $c2profile, destination_id: $destination_id, source_id: $source_id) {\n    status\n    error\n  }\n}\n"]))),rx=Kv(cy||(cy=Jg(["\nmutation removeEdgeMutation($edge_id: Int!){\n  callbackgraphedge_remove(edge_id: $edge_id) {\n    status\n    error\n  }\n}\n"]))),ox=Kv(dy||(dy=Jg(['\nquery GetCustomGraphNodes {\n  agentstorage(\n    where: { unique_id: { _like: "minerva_customnode_%" } }\n    order_by: { id: asc }\n  ) {\n    id\n    unique_id\n    data\n  }\n}\n']))),ix=Kv(uy||(uy=Jg(["\nmutation CreateCustomGraphNode(\n  $unique_id: String!\n  $data: bytea!\n) {\n  insert_agentstorage_one(\n    object: {\n      unique_id: $unique_id\n      data: $data\n    }\n  ) {\n    id\n    unique_id\n  }\n}\n"]))),sx=Kv(hy||(hy=Jg(["\nmutation UpdateCustomGraphNode(\n  $unique_id: String!\n  $data: bytea!\n) {\n  update_agentstorage(\n    where: { unique_id: { _eq: $unique_id } }\n    _set: { data: $data }\n  ) {\n    affected_rows\n    returning {\n      id\n      unique_id\n      data\n    }\n  }\n}\n"]))),ax=Kv(py||(py=Jg(["\nmutation DeleteCustomGraphNode($unique_id: String!) {\n  delete_agentstorage(\n    where: { unique_id: { _eq: $unique_id } }\n  ) {\n    affected_rows\n  }\n}\n"]))),lx=Kv(fy||(fy=Jg(['\nquery GetCustomGraphEdges {\n  agentstorage(where: { unique_id: { _like: "minerva_graphedge_%" } }) {\n    id\n    unique_id\n    data\n  }\n}\n']))),cx=Kv(my||(my=Jg(["\nmutation CreateCustomGraphEdge(\n  $unique_id: String!\n  $data: bytea!\n) {\n  insert_agentstorage_one(\n    object: {\n      unique_id: $unique_id\n      data: $data\n    }\n  ) {\n    id\n    unique_id\n  }\n}\n"]))),dx=Kv(gy||(gy=Jg(["\nmutation DeleteCustomGraphEdge($unique_id: String!) {\n  delete_agentstorage(\n    where: { unique_id: { _eq: $unique_id } }\n  ) {\n    affected_rows\n  }\n}\n"]))),ux=Kv(vy||(vy=Jg(["\nquery getP2PProfilesAndCallbacks{\n  c2profile(where: {is_p2p: {_eq: true}, deleted: {_eq: false}}) {\n    callbackc2profiles(where: {callback: {active: {_eq: true}}}) {\n      id\n      callback {\n        id\n        display_id\n        description\n        host\n        user\n      }\n    }\n    name\n    id\n  }\n}\n"]))),hx=Kv(yy||(yy=Jg(["\n  fragment taskData on task {\n    id\n    display_id\n    command_name\n    display_params\n    status\n    timestamp\n    completed\n    operator {\n      username\n    }\n    responses(order_by: {id: asc}) {\n      id\n      response: response_text\n      timestamp\n    }\n  }\n"]))),px=Kv(xy||(xy=Jg(["\n  ","\n  query GetCallbackTasks($callback_display_id: Int!) {\n    task(where: {callback: {display_id: {_eq: $callback_display_id}}, parent_task_id: {_is_null: true}}, order_by: {id: asc}) {\n      ...taskData\n    }\n  }\n"])),hx),fx=Kv(by||(by=Jg(["\n  mutation CreateTask($callback_id: Int!, $command: String!, $params: String!) {\n    createTask(callback_id: $callback_id, command: $command, params: $params) {\n      status\n      error\n      id\n    }\n  }\n"]))),mx=Kv(wy||(wy=Jg(["\n  query GetOpsecQueue {\n    task(\n      where: {\n        _or: [\n          { opsec_pre_blocked: { _eq: true }, opsec_pre_bypassed: { _neq: true } }\n          { opsec_post_blocked: { _eq: true }, opsec_post_bypassed: { _neq: true } }\n        ]\n      }\n      order_by: { id: desc }\n      limit: 100\n    ) {\n      id\n      display_id\n      command_name\n      display_params\n      status\n      timestamp\n      opsec_pre_blocked\n      opsec_pre_bypassed\n      opsec_pre_message\n      opsec_post_blocked\n      opsec_post_bypassed\n      opsec_post_message\n      operator { username }\n      callback { display_id host user }\n    }\n  }\n"]))),gx=Kv(ky||(ky=Jg(["\n  mutation RequestOpsecBypass($task_id: Int!) {\n    requestOpsecBypass(task_id: $task_id) {\n      status\n      error\n    }\n  }\n"]))),vx=Kv(Ny||(Ny=Jg(["\nquery GetC2Profiles {\n  c2profile(where: {deleted: {_eq: false}}, order_by: {name: asc}) {\n    id\n    name\n    running\n    container_running\n    is_p2p\n    description\n    author\n    semver\n    payloadtypec2profiles {\n      payloadtype {\n        name\n      }\n    }\n  }\n}\n"]))),yx=Kv(_y||(_y=Jg(["\n  mutation StartStopProfile($id: Int!, $action: String!) {\n    startStopProfile(id: $id, action: $action) {\n      status\n      error\n      output\n    }\n  }\n"]))),xx=Kv(Sy||(Sy=Jg(["\nquery getProfileOutput($id: Int!) {\n  getProfileOutput(id: $id) {\n    status\n    error\n    output\n  }\n}\n"]))),bx=Kv(Cy||(Cy=Jg(["\nquery getProfileConfigOutput($container_name: String!, $filename: String!) {\n  containerDownloadFile(container_name: $container_name, filename: $filename) {\n    status\n    error\n    filename\n    data\n  }\n}\n"]))),wx=Kv(jy||(jy=Jg(["\nmutation setProfileConfiguration($container_name: String!, $file_path: String!, $data: String!) {\n  containerWriteFile(container_name: $container_name, file_path: $file_path, data: $data) {\n    status\n    error\n    filename\n  }\n}\n"]))),kx=Kv(Ey||(Ey=Jg(["\nquery GetOperations {\n  operation(order_by: {name: asc}, where: {deleted: {_eq: false}}) {\n    id\n    name\n    complete\n    webhook\n    channel\n    banner_text\n    banner_color\n    admin {\n      id\n      username\n    }\n    operatoroperations {\n      id\n      view_mode\n      operator {\n        id\n        username\n      }\n    }\n  }\n  operator(where: {active: {_eq: true}, deleted: {_eq: false}}) {\n    id\n    username\n  }\n}\n"]))),Nx=Kv(Ty||(Ty=Jg(["\nmutation CreateOperation($name: String!) {\n  createOperation(name: $name) {\n    status\n    error\n    operation_id\n    operation_name\n  }\n}\n"]))),_x=Kv(Ay||(Ay=Jg(["\nmutation UpdateOperation($operation_id: Int!, $name: String, $complete: Boolean, $channel: String, $webhook: String, $banner_text: String, $banner_color: String) {\n  updateOperation(operation_id: $operation_id, name: $name, complete: $complete, channel: $channel, webhook: $webhook, banner_text: $banner_text, banner_color: $banner_color) {\n    status\n    error\n    id\n    name\n    complete\n  }\n}\n"]))),Sx=Kv(My||(My=Jg(["\nmutation UpdateOperationMembers($operation_id: Int!, $add_users: [Int], $remove_users: [Int], $view_mode_operators: [Int], $view_mode_spectators: [Int]) {\n  updateOperatorOperation(operation_id: $operation_id, add_users: $add_users, remove_users: $remove_users, view_mode_operators: $view_mode_operators, view_mode_spectators: $view_mode_spectators) {\n    status\n    error\n  }\n}\n"]))),Cx=Kv(Ry||(Ry=Jg(["\nmutation ToggleOperationDeleted($operation_id: Int!, $deleted: Boolean!) {\n  updateOperation(operation_id: $operation_id, deleted: $deleted) {\n    status\n    error\n  }\n}\n"]))),jx=Kv(Oy||(Oy=Jg(["\nquery GetOperators {\n  operator(order_by: {username: asc}, where: {deleted: {_eq: false}}) {\n    id\n    username\n    active\n    admin\n    last_login\n    creation_time\n    deleted\n    email\n  }\n}\n"]))),Ex=Kv(Iy||(Iy=Jg(["\nmutation CreateOperator($username: String!, $password: String!, $email: String, $bot: Boolean) {\n  createOperator(input: {username: $username, password: $password, email: $email, bot: $bot}) {\n    status\n    error\n    id\n    username\n  }\n}\n"]))),Tx=Kv(Ly||(Ly=Jg(["\nmutation UpdateOperatorStatus($operator_id: Int!, $active: Boolean, $admin: Boolean, $deleted: Boolean) {\n  updateOperatorStatus(operator_id: $operator_id, active: $active, admin: $admin, deleted: $deleted) {\n    status\n    error\n    id\n    active\n    admin\n    deleted\n  }\n}\n"]))),Ax=Kv(Dy||(Dy=Jg(["\nmutation UpdateOperatorPassword($user_id: Int!, $new_password: String!, $email: String) {\n  updatePasswordAndEmail(user_id: $user_id, new_password: $new_password, email: $email) {\n    status\n    error\n    operator_id\n  }\n}\n"]))),Mx=Kv(Py||(Py=Jg(["\nmutation UpdateOperatorUsername($id: Int!, $username: String!) {\n  update_operator_by_pk(pk_columns: {id: $id}, _set: {username: $username}) {\n    id\n    username\n  }\n}\n"]))),Rx=Kv($y||($y=Jg(["\n    fragment fileObjData on mythictree {\n        comment\n        deleted\n        task_id\n        filemeta {\n            id\n            agent_file_id\n            filename_text\n        }\n        tags {\n            tagtype {\n                name\n                color\n                id\n            }\n        }\n        host\n        id\n        can_have_children\n        has_children\n        success\n        full_path_text\n        name_text\n        timestamp\n        parent_path_text\n        tree_type\n        metadata\n        callback {\n            id\n            display_id\n            mythictree_groups\n        }\n    }\n"]))),Ox=Kv(zy||(zy=Jg(["\n    ",'\n    query myRootFolderQuery($host: String!) {\n        mythictree(where: { parent_path_text: { _eq: "" }, tree_type: {_eq: "file"}, host: {_ilike: $host} }, order_by: {name_text: asc}) {\n            ...fileObjData\n        }\n    }\n'])),Rx),Ix=Kv(Fy||(Fy=Jg(["\n    ",'\n    query myFolderQuery($parent_path_text: String!, $host: String!) {\n        children: mythictree(\n            where: { parent_path_text: { _eq: $parent_path_text }, tree_type: {_eq: "file"}, host: {_ilike: $host} }\n            order_by: { can_have_children: asc, name_text: asc }\n        ) {\n            ...fileObjData\n        }\n    }\n'])),Rx),Lx=Kv(By||(By=Jg(["\nfragment treeObjData on mythictree {\n    comment\n    deleted\n    task_id\n    tags {\n        tagtype {\n            name\n            color\n            id\n        }\n        id\n    }\n    host\n    id\n    os\n    can_have_children\n    success\n    full_path_text\n    name_text\n    timestamp\n    parent_path_text\n    tree_type\n    metadata\n    callback {\n        id\n        display_id\n        mythictree_groups\n    }\n}\n"]))),Dx=Kv(Vy||(Vy=Jg(["\n    ",'\n    query processesPerHostQuery($host: String!){\n        mythictree(where: {host: {_ilike: $host}, tree_type: {_eq: "process"} }, order_by: {id: asc}) {\n            ...treeObjData\n        }\n    }\n'])),Lx);const Px=Kv(Wy||(Wy=Jg(["\nquery getGlobalSettings {\n  getGlobalSettings {\n    settings\n  }\n}\n"]))),$x=Kv(Hy||(Hy=Jg(["\nmutation updateGlobalSettings($settings: jsonb!) {\n    updateGlobalSettings(settings: $settings){\n        status\n        error\n    }\n}\n"]))),zx=Kv(Uy||(Uy=Jg(["\nquery getOutstandingInviteLinks {\n  getInviteLinks {\n    status\n    error\n    links\n  }\n}\n"]))),Fx=Kv(Gy||(Gy=Jg(["\nmutation CreateInviteLink($operation_id: Int, $operation_role: String, $name: String, $short_code: String, $total: Int) {\n    createInviteLink(total: $total, operation_role: $operation_role, operation_id: $operation_id, name: $name, short_code: $short_code){\n        status\n        error\n        link\n    }\n}\n"]))),Bx=Kv(qy||(qy=Jg(["\nmutation UpdateInviteLink($code: String!, $total: Int!) {\n    updateInviteLink(code: $code, total: $total){\n        status\n        error\n    }\n}\n"]))),Vx=Kv(Ky||(Ky=Jg(["\nquery getOperations {\n    operation {\n        name\n        deleted\n        complete\n        id\n    }\n}\n"])));function Wx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pg(Ct(t))}function Hx(e){if(!e||0===e.length)return"";try{let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;n&&(t+="=".repeat(4-n));const r=window.atob(t),o=r.length,i=new Uint8Array(o);for(let e=0;e<o;e++)i[e]=r.charCodeAt(e);return(new TextDecoder).decode(i)}catch(t){try{let t=e.replace(/-/g,"+").replace(/_/g,"/");const n=t.length%4;return n&&(t+="=".repeat(4-n)),decodeURIComponent(window.atob(t))}catch(n){try{return window.atob(e)}catch(r){return e}}}}var Ux=new nf,Gx=new WeakMap;function qx(e){var t=Gx.get(e);return t||Gx.set(e,t={vars:new Set,dep:Ef()}),t}function Kx(e){qx(e).vars.forEach((function(t){return t.forgetCache(e)}))}function Yx(e){var t=new Set,n=new Set,r=function(i){if(arguments.length>0){if(e!==i){e=i,t.forEach((function(e){qx(e).dep.dirty(r),function(e){e.broadcastWatches&&e.broadcastWatches()}(e)}));var s=Array.from(n);n.clear(),s.forEach((function(t){return t(e)}))}}else{var a=Ux.getValue();a&&(o(a),qx(a).dep(r))}return e};r.onNextChange=function(e){return n.add(e),function(){n.delete(e)}};var o=r.attachCache=function(e){return t.add(e),qx(e).vars.add(r),r};return r.forgetCache=function(e){return t.delete(e)},r}function Qx(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const o in e){const i=e[o];let s="",a=!0;for(let e=0;e<i.length;e+=1){const r=i[e];r&&(s+=(!0===a?"":" ")+t(r),a=!1,n&&n[r]&&(s+=" "+n[r]))}r[o]=s}return r}function Xx(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function Zx(e){if("string"!==typeof e)throw new Error(Xx(7));return e.charAt(0).toUpperCase()+e.slice(1)}const Jx=Zx;function eb(){return eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eb.apply(null,arguments)}var tb=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(zQ){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),nb=Math.abs,rb=String.fromCharCode,ob=Object.assign;function ib(e){return e.trim()}function sb(e,t,n){return e.replace(t,n)}function ab(e,t){return e.indexOf(t)}function lb(e,t){return 0|e.charCodeAt(t)}function cb(e,t,n){return e.slice(t,n)}function db(e){return e.length}function ub(e){return e.length}function hb(e,t){return t.push(e),e}var pb=1,fb=1,mb=0,gb=0,vb=0,yb="";function xb(e,t,n,r,o,i,s){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:pb,column:fb,length:s,return:""}}function bb(e,t){return ob(xb("",null,null,"",null,null,0),e,{length:-e.length},t)}function wb(){return vb=gb>0?lb(yb,--gb):0,fb--,10===vb&&(fb=1,pb--),vb}function kb(){return vb=gb<mb?lb(yb,gb++):0,fb++,10===vb&&(fb=1,pb++),vb}function Nb(){return lb(yb,gb)}function _b(){return gb}function Sb(e,t){return cb(yb,e,t)}function Cb(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function jb(e){return pb=fb=1,mb=db(yb=e),gb=0,[]}function Eb(e){return yb="",e}function Tb(e){return ib(Sb(gb-1,Rb(91===e?e+2:40===e?e+1:e)))}function Ab(e){for(;(vb=Nb())&&vb<33;)kb();return Cb(e)>2||Cb(vb)>3?"":" "}function Mb(e,t){for(;--t&&kb()&&!(vb<48||vb>102||vb>57&&vb<65||vb>70&&vb<97););return Sb(e,_b()+(t<6&&32==Nb()&&32==kb()))}function Rb(e){for(;kb();)switch(vb){case e:return gb;case 34:case 39:34!==e&&39!==e&&Rb(vb);break;case 40:41===e&&Rb(e);break;case 92:kb()}return gb}function Ob(e,t){for(;kb()&&e+vb!==57&&(e+vb!==84||47!==Nb()););return"/*"+Sb(t,gb-1)+"*"+rb(47===e?e:kb())}function Ib(e){for(;!Cb(Nb());)kb();return Sb(e,gb)}var Lb="-ms-",Db="-moz-",Pb="-webkit-",$b="comm",zb="rule",Fb="decl",Bb="@keyframes";function Vb(e,t){for(var n="",r=ub(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function Wb(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Fb:return e.return=e.return||e.value;case $b:return"";case Bb:return e.return=e.value+"{"+Vb(e.children,r)+"}";case zb:e.value=e.props.join(",")}return db(n=Vb(e.children,r))?e.return=e.value+"{"+n+"}":""}function Hb(e){return Eb(Ub("",null,null,null,[""],e=jb(e),0,[0],e))}function Ub(e,t,n,r,o,i,s,a,l){for(var c=0,d=0,u=s,h=0,p=0,f=0,m=1,g=1,v=1,y=0,x="",b=o,w=i,k=r,N=x;g;)switch(f=y,y=kb()){case 40:if(108!=f&&58==lb(N,u-1)){-1!=ab(N+=sb(Tb(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:N+=Tb(y);break;case 9:case 10:case 13:case 32:N+=Ab(f);break;case 92:N+=Mb(_b()-1,7);continue;case 47:switch(Nb()){case 42:case 47:hb(qb(Ob(kb(),_b()),t,n),l);break;default:N+="/"}break;case 123*m:a[c++]=db(N)*v;case 125*m:case 59:case 0:switch(y){case 0:case 125:g=0;case 59+d:-1==v&&(N=sb(N,/\f/g,"")),p>0&&db(N)-u&&hb(p>32?Kb(N+";",r,n,u-1):Kb(sb(N," ","")+";",r,n,u-2),l);break;case 59:N+=";";default:if(hb(k=Gb(N,t,n,c,d,o,a,x,b=[],w=[],u),i),123===y)if(0===d)Ub(N,t,k,k,b,i,u,a,w);else switch(99===h&&110===lb(N,3)?100:h){case 100:case 108:case 109:case 115:Ub(e,k,k,r&&hb(Gb(e,k,k,0,0,o,a,x,o,b=[],u),w),o,w,u,a,r?b:w);break;default:Ub(N,k,k,k,[""],w,0,a,w)}}c=d=p=0,m=v=1,x=N="",u=s;break;case 58:u=1+db(N),p=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==wb())continue;switch(N+=rb(y),y*m){case 38:v=d>0?1:(N+="\f",-1);break;case 44:a[c++]=(db(N)-1)*v,v=1;break;case 64:45===Nb()&&(N+=Tb(kb())),h=Nb(),d=u=db(x=N+=Ib(_b())),y++;break;case 45:45===f&&2==db(N)&&(m=0)}}return i}function Gb(e,t,n,r,o,i,s,a,l,c,d){for(var u=o-1,h=0===o?i:[""],p=ub(h),f=0,m=0,g=0;f<r;++f)for(var v=0,y=cb(e,u+1,u=nb(m=s[f])),x=e;v<p;++v)(x=ib(m>0?h[v]+" "+y:sb(y,/&\f/g,h[v])))&&(l[g++]=x);return xb(e,t,n,0===o?zb:a,l,c,d)}function qb(e,t,n){return xb(e,t,n,$b,rb(vb),cb(e,2,-2),0)}function Kb(e,t,n,r){return xb(e,t,n,Fb,cb(e,0,r),cb(e,r+1,-1),r)}var Yb=function(e,t,n){for(var r=0,o=0;r=o,o=Nb(),38===r&&12===o&&(t[n]=1),!Cb(o);)kb();return Sb(e,gb)},Qb=function(e,t){return Eb(function(e,t){var n=-1,r=44;do{switch(Cb(r)){case 0:38===r&&12===Nb()&&(t[n]=1),e[n]+=Yb(gb-1,t,n);break;case 2:e[n]+=Tb(r);break;case 4:if(44===r){e[++n]=58===Nb()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=rb(r)}}while(r=kb());return e}(jb(e),t))},Xb=new WeakMap,Zb=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Xb.get(n))&&!r){Xb.set(e,!0);for(var o=[],i=Qb(t,o),s=n.props,a=0,l=0;a<i.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?i[a].replace(/&\f/g,s[c]):s[c]+" "+i[a]}}},Jb=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ew(e,t){switch(function(e,t){return 45^lb(e,0)?(((t<<2^lb(e,0))<<2^lb(e,1))<<2^lb(e,2))<<2^lb(e,3):0}(e,t)){case 5103:return Pb+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pb+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Pb+e+Db+e+Lb+e+e;case 6828:case 4268:return Pb+e+Lb+e+e;case 6165:return Pb+e+Lb+"flex-"+e+e;case 5187:return Pb+e+sb(e,/(\w+).+(:[^]+)/,Pb+"box-$1$2"+Lb+"flex-$1$2")+e;case 5443:return Pb+e+Lb+"flex-item-"+sb(e,/flex-|-self/,"")+e;case 4675:return Pb+e+Lb+"flex-line-pack"+sb(e,/align-content|flex-|-self/,"")+e;case 5548:return Pb+e+Lb+sb(e,"shrink","negative")+e;case 5292:return Pb+e+Lb+sb(e,"basis","preferred-size")+e;case 6060:return Pb+"box-"+sb(e,"-grow","")+Pb+e+Lb+sb(e,"grow","positive")+e;case 4554:return Pb+sb(e,/([^-])(transform)/g,"$1"+Pb+"$2")+e;case 6187:return sb(sb(sb(e,/(zoom-|grab)/,Pb+"$1"),/(image-set)/,Pb+"$1"),e,"")+e;case 5495:case 3959:return sb(e,/(image-set\([^]*)/,Pb+"$1$`$1");case 4968:return sb(sb(e,/(.+:)(flex-)?(.*)/,Pb+"box-pack:$3"+Lb+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pb+e+e;case 4095:case 3583:case 4068:case 2532:return sb(e,/(.+)-inline(.+)/,Pb+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(db(e)-1-t>6)switch(lb(e,t+1)){case 109:if(45!==lb(e,t+4))break;case 102:return sb(e,/(.+:)(.+)-([^]+)/,"$1"+Pb+"$2-$3$1"+Db+(108==lb(e,t+3)?"$3":"$2-$3"))+e;case 115:return~ab(e,"stretch")?ew(sb(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==lb(e,t+1))break;case 6444:switch(lb(e,db(e)-3-(~ab(e,"!important")&&10))){case 107:return sb(e,":",":"+Pb)+e;case 101:return sb(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Pb+(45===lb(e,14)?"inline-":"")+"box$3$1"+Pb+"$2$3$1"+Lb+"$2box$3")+e}break;case 5936:switch(lb(e,t+11)){case 114:return Pb+e+Lb+sb(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Pb+e+Lb+sb(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Pb+e+Lb+sb(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Pb+e+Lb+e+e}return e}var tw=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Fb:e.return=ew(e.value,e.length);break;case Bb:return Vb([bb(e,{value:sb(e.value,"@","@"+Pb)})],r);case zb:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Vb([bb(e,{props:[sb(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Vb([bb(e,{props:[sb(t,/:(plac\w+)/,":"+Pb+"input-$1")]}),bb(e,{props:[sb(t,/:(plac\w+)/,":-moz-$1")]}),bb(e,{props:[sb(t,/:(plac\w+)/,Lb+"input-$1")]})],r)}return""}))}}],nw=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,i=e.stylisPlugins||tw,s={},a=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;a.push(e)}));var l,c,d=[Wb,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],u=function(e){var t=ub(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}([Zb,Jb].concat(i,d));o=function(e,t,n,r){l=n,function(e){Vb(Hb(e),u)}(e?e+"{"+t.styles+"}":t.styles),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new tb({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return h.sheet.hydrate(a),h};function rw(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var ow=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},iw=function(e,t,n){ow(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var sw={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function aw(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var lw=/[A-Z]|^ms/g,cw=/_EMO_([^_]+?)_([^]*?)_EMO_/g,dw=function(e){return 45===e.charCodeAt(1)},uw=function(e){return null!=e&&"boolean"!==typeof e},hw=aw((function(e){return dw(e)?e:e.replace(lw,"-$&").toLowerCase()})),pw=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(cw,(function(e,t,n){return mw={name:t,styles:n,next:mw},t}))}return 1===sw[e]||dw(e)||"number"!==typeof t||0===t?t:t+"px"};function fw(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return mw={name:o.name,styles:o.styles,next:mw},o.name;var i=n;if(void 0!==i.styles){var s=i.next;if(void 0!==s)for(;void 0!==s;)mw={name:s.name,styles:s.styles,next:mw},s=s.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=fw(e,t,n[o])+";";else for(var i in n){var s=n[i];if("object"!==typeof s){var a=s;null!=t&&void 0!==t[a]?r+=i+"{"+t[a]+"}":uw(a)&&(r+=hw(i)+":"+pw(i,a)+";")}else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var l=fw(e,t,s);switch(i){case"animation":case"animationName":r+=hw(i)+":"+l+";";break;default:r+=i+"{"+l+"}"}}else for(var c=0;c<s.length;c++)uw(s[c])&&(r+=hw(i)+":"+pw(i,s[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var a=mw,l=n(e);return mw=a,fw(e,t,l)}}var c=n;if(null==t)return c;var d=t[c];return void 0!==d?d:c}var mw,gw=/label:\s*([^\s;{]+)\s*(;|$)/g;function vw(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";mw=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,o+=fw(n,t,i)):o+=i[0];for(var s=1;s<e.length;s++){if(o+=fw(n,t,e[s]),r)o+=i[s]}gw.lastIndex=0;for(var a,l="";null!==(a=gw.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:mw}}var yw=!!l.useInsertionEffect&&l.useInsertionEffect,xw=yw||function(e){return e()},bw=(yw||a.useLayoutEffect,a.createContext("undefined"!==typeof HTMLElement?nw({key:"css"}):null)),ww=(bw.Provider,function(e){return(0,a.forwardRef)((function(t,n){var r=(0,a.useContext)(bw);return e(t,r,n)}))}),kw=a.createContext({});var Nw={}.hasOwnProperty,_w="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Sw=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return ow(t,n,r),xw((function(){return iw(t,n,r)})),null},Cw=ww((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var o=e[_w],i=[r],s="";"string"===typeof e.className?s=rw(t.registered,i,e.className):null!=e.className&&(s=e.className+" ");var l=vw(i,void 0,a.useContext(kw));s+=t.key+"-"+l.name;var c={};for(var d in e)Nw.call(e,d)&&"css"!==d&&d!==_w&&(c[d]=e[d]);return c.className=s,n&&(c.ref=n),a.createElement(a.Fragment,null,a.createElement(Sw,{cache:t,serialized:l,isStringTag:"string"===typeof o}),a.createElement(o,c))})),jw=Cw,Ew=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Tw=aw((function(e){return Ew.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Aw=function(e){return"theme"!==e},Mw=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Tw:Aw},Rw=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},Ow=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return ow(t,n,r),xw((function(){return iw(t,n,r)})),null},Iw=function e(t,n){var r,o,i=t.__emotion_real===t,s=i&&t.__emotion_base||t;void 0!==n&&(r=n.label,o=n.target);var l=Rw(t,n,i),c=l||Mw(s),d=!c("as");return function(){var u=arguments,h=i&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==u[0]||void 0===u[0].raw)h.push.apply(h,u);else{var p=u[0];h.push(p[0]);for(var f=u.length,m=1;m<f;m++)h.push(u[m],p[m])}var g=ww((function(e,t,n){var r=d&&e.as||s,i="",u=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=a.useContext(kw)}"string"===typeof e.className?i=rw(t.registered,u,e.className):null!=e.className&&(i=e.className+" ");var m=vw(h.concat(u),t.registered,p);i+=t.key+"-"+m.name,void 0!==o&&(i+=" "+o);var g=d&&void 0===l?Mw(r):c,v={};for(var y in e)d&&"as"===y||g(y)&&(v[y]=e[y]);return v.className=i,n&&(v.ref=n),a.createElement(a.Fragment,null,a.createElement(Ow,{cache:t,serialized:m,isStringTag:"string"===typeof r}),a.createElement(r,v))}));return g.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",g.defaultProps=t.defaultProps,g.__emotion_real=g,g.__emotion_base=s,g.__emotion_styles=h,g.__emotion_forwardProp=l,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(t,r){return e(t,eb({},n,r,{shouldForwardProp:Rw(g,r,!0)})).apply(void 0,h)},g}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Iw[e]=Iw(e)}));const Lw=[];function Dw(e){return Lw[0]=e,vw(Lw)}var Pw=n(528);function $w(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function zw(e){if(a.isValidElement(e)||(0,Pw.Hy)(e)||!$w(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=zw(e[n])})),t}function Fw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?s({},e):e;return $w(e)&&$w(t)&&Object.keys(t).forEach((o=>{a.isValidElement(t[o])||(0,Pw.Hy)(t[o])?r[o]=t[o]:$w(t[o])&&Object.prototype.hasOwnProperty.call(e,o)&&$w(e[o])?r[o]=Fw(e[o],t[o],n):n.clone?r[o]=$w(t[o])?zw(t[o]):t[o]:r[o]=t[o]})),r}const Bw=["values","unit","step"];function Vw(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=u(e,Bw),i=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>s(s({},e),{},{[t.key]:t.val})),{})})(t),a=Object.keys(i);function l(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const o="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(o-r/100).concat(n,")")}function d(e,o){const i=a.indexOf(o);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof t[a[i]]?t[a[i]]:o)-r/100).concat(n,")")}return s({keys:a,values:i,up:l,down:c,between:d,only:function(e){return a.indexOf(e)+1<a.length?d(e,a[a.indexOf(e)+1]):l(e)},not:function(e){const t=a.indexOf(e);return 0===t?l(a[1]):t===a.length-1?c(a[t]):d(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},o)}const Ww={borderRadius:4},Hw={xs:0,sm:600,md:900,lg:1200,xl:1536},Uw={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(Hw[e],"px)")},Gw={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:Hw[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function qw(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Uw;return t.reduce(((r,o,i)=>(r[e.up(e.keys[i])]=n(t[i]),r)),{})}if("object"===typeof t){const e=r.breakpoints||Uw;return Object.keys(t).reduce(((o,i)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,i)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,i=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(i)}(r.containerQueries?r:Gw,i);e&&(o[e]=n(t[i],i))}else if(Object.keys(e.values||Hw).includes(i)){o[e.up(i)]=n(t[i],i)}else{const e=i;o[e]=t[e]}return o}),{})}return n(t)}function Kw(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function Yw(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function Qw(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function Xw(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:Qw(e,n)||o,t&&(r=t(r,o,e)),r}const Zw=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,i=e=>{if(null==e[t])return null;const i=e[t],s=Qw(e.theme,r)||{};return qw(e,i,(e=>{let r=Xw(s,o,e);return e===r&&"string"===typeof e&&(r=Xw(s,o,"".concat(t).concat("default"===e?"":Zx(e)),e)),!1===n?r:{[n]:r}}))};return i.propTypes={},i.filterProps=[t],i};const Jw=function(e,t){return t?Fw(e,t,{clone:!1}):e};const ek={m:"margin",p:"padding"},tk={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nk={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rk=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!nk[e])return[e];e=nk[e]}const[t,n]=e.split(""),r=ek[t],o=tk[n]||"";return Array.isArray(o)?o.map((e=>r+e)):[r+o]})),ok=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ik=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],sk=[...ok,...ik];function ak(e,t,n,r){var o;const i=null!==(o=Qw(e,t,!0))&&void 0!==o?o:n;return"number"===typeof i||"string"===typeof i?e=>"string"===typeof e?e:"string"===typeof i?i.startsWith("var(")&&0===e?0:i.startsWith("var(")&&1===e?i:"calc(".concat(e," * ").concat(i,")"):i*e:Array.isArray(i)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=i[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof i?i:()=>{}}function lk(e){return ak(e,"spacing",8)}function ck(e,t){return"string"===typeof t||null==t?t:e(t)}function dk(e,t,n,r){if(!t.includes(n))return null;const o=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=ck(t,n),e)),{})}(rk(n),r);return qw(e,e[n],o)}function uk(e,t){const n=lk(e.theme);return Object.keys(e).map((r=>dk(e,t,r,n))).reduce(Jw,{})}function hk(e){return uk(e,ok)}function pk(e){return uk(e,ik)}function fk(e){return uk(e,sk)}hk.propTypes={},hk.filterProps=ok,pk.propTypes={},pk.filterProps=ik,fk.propTypes={},fk.filterProps=sk;function mk(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lk({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}const gk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>r[n]?Jw(t,r[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};function vk(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function yk(e,t){return Zw({prop:e,themeKey:"borders",transform:t})}const xk=yk("border",vk),bk=yk("borderTop",vk),wk=yk("borderRight",vk),kk=yk("borderBottom",vk),Nk=yk("borderLeft",vk),_k=yk("borderColor"),Sk=yk("borderTopColor"),Ck=yk("borderRightColor"),jk=yk("borderBottomColor"),Ek=yk("borderLeftColor"),Tk=yk("outline",vk),Ak=yk("outlineColor"),Mk=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=ak(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:ck(t,e)});return qw(e,e.borderRadius,n)}return null};Mk.propTypes={},Mk.filterProps=["borderRadius"];gk(xk,bk,wk,kk,Nk,_k,Sk,Ck,jk,Ek,Mk,Tk,Ak);const Rk=e=>{if(void 0!==e.gap&&null!==e.gap){const t=ak(e.theme,"spacing",8),n=e=>({gap:ck(t,e)});return qw(e,e.gap,n)}return null};Rk.propTypes={},Rk.filterProps=["gap"];const Ok=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=ak(e.theme,"spacing",8),n=e=>({columnGap:ck(t,e)});return qw(e,e.columnGap,n)}return null};Ok.propTypes={},Ok.filterProps=["columnGap"];const Ik=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=ak(e.theme,"spacing",8),n=e=>({rowGap:ck(t,e)});return qw(e,e.rowGap,n)}return null};Ik.propTypes={},Ik.filterProps=["rowGap"];gk(Rk,Ok,Ik,Zw({prop:"gridColumn"}),Zw({prop:"gridRow"}),Zw({prop:"gridAutoFlow"}),Zw({prop:"gridAutoColumns"}),Zw({prop:"gridAutoRows"}),Zw({prop:"gridTemplateColumns"}),Zw({prop:"gridTemplateRows"}),Zw({prop:"gridTemplateAreas"}),Zw({prop:"gridArea"}));function Lk(e,t){return"grey"===t?t:e}gk(Zw({prop:"color",themeKey:"palette",transform:Lk}),Zw({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Lk}),Zw({prop:"backgroundColor",themeKey:"palette",transform:Lk}));function Dk(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const Pk=Zw({prop:"width",transform:Dk}),$k=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||Hw[t];return o?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:Dk(t)}};return qw(e,e.maxWidth,t)}return null};$k.filterProps=["maxWidth"];const zk=Zw({prop:"minWidth",transform:Dk}),Fk=Zw({prop:"height",transform:Dk}),Bk=Zw({prop:"maxHeight",transform:Dk}),Vk=Zw({prop:"minHeight",transform:Dk}),Wk=(Zw({prop:"size",cssProperty:"width",transform:Dk}),Zw({prop:"size",cssProperty:"height",transform:Dk}),gk(Pk,$k,zk,Fk,Bk,Vk,Zw({prop:"boxSizing"})),{border:{themeKey:"borders",transform:vk},borderTop:{themeKey:"borders",transform:vk},borderRight:{themeKey:"borders",transform:vk},borderBottom:{themeKey:"borders",transform:vk},borderLeft:{themeKey:"borders",transform:vk},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:vk},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Mk},color:{themeKey:"palette",transform:Lk},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Lk},backgroundColor:{themeKey:"palette",transform:Lk},p:{style:pk},pt:{style:pk},pr:{style:pk},pb:{style:pk},pl:{style:pk},px:{style:pk},py:{style:pk},padding:{style:pk},paddingTop:{style:pk},paddingRight:{style:pk},paddingBottom:{style:pk},paddingLeft:{style:pk},paddingX:{style:pk},paddingY:{style:pk},paddingInline:{style:pk},paddingInlineStart:{style:pk},paddingInlineEnd:{style:pk},paddingBlock:{style:pk},paddingBlockStart:{style:pk},paddingBlockEnd:{style:pk},m:{style:hk},mt:{style:hk},mr:{style:hk},mb:{style:hk},ml:{style:hk},mx:{style:hk},my:{style:hk},margin:{style:hk},marginTop:{style:hk},marginRight:{style:hk},marginBottom:{style:hk},marginLeft:{style:hk},marginX:{style:hk},marginY:{style:hk},marginInline:{style:hk},marginInlineStart:{style:hk},marginInlineEnd:{style:hk},marginBlock:{style:hk},marginBlockStart:{style:hk},marginBlockEnd:{style:hk},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Rk},rowGap:{style:Ik},columnGap:{style:Ok},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Dk},maxWidth:{style:$k},minWidth:{transform:Dk},height:{transform:Dk},maxHeight:{transform:Dk},minHeight:{transform:Dk},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const Hk=function(){function e(e,t,n,r){const o={[e]:t,theme:n},i=r[e];if(!i)return{[e]:t};const{cssProperty:s=e,themeKey:a,transform:l,style:c}=i;if(null==t)return null;if("typography"===a&&"inherit"===t)return{[e]:t};const d=Qw(n,a)||{};if(c)return c(o);return qw(o,t,(t=>{let n=Xw(d,l,t);return t===n&&"string"===typeof t&&(n=Xw(d,l,"".concat(e).concat("default"===t?"":Zx(t)),t)),!1===s?n:{[s]:n}}))}return function t(n){var r;const{sx:o,theme:i={}}=n||{};if(!o)return null;const a=null!==(r=i.unstable_sxConfig)&&void 0!==r?r:Wk;function l(n){let r=n;if("function"===typeof n)r=n(i);else if("object"!==typeof n)return n;if(!r)return null;const o=Kw(i.breakpoints),l=Object.keys(o);let c=o;return Object.keys(r).forEach((n=>{const o=function(e,t){return"function"===typeof e?e(t):e}(r[n],i);if(null!==o&&void 0!==o)if("object"===typeof o)if(a[n])c=Jw(c,e(n,o,i,a));else{const e=qw({theme:i},o,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(r);return t.every((e=>o.size===Object.keys(e).length))}(e,o)?c=Jw(c,e):c[n]=t({sx:o,theme:i})}else c=Jw(c,e(n,o,i,a))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const o=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(o))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(o))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),s({},t)):t}(i,Yw(l,c))}return Array.isArray(o)?o.map(l):l(o)}}();Hk.filterProps=["sx"];const Uk=Hk;function Gk(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let o=n.getColorSchemeSelector(e);return"&"===o?t:((o.includes("data-")||o.includes("."))&&(o="*:where(".concat(o.replace(/\s*&$/,""),") &")),{[o]:t})}return n.palette.mode===e?t:{}}const qk=["breakpoints","palette","spacing","shape"];const Kk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:o={}}=e,i=u(e,qk),a=Vw(t),l=mk(r);let c=Fw({breakpoints:a,direction:"ltr",components:{},palette:s({mode:"light"},n),spacing:l,shape:s(s({},Ww),o)},i);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},o=e=>(n(r,e),r);return n(o),s(s({},e),{},{containerQueries:o})}(c),c.applyStyles=Gk;for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];return c=h.reduce(((e,t)=>Fw(e,t)),c),c.unstable_sxConfig=s(s({},Wk),null===i||void 0===i?void 0:i.unstable_sxConfig),c.unstable_sx=function(e){return Uk({sx:e,theme:this})},c},Yk=["variants"];function Qk(e){const{variants:t}=e,n=u(e,Yk),r={variants:t,style:Dw(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=Dw(e.style))})),r}const Xk=["variants"],Zk=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Jk=Kk();function eN(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function tN(e){return e?(t,n)=>n[e]:null}function nN(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>nN(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=u(n,Xk)}return rN(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function rN(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let i=0;i<t.length;i+=1){const a=t[i];if("function"===typeof a.props){if(null!==n&&void 0!==n||(n=s(s(s({},e),e.ownerState),{},{ownerState:e.ownerState})),!a.props(n))continue}else for(const t in a.props){var o;if(e[t]!==a.props[t]&&(null===(o=e.ownerState)||void 0===o?void 0:o[t])!==a.props[t])continue e}"function"===typeof a.style?(null!==n&&void 0!==n||(n=s(s(s({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(a.style(n))):r.push(a.style)}return r}function oN(e,t){}function iN(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const sN=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function aN(e){return sN(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function lN(e){if(e.type)return e;if("#"===e.charAt(0))return lN(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Xx(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Xx(10,r))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:r}}const cN=(e,t)=>{try{return(e=>{const t=lN(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function dN(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function uN(e){e=lN(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,i=r*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-i*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",l.push(t[3])),dN({type:a,values:l})}function hN(e){let t="hsl"===(e=lN(e)).type||"hsla"===e.type?lN(uN(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function pN(e,t){return e=lN(e),t=aN(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,dN(e)}function fN(e,t,n){try{return pN(e,t)}catch(r){return e}}function mN(e,t){if(e=lN(e),t=aN(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return dN(e)}function gN(e,t,n){try{return mN(e,t)}catch(r){return e}}function vN(e,t){if(e=lN(e),t=aN(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return dN(e)}function yN(e,t,n){try{return vN(e,t)}catch(r){return e}}function xN(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return hN(e)>.5?mN(e,t):vN(e,t)}(e,t)}catch(r){return e}}const bN={black:"#000",white:"#fff"},wN={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},kN={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},NN={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},_N={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},SN={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},CN={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},jN={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},EN=["mode","contrastThreshold","tonalOffset"];function TN(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:bN.white,default:bN.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const AN=TN();function MN(){return{text:{primary:bN.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:bN.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const RN=MN();function ON(e,t,n,r){const o=r.light||r,i=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=vN(e.main,o):"dark"===t&&(e.dark=mN(e.main,i)))}function IN(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,o=u(e,EN),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:SN[200],light:SN[50],dark:SN[400]}:{main:SN[700],light:SN[400],dark:SN[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:kN[200],light:kN[50],dark:kN[400]}:{main:kN[500],light:kN[300],dark:kN[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:NN[500],light:NN[300],dark:NN[700]}:{main:NN[700],light:NN[400],dark:NN[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:CN[400],light:CN[300],dark:CN[700]}:{main:CN[700],light:CN[500],dark:CN[900]}}(t),d=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:jN[400],light:jN[300],dark:jN[700]}:{main:jN[800],light:jN[500],dark:jN[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_N[400],light:_N[300],dark:_N[700]}:{main:"#ed6c02",light:_N[500],dark:_N[900]}}(t);function p(e){const t=function(e,t){const n=hN(e),r=hN(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,RN.text.primary)>=n?RN.text.primary:AN.text.primary;return t}const f=e=>{let{color:t,name:n,mainShade:o=500,lightShade:i=300,darkShade:a=700}=e;if(t=s({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error(Xx(11,n?" (".concat(n,")"):"",o));if("string"!==typeof t.main)throw new Error(Xx(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ON(t,"light",i,r),ON(t,"dark",a,r),t.contrastText||(t.contrastText=p(t.main)),t};let m;"light"===t?m=TN():"dark"===t&&(m=MN());return Fw(s({common:s({},bN),mode:t,primary:f({color:i,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:l,name:"error"}),warning:f({color:h,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:d,name:"success"}),grey:wN,contrastThreshold:n,getContrastText:p,augmentColor:f,tonalOffset:r},m),o)}function LN(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.length)return"";const i=r[0];return"string"!==typeof i||i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(i):", var(--".concat(e?"".concat(e,"-"):"").concat(i).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...o),")")}}function DN(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const PN=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e;t.forEach(((e,i)=>{i===t.length-1?Array.isArray(o)?o[Number(e)]=n:o&&"object"===typeof o&&(o[e]=n):o&&"object"===typeof o&&(o[e]||(o[e]=r.includes(e)?[]:{}),o=o[e])}))};function $N(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},i={},s={};var a,l;return a=(e,t,a)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(o,{[r]:l}),PN(i,e,"var(".concat(r,")"),a),PN(s,e,"var(".concat(r,", ").concat(l,")"),a)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach((t=>{let[o,i]=t;(!l||l&&!l([...n,o]))&&void 0!==i&&null!==i&&("object"===typeof i&&Object.keys(i).length>0?e(i,[...n,o],Array.isArray(i)?[...r,o]:r):a([...n,o],i,r))}))}(e),{css:o,vars:i,varsWithDefaults:s}}const zN=["colorSchemes","components","defaultColorScheme"];const FN=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:r=x,disableCssColorScheme:o,colorSchemeSelector:i}=n,{colorSchemes:a={},components:l,defaultColorScheme:c="light"}=e,d=u(e,zN),{vars:h,css:p,varsWithDefaults:f}=$N(d,n);let m=f;const g={},{[c]:v}=a,y=u(a,[c].map(t));if(Object.entries(y||{}).forEach((e=>{let[t,r]=e;const{vars:o,css:i,varsWithDefaults:s}=$N(r,n);m=Fw(m,s),g[t]={css:i,vars:o}})),v){const{css:e,vars:t,varsWithDefaults:r}=$N(v,n);m=Fw(m,r),g[c]={css:e,vars:t}}function x(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var o;if(e.defaultColorScheme===t)return":root";const r=(null===(o=a[t])||void 0===o||null===(o=o.palette)||void 0===o?void 0:o.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:m,generateThemeVars:()=>{let e=s({},h);return Object.entries(g).forEach((t=>{let[,{vars:n}]=t;e=Fw(e,n)})),e},generateStyleSheets:()=>{const n=[],i=e.defaultColorScheme||"light";function l(e,t){Object.keys(t).length&&n.push("string"===typeof e?{[e]:s({},t)}:e)}l(r(void 0,s({},p)),p);const{[i]:c}=g,d=u(g,[i].map(t));if(c){var h;const{css:e}=c,t=null===(h=a[i])||void 0===h||null===(h=h.palette)||void 0===h?void 0:h.mode,n=s(!o&&t?{colorScheme:t}:{},e);l(r(i,s({},n)),n)}return Object.entries(d).forEach((e=>{var t;let[n,{css:i}]=e;const c=null===(t=a[n])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,d=s(!o&&c?{colorScheme:c}:{},i);l(r(n,s({},d)),d)})),n}}};function BN(e,t){return s({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const VN=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const WN={textTransform:"uppercase"},HN='"Roboto", "Helvetica", "Arial", sans-serif';function UN(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=HN,fontSize:o=14,fontWeightLight:i=300,fontWeightRegular:a=400,fontWeightMedium:l=500,fontWeightBold:c=700,htmlFontSize:d=16,allVariants:h,pxToRem:p}=n,f=u(n,VN);const m=o/14,g=p||(e=>"".concat(e/d*m,"rem")),v=(e,t,n,o,i)=>{return s(s(s({fontFamily:r,fontWeight:e,fontSize:g(t),lineHeight:n},r===HN?{letterSpacing:"".concat((a=o/t,Math.round(1e5*a)/1e5),"em")}:{}),i),h);var a},y={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(l,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(l,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(l,14,1.75,.4,WN),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,WN),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fw(s({htmlFontSize:d,pxToRem:g,fontFamily:r,fontSize:o,fontWeightLight:i,fontWeightRegular:a,fontWeightMedium:l,fontWeightBold:c},y),f,{clone:!1})}function GN(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const qN=["none",GN(0,2,1,-1,0,1,1,0,0,1,3,0),GN(0,3,1,-2,0,2,2,0,0,1,5,0),GN(0,3,3,-2,0,3,4,0,0,1,8,0),GN(0,2,4,-1,0,4,5,0,0,1,10,0),GN(0,3,5,-1,0,5,8,0,0,1,14,0),GN(0,3,5,-1,0,6,10,0,0,1,18,0),GN(0,4,5,-2,0,7,10,1,0,2,16,1),GN(0,5,5,-3,0,8,10,1,0,3,14,2),GN(0,5,6,-3,0,9,12,1,0,3,16,2),GN(0,6,6,-3,0,10,14,1,0,4,18,3),GN(0,6,7,-4,0,11,15,1,0,4,20,3),GN(0,7,8,-4,0,12,17,2,0,5,22,4),GN(0,7,8,-4,0,13,19,2,0,5,24,4),GN(0,7,9,-4,0,14,21,2,0,5,26,4),GN(0,8,9,-5,0,15,22,2,0,6,28,5),GN(0,8,10,-5,0,16,24,2,0,6,30,5),GN(0,8,11,-5,0,17,26,2,0,6,32,5),GN(0,9,11,-5,0,18,28,2,0,7,34,6),GN(0,9,12,-6,0,19,29,2,0,7,36,6),GN(0,10,13,-6,0,20,31,3,0,8,38,7),GN(0,10,13,-6,0,21,33,3,0,8,40,7),GN(0,10,14,-6,0,22,35,3,0,8,42,7),GN(0,11,14,-7,0,23,36,3,0,9,44,8),GN(0,11,15,-7,0,24,38,3,0,9,46,8)],KN=["duration","easing","delay"],YN={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},QN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function XN(e){return"".concat(Math.round(e),"ms")}function ZN(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function JN(e){const t=s(s({},YN),e.easing),n=s(s({},QN),e.duration);return s(s({getAutoHeightDuration:ZN,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:i=t.easeInOut,delay:s=0}=r;u(r,KN);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof o?o:XN(o)," ").concat(i," ").concat("string"===typeof s?s:XN(s)))).join(",")}},e),{},{easing:t,duration:n})}const e_={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function t_(){const e=s({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let o=0;o<n.length;o++){const[i,a]=n[o];!$w(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||i.startsWith("unstable_")?delete t[i]:$w(a)&&(t[i]=s({},a),e(t[i]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const n_=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];const r_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:o={},transitions:i={},typography:a={},shape:l}=e,c=u(e,n_);if(e.vars&&void 0===e.generateThemeVars)throw new Error(Xx(20));const d=IN(o),h=Kk(e);let p=Fw(h,{mixins:BN(h.breakpoints,n),palette:d,shadows:qN.slice(),typography:UN(d,a),transitions:JN(i),zIndex:s({},e_)});p=Fw(p,c);for(var f=arguments.length,m=new Array(f>1?f-1:0),g=1;g<f;g++)m[g-1]=arguments[g];return p=m.reduce(((e,t)=>Fw(e,t)),p),p.unstable_sxConfig=s(s({},Wk),null===c||void 0===c?void 0:c.unstable_sxConfig),p.unstable_sx=function(e){return Uk({sx:e,theme:this})},p.toRuntimeSource=t_,p};function o_(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const i_=["palette","opacity","overlays"],s_=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=o_(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function a_(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function l_(e){return"dark"===e?s_:[]}function c_(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const d_=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],u_=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let i=o;if("class"===o&&(i=".%s"),"data"===o&&(i="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(i="[".concat(o,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const o={};return d_(e.cssVarPrefix).forEach((e=>{o[e]=n[e],delete n[e]})),"media"===i?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:i?{[i.replace("%s",t)]:o,["".concat(r,", ").concat(i.replace("%s",t))]:n}:{[r]:s(s({},n),o)}}if(i&&"media"!==i)return"".concat(r,", ").concat(i.replace("%s",String(t)))}else if(t){if("media"===i)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(i)return i.replace("%s",String(t))}return r},h_=["palette"],p_=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function f_(e,t,n){!e[t]&&n&&(e[t]=n)}function m_(e){return"string"===typeof e&&e.startsWith("hsl")?uN(e):e}function g_(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=cN(m_(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const v_=e=>{try{return e()}catch(t){}};function y_(e,t,n,r){var o,i,a;if(!t)return;t=!0===t?{}:t;const l="dark"===r?"dark":"light";var c;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,o=u(e,i_),i=IN(t);return s({palette:i,opacity:s(s({},a_(i.mode)),n),overlays:r||l_(i.mode)},o)}(s(s({},t),{},{palette:s({mode:l},null===(c=t)||void 0===c?void 0:c.palette)})));const d=r_(s(s({},n),{},{palette:s({mode:l},null===(o=t)||void 0===o?void 0:o.palette)})),{palette:h}=d,p=u(d,h_);return e[r]=s(s({},t),{},{palette:h,opacity:s(s({},a_(l)),null===(i=t)||void 0===i?void 0:i.opacity),overlays:(null===(a=t)||void 0===a?void 0:a.overlays)||l_(l)}),p}function x_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:o=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:a=c_,colorSchemeSelector:l=(n.light&&n.dark?"media":void 0),rootSelector:c=":root"}=e,d=u(e,p_),h=Object.keys(n)[0],p=r||(n.light&&"light"!==h?"light":h),f=function(){return LN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[p]:m,light:g,dark:v}=n,y=s({},u(n,[p,"light","dark"].map(t)));let x=m;if(("dark"===p&&!("dark"in n)||"light"===p&&!("light"in n))&&(x=!0),!x)throw new Error(Xx(21,p));const b=y_(y,x,d,p);g&&!y.light&&y_(y,g,void 0,"light"),v&&!y.dark&&y_(y,v,void 0,"dark");let w=s(s({defaultColorScheme:p},b),{},{cssVarPrefix:i,colorSchemeSelector:l,rootSelector:c,getCssVar:f,colorSchemes:y,font:s(s({},DN(b.typography)),b.font),spacing:(k=d.spacing,"number"===typeof k?"".concat(k,"px"):"string"===typeof k||"function"===typeof k||Array.isArray(k)?k:"8px")});var k;Object.keys(w.colorSchemes).forEach((e=>{const t=w.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],o=n[2];return f(e,t[r][o])};var r;if("light"===t.mode&&(f_(t.common,"background","#fff"),f_(t.common,"onBackground","#000")),"dark"===t.mode&&(f_(t.common,"background","#000"),f_(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){f_(t.Alert,"errorColor",gN(t.error.light,.6)),f_(t.Alert,"infoColor",gN(t.info.light,.6)),f_(t.Alert,"successColor",gN(t.success.light,.6)),f_(t.Alert,"warningColor",gN(t.warning.light,.6)),f_(t.Alert,"errorFilledBg",n("palette-error-main")),f_(t.Alert,"infoFilledBg",n("palette-info-main")),f_(t.Alert,"successFilledBg",n("palette-success-main")),f_(t.Alert,"warningFilledBg",n("palette-warning-main")),f_(t.Alert,"errorFilledColor",v_((()=>t.getContrastText(t.error.main)))),f_(t.Alert,"infoFilledColor",v_((()=>t.getContrastText(t.info.main)))),f_(t.Alert,"successFilledColor",v_((()=>t.getContrastText(t.success.main)))),f_(t.Alert,"warningFilledColor",v_((()=>t.getContrastText(t.warning.main)))),f_(t.Alert,"errorStandardBg",yN(t.error.light,.9)),f_(t.Alert,"infoStandardBg",yN(t.info.light,.9)),f_(t.Alert,"successStandardBg",yN(t.success.light,.9)),f_(t.Alert,"warningStandardBg",yN(t.warning.light,.9)),f_(t.Alert,"errorIconColor",n("palette-error-main")),f_(t.Alert,"infoIconColor",n("palette-info-main")),f_(t.Alert,"successIconColor",n("palette-success-main")),f_(t.Alert,"warningIconColor",n("palette-warning-main")),f_(t.AppBar,"defaultBg",n("palette-grey-100")),f_(t.Avatar,"defaultBg",n("palette-grey-400")),f_(t.Button,"inheritContainedBg",n("palette-grey-300")),f_(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),f_(t.Chip,"defaultBorder",n("palette-grey-400")),f_(t.Chip,"defaultAvatarColor",n("palette-grey-700")),f_(t.Chip,"defaultIconColor",n("palette-grey-700")),f_(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),f_(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),f_(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),f_(t.LinearProgress,"primaryBg",yN(t.primary.main,.62)),f_(t.LinearProgress,"secondaryBg",yN(t.secondary.main,.62)),f_(t.LinearProgress,"errorBg",yN(t.error.main,.62)),f_(t.LinearProgress,"infoBg",yN(t.info.main,.62)),f_(t.LinearProgress,"successBg",yN(t.success.main,.62)),f_(t.LinearProgress,"warningBg",yN(t.warning.main,.62)),f_(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),f_(t.Slider,"primaryTrack",yN(t.primary.main,.62)),f_(t.Slider,"secondaryTrack",yN(t.secondary.main,.62)),f_(t.Slider,"errorTrack",yN(t.error.main,.62)),f_(t.Slider,"infoTrack",yN(t.info.main,.62)),f_(t.Slider,"successTrack",yN(t.success.main,.62)),f_(t.Slider,"warningTrack",yN(t.warning.main,.62));const e=xN(t.background.default,.8);f_(t.SnackbarContent,"bg",e),f_(t.SnackbarContent,"color",v_((()=>t.getContrastText(e)))),f_(t.SpeedDialAction,"fabHoverBg",xN(t.background.paper,.15)),f_(t.StepConnector,"border",n("palette-grey-400")),f_(t.StepContent,"border",n("palette-grey-400")),f_(t.Switch,"defaultColor",n("palette-common-white")),f_(t.Switch,"defaultDisabledColor",n("palette-grey-100")),f_(t.Switch,"primaryDisabledColor",yN(t.primary.main,.62)),f_(t.Switch,"secondaryDisabledColor",yN(t.secondary.main,.62)),f_(t.Switch,"errorDisabledColor",yN(t.error.main,.62)),f_(t.Switch,"infoDisabledColor",yN(t.info.main,.62)),f_(t.Switch,"successDisabledColor",yN(t.success.main,.62)),f_(t.Switch,"warningDisabledColor",yN(t.warning.main,.62)),f_(t.TableCell,"border",yN(fN(t.divider,1),.88)),f_(t.Tooltip,"bg",fN(t.grey[700],.92))}if("dark"===t.mode){f_(t.Alert,"errorColor",yN(t.error.light,.6)),f_(t.Alert,"infoColor",yN(t.info.light,.6)),f_(t.Alert,"successColor",yN(t.success.light,.6)),f_(t.Alert,"warningColor",yN(t.warning.light,.6)),f_(t.Alert,"errorFilledBg",n("palette-error-dark")),f_(t.Alert,"infoFilledBg",n("palette-info-dark")),f_(t.Alert,"successFilledBg",n("palette-success-dark")),f_(t.Alert,"warningFilledBg",n("palette-warning-dark")),f_(t.Alert,"errorFilledColor",v_((()=>t.getContrastText(t.error.dark)))),f_(t.Alert,"infoFilledColor",v_((()=>t.getContrastText(t.info.dark)))),f_(t.Alert,"successFilledColor",v_((()=>t.getContrastText(t.success.dark)))),f_(t.Alert,"warningFilledColor",v_((()=>t.getContrastText(t.warning.dark)))),f_(t.Alert,"errorStandardBg",gN(t.error.light,.9)),f_(t.Alert,"infoStandardBg",gN(t.info.light,.9)),f_(t.Alert,"successStandardBg",gN(t.success.light,.9)),f_(t.Alert,"warningStandardBg",gN(t.warning.light,.9)),f_(t.Alert,"errorIconColor",n("palette-error-main")),f_(t.Alert,"infoIconColor",n("palette-info-main")),f_(t.Alert,"successIconColor",n("palette-success-main")),f_(t.Alert,"warningIconColor",n("palette-warning-main")),f_(t.AppBar,"defaultBg",n("palette-grey-900")),f_(t.AppBar,"darkBg",n("palette-background-paper")),f_(t.AppBar,"darkColor",n("palette-text-primary")),f_(t.Avatar,"defaultBg",n("palette-grey-600")),f_(t.Button,"inheritContainedBg",n("palette-grey-800")),f_(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),f_(t.Chip,"defaultBorder",n("palette-grey-700")),f_(t.Chip,"defaultAvatarColor",n("palette-grey-300")),f_(t.Chip,"defaultIconColor",n("palette-grey-300")),f_(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),f_(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),f_(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),f_(t.LinearProgress,"primaryBg",gN(t.primary.main,.5)),f_(t.LinearProgress,"secondaryBg",gN(t.secondary.main,.5)),f_(t.LinearProgress,"errorBg",gN(t.error.main,.5)),f_(t.LinearProgress,"infoBg",gN(t.info.main,.5)),f_(t.LinearProgress,"successBg",gN(t.success.main,.5)),f_(t.LinearProgress,"warningBg",gN(t.warning.main,.5)),f_(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),f_(t.Slider,"primaryTrack",gN(t.primary.main,.5)),f_(t.Slider,"secondaryTrack",gN(t.secondary.main,.5)),f_(t.Slider,"errorTrack",gN(t.error.main,.5)),f_(t.Slider,"infoTrack",gN(t.info.main,.5)),f_(t.Slider,"successTrack",gN(t.success.main,.5)),f_(t.Slider,"warningTrack",gN(t.warning.main,.5));const e=xN(t.background.default,.98);f_(t.SnackbarContent,"bg",e),f_(t.SnackbarContent,"color",v_((()=>t.getContrastText(e)))),f_(t.SpeedDialAction,"fabHoverBg",xN(t.background.paper,.15)),f_(t.StepConnector,"border",n("palette-grey-600")),f_(t.StepContent,"border",n("palette-grey-600")),f_(t.Switch,"defaultColor",n("palette-grey-300")),f_(t.Switch,"defaultDisabledColor",n("palette-grey-600")),f_(t.Switch,"primaryDisabledColor",gN(t.primary.main,.55)),f_(t.Switch,"secondaryDisabledColor",gN(t.secondary.main,.55)),f_(t.Switch,"errorDisabledColor",gN(t.error.main,.55)),f_(t.Switch,"infoDisabledColor",gN(t.info.main,.55)),f_(t.Switch,"successDisabledColor",gN(t.success.main,.55)),f_(t.Switch,"warningDisabledColor",gN(t.warning.main,.55)),f_(t.TableCell,"border",gN(fN(t.divider,1),.68)),f_(t.Tooltip,"bg",fN(t.grey[700],.92))}g_(t.background,"default"),g_(t.background,"paper"),g_(t.common,"background"),g_(t.common,"onBackground"),g_(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&f_(t[e],"mainChannel",cN(m_(n.main))),n.light&&f_(t[e],"lightChannel",cN(m_(n.light))),n.dark&&f_(t[e],"darkChannel",cN(m_(n.dark))),n.contrastText&&f_(t[e],"contrastTextChannel",cN(m_(n.contrastText))),"text"===e&&(g_(t[e],"primary"),g_(t[e],"secondary")),"action"===e&&(n.active&&g_(t[e],"active"),n.selected&&g_(t[e],"selected")))}))}));for(var N=arguments.length,_=new Array(N>1?N-1:0),S=1;S<N;S++)_[S-1]=arguments[S];w=_.reduce(((e,t)=>Fw(e,t)),w);const C={prefix:i,disableCssColorScheme:o,shouldSkipGeneratingVar:a,getSelector:u_(w)},{vars:j,generateThemeVars:E,generateStyleSheets:T}=FN(w,C);return w.vars=j,Object.entries(w.colorSchemes[w.defaultColorScheme]).forEach((e=>{let[t,n]=e;w[t]=n})),w.generateThemeVars=E,w.generateStyleSheets=T,w.generateSpacing=function(){return mk(d.spacing,lk(this))},w.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(l),w.spacing=w.generateSpacing(),w.shouldSkipGeneratingVar=a,w.unstable_sxConfig=s(s({},Wk),null===d||void 0===d?void 0:d.unstable_sxConfig),w.unstable_sx=function(e){return Uk({sx:e,theme:this})},w.toRuntimeSource=t_,w}const b_=["palette","cssVariables","colorSchemes","defaultColorScheme"];function w_(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=s(s({},!0!==n&&n),{},{palette:IN(s(s({},!0===n?{}:n.palette),{},{mode:t}))}))}const k_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:o=(null===t||void 0===t?void 0:t.mode)}=e,i=u(e,b_),a=o||"light",l=null===r||void 0===r?void 0:r[a],c=s(s({},r),t?{[a]:s(s({},"boolean"!==typeof l&&l),{},{palette:t})}:void 0);for(var d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];if(!1===n){if(!("colorSchemes"in e))return r_(e,...h);let n=t;"palette"in e||c[a]&&(!0!==c[a]?n=c[a].palette:"dark"===a&&(n={mode:"dark"}));const r=r_(s(s({},e),{},{palette:n}),...h);return r.defaultColorScheme=a,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=s(s({},!0!==c.light&&c.light),{},{palette:r.palette}),w_(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=s(s({},!0!==c.dark&&c.dark),{},{palette:r.palette}),w_(r,"light",c.light)),r}return t||"light"in c||"light"!==a||(c.light=!0),x_(s(s({},i),{},{colorSchemes:c,defaultColorScheme:a},"boolean"!==typeof n&&n),...h)}(),N_=k_,__="$$material";const S_=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},C_=e=>S_(e)&&"classes"!==e,j_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Jk,rootShouldForwardProp:r=eN,slotShouldForwardProp:o=eN}=e;function i(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==Uk))));const{name:n,slot:a,skipVariantsResolver:l,skipSx:c,overridesResolver:d=tN(iN(a))}=t,h=u(t,Zk),p=void 0!==l?l:a&&"Root"!==a&&"root"!==a||!1,f=c||!1;let m=eN;"Root"===a||"root"===a?m=r:a?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const g=function(e,t){return Iw(e,t)}(e,s({shouldForwardProp:m,label:oN(n,a)},h)),v=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return nN(t,e)};if($w(e)){const t=Qk(e);return t.variants?function(e){return nN(e,t)}:t.style}return e},y=function(){const t=[];for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];const a=o.map(v),l=[];if(t.push(i),n&&d&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const o={};for(const n in r)o[n]=nN(e,r[n]);return d(e,o)})),n&&!p&&l.push((function(e){var t;const r=e.theme,o=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return o?rN(e,o):null})),f||l.push(Uk),Array.isArray(a[0])){const e=a.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let o;o=[...n,...e,...r],o.raw=[...n,...e.raw,...r],t.unshift(o)}const c=[...t,...a,...l],u=g(...c);return e.muiName&&(u.muiName=e.muiName),u};return g.withConfig&&(y.withConfig=g.withConfig),y}}({themeId:__,defaultTheme:N_,rootShouldForwardProp:C_}),E_=j_,T_={theme:void 0};const A_=function(e){let t,n;return function(r){let o=t;return void 0!==o&&r.theme===n||(T_.theme=r.theme,o=Qk(e(T_)),t=o,n=r.theme),o}};function M_(e,t){const n=s({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const o=r;if("components"===o||"slots"===o)n[o]=s(s({},e[o]),n[o]);else if("componentsProps"===o||"slotProps"===o){const r=e[o],i=t[o];if(i)if(r){n[o]=s({},i);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[o][t]=M_(r[t],i[t])}}else n[o]=i;else n[o]=r||{}}else void 0===n[o]&&(n[o]=e[o])}return n}const R_=a.createContext(void 0);function O_(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?M_(o.defaultProps,r):o.styleOverrides||o.variants?r:M_(o,r)}({props:t,name:n,theme:{components:a.useContext(R_)}})}function I_(e){return O_(e)}const L_=e=>e,D_=(()=>{let e=L_;return{configure(t){e=t},generate:t=>e(t),reset(){e=L_}}})(),P_={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function $_(e,t){const n=P_[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(D_.generate(e),"-").concat(t)}function z_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=$_(e,t,n)})),r}function F_(e){return $_("MuiSvgIcon",e)}z_("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const B_=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],V_=E_("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Jx(n.color))],t["fontSize".concat(Jx(n.fontSize))]]}})(A_((e=>{var t,n,r,o,i,s,a,l,c,d,u,h,p,f,m;let{theme:g}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=g.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(o=g.vars)&&void 0!==o?o:g).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(i=g.typography)||void 0===i||null===(s=i.pxToRem)||void 0===s?void 0:s.call(i,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(a=g.typography)||void 0===a||null===(l=a.pxToRem)||void 0===l?void 0:l.call(a,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=g.typography)||void 0===c||null===(d=c.pxToRem)||void 0===d?void 0:d.call(c,35))||"2.1875rem"}},...Object.entries((null!==(u=g.vars)&&void 0!==u?u:g).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=g.vars)&&void 0!==n?n:g).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(h=(null!==(p=g.vars)&&void 0!==p?p:g).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.active}},{props:{color:"disabled"},style:{color:null===(f=(null!==(m=g.vars)&&void 0!==m?m:g).palette)||void 0===f||null===(f=f.action)||void 0===f?void 0:f.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),W_=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiSvgIcon"}),{children:r,className:o,color:i="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:h=!1,titleAccess:p,viewBox:f="0 0 24 24"}=n,m=u(n,B_),g=a.isValidElement(r)&&"svg"===r.type,v=s(s({},n),{},{color:i,component:l,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:g}),y={};h||(y.viewBox=f);const x=(e=>{const{color:t,fontSize:n,classes:r}=e;return Qx({root:["root","inherit"!==t&&"color".concat(Jx(t)),"fontSize".concat(Jx(n))]},F_,r)})(v);return(0,mn.jsxs)(V_,s(s(s(s({as:l,className:jt(x.root,o),focusable:"false",color:d,"aria-hidden":!p||void 0,role:p?"img":void 0,ref:t},y),m),g&&r.props),{},{ownerState:v,children:[g?r.props.children:r,p?(0,mn.jsx)("title",{children:p}):null]}))}));W_.muiName="SvgIcon";const H_=W_;function U_(e,t){function n(t,n){return(0,mn.jsx)(H_,s(s({"data-testid":void 0,ref:n},t),{},{children:e}))}return n.muiName=H_.muiName,a.memo(a.forwardRef(n))}const G_=U_((0,mn.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.93 6 11v5l-2 2v1h16v-1zm-3.5-6.2-2.8 3.4h2.8V15h-5v-1.8l2.8-3.4H9.5V8h5z"})),q_=U_((0,mn.jsx)("path",{d:"m22 5.72-4.6-3.86-1.29 1.53 4.6 3.86zM7.88 3.39 6.6 1.86 2 5.71l1.29 1.53zM12.5 8H11v6l4.75 2.85.75-1.23-4-2.37zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9m0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"}));let K_=0;const Y_=s({},l).useId;const Q_=function(e){if(void 0!==Y_){const t=Y_();return null!==e&&void 0!==e?e:t}return function(e){const[t,n]=a.useState(e),r=e||t;return a.useEffect((()=>{null==t&&(K_+=1,n("mui-".concat(K_)))}),[t]),r}(e)};function X_(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}function Z_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=a.useRef(void 0),o=a.useCallback((e=>{const n=t.map((t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}}));return()=>{n.forEach((e=>null===e||void 0===e?void 0:e()))}}),t);return a.useMemo((()=>t.every((e=>null==e))?null:e=>{r.current&&(r.current(),r.current=void 0),null!=e&&(r.current=o(e))}),t)}const J_=Z_,eS="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;const tS=function(e){const t=a.useRef(e);return eS((()=>{t.current=e})),a.useRef((function(){return(0,t.current)(...arguments)})).current},nS=tS,rS={};function oS(e,t){const n=a.useRef(rS);return n.current===rS&&(n.current=e(t)),n}class iS{static create(){return new iS}static use(){const e=oS(iS.create).current,[t,n]=a.useState(!1);return e.shouldMount=t,e.setShouldMount=n,a.useEffect(e.mountEffect,[t]),e}constructor(){o(this,"mountEffect",(()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())})),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)}))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)}))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)}))}}function sS(e,t){return sS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sS(e,t)}function aS(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,sS(e,t)}const lS=a.createContext(null);function cS(e,t){var n=Object.create(null);return e&&a.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,a.isValidElement)(e)?t(e):e}(e)})),n}function dS(e,t,n){return null!=n[t]?n[t]:e.props[t]}function uS(e,t,n){var r=cS(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),i=[];for(var s in e)s in t?i.length&&(o[s]=i,i=[]):i.push(s);var a={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var c=o[l][r];a[o[l][r]]=n(c)}a[l]=n(l)}for(r=0;r<i.length;r++)a[i[r]]=n(i[r]);return a}(t,r);return Object.keys(o).forEach((function(i){var s=o[i];if((0,a.isValidElement)(s)){var l=i in t,c=i in r,d=t[i],u=(0,a.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,a.isValidElement)(d)&&(o[i]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:d.props.in,exit:dS(s,"exit",e),enter:dS(s,"enter",e)})):o[i]=(0,a.cloneElement)(s,{in:!1}):o[i]=(0,a.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:dS(s,"exit",e),enter:dS(s,"enter",e)})}})),o}var hS=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},pS=function(e){function t(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}aS(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,i=t.handleExited;return{children:t.firstRender?(n=e,r=i,cS(n.children,(function(e){return(0,a.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:dS(e,"appear",n),enter:dS(e,"enter",n),exit:dS(e,"exit",n)})}))):uS(e,o,i),firstRender:!1}},n.handleExited=function(e,t){var n=cS(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=eb({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=d(e,["component","childFactory"]),o=this.state.contextValue,i=hS(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a.createElement(lS.Provider,{value:o},i):a.createElement(lS.Provider,{value:o},a.createElement(t,r,i))},t}(a.Component);pS.propTypes={},pS.defaultProps={component:"div",childFactory:function(e){return e}};const fS=pS,mS=[];class gS{constructor(){o(this,"currentId",null),o(this,"clear",(()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)})),o(this,"disposeEffect",(()=>this.clear))}static create(){return new gS}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function vS(){const e=oS(gS.create).current;var t;return t=e.disposeEffect,a.useEffect(t,mS),e}n(219);var yS=function(e,t){var n=arguments;if(null==t||!Nw.call(t,"css"))return a.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=jw,o[1]=function(e,t){var n={};for(var r in t)Nw.call(t,r)&&(n[r]=t[r]);return n[_w]=e,n}(e,t);for(var i=2;i<r;i++)o[i]=n[i];return a.createElement.apply(null,o)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(yS||(yS={}));function xS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return vw(t)}function bS(){var e=xS.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const wS=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:o,rippleY:i,rippleSize:s,in:l,onExited:c,timeout:d}=e,[u,h]=a.useState(!1),p=jt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:s,height:s,top:-s/2+i,left:-s/2+o},m=jt(n.child,u&&n.childLeaving,r&&n.childPulsate);return l||u||h(!0),a.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}}),[c,l,d]),(0,mn.jsx)("span",{className:p,style:f,children:(0,mn.jsx)("span",{className:m})})};const kS=z_("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),NS=["center","classes","className"];var _S,SS,CS,jS;const ES=bS(_S||(_S=Jg(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),TS=bS(SS||(SS=Jg(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),AS=bS(CS||(CS=Jg(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),MS=E_("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),RS=E_(wS,{name:"MuiTouchRipple",slot:"Ripple"})(jS||(jS=Jg(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),kS.rippleVisible,ES,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),kS.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),kS.child,kS.childLeaving,TS,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),kS.childPulsate,AS,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),OS=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:o={},className:i}=n,l=u(n,NS),[c,d]=a.useState([]),h=a.useRef(0),p=a.useRef(null);a.useEffect((()=>{p.current&&(p.current(),p.current=null)}),[c]);const f=a.useRef(!1),m=vS(),g=a.useRef(null),v=a.useRef(null),y=a.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:s}=e;d((e=>[...e,(0,mn.jsx)(RS,{classes:{ripple:jt(o.ripple,kS.ripple),rippleVisible:jt(o.rippleVisible,kS.rippleVisible),ripplePulsate:jt(o.ripplePulsate,kS.ripplePulsate),child:jt(o.child,kS.child),childLeaving:jt(o.childLeaving,kS.childLeaving),childPulsate:jt(o.childPulsate,kS.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},h.current)])),h.current+=1,p.current=s}),[o]),x=a.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:o=!1,center:i=r||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(f.current=!0);const a=s?null:v.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(i||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(n-l.top)}if(i)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===g.current&&(g.current=()=>{y({pulsate:o,rippleX:c,rippleY:d,rippleSize:u,cb:n})},m.start(80,(()=>{g.current&&(g.current(),g.current=null)}))):y({pulsate:o,rippleX:c,rippleY:d,rippleSize:u,cb:n})}),[r,y,m]),b=a.useCallback((()=>{x({},{pulsate:!0})}),[x]),w=a.useCallback(((e,t)=>{if(m.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&g.current)return g.current(),g.current=null,void m.start(0,(()=>{w(e,t)}));g.current=null,d((e=>e.length>0?e.slice(1):e)),p.current=t}),[m]);return a.useImperativeHandle(t,(()=>({pulsate:b,start:x,stop:w})),[b,x,w]),(0,mn.jsx)(MS,s(s({className:jt(kS.root,o.root,i),ref:v},l),{},{children:(0,mn.jsx)(fS,{component:null,exit:!0,children:c})}))})),IS=OS;function LS(e){return $_("MuiButtonBase",e)}const DS=z_("MuiButtonBase",["root","disabled","focusVisible"]),PS=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$S=E_("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(DS.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),zS=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:o=!1,children:i,className:l,component:c="button",disabled:d=!1,disableRipple:h=!1,disableTouchRipple:p=!1,focusRipple:f=!1,focusVisibleClassName:m,LinkComponent:g="a",onBlur:v,onClick:y,onContextMenu:x,onDragLeave:b,onFocus:w,onFocusVisible:k,onKeyDown:N,onKeyUp:_,onMouseDown:S,onMouseLeave:C,onMouseUp:j,onTouchEnd:E,onTouchMove:T,onTouchStart:A,tabIndex:M=0,TouchRippleProps:R,touchRippleRef:O,type:I}=n,L=u(n,PS),D=a.useRef(null),P=iS.use(),$=J_(P.ref,O),[z,F]=a.useState(!1);d&&z&&F(!1),a.useImperativeHandle(r,(()=>({focusVisible:()=>{F(!0),D.current.focus()}})),[]);const B=P.shouldMount&&!h&&!d;a.useEffect((()=>{z&&f&&!h&&P.pulsate()}),[h,f,z,P]);const V=FS(P,"start",S,p),W=FS(P,"stop",x,p),H=FS(P,"stop",b,p),U=FS(P,"stop",j,p),G=FS(P,"stop",(e=>{z&&e.preventDefault(),C&&C(e)}),p),q=FS(P,"start",A,p),K=FS(P,"stop",E,p),Y=FS(P,"stop",T,p),Q=FS(P,"stop",(e=>{X_(e.target)||F(!1),v&&v(e)}),!1),X=nS((e=>{D.current||(D.current=e.currentTarget),X_(e.target)&&(F(!0),k&&k(e)),w&&w(e)})),Z=()=>{const e=D.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},J=nS((e=>{f&&!e.repeat&&z&&" "===e.key&&P.stop(e,(()=>{P.start(e)})),e.target===e.currentTarget&&Z()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&Z()&&"Enter"===e.key&&!d&&(e.preventDefault(),y&&y(e))})),ee=nS((e=>{f&&" "===e.key&&z&&!e.defaultPrevented&&P.stop(e,(()=>{P.pulsate(e)})),_&&_(e),y&&e.target===e.currentTarget&&Z()&&" "===e.key&&!e.defaultPrevented&&y(e)}));let te=c;"button"===te&&(L.href||L.to)&&(te=g);const ne={};"button"===te?(ne.type=void 0===I?"button":I,ne.disabled=d):(L.href||L.to||(ne.role="button"),d&&(ne["aria-disabled"]=d));const re=J_(t,D),oe=s(s({},n),{},{centerRipple:o,component:c,disabled:d,disableRipple:h,disableTouchRipple:p,focusRipple:f,tabIndex:M,focusVisible:z}),ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,i=Qx({root:["root",t&&"disabled",n&&"focusVisible"]},LS,o);return n&&r&&(i.root+=" ".concat(r)),i})(oe);return(0,mn.jsxs)($S,s(s(s({as:te,className:jt(ie.root,l),ownerState:oe,onBlur:Q,onClick:y,onContextMenu:W,onFocus:X,onKeyDown:J,onKeyUp:ee,onMouseDown:V,onMouseLeave:G,onMouseUp:U,onDragLeave:H,onTouchEnd:K,onTouchMove:Y,onTouchStart:q,ref:re,tabIndex:d?-1:M,type:I},ne),L),{},{children:[i,B?(0,mn.jsx)(IS,s({ref:$,center:o},R)):null]}))}));function FS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nS((o=>(n&&n(o),r||e[t](o),!0)))}const BS=zS;function VS(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function WS(e){return $_("MuiCircularProgress",e)}z_("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const HS=["className","color","disableShrink","size","style","thickness","value","variant"];var US,GS,qS,KS;const YS=44,QS=bS(US||(US=Jg(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),XS=bS(GS||(GS=Jg(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),ZS="string"!==typeof QS?xS(qS||(qS=Jg(["\n        animation: "," 1.4s linear infinite;\n      "])),QS):null,JS="string"!==typeof XS?xS(KS||(KS=Jg(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),XS):null,eC=E_("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(Jx(n.color))]]}})(A_((e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:ZS||{animation:"".concat(QS," 1.4s linear infinite")}},...Object.entries(t.palette).filter(VS()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}))]}}))),tC=E_("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),nC=E_("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(Jx(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(A_((e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:JS||{animation:"".concat(XS," 1.4s ease-in-out infinite")}}]}}))),rC=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:i=!1,size:a=40,style:l,thickness:c=3.6,value:d=0,variant:h="indeterminate"}=n,p=u(n,HS),f=s(s({},n),{},{color:o,disableShrink:i,size:a,thickness:c,value:d,variant:h}),m=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return Qx({root:["root",n,"color".concat(Jx(r))],svg:["svg"],circle:["circle","circle".concat(Jx(n)),o&&"circleDisableShrink"]},WS,t)})(f),g={},v={},y={};if("determinate"===h){const e=2*Math.PI*((YS-c)/2);g.strokeDasharray=e.toFixed(3),y["aria-valuenow"]=Math.round(d),g.strokeDashoffset="".concat(((100-d)/100*e).toFixed(3),"px"),v.transform="rotate(-90deg)"}return(0,mn.jsx)(eC,s(s(s({className:jt(m.root,r),style:s(s({width:a,height:a},v),l),ownerState:f,ref:t,role:"progressbar"},y),p),{},{children:(0,mn.jsx)(tC,{className:m.svg,ownerState:f,viewBox:"".concat(22," ").concat(22," ").concat(YS," ").concat(YS),children:(0,mn.jsx)(nC,{className:m.circle,style:g,ownerState:f,cx:YS,cy:YS,r:(YS-c)/2,fill:"none",strokeWidth:c})})}))})),oC=rC;function iC(e){return $_("MuiButton",e)}const sC=z_("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const aC=a.createContext({});const lC=a.createContext(void 0),cC=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],dC=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],uC=E_(BS,{shouldForwardProp:e=>C_(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Jx(n.color))],t["size".concat(Jx(n.size))],t["".concat(n.variant,"Size").concat(Jx(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(A_((e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return s(s({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(sC.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(sC.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(sC.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(sC.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(VS()).map((e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.5)"):pN(t.palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):pN(t.palette[n].main,t.palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):pN(t.palette[n].main,t.palette.action.hoverOpacity)}}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):pN(t.palette.text.primary,t.palette.action.hoverOpacity),"--variant-outlinedBg":t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):pN(t.palette.text.primary,t.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(sC.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(sC.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(sC.loading)]:{color:"transparent"}}}]})}))),hC=E_("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t["iconSize".concat(Jx(n.size))]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...dC]}})),pC=E_("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t["iconSize".concat(Jx(n.size))]]}})((e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...dC]}})),fC=E_("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})((e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}})),mC=E_("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),gC=a.forwardRef((function(e,t){const n=a.useContext(aC),r=a.useContext(lC),o=I_({props:M_(n,e),name:"MuiButton"}),{children:i,color:l="primary",component:c="button",className:d,disabled:h=!1,disableElevation:p=!1,disableFocusRipple:f=!1,endIcon:m,focusVisibleClassName:g,fullWidth:v=!1,id:y,loading:x=null,loadingIndicator:b,loadingPosition:w="center",size:k="medium",startIcon:N,type:_,variant:S="text"}=o,C=u(o,cC),j=Q_(y),E=null!==b&&void 0!==b?b:(0,mn.jsx)(oC,{"aria-labelledby":j,color:"inherit",size:16}),T=s(s({},o),{},{color:l,component:c,disabled:h,disableElevation:p,disableFocusRipple:f,fullWidth:v,loading:x,loadingIndicator:E,loadingPosition:w,size:k,type:_,variant:S}),A=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:i,loading:a,loadingPosition:l,classes:c}=e,d=Qx({root:["root",a&&"loading",i,"".concat(i).concat(Jx(t)),"size".concat(Jx(o)),"".concat(i,"Size").concat(Jx(o)),"color".concat(Jx(t)),n&&"disableElevation",r&&"fullWidth",a&&"loadingPosition".concat(Jx(l))],startIcon:["icon","startIcon","iconSize".concat(Jx(o))],endIcon:["icon","endIcon","iconSize".concat(Jx(o))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},iC,c);return s(s({},c),d)})(T),M=(N||x&&"start"===w)&&(0,mn.jsx)(hC,{className:A.startIcon,ownerState:T,children:N||(0,mn.jsx)(mC,{className:A.loadingIconPlaceholder,ownerState:T})}),R=(m||x&&"end"===w)&&(0,mn.jsx)(pC,{className:A.endIcon,ownerState:T,children:m||(0,mn.jsx)(mC,{className:A.loadingIconPlaceholder,ownerState:T})}),O=r||"",I="boolean"===typeof x?(0,mn.jsx)("span",{className:A.loadingWrapper,style:{display:"contents"},children:x&&(0,mn.jsx)(fC,{className:A.loadingIndicator,ownerState:T,children:E})}):null;return(0,mn.jsxs)(uC,s(s({ownerState:T,className:jt(n.className,A.root,d,O),component:c,disabled:h||x,focusRipple:!f,focusVisibleClassName:jt(A.focusVisible,g),ref:t,type:_,id:x?j:y},C),{},{classes:A,children:[M,"end"!==w&&I,i,"end"===w&&I,R]}))})),vC=gC;function yC(e){return $_("MuiButtonGroup",e)}const xC=z_("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","horizontal","vertical","colorPrimary","colorSecondary","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]),bC=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],wC=E_("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(xC.grouped)]:t.grouped},{["& .".concat(xC.grouped)]:t["grouped".concat(Jx(n.orientation))]},{["& .".concat(xC.grouped)]:t["grouped".concat(Jx(n.variant))]},{["& .".concat(xC.grouped)]:t["grouped".concat(Jx(n.variant)).concat(Jx(n.orientation))]},{["& .".concat(xC.grouped)]:t["grouped".concat(Jx(n.variant)).concat(Jx(n.color))]},{["& .".concat(xC.firstButton)]:t.firstButton},{["& .".concat(xC.lastButton)]:t.lastButton},{["& .".concat(xC.middleButton)]:t.middleButton},t.root,t[n.variant],!0===n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,"vertical"===n.orientation&&t.vertical]}})(A_((e=>{let{theme:t}=e;return{display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius,variants:[{props:{variant:"contained"},style:{boxShadow:(t.vars||t).shadows[2]}},{props:{disableElevation:!0},style:{boxShadow:"none"}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"vertical"},style:{flexDirection:"column",["& .".concat(xC.lastButton,",& .").concat(xC.middleButton)]:{borderTopRightRadius:0,borderTopLeftRadius:0},["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}},{props:{orientation:"horizontal"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderTopRightRadius:0,borderBottomRightRadius:0},["& .".concat(xC.lastButton,",& .").concat(xC.middleButton)]:{borderTopLeftRadius:0,borderBottomLeftRadius:0}}},{props:{variant:"text",orientation:"horizontal"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(xC.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},{props:{variant:"text",orientation:"vertical"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(xC.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},...Object.entries(t.palette).filter(VS()).flatMap((e=>{let[n]=e;return[{props:{variant:"text",color:n},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / 0.5)"):pN(t.palette[n].main,.5)}}}]})),{props:{variant:"outlined",orientation:"horizontal"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderRightColor:"transparent","&:hover":{borderRightColor:"currentColor"}},["& .".concat(xC.lastButton,",& .").concat(xC.middleButton)]:{marginLeft:-1}}},{props:{variant:"outlined",orientation:"vertical"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderBottomColor:"transparent","&:hover":{borderBottomColor:"currentColor"}},["& .".concat(xC.lastButton,",& .").concat(xC.middleButton)]:{marginTop:-1}}},{props:{variant:"contained",orientation:"horizontal"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(xC.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},{props:{variant:"contained",orientation:"vertical"},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(xC.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}}}},...Object.entries(t.palette).filter(VS(["dark"])).map((e=>{let[n]=e;return{props:{variant:"contained",color:n},style:{["& .".concat(xC.firstButton,",& .").concat(xC.middleButton)]:{borderColor:(t.vars||t).palette[n].dark}}}}))],["& .".concat(xC.grouped)]:{minWidth:40,boxShadow:"none",props:{variant:"contained"},style:{"&:hover":{boxShadow:"none"}}}}}))),kC=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiButtonGroup"}),{children:r,className:o,color:i="primary",component:l="div",disabled:c=!1,disableElevation:d=!1,disableFocusRipple:h=!1,disableRipple:p=!1,fullWidth:f=!1,orientation:m="horizontal",size:g="medium",variant:v="outlined"}=n,y=u(n,bC),x=s(s({},n),{},{color:i,component:l,disabled:c,disableElevation:d,disableFocusRipple:h,disableRipple:p,fullWidth:f,orientation:m,size:g,variant:v}),b=(e=>{const{classes:t,color:n,disabled:r,disableElevation:o,fullWidth:i,orientation:s,variant:a}=e;return Qx({root:["root",a,s,i&&"fullWidth",o&&"disableElevation","color".concat(Jx(n))],grouped:["grouped","grouped".concat(Jx(s)),"grouped".concat(Jx(a)),"grouped".concat(Jx(a)).concat(Jx(s)),"grouped".concat(Jx(a)).concat(Jx(n)),r&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},yC,t)})(x),w=a.useMemo((()=>({className:b.grouped,color:i,disabled:c,disableElevation:d,disableFocusRipple:h,disableRipple:p,fullWidth:f,size:g,variant:v})),[i,c,d,h,p,f,g,v,b.grouped]),k=function(e){return a.Children.toArray(e).filter((e=>a.isValidElement(e)))}(r),N=k.length,_=e=>{const t=0===e,n=e===N-1;return t&&n?"":t?b.firstButton:n?b.lastButton:b.middleButton};return(0,mn.jsx)(wC,s(s({as:l,role:"group",className:jt(b.root,o),ref:t,ownerState:x},y),{},{children:(0,mn.jsx)(aC.Provider,{value:w,children:k.map(((e,t)=>(0,mn.jsx)(lC.Provider,{value:_(t),children:e},t)))})}))})),NC=kC,_C=U_((0,mn.jsx)("path",{d:"m7 10 5 5 5-5z"}));function SC(e){return e&&e.ownerDocument||document}function CC(e){var t;return parseInt(a.version,10)>=19?(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}function jC(e){return e.substring(2).toLowerCase()}function EC(e){const{children:t,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:o,touchEvent:i="onTouchEnd"}=e,s=a.useRef(!1),l=a.useRef(null),c=a.useRef(!1),d=a.useRef(!1);a.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const u=Z_(CC(t),l),h=tS((e=>{const t=d.current;d.current=!1;const r=SC(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,r))return;if(s.current)return void(s.current=!1);let i;i=e.composedPath?e.composedPath().includes(l.current):!r.documentElement.contains(e.target)||l.current.contains(e.target),i||!n&&t||o(e)})),p=e=>n=>{d.current=!0;const r=t.props[e];r&&r(n)},f={ref:u};return!1!==i&&(f[i]=p(i)),a.useEffect((()=>{if(!1!==i){const e=jC(i),t=SC(l.current),n=()=>{s.current=!0};return t.addEventListener(e,h),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,h),t.removeEventListener("touchmove",n)}}}),[h,i]),!1!==r&&(f[r]=p(r)),a.useEffect((()=>{if(!1!==r){const e=jC(r),t=SC(l.current);return t.addEventListener(e,h),()=>{t.removeEventListener(e,h)}}}),[h,r]),a.cloneElement(t,f)}const TC=U_((0,mn.jsx)("path",{d:"M7.88 3.39 6.6 1.86 2 5.71l1.29 1.53zM22 5.72l-4.6-3.86-1.29 1.53 4.6 3.86zM12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9c4.97 0 9-4.03 9-9s-4.03-9-9-9m0 16c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7m-3-9h3.63L9 15.2V17h6v-2h-3.63L15 10.8V9H9z"}));const AC=a.createContext();const MC=function(e){return"string"===typeof e};const RC=function(e,t,n){return void 0===e||MC(e)?t:s(s({},t),{},{ownerState:s(s({},t.ownerState),n)})};const OC=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const IC=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const LC=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:i}=e;if(!t){const e=jt(null===n||void 0===n?void 0:n.className,i,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),t=s(s(s({},null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),a=s(s(s({},n),o),r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=OC(s(s({},o),r)),l=IC(r),c=IC(o),d=t(a),u=jt(null===d||void 0===d?void 0:d.className,null===n||void 0===n?void 0:n.className,i,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),h=s(s(s(s({},null===d||void 0===d?void 0:d.style),null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),p=s(s(s(s({},d),n),c),l);return u.length>0&&(p.className=u),Object.keys(h).length>0&&(p.style=h),{props:p,internalRef:d.ref}};const DC=function(e,t,n){return"function"===typeof e?e(t,n):e},PC=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const $C=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:i=!1}=e,a=u(e,PC),l=i?{}:DC(r,o),{props:c,internalRef:d}=LC(s(s({},a),{},{externalSlotProps:l})),h=Z_(d,null===l||void 0===l?void 0:l.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return RC(n,s(s({},c),{},{ref:h}),o)},zC=SC;const FC=a.createContext({});function BC(e){return $_("MuiList",e)}z_("MuiList",["root","padding","dense","subheader"]);const VC=["children","className","component","dense","disablePadding","subheader"],WC=E_("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),HC=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiList"}),{children:r,className:o,component:i="ul",dense:l=!1,disablePadding:c=!1,subheader:d}=n,h=u(n,VC),p=a.useMemo((()=>({dense:l})),[l]),f=s(s({},n),{},{component:i,dense:l,disablePadding:c}),m=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return Qx({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},BC,t)})(f);return(0,mn.jsx)(FC.Provider,{value:p,children:(0,mn.jsxs)(WC,s(s({as:i,className:jt(m.root,o),ref:t,ownerState:f},h),{},{children:[d,r]}))})})),UC=HC;function GC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const qC=GC,KC=eS;function YC(e){return SC(e).defaultView||window}const QC=YC,XC=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function ZC(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function JC(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function ej(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function tj(e,t,n,r,o,i){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!r&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&ej(a,i)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const nj=a.forwardRef((function(e,t){const{actions:n,autoFocus:r=!1,autoFocusItem:o=!1,children:i,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:h,variant:p="selectedMenu"}=e,f=u(e,XC),m=a.useRef(null),g=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});KC((()=>{r&&m.current.focus()}),[r]),a.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!m.current.style.width;if(e.clientHeight<m.current.clientHeight&&r){const t="".concat(qC(QC(e)),"px");m.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,m.current.style.width="calc(100% + ".concat(t,")")}return m.current}})),[]);const v=J_(m,t);let y=-1;a.Children.forEach(i,((e,t)=>{a.isValidElement(e)?(e.props.disabled||("selectedMenu"===p&&e.props.selected||-1===y)&&(y=t),y===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(y+=1,y>=i.length&&(y=-1))):y===t&&(y+=1,y>=i.length&&(y=-1))}));const x=a.Children.map(i,((e,t)=>{if(t===y){const t={};return o&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===p&&(t.tabIndex=0),a.cloneElement(e,t)}return e}));return(0,mn.jsx)(UC,s(s({role:"menu",ref:v,className:l,onKeyDown:e=>{const t=m.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(h&&h(e));const r=zC(t).activeElement;if("ArrowDown"===n)e.preventDefault(),tj(t,r,d,c,ZC);else if("ArrowUp"===n)e.preventDefault(),tj(t,r,d,c,JC);else if("Home"===n)e.preventDefault(),tj(t,null,d,c,ZC);else if("End"===n)e.preventDefault(),tj(t,null,d,c,JC);else if(1===n.length){const o=g.current,i=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&i!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(i);const a=r&&!o.repeating&&ej(r,o);o.previousKeyMatched&&(a||tj(t,r,!1,c,ZC,o))?e.preventDefault():o.previousKeyMatched=!1}h&&h(e)},tabIndex:r?0:-1},f),{},{children:x}))})),rj=nj;const oj=function(e){return"string"===typeof e};const ij=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return r.clear=()=>{clearTimeout(t)},r};var sj=n(950);const aj=!1;var lj="unmounted",cj="exited",dj="entering",uj="entered",hj="exiting",pj=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=cj,r.appearStatus=dj):o=uj:o=t.unmountOnExit||t.mountOnEnter?lj:cj,r.state={status:o},r.nextCallback=null,r}aS(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===lj?{status:cj}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==dj&&n!==uj&&(t=dj):n!==dj&&n!==uj||(t=hj)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===dj){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:sj.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===cj&&this.setState({status:lj})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[sj.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||aj?this.safeSetState({status:uj},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:dj},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:uj},(function(){t.props.onEntered(i,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:sj.findDOMNode(this);t&&!aj?(this.props.onExit(r),this.safeSetState({status:hj},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:cj},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:cj},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:sj.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===lj)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,d(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.createElement(lS.Provider,{value:null},"function"===typeof n?n(e,r):a.cloneElement(a.Children.only(n),r))},t}(a.Component);function fj(){}pj.contextType=lS,pj.propTypes={},pj.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:fj,onEntering:fj,onEntered:fj,onExit:fj,onExiting:fj,onExited:fj},pj.UNMOUNTED=lj,pj.EXITED=cj,pj.ENTERING=dj,pj.ENTERED=uj,pj.EXITING=hj;const mj=pj;const gj=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=a.useContext(kw);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},vj=Kk();const yj=function(){return gj(arguments.length>0&&void 0!==arguments[0]?arguments[0]:vj)};function xj(){const e=yj(N_);return e[__]||e}const bj=e=>e.scrollTop;function wj(e,t){var n,r;const{timeout:o,easing:i,style:s={}}=e;return{duration:null!==(n=s.transitionDuration)&&void 0!==n?n:"number"===typeof o?o:o[t.mode]||0,easing:null!==(r=s.transitionTimingFunction)&&void 0!==r?r:"object"===typeof i?i[t.mode]:i,delay:s.transitionDelay}}const kj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Nj=["ownerState"];function _j(e){return"scale(".concat(e,", ").concat(e**2,")")}const Sj={entering:{opacity:1,transform:_j(1)},entered:{opacity:1,transform:"none"}},Cj="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),jj=a.forwardRef((function(e,t){const{addEndListener:n,appear:r=!0,children:o,easing:i,in:l,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:f,onExiting:m,style:g,timeout:v="auto",TransitionComponent:y=mj}=e,x=u(e,kj),b=vS(),w=a.useRef(),k=xj(),N=a.useRef(null),_=J_(N,CC(o),t),S=e=>t=>{if(e){const n=N.current;void 0===t?e(n):e(n,t)}},C=S(h),j=S(((e,t)=>{bj(e);const{duration:n,delay:r,easing:o}=wj({style:g,timeout:v,easing:i},{mode:"enter"});let s;"auto"===v?(s=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=s):s=n,e.style.transition=[k.transitions.create("opacity",{duration:s,delay:r}),k.transitions.create("transform",{duration:Cj?s:.666*s,delay:r,easing:o})].join(","),c&&c(e,t)})),E=S(d),T=S(m),A=S((e=>{const{duration:t,delay:n,easing:r}=wj({style:g,timeout:v,easing:i},{mode:"exit"});let o;"auto"===v?(o=k.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=t,e.style.transition=[k.transitions.create("opacity",{duration:o,delay:n}),k.transitions.create("transform",{duration:Cj?o:.666*o,delay:Cj?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=_j(.75),p&&p(e)})),M=S(f);return(0,mn.jsx)(y,s(s({appear:r,in:l,nodeRef:N,onEnter:j,onEntered:E,onEntering:C,onExit:A,onExited:M,onExiting:T,addEndListener:e=>{"auto"===v&&b.start(w.current||0,e),n&&n(N.current,e)},timeout:"auto"===v?null:v},x),{},{children:(e,t)=>{let{ownerState:n}=t,r=u(t,Nj);return a.cloneElement(o,s({style:s(s(s({opacity:0,transform:_j(.75),visibility:"exited"!==e||l?void 0:"hidden"},Sj[e]),g),o.props.style),ref:_},r))}}))}));jj&&(jj.muiSupportAuto=!0);const Ej=jj,Tj=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Aj(e){const t=[],n=[];return Array.from(e.querySelectorAll(Tj)).forEach(((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Mj(){return!0}const Rj=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:o=!1,getTabbable:i=Aj,isEnabled:s=Mj,open:l}=e,c=a.useRef(!1),d=a.useRef(null),u=a.useRef(null),h=a.useRef(null),p=a.useRef(null),f=a.useRef(!1),m=a.useRef(null),g=Z_(CC(t),m),v=a.useRef(null);a.useEffect((()=>{l&&m.current&&(f.current=!n)}),[n,l]),a.useEffect((()=>{if(!l||!m.current)return;const e=SC(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),f.current&&m.current.focus()),()=>{o||(h.current&&h.current.focus&&(c.current=!0,h.current.focus()),h.current=null)}}),[l]),a.useEffect((()=>{if(!l||!m.current)return;const e=SC(m.current),t=t=>{v.current=t,!r&&s()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==d.current&&e.activeElement!==u.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==d.current&&e.activeElement!==u.current||(n=i(m.current)),n.length>0){var o,a;const e=Boolean((null===(o=v.current)||void 0===o?void 0:o.shiftKey)&&"Tab"===(null===(a=v.current)||void 0===a?void 0:a.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const o=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(o),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,o,s,l,i]);const y=e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0};return(0,mn.jsxs)(a.Fragment,{children:[(0,mn.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelStart"}),a.cloneElement(t,{ref:g,onFocus:e=>{null===h.current&&(h.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,mn.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})};function Oj(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const Ij=a.forwardRef((function(e,t){const{children:n,container:r,disablePortal:o=!1}=e,[i,s]=a.useState(null),l=Z_(a.isValidElement(n)?CC(n):null,t);if(eS((()=>{o||s(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,o]),eS((()=>{if(i&&!o)return Oj(t,i),()=>{Oj(t,null)}}),[t,i,o]),o){if(a.isValidElement(n)){const e={ref:l};return a.cloneElement(n,e)}return n}return i?sj.createPortal(n,i):i}));const Lj=Ij,Dj=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],Pj=["component","slots","slotProps"],$j=["component"];function zj(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:i,internalForwardedProps:a,shouldForwardComponentProp:l=!1}=t,c=u(t,Dj),{component:d,slots:h={[e]:void 0},slotProps:p={[e]:void 0}}=i,f=u(i,Pj),m=h[e]||r,g=DC(p[e],o),v=LC(s(s({className:n},c),{},{externalForwardedProps:"root"===e?f:void 0,externalSlotProps:g})),{props:{component:y},internalRef:x}=v,b=u(v.props,$j),w=Z_(x,null===g||void 0===g?void 0:g.ref,t.ref),k="root"===e?y||d:y;return[m,RC(m,s(s(s(s(s(s({},"root"===e&&!d&&!h[e]&&a),"root"!==e&&!h[e]&&a),b),k&&!l&&{as:k}),k&&l&&{component:k}),{},{ref:w}),o)]}const Fj=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Bj=["ownerState"],Vj={entering:{opacity:1},entered:{opacity:1}},Wj=a.forwardRef((function(e,t){const n=xj(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:i=!0,children:l,easing:c,in:d,onEnter:h,onEntered:p,onEntering:f,onExit:m,onExited:g,onExiting:v,style:y,timeout:x=r,TransitionComponent:b=mj}=e,w=u(e,Fj),k=a.useRef(null),N=J_(k,CC(l),t),_=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},S=_(f),C=_(((e,t)=>{bj(e);const r=wj({style:y,timeout:x,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),h&&h(e,t)})),j=_(p),E=_(v),T=_((e=>{const t=wj({style:y,timeout:x,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),m&&m(e)})),A=_(g);return(0,mn.jsx)(b,s(s({appear:i,in:d,nodeRef:k,onEnter:C,onEntered:j,onEntering:S,onExit:T,onExited:A,onExiting:E,addEndListener:e=>{o&&o(k.current,e)},timeout:x},w),{},{children:(e,t)=>{let{ownerState:n}=t,r=u(t,Bj);return a.cloneElement(l,s({style:s(s(s({opacity:0,visibility:"exited"!==e||d?void 0:"hidden"},Vj[e]),y),l.props.style),ref:N},r))}}))})),Hj=Wj;function Uj(e){return $_("MuiBackdrop",e)}z_("MuiBackdrop",["root","invisible"]);const Gj=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],qj=E_("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Kj=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiBackdrop"}),{children:r,className:o,component:i="div",invisible:a=!1,open:l,components:c={},componentsProps:d={},slotProps:h={},slots:p={},TransitionComponent:f,transitionDuration:m}=n,g=u(n,Gj),v=s(s({},n),{},{component:i,invisible:a}),y=(e=>{const{classes:t,invisible:n}=e;return Qx({root:["root",n&&"invisible"]},Uj,t)})(v),x={slots:s({transition:f,root:c.Root},p),slotProps:s(s({},d),h)},[b,w]=zj("root",{elementType:qj,externalForwardedProps:x,className:jt(y.root,o),ownerState:v}),[k,N]=zj("transition",{elementType:Hj,externalForwardedProps:x,ownerState:v});return(0,mn.jsx)(k,s(s(s({in:l,timeout:m},g),N),{},{children:(0,mn.jsx)(b,s(s({"aria-hidden":!0},w),{},{classes:y,ref:t,children:r}))}))})),Yj=Kj;function Qj(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function Xj(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Zj(e){return parseInt(YC(e).getComputedStyle(e).paddingRight,10)||0}function Jj(e,t,n,r,o){const i=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!i.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Xj(e,o)}))}function eE(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function tE(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=SC(e);return t.body===e?YC(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=GC(YC(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Zj(r)+e,"px");const t=SC(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Zj(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=SC(r).body;else{const t=r.parentElement,n=YC(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const nE=()=>{},rE=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Xj(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Jj(t,e.mount,e.modalRef,r,!0);const o=eE(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=eE(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=tE(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=eE(this.containers,(t=>t.modals.includes(e))),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&Xj(e.modalRef,t),Jj(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&Xj(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const oE=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:o=!1,onTransitionEnter:i,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:h}=e,p=a.useRef({}),f=a.useRef(null),m=a.useRef(null),g=Z_(m,h),[v,y]=a.useState(!u),x=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let b=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(b=!1);const w=()=>(p.current.modalRef=m.current,p.current.mount=f.current,p.current),k=()=>{rE.mount(w(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},N=tS((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||SC(f.current).body;rE.add(w(),e),m.current&&k()})),_=()=>rE.isTopModal(w()),S=tS((e=>{f.current=e,e&&(u&&_()?k():m.current&&Xj(m.current,b))})),C=a.useCallback((()=>{rE.remove(w(),b)}),[b]);a.useEffect((()=>()=>{C()}),[C]),a.useEffect((()=>{u?N():x&&o||C()}),[u,C,x,o,N]);const j=e=>t=>{var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),"Escape"===t.key&&229!==t.which&&_()&&(n||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},E=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=OC(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=s(s({},n),t);return s(s({role:"presentation"},r),{},{onKeyDown:j(r),ref:g})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s(s({"aria-hidden":!0},e),{},{onClick:E(e),open:u})},getTransitionProps:()=>{var e,t;return{onEnter:Qj((()=>{y(!1),i&&i()}),null!==(e=null===c||void 0===c?void 0:c.props.onEnter)&&void 0!==e?e:nE),onExited:Qj((()=>{y(!0),l&&l(),o&&C()}),null!==(t=null===c||void 0===c?void 0:c.props.onExited)&&void 0!==t?t:nE)}},rootRef:g,portalRef:S,isTopModal:_,exited:v,hasTransition:x}};function iE(e){return $_("MuiModal",e)}z_("MuiModal",["root","hidden","backdrop"]);const sE=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],aE=E_("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(A_((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),lE=E_(Yj,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),cE=a.forwardRef((function(e,t){const n=I_({name:"MuiModal",props:e}),{BackdropComponent:r=lE,BackdropProps:o,classes:i,className:l,closeAfterTransition:c=!1,children:d,container:h,component:p,components:f={},componentsProps:m={},disableAutoFocus:g=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:y=!1,disablePortal:x=!1,disableRestoreFocus:b=!1,disableScrollLock:w=!1,hideBackdrop:k=!1,keepMounted:N=!1,onClose:_,onTransitionEnter:S,onTransitionExited:C,open:j,slotProps:E={},slots:T={},theme:A}=n,M=u(n,sE),R=s(s({},n),{},{closeAfterTransition:c,disableAutoFocus:g,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:x,disableRestoreFocus:b,disableScrollLock:w,hideBackdrop:k,keepMounted:N}),{getRootProps:O,getBackdropProps:I,getTransitionProps:L,portalRef:D,isTopModal:P,exited:$,hasTransition:z}=oE(s(s({},R),{},{rootRef:t})),F=s(s({},R),{},{exited:$}),B=(e=>{const{open:t,exited:n,classes:r}=e;return Qx({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},iE,r)})(F),V={};if(void 0===d.props.tabIndex&&(V.tabIndex="-1"),z){const{onEnter:e,onExited:t}=L();V.onEnter=e,V.onExited=t}const W={slots:s({root:f.Root,backdrop:f.Backdrop},T),slotProps:s(s({},m),E)},[H,U]=zj("root",{ref:t,elementType:aE,externalForwardedProps:s(s(s({},W),M),{},{component:p}),getSlotProps:O,ownerState:F,className:jt(l,null===B||void 0===B?void 0:B.root,!F.open&&F.exited&&(null===B||void 0===B?void 0:B.hidden))}),[G,q]=zj("backdrop",{ref:null===o||void 0===o?void 0:o.ref,elementType:r,externalForwardedProps:W,shouldForwardComponentProp:!0,additionalProps:o,getSlotProps:e=>I(s(s({},e),{},{onClick:t=>{null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:jt(null===o||void 0===o?void 0:o.className,null===B||void 0===B?void 0:B.backdrop),ownerState:F});return N||j||z&&!$?(0,mn.jsx)(Lj,{ref:D,container:h,disablePortal:x,children:(0,mn.jsxs)(H,s(s({},U),{},{children:[!k&&r?(0,mn.jsx)(G,s({},q)):null,(0,mn.jsx)(Rj,{disableEnforceFocus:v,disableAutoFocus:g,disableRestoreFocus:b,isEnabled:P,open:j,children:a.cloneElement(d,V)})]}))}):null})),dE=cE;function uE(e){return $_("MuiPaper",e)}z_("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const hE=["className","component","elevation","square","variant"],pE=E_("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(A_((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),fE=a.forwardRef((function(e,t){var n;const r=I_({props:e,name:"MuiPaper"}),o=xj(),{className:i,component:a="div",elevation:l=1,square:c=!1,variant:d="elevation"}=r,h=u(r,hE),p=s(s({},r),{},{component:a,elevation:l,square:c,variant:d}),f=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return Qx({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},uE,o)})(p);return(0,mn.jsx)(pE,s(s({as:a,ownerState:p,className:jt(f.root,i),ref:t},h),{},{style:s(s({},"elevation"===d&&s(s({"--Paper-shadow":(o.vars||o).shadows[l]},o.vars&&{"--Paper-overlay":null===(n=o.vars.overlays)||void 0===n?void 0:n[l]}),!o.vars&&"dark"===o.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(pN("#fff",o_(l)),", ").concat(pN("#fff",o_(l)),")")})),h.style)}))}));function mE(e){return $_("MuiPopover",e)}z_("MuiPopover",["root","paper"]);function gE(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach((r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})})),n}if("function"===typeof e||"function"===typeof t)return r=>{const o="function"===typeof t?t(r):t,i="function"===typeof e?e(s(s({},r),o)):e,a=jt(null===r||void 0===r?void 0:r.className,null===o||void 0===o?void 0:o.className,null===i||void 0===i?void 0:i.className),l=n(i,o);return s(s(s(s(s(s({},o),i),l),!!a&&{className:a}),(null===o||void 0===o?void 0:o.style)&&(null===i||void 0===i?void 0:i.style)&&{style:s(s({},o.style),i.style)}),(null===o||void 0===o?void 0:o.sx)&&(null===i||void 0===i?void 0:i.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(i.sx)?i.sx:[i.sx]]})};const r=t,o=n(e,r),i=jt(null===r||void 0===r?void 0:r.className,null===e||void 0===e?void 0:e.className);return s(s(s(s(s(s({},t),e),o),!!i&&{className:i}),(null===r||void 0===r?void 0:r.style)&&(null===e||void 0===e?void 0:e.style)&&{style:s(s({},r.style),e.style)}),(null===r||void 0===r?void 0:r.sx)&&(null===e||void 0===e?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]})}const vE=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],yE=["slots","slotProps"];function xE(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function bE(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function wE(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?"".concat(e,"px"):e)).join(" ")}function kE(e){return"function"===typeof e?e():e}const NE=E_(dE,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),_E=E_(fE,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),SE=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiPopover"}),{action:r,anchorEl:o,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:d,className:h,container:p,elevation:f=8,marginThreshold:m=16,open:g,PaperProps:v={},slots:y={},slotProps:x={},transformOrigin:b={vertical:"top",horizontal:"left"},TransitionComponent:w,transitionDuration:k="auto",TransitionProps:N={},disableScrollLock:_=!1}=n,S=u(n,vE),C=a.useRef(),j=s(s({},n),{},{anchorOrigin:i,anchorReference:c,elevation:f,marginThreshold:m,transformOrigin:b,TransitionComponent:w,transitionDuration:k,TransitionProps:N}),E=(e=>{const{classes:t}=e;return Qx({root:["root"],paper:["paper"]},mE,t)})(j),T=a.useCallback((()=>{if("anchorPosition"===c)return l;const e=kE(o),t=(e&&1===e.nodeType?e:zC(C.current).body).getBoundingClientRect();return{top:t.top+xE(t,i.vertical),left:t.left+bE(t,i.horizontal)}}),[o,i.horizontal,i.vertical,l,c]),A=a.useCallback((e=>({vertical:xE(e,b.vertical),horizontal:bE(e,b.horizontal)})),[b.horizontal,b.vertical]),M=a.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=A(t);if("none"===c)return{top:null,left:null,transformOrigin:wE(n)};const r=T();let i=r.top-n.vertical,s=r.left-n.horizontal;const a=i+t.height,l=s+t.width,d=QC(kE(o)),u=d.innerHeight-m,h=d.innerWidth-m;if(null!==m&&i<m){const e=i-m;i-=e,n.vertical+=e}else if(null!==m&&a>u){const e=a-u;i-=e,n.vertical+=e}if(null!==m&&s<m){const e=s-m;s-=e,n.horizontal+=e}else if(l>h){const e=l-h;s-=e,n.horizontal+=e}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(s),"px"),transformOrigin:wE(n)}}),[o,c,T,A,m]),[R,O]=a.useState(g),I=a.useCallback((()=>{const e=C.current;if(!e)return;const t=M(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,O(!0)}),[M]);a.useEffect((()=>(_&&window.addEventListener("scroll",I),()=>window.removeEventListener("scroll",I))),[o,_,I]);a.useEffect((()=>{g&&I()})),a.useImperativeHandle(r,(()=>g?{updatePosition:()=>{I()}}:null),[g,I]),a.useEffect((()=>{if(!g)return;const e=ij((()=>{I()})),t=QC(kE(o));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[o,g,I]);let L=k;const D={slots:s({transition:w},y),slotProps:s({transition:N,paper:v},x)},[P,$]=zj("transition",{elementType:Ej,externalForwardedProps:D,ownerState:j,getSlotProps:e=>s(s({},e),{},{onEntering:(t,n)=>{var r;null===(r=e.onEntering)||void 0===r||r.call(e,t,n),I()},onExited:t=>{var n;null===(n=e.onExited)||void 0===n||n.call(e,t),O(!1)}}),additionalProps:{appear:!0,in:g}});"auto"!==k||P.muiSupportAuto||(L=void 0);const z=p||(o?zC(kE(o)).body:void 0),[F,B]=zj("root",{ref:t,elementType:NE,externalForwardedProps:s(s({},D),S),shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:y.backdrop},slotProps:{backdrop:gE("function"===typeof x.backdrop?x.backdrop(j):x.backdrop,{invisible:!0})},container:z,open:g},ownerState:j,className:jt(E.root,h)}),{slots:V,slotProps:W}=B,H=u(B,yE),[U,G]=zj("paper",{ref:C,className:E.paper,elementType:_E,externalForwardedProps:D,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:R?void 0:{opacity:0}},ownerState:j});return(0,mn.jsx)(F,s(s(s({},H),!oj(F)&&{slots:V,slotProps:W,disableScrollLock:_}),{},{children:(0,mn.jsx)(P,s(s({},$),{},{timeout:L,children:(0,mn.jsx)(U,s(s({},G),{},{children:d}))}))}))})),CE=SE;function jE(e){return $_("MuiMenu",e)}z_("MuiMenu",["root","paper","list"]);const EE=["onEntering"],TE=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],AE={vertical:"top",horizontal:"right"},ME={vertical:"top",horizontal:"left"},RE=E_(CE,{shouldForwardProp:e=>C_(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),OE=E_(_E,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),IE=E_(rj,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),LE=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiMenu"}),{autoFocus:r=!0,children:o,className:i,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:p={},PopoverClasses:f,transitionDuration:m="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:y={},slotProps:x={}}=n,b=u(n.TransitionProps,EE),w=u(n,TE),k=(()=>{const e=a.useContext(AC);return null!==e&&void 0!==e&&e})(),N=s(s({},n),{},{autoFocus:r,disableAutoFocusItem:l,MenuListProps:c,onEntering:g,PaperProps:p,transitionDuration:m,TransitionProps:b,variant:v}),_=(e=>{const{classes:t}=e;return Qx({root:["root"],paper:["paper"],list:["list"]},jE,t)})(N),S=r&&!l&&h,C=a.useRef(null);let j=-1;a.Children.map(o,((e,t)=>{a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===v&&e.props.selected||-1===j)&&(j=t))}));const E={slots:y,slotProps:s({list:c,transition:b,paper:p},x)},T=$C({elementType:y.root,externalSlotProps:x.root,ownerState:N,className:[_.root,i]}),[A,M]=zj("paper",{className:_.paper,elementType:OE,externalForwardedProps:E,shouldForwardComponentProp:!0,ownerState:N}),[R,O]=zj("list",{className:jt(_.list,c.className),elementType:IE,shouldForwardComponentProp:!0,externalForwardedProps:E,getSlotProps:e=>s(s({},e),{},{onKeyDown:t=>{var n;(e=>{"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}}),ownerState:N}),I="function"===typeof E.slotProps.transition?E.slotProps.transition(N):E.slotProps.transition;return(0,mn.jsx)(RE,s(s({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:k?"right":"left"},transformOrigin:k?AE:ME,slots:s({root:y.root,paper:A,backdrop:y.backdrop},y.transition&&{transition:y.transition}),slotProps:{root:T,paper:M,backdrop:"function"===typeof x.backdrop?x.backdrop(N):x.backdrop,transition:s(s({},I),{},{onEntering:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];((e,t)=>{C.current&&C.current.adjustStyleForScrollbar(e,{direction:k?"rtl":"ltr"}),g&&g(e,t)})(...n),null===I||void 0===I||null===(e=I.onEntering)||void 0===e||e.call(I,...n)}})},open:h,ref:t,transitionDuration:m,ownerState:N},w),{},{classes:f,children:(0,mn.jsx)(R,s(s({actions:C,autoFocus:r&&(-1===j||l),autoFocusItem:S,variant:v},O),{},{children:o}))}))})),DE=LE;const PE=z_("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const $E=z_("MuiListItemIcon",["root","alignItemsFlexStart"]);const zE=z_("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function FE(e){return $_("MuiMenuItem",e)}const BE=z_("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),VE=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],WE=E_(BS,{shouldForwardProp:e=>C_(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(A_((e=>{let{theme:t}=e;return s(s({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(BE.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):pN(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(BE.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):pN(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(BE.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):pN(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):pN(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(BE.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(BE.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(PE.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(PE.inset)]:{marginLeft:52},["& .".concat(zE.root)]:{marginTop:0,marginBottom:0},["& .".concat(zE.inset)]:{paddingLeft:36},["& .".concat($E.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:s(s({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat($E.root," svg")]:{fontSize:"1.25rem"}})}]})}))),HE=a.forwardRef((function(e,t){const n=I_({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:o="li",dense:i=!1,divider:l=!1,disableGutters:c=!1,focusVisibleClassName:d,role:h="menuitem",tabIndex:p,className:f}=n,m=u(n,VE),g=a.useContext(FC),v=a.useMemo((()=>({dense:i||g.dense||!1,disableGutters:c})),[g.dense,i,c]),y=a.useRef(null);KC((()=>{r&&y.current&&y.current.focus()}),[r]);const x=s(s({},n),{},{dense:v.dense,divider:l,disableGutters:c}),b=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:i,classes:a}=e,l=Qx({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",i&&"selected"]},FE,a);return s(s({},a),l)})(n),w=J_(y,t);let k;return n.disabled||(k=void 0!==p?p:-1),(0,mn.jsx)(FC.Provider,{value:v,children:(0,mn.jsx)(WE,s(s({ref:w,role:h,tabIndex:k,component:o,focusVisibleClassName:jt(b.focusVisible,d),className:jt(b.root,f)},m),{},{ownerState:x,classes:b}))})})),UE=HE,GE=U_((0,mn.jsx)("path",{d:"m10 17 5-5-5-5z"}));var qE,KE;const YE=["parentMenuOpen","label","rightIcon","children","customTheme","className","tabIndex","ContainerProps","rightAnchored"],QE=["ref"],XE=a.forwardRef(((e,t)=>{let{menu:n,isOpen:r,onOpen:o,externallyOpen:i,minWidth:l,absoluteX:c,absoluteY:d,anchorReference:u="anchorEl",style:h,transformOrigin:p,anchorOrigin:f}=e;const[m,g]=a.useState(null),v=r||m;let y=a.useRef(v);t&&(y=t);const x=()=>{o?o(null):g(null)},b=(e,t)=>{const n=e.props,r=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n),n));let o={};return r.menu&&(o={parentMenuOpen:v}),a.createElement(e.type,s(s(s({},r),{},{key:t},o),{},{onClick:t=>{t.stopPropagation(),e.props.onClick&&e.props.onClick(t)},children:r.menu?a.Children.map(r.menu,b):r.children}))},w=v&&v.currentTarget?v.currentTarget:v;return(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsx)(DE,{elevation:5,PaperProps:{sx:{minWidth:null!==l&&void 0!==l?l:0}},style:{zIndex:1e5,position:"absolute"},anchorEl:"anchorEl"===u?w:void 0,transition:"true",open:!!i,anchorPosition:"anchorEl"===u?void 0:{top:d,left:c},anchorReference:u||"anchorEl",onClose:e=>{e.stopPropagation(),y.current&&y.current.contains(e.target)||x()},anchorOrigin:f||{vertical:"bottom",horizontal:"left"},transformOrigin:p||{vertical:"top",horizontal:"left"},children:a.Children.map(n,b)})})})),ZE=a.forwardRef(((e,t)=>{const{parentMenuOpen:n,label:r,rightIcon:o=(0,mn.jsx)(GE,{style:{fontSize:16}}),children:i,customTheme:l,className:c,tabIndex:d,ContainerProps:h={},rightAnchored:p}=e,f=u(e,YE),{ref:m}=h,g=u(h,QE),v=a.useRef(null);a.useImperativeHandle(t,(()=>v.current));const y=a.useRef(null);a.useImperativeHandle(m,(()=>y.current));const x=a.useRef(null),[b,w]=a.useState(!1),k=()=>{var e,t;const n=null===(e=y.current)||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.activeElement;for(const i of null!==(r=null===(o=x.current)||void 0===o?void 0:o.children)&&void 0!==r?r:[]){var r,o;if(i===n)return!0}return!1},N=b&&n;let _;return e.disabled||(_=void 0!==d?d:-1),(0,mn.jsxs)("div",s(s({},g),{},{ref:y,onFocus:e=>{e.target===y.current&&w(!0),null!==g&&void 0!==g&&g.onFocus&&g.onFocus(e)},tabIndex:_,onMouseEnter:e=>{w(!0),null!==g&&void 0!==g&&g.onMouseEnter&&g.onMouseEnter(e)},onMouseLeave:e=>{w(!1),null!==g&&void 0!==g&&g.onMouseLeave&&g.onMouseLeave(e)},onKeyDown:e=>{var t,n;if("Escape"===e.key)return void w(!1);k()&&e.stopPropagation();const r=null===(t=y.current)||void 0===t||null===(n=t.ownerDocument)||void 0===n?void 0:n.activeElement;var o;"ArrowLeft"===e.key&&k()&&(null===(o=y.current)||void 0===o||o.focus());if("ArrowRight"===e.key&&e.target===y.current&&e.target===r){var i;const e=null===(i=x.current)||void 0===i?void 0:i.children[0];null===e||void 0===e||e.focus()}"ArrowDown"!==e.key&&"ArrowUp"!==e.key&&"ArrowLeft"!==e.key||w(!1)},children:[(0,mn.jsxs)(UE,s(s({},f),{},{"data-open":!!N||void 0,className:c,ref:v,children:[r,(0,mn.jsx)("div",{style:{flexGrow:1}}),o]})),(0,mn.jsx)(DE,{hideBackdrop:!0,disablePortal:!0,disableEnforceFocus:!1,disableAutoFocus:!1,style:{pointerEvents:"none",zIndex:1e5},anchorEl:v.current,anchorOrigin:{vertical:"top",horizontal:p?"left":"right"},transformOrigin:{vertical:"top",horizontal:p?"right":"left"},css:l,open:!!N,onClose:()=>{w(!1)},MenuListProps:{"aria-hidden":!1,role:"menu"},children:(0,mn.jsx)("div",{ref:x,style:{pointerEvents:"auto"},children:i})})]}))})),JE=Iw(UE)(qE||(qE=Jg(["\n\n"])));Iw(ZE)(KE||(KE=Jg(["\n\n"])));function eT(e,t){try{if(null===e)return"N/A";let n=new Date(e);if(t)return n.toDateString()+" "+n.toTimeString().substring(0,8)+" UTC";{let t=new Date(e+"Z");return t.toDateString()+" "+t.toLocaleString(["en-us"],{hour12:!0,hour:"2-digit",minute:"2-digit"})}}catch(n){return console.log("warning","Failed to get local time converted: "+n.toString()),e+" UTC"}}function tT(){var e,t;let n=new Date;return new Date(n.getTime()+((null===(e=aT())||void 0===e||null===(t=e.user)||void 0===t?void 0:t.server_skew)||0))}function nT(e){let{children:t,title:n,enterDelay:r,tooltipStyle:o}=e;const i=xj();return(0,mn.jsx)("span",{style:s({display:"inline-block"},o),"data-tooltip-id":"my-tooltip","data-tooltip-content":n,"data-tooltip-variant":"dark"===i.palette.mode?"light":"dark","data-tooltip-delay-show":r||750,children:t})}const rT=e=>{let{closeToast:t}=e;const n=a.useRef(null),[r,o]=a.useState(!1),i=e=>{localStorage.setItem("dnd",JSON.stringify({doNotDisturb:!0,doNotDisturbTimeStart:tT(),doNotDisturbMinutes:e})),sT.clearAll()},s=[{name:(0,mn.jsxs)("div",{children:[(0,mn.jsx)(q_,{})," 5min"]}),click:()=>{i(5)}},{name:(0,mn.jsxs)("div",{children:[(0,mn.jsx)(q_,{})," 30min"]}),click:()=>{i(30)}},{name:(0,mn.jsxs)("div",{children:[(0,mn.jsx)(q_,{})," 1hr"]}),click:()=>{i(60)}},{name:(0,mn.jsxs)("div",{children:[(0,mn.jsx)(q_,{})," 4hr"]}),click:()=>{i(240)}},{name:(0,mn.jsxs)("div",{children:[(0,mn.jsx)(TC,{})," 24hr"]}),click:()=>{i(1440)}}],[l,c]=a.useState(oT());return(0,mn.jsxs)("div",{children:[!l&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(NC,{ref:n,"aria-label":"split button",size:"small",style:{float:"right",width:"70px"},children:(0,mn.jsx)(vC,{"aria-controls":r?"split-button-menu":void 0,"aria-expanded":r?"true":void 0,"aria-haspopup":"menu",size:"small",onClick:e=>{e.preventDefault(),e.stopPropagation(),o(!r)},children:(0,mn.jsxs)(nT,{title:"Snooze Info and Warning messages for a period of time. Revert this at any time in your settings",children:[(0,mn.jsx)(G_,{color:"error"})," ",(0,mn.jsx)(_C,{})]})})}),r&&(0,mn.jsx)(EC,{mouseEvent:"onMouseDown",onClickAway:()=>o(!1),children:(0,mn.jsx)(XE,{isOpen:n.current,onOpen:o,externallyOpen:r,menu:s.map(((e,t)=>(0,mn.jsx)(JE,{disabled:e.disabled,onClick:e=>((e,t)=>{s[t].click(),o(!1)})(0,t),children:e.name},e.name)))})})]}),l&&(0,mn.jsxs)("div",{style:{display:"flex"},children:[(0,mn.jsx)(q_,{color:"warning"})," Info/Warning messages snoozed"]})]})},oT=()=>{let e=localStorage.getItem("dnd");return null===e?(localStorage.setItem("dnd",JSON.stringify({doNotDisturb:!1,doNotDisturbTimeStart:new Date})),!1):(e=JSON.parse(e),!!e.doNotDisturb&&(Math.abs(new Date-new Date(e.doNotDisturbTimeStart))<60*e.doNotDisturbMinutes*1e3||(localStorage.setItem("dnd",JSON.stringify({doNotDisturb:!1,doNotDisturbTimeStart:new Date})),!1)))},iT=e=>{let{msg:t,closeButton:n}=e;return(0,mn.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[t,n]})},sT={success(e,t){document.hidden||nn(e,s({type:"success",onClick:this.dismiss},t))},warning(e,t){document.hidden||oT()||nn((0,mn.jsx)(iT,{msg:e,closeButton:(0,mn.jsx)(rT,{})}),s({type:"warning",onClick:this.dismiss},t))},info(e,t){document.hidden||oT()||nn((0,mn.jsx)(iT,{msg:e,closeButton:(0,mn.jsx)(rT,{})}),s({type:"info",onClick:this.dismiss},t))},error(e,t){document.hidden||nn(e,s({type:"error",onClick:this.dismiss},t))},update(e,t,n){document.hidden||nn.isActive&&nn.update(t,s(s({},n),{},{render:e}))},loading(e,t){document.hidden||nn.loading(e,s({},t))},dismiss(){nn.dismiss(),nn.clearWaitingQueue()},clearAll(){nn.dismiss(),nn.clearWaitingQueue()}},aT=Yx({loggedIn:!1,user:null,access_token:null,refresh_token:null}),lT=(Yx(0),["impersonation_context","cwd","user","host","ip","pid","process_short_name","extra_info","architecture"].sort(),{fontSize:12,navBarOpen:!1,fontFamily:"Verdana, Arial, sans-serif",showMedia:!0,hideUsernames:!1,showIP:!1,showHostname:!1,showOPSECBypassUsername:!1,showCallbackGroups:!1,useDisplayParamsForCLIHistory:!0,interactType:"interactSplit",taskTimestampDisplayField:"timestamp",callbacks_table_columns:["Interact","Host","Domain","User","Description","Last Checkin","Agent","IP","PID"],callbacks_table_filters:{},autoTaskLsOnEmptyDirectories:!1,hideBrowserTasking:!1,hideTaskingContext:!1,taskingContextFields:["impersonation_context","cwd"],"experiment-responseStreamLimit":50,palette:{primary:{dark:"#75859b",light:"#75859b"},error:{dark:"#bd5142",light:"#c42c32"},success:{dark:"#85b089",light:"#0e7004"},secondary:{dark:"#bebebe",light:"#a6a5a5"},info:{dark:"#84b4dc",light:"#4990b2"},warning:{dark:"#dc8455",light:"#ffb74d"},background:{dark:"#282828",light:"#f6f6f6"},paper:{dark:"#282828",light:"#ececec"},tableHeader:{dark:"#484848",light:"#c4c4c4"},tableHover:{dark:"#3c3c3c",light:"#e8e8e8"},pageHeader:{dark:"#1b2025",light:"#706c6e"},text:{dark:"#e4e4e4",light:"#000000"},selectedCallbackColor:{dark:"#26456e",light:"#c6e5f6"},selectedCallbackHierarchyColor:{dark:"#273e5d",light:"#deeff8"},backgroundImage:{dark:null,light:null},navBarIcons:{dark:"#ffffff",light:"#ffffff"},navBarText:{dark:"#ffffff",light:"#ffffff"},navBarColor:{dark:"#194573",light:"#3b606d"},navBarBottomColor:{dark:"#330814",light:"#283581"},taskPromptTextColor:{dark:"#bebebe",light:"#a6a5a5"},taskPromptCommandTextColor:{dark:"#e4e4e4",light:"#000000"},taskContextColor:{dark:"#122848",light:"#acc0da"},taskContextImpersonationColor:{dark:"#641616",light:"#dec0c0"},taskContextExtraColor:{dark:"#2a5953",light:"#a7ce9d"},emptyFolderColor:{dark:"#bebebe",light:"#a6a5a5"}}}),cT=(["ActiveCallbacks","Payloads","PayloadTypesAndC2","Operations","SearchFiles","SearchProxies","Reporting","Eventing"].sort(),Yx(lT)),dT=e=>{localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token);let t=new Date;const n=new Date(e.user.current_utc_time).getTime()-t.getTime();let r=s({},e.user);r.server_skew=n,r.login_time=t,aT({loggedIn:!0,access_token:e.access_token,refresh_token:e.refresh_token,user:s({},r)}),localStorage.setItem("user",JSON.stringify(r)),PQ()},uT=e=>{console.log("failed refresh"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user");let t=document.cookie.split(";");for(let n=0;n<t.length;n++)document.cookie=t[n]+"=; expires="+new Date(0).toUTCString();aT({loggedIn:!1,access_token:null,refresh_token:null,user:null}),cT(lT),sT.clearAll(),e&&PQ()},hT=zd("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),pT=zd("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),fT=zd("network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),mT=zd("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),gT=zd("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),vT=zd("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),yT=zd("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),xT=zd("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),bT=zd("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),wT=zd("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),kT=zd("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),NT=zd("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),_T=zd("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]),ST=zd("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),CT=(0,a.createContext)(void 0);function jT(e){let{children:t}=e;const[n,r]=(0,a.useState)("normal"),o=e=>{r(e),window.dispatchEvent(new CustomEvent("mode-change",{detail:{mode:e}}))};return(0,mn.jsx)(CT.Provider,{value:{mode:n,setMode:o,toggleCombat:()=>{o("combat"===n?"normal":"combat")},toggleRecon:()=>{o("recon"===n?"normal":"recon")}},children:t})}function ET(){const e=(0,a.useContext)(CT);if(void 0===e)throw new Error("useBattleMode must be used within a BattleModeProvider");return s(s({},e),{},{active:"combat"===e.mode,toggleActive:e.toggleCombat})}function TT(){const e=(0,a.useContext)(CT);if(void 0===e)throw new Error("useOperationMode must be used within a BattleModeProvider");return e}var AT=Su?Hd.useLayoutEffect:Hd.useEffect;function MT(e,t){void 0===t&&(t=Object.create(null));var n=Hd.useRef(!1),r=Hf(t.client);Wf(e,Of.Subscription),n.current||(n.current=!0,t.onSubscriptionData&&!1!==globalThis.__DEV__&&fu.warn(t.onData?61:62),t.onSubscriptionComplete&&!1!==globalThis.__DEV__&&fu.warn(t.onComplete?63:64));var o=t.skip,i=t.fetchPolicy,s=t.errorPolicy,a=t.shouldResubscribe,l=t.context,c=t.extensions,d=t.ignoreResults,u=function(e,t){var n=Hd.useRef(void 0);return n.current&&Du(n.current.deps,t)||(n.current={value:e(),deps:t}),n.current.value}((function(){return t.variables}),[t.variables]),h=function(){return function(e,t,n,r,o,i,s){var a={query:t,variables:n,fetchPolicy:r,errorPolicy:o,context:i,extensions:s},l=Kd(Kd({},a),{client:e,result:{loading:!0,data:void 0,error:void 0,variables:n},setResult:function(e){l.result=e}}),c=null;return Object.assign(new Lp((function(t){c||(c=e.subscribe(a));var n=c.subscribe(t);return function(){return n.unsubscribe()}})),{__:l})}(r,e,u,i,s,l,c)},p=Hd.useState(t.skip?null:h),f=p[0],m=p[1],g=Hd.useRef(h);AT((function(){g.current=h})),o?f&&m(f=null):f&&(r===f.__.client&&e===f.__.query&&i===f.__.fetchPolicy&&s===f.__.errorPolicy&&Du(u,f.__.variables)||!1===("function"===typeof a?!!a(t):a))||m(f=h());var v=Hd.useRef(t);Hd.useEffect((function(){v.current=t}));var y=!o&&!d,x=Hd.useMemo((function(){return{loading:y,error:void 0,data:void 0,variables:u}}),[y,u]),b=Hd.useRef(d);AT((function(){b.current=d}));var w=Tu(Hd.useCallback((function(e){if(!f)return function(){};var t=!1,n=f.__.variables,r=f.__.client,o=f.subscribe({next:function(o){var i,s;if(!t){var a={loading:!1,data:o.data,error:am(o),variables:n};f.__.setResult(a),b.current||e(),a.error?null===(s=(i=v.current).onError)||void 0===s||s.call(i,a.error):v.current.onData?v.current.onData({client:r,data:a}):v.current.onSubscriptionData&&v.current.onSubscriptionData({client:r,subscriptionData:a})}},error:function(r){var o,i;r=r instanceof Zu?r:new Zu({protocolErrors:[r]}),t||(f.__.setResult({loading:!1,data:void 0,error:r,variables:n}),b.current||e(),null===(i=(o=v.current).onError)||void 0===i||i.call(o,r))},complete:function(){t||(v.current.onComplete?v.current.onComplete():v.current.onSubscriptionComplete&&v.current.onSubscriptionComplete())}});return function(){t=!0,setTimeout((function(){o.unsubscribe()}))}}),[f]),(function(){return!f||o||d?x:f.__.result}),(function(){return x})),k=Hd.useCallback((function(){fu(!v.current.skip,65),m(g.current())}),[v,g]);return Hd.useMemo((function(){return Kd(Kd({},w),{restart:k})}),[w,k])}const RT=zd("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),OT=zd("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var IT,LT;const DT=Kv(IT||(IT=Jg(["\n    subscription EventFeedNotificationSubscription($fromNow: timestamp!) {\n        operationeventlog_stream(\n            cursor: {initial_value: {timestamp: $fromNow}, ordering: ASC}, \n            batch_size: 1, \n            where: {deleted: {_eq: false}}\n        ) {\n            operator {\n                username\n            }\n            id\n            message\n            level\n            resolved\n            source\n            warning\n        }\n    }\n"]))),PT=Kv(LT||(LT=Jg(['\n    subscription OperationAlertCounts {\n        operation_stream(\n            cursor: {initial_value: {updated_at: "1970-01-01"}, ordering: ASC}, \n            batch_size: 1\n        ) {\n            id\n            alert_count\n        }\n    }\n']))),$T=e=>{let{message:t,username:n,isWarning:r}=e;return(0,mn.jsxs)("div",{className:"flex items-start gap-3",children:[(0,mn.jsx)("div",{className:"p-2 rounded ".concat(r?"bg-amber-500/20":"bg-cyan-500/20"),children:r?(0,mn.jsx)(RT,{size:18,className:"text-amber-400"}):(0,mn.jsx)(OT,{size:18,className:"text-cyan-400"})}),(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[n&&(0,mn.jsx)("div",{className:"text-xs text-gray-400 font-mono mb-1 uppercase tracking-wider",children:n}),(0,mn.jsx)("div",{className:"text-sm text-white break-words whitespace-pre-wrap",children:t})]})]})};function zT(){const[e]=a.useState(tT().toISOString());return MT(DT,{variables:{fromNow:e},fetchPolicy:"no-cache",shouldResubscribe:!0,onError:e=>{console.error("Event notification subscription error:",e)},onData:e=>{var t,n;let{data:r}=e;if((null===(t=r.data)||void 0===t||null===(n=t.operationeventlog_stream)||void 0===n?void 0:n.length)>0){var o;const e=r.data.operationeventlog_stream[0];if("api"===e.level||"debug"===e.level||"agent"===e.level)return;if(e.resolved)return;const t=null===(o=e.operator)||void 0===o?void 0:o.username,n=e.message;e.warning?nn.warning((0,mn.jsx)($T,{message:n,username:t,isWarning:!0}),{autoClose:4e3}):nn.info((0,mn.jsx)($T,{message:n,username:t,isWarning:!1}),{autoClose:3e3})}}}),null}function FT(){const{alertCount:e,setAlertCount:t}=Zg();return MT(PT,{onError:e=>{console.error("Alert count subscription error:",e)},onData:n=>{var r,o,i,s;let{data:a}=n;const l=null!==(r=null===(o=a.data)||void 0===o||null===(i=o.operation_stream)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.alert_count)&&void 0!==r?r:0;l!==e&&t(l)}}),null}function BT(){const{alertCount:e}=Zg();return(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)(Bd,{size:20,className:e>0?"text-amber-400":""}),e>0&&(0,mn.jsx)("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] px-1 flex items-center justify-center  text-[9px] font-bold bg-red-500 text-white rounded-full  animate-pulse shadow-[0_0_8px_rgba(239,68,68,0.6)]",children:e>99?"99+":e})]})}function VT(){const e=ue(),{startLogout:t,isSidebarCollapsed:n,setSidebarCollapsed:r,alertCount:o}=Zg(),{mode:i,toggleCombat:s,toggleRecon:a}=TT(),l=[{icon:(0,mn.jsx)(hT,{size:20}),label:"DASHBOARD",path:"/dashboard",primary:!0},{icon:(0,mn.jsx)(BT,{}),label:"EVENTS",path:"/events",hasAlert:!0,primary:!0},{icon:(0,mn.jsx)(WT,{}),label:"CALLBACKS",path:"/callbacks",primary:!0},{icon:(0,mn.jsx)(pm,{size:20}),label:"PAYLOADS",path:"/payloads",primary:!0},{icon:(0,mn.jsx)(gm,{size:20}),label:"CREDENTIALS",path:"/credentials",primary:!0},{icon:(0,mn.jsx)(pT,{size:20}),label:"FILES",path:"/files",primary:!0},{icon:(0,mn.jsx)(fT,{size:20}),label:"C2 PROFILES",path:"/c2-profiles",primary:!0},{icon:(0,mn.jsx)(bm,{size:20}),label:"OPSEC",path:"/opsec",primary:!0},{icon:(0,mn.jsx)(wm,{size:20}),label:"USERS",path:"/users",primary:!0},{icon:(0,mn.jsx)(mT,{size:20}),label:"SEARCH",path:"/search",primary:!0},{icon:(0,mn.jsx)(Vd,{size:20}),label:"SETTINGS",path:"/settings",primary:!0},{icon:(0,mn.jsx)(fm,{size:20}),label:"OPERATIONS",path:"/operations",primary:!1},{icon:(0,mn.jsx)(Wd,{size:20}),label:"CONSOLE",path:"/console",primary:!1},{icon:(0,mn.jsx)(hm,{size:20}),label:"ARTIFACTS",path:"/artifacts",primary:!1},{icon:(0,mn.jsx)(gT,{size:20}),label:"MITRE",path:"/mitre",primary:!1},{icon:(0,mn.jsx)(vT,{size:20}),label:"REPORTING",path:"/reporting",primary:!1},{icon:(0,mn.jsx)(yT,{size:20}),label:"TAGS",path:"/tags",primary:!1},{icon:(0,mn.jsx)(xT,{size:20}),label:"SCRIPTS",path:"/browser-scripts",primary:!1},{icon:(0,mn.jsx)(bT,{size:20}),label:"EVENTING",path:"/eventing",primary:!1}],c="combat"===i,d="recon"===i,u=n,h=r;return(0,mn.jsxs)(Md.div,{className:Wx("fixed left-0 top-0 h-screen bg-void border-r border-ghost/30 z-50 flex flex-col transition-all duration-300",u?"w-16":"w-64"),initial:!1,children:[(0,mn.jsxs)("div",{className:"h-16 flex items-center border-b border-ghost/30 relative px-4",children:[(0,mn.jsx)("div",{className:"w-8 h-8 bg-signal text-void font-bold flex items-center justify-center rounded-sm shrink-0",children:"M"}),(0,mn.jsx)(On,{children:!u&&(0,mn.jsx)(Md.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"font-bold tracking-[0.2em] text-lg text-signal whitespace-nowrap ml-4 overflow-hidden",children:"MINERVA"})}),(0,mn.jsx)("button",{onClick:()=>h(!u),className:"absolute -right-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-void border border-ghost/50 rounded-full flex items-center justify-center hover:border-signal text-gray-400 hover:text-signal transition-colors z-50",children:u?(0,mn.jsx)(wT,{size:14}):(0,mn.jsx)(kT,{size:14})})]}),(0,mn.jsx)("nav",{className:"flex-1 py-6 space-y-2 overflow-y-auto cyber-scrollbar overflow-x-hidden",children:l.map((t=>{const n=e.pathname.startsWith(t.path);return u&&!t.primary?null:(0,mn.jsxs)(gt,{to:t.path,className:Wx("flex items-center gap-4 px-4 py-3 mx-2 rounded-md transition-all duration-200 group relative overflow-hidden",n?"bg-signal/10 text-signal border border-signal/20":"text-gray-500 hover:text-gray-300 hover:bg-white/5"),children:[n&&(0,mn.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-signal shadow-[0_0_10px_rgba(34,211,238,0.5)]"}),(0,mn.jsx)("span",{className:Wx("relative z-10 transition-transform duration-300 shrink-0",n?"scale-110":"group-hover:scale-110"),children:t.icon}),(0,mn.jsx)(On,{children:!u&&(0,mn.jsx)(Md.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},className:"font-mono text-sm tracking-wider whitespace-nowrap",children:t.label})})]},t.path)}))}),(0,mn.jsxs)("div",{className:Wx("px-4 pb-2 pt-2 border-t border-ghost/10 space-y-2",u?"flex flex-col items-center":""),children:[(0,mn.jsxs)("button",{onClick:a,className:Wx("w-full flex items-center justify-center gap-2 px-3 py-2 rounded border transition-all shadow-lg group relative overflow-hidden",d?"bg-yellow-500/20 border-yellow-400/60 text-yellow-100 hover:bg-yellow-500/30":"bg-black/40 border-gray-700/50 text-gray-400 hover:bg-white/5 hover:border-gray-500 hover:text-white"),title:d?"Exit Recon Mode":"Enter Recon Mode",children:[(0,mn.jsx)(NT,{size:16,className:Wx("transition-colors",d?"text-yellow-400 animate-pulse":"text-gray-500 group-hover:text-yellow-500")}),(0,mn.jsx)(On,{children:!u&&(0,mn.jsx)(Md.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"font-mono text-xs tracking-wider whitespace-nowrap overflow-hidden",children:"RECON"})})]}),(0,mn.jsxs)("button",{onClick:s,className:Wx("w-full flex items-center justify-center gap-2 px-3 py-2 rounded border transition-all shadow-lg group relative overflow-hidden",c?"bg-red-500/20 border-red-400/60 text-red-100 hover:bg-red-500/30":"bg-black/40 border-gray-700/50 text-gray-400 hover:bg-white/5 hover:border-gray-500 hover:text-white"),title:c?"Disengage Combat Protocol":"Engage Combat Protocol",children:[(0,mn.jsx)(_T,{size:16,className:Wx("transition-colors",c?"text-red-400 animate-pulse":"text-gray-500 group-hover:text-red-500")}),(0,mn.jsx)(On,{children:!u&&(0,mn.jsx)(Md.span,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"font-mono text-xs tracking-wider whitespace-nowrap overflow-hidden",children:"COMBAT"})})]})]}),(0,mn.jsx)("div",{className:"p-4 border-t border-ghost/30 bg-black/20 overflow-hidden",children:(0,mn.jsxs)("div",{className:Wx("flex items-center gap-3 transition-all duration-300",u?"justify-center":""),children:[(0,mn.jsx)("div",{className:"w-8 h-8 rounded bg-gray-800 border border-gray-700 flex items-center justify-center shrink-0",children:(0,mn.jsx)(Vd,{size:16,className:"text-gray-400"})}),(0,mn.jsx)(On,{children:!u&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)(Md.div,{initial:{opacity:0,width:0},animate:{opacity:1,width:"auto"},exit:{opacity:0,width:0},className:"flex-1 overflow-hidden whitespace-nowrap",children:[(0,mn.jsx)("div",{className:"text-xs font-mono text-gray-300 truncate",children:"OPERATOR"}),(0,mn.jsxs)("div",{className:"text-[10px] text-green-500 flex items-center gap-1",children:[(0,mn.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse shrink-0"}),"ONLINE"]})]}),(0,mn.jsx)(Md.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},onClick:t,className:"text-gray-500 hover:text-red-500 transition-colors shrink-0",children:(0,mn.jsx)(ST,{size:18})})]})})]})})]})}function WT(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,mn.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}function HT(){var e,t,n,r,o,i,s,l,c,d,u,h,p,f,m,g,v,y;const{startLogout:x,appState:b,setAppState:w,isSidebarCollapsed:k}=Zg(),N=fe(),_=Mu(aT),S=(null===_||void 0===_||null===(e=_.user)||void 0===e?void 0:e.user_id)||(null===_||void 0===_||null===(t=_.user)||void 0===t?void 0:t.id)||0,{data:C,loading:j,error:E,refetch:T}=Jf(Yy,{variables:{operator_id:S},pollInterval:1e4});(0,a.useEffect)((()=>{"LOGIN"===b&&w("DASHBOARD")}),[]);const A={hidden:{opacity:0,y:20},show:{opacity:1,y:0}},M=(null===C||void 0===C?void 0:C.callback)||[],R=(null===C||void 0===C||null===(n=C.all_callbacks)||void 0===n?void 0:n.length)||0,O=(null===C||void 0===C?void 0:C.payload)||[],I=(null===C||void 0===C||null===(r=C.payload_aggregate)||void 0===r||null===(o=r.aggregate)||void 0===o?void 0:o.count)||0,L=(null===C||void 0===C?void 0:C.operation)||[],D=(null===C||void 0===C||null===(i=C.all_operations)||void 0===i?void 0:i.length)||0,P=(null===C||void 0===C?void 0:C.c2profile)||[],$=(null===C||void 0===C?void 0:C.task)||[],z=(null===C||void 0===C?void 0:C.operators)||[],F=$.length,B=$.filter((e=>!0===e.completed)).length,V=$.filter((e=>"error"===e.status)).length,W=$.filter((e=>!0===e.opsec_pre_blocked&&!0!==e.opsec_pre_bypassed||!0===e.opsec_post_blocked&&!0!==e.opsec_post_bypassed)).length,H=(null===C||void 0===C||null===(s=C.credential_aggregate)||void 0===s||null===(l=s.aggregate)||void 0===l?void 0:l.count)||0,U=(null===C||void 0===C||null===(c=C.keylog_aggregate)||void 0===c||null===(d=c.aggregate)||void 0===d?void 0:d.count)||0,G=(null===C||void 0===C||null===(u=C.filemeta_aggregate)||void 0===u||null===(h=u.aggregate)||void 0===h?void 0:h.count)||0,q=(null===C||void 0===C||null===(p=C.uploaded_files)||void 0===p||null===(f=p.aggregate)||void 0===f?void 0:f.count)||0,K=(null===C||void 0===C||null===(m=C.screenshot_aggregate)||void 0===m||null===(g=m.aggregate)||void 0===g?void 0:g.count)||0,Y={name:(null===_||void 0===_||null===(v=_.user)||void 0===v?void 0:v.current_operation)||"NONE",id:(null===_||void 0===_||null===(y=_.user)||void 0===y?void 0:y.current_operation_id)||0};return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void overflow-x-hidden",children:[(0,mn.jsx)(VT,{}),(0,mn.jsx)("div",{className:Wx("transition-all duration-300 p-6 lg:p-12 min-h-screen",k?"ml-16":"ml-64"),children:(0,mn.jsx)(On,{children:"DASHBOARD"===b&&(0,mn.jsxs)(Md.div,{variants:{hidden:{opacity:0,scale:.98},show:{opacity:1,scale:1,transition:{staggerChildren:.08,duration:.4}},exit:{opacity:0,scale:1.05,filter:"blur(10px)",transition:{duration:.8,ease:"easeInOut"}}},initial:"hidden",animate:"show",exit:"exit",children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-12 border-b border-ghost/30 pb-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 border border-signal rounded-full flex items-center justify-center bg-signal text-void font-bold text-xl",children:"M"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"MINERVA"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono tracking-widest",children:"C2_OPERATIONS_CENTER"})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,mn.jsxs)("div",{className:"hidden md:flex items-center gap-4 text-gray-400 text-xs font-mono",children:[(0,mn.jsxs)("span",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:Wx("w-2 h-2 rounded-full",j?"bg-yellow-500 animate-pulse":E?"bg-red-500":"bg-signal animate-pulse")}),E?"CONNECTION_ERROR":"GATEWAY_ONLINE"]}),(0,mn.jsx)("span",{children:"|"}),(0,mn.jsxs)("span",{children:["OP: ",(null===Y||void 0===Y?void 0:Y.name)||"NONE"]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)("button",{onClick:()=>T(),className:Wx("p-2 hover:text-signal text-gray-400 transition-colors",j&&"animate-spin"),title:"Refresh",children:(0,mn.jsx)(Fd,{size:18})}),(0,mn.jsxs)("button",{className:"p-2 hover:text-signal text-gray-400 transition-colors",title:"Notifications",children:[(0,mn.jsx)(Bd,{size:20}),W>0&&(0,mn.jsx)("span",{className:"absolute -mt-4 ml-3 w-4 h-4 bg-red-500 text-white text-[10px] rounded-full flex items-center justify-center",children:W})]}),(0,mn.jsx)("button",{className:"p-2 hover:text-signal text-gray-400 transition-colors",title:"Settings",children:(0,mn.jsx)(Vd,{size:20})})]})]})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-1",onClick:()=>N("/callbacks"),style:{cursor:"pointer"},children:(0,mn.jsx)(Fg,{count:M.length,totalCount:R})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-1",onClick:()=>N("/payloads"),style:{cursor:"pointer"},children:(0,mn.jsx)(Bg,{count:I})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-1",onClick:()=>N("/c2-profiles"),style:{cursor:"pointer"},children:(0,mn.jsx)(Ug,{profiles:P})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-1",onClick:()=>N("/operations"),style:{cursor:"pointer"},children:(0,mn.jsx)(Wg,{operations:L,currentOpId:null===Y||void 0===Y?void 0:Y.id,totalOperations:D})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-2",children:(0,mn.jsx)(Hg,{tasks:$,totalTasks:F,completedTasks:B,errorTasks:V,opsecTasks:W})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-1",children:(0,mn.jsx)(Gg,{credentials:H,keylogs:U,downloads:G,uploads:q,screenshots:K})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-1",children:(0,mn.jsx)(qg,{operators:z})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-2",children:(0,mn.jsx)(Vg,{payloads:O})}),(0,mn.jsx)(Md.div,{variants:A,className:"lg:col-span-2",children:(0,mn.jsx)(Kg,{tasks:$})}),(0,mn.jsxs)(Md.div,{variants:A,className:"lg:col-span-4 border border-ghost/30 bg-black p-4 font-mono text-xs min-h-[200px] text-gray-400 relative overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute top-2 right-2 text-gray-400/50",children:(0,mn.jsx)(Wd,{size:16})}),(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("p",{className:"text-signal",children:"$ system_status.sh"}),(0,mn.jsxs)("p",{children:["Analyzing local environment... ",(0,mn.jsx)("span",{className:"text-signal",children:"[OK]"})]}),(0,mn.jsxs)("p",{children:["Fetching operation data... ",j?(0,mn.jsx)("span",{className:"text-yellow-500",children:"[LOADING]"}):(0,mn.jsx)("span",{className:"text-signal",children:"[OK]"})]}),M.length>0&&(0,mn.jsxs)("p",{className:"text-signal",children:[" ",">"," Active Callbacks: ",M.length," / ",R]}),P.length>0&&(0,mn.jsxs)("p",{children:[" ",">"," C2 Profiles: ",P.filter((e=>e.running)).length," running / ",P.length," total"]}),F>0&&(0,mn.jsxs)("p",{children:[" ",">"," Tasks Executed: ",F," (Completed: ",B,", Errors: ",V,")"]}),W>0&&(0,mn.jsxs)("p",{className:"text-yellow-500",children:[" ",">"," OPSEC REVIEW PENDING: ",W," task(s) awaiting approval"]}),z.length>0&&(0,mn.jsxs)("p",{children:[" ",">"," Active Operators: ",z.map((e=>e.username)).join(", ")]}),G>0&&(0,mn.jsxs)("p",{className:"text-blue-400",children:[" ",">"," Files Downloaded: ",G]}),H>0&&(0,mn.jsxs)("p",{className:"text-yellow-400",children:[" ",">"," Credentials Harvested: ",H]}),K>0&&(0,mn.jsxs)("p",{className:"text-cyan-400",children:[" ",">"," Screenshots Captured: ",K]}),E&&(0,mn.jsxs)("p",{className:"text-red-500",children:[" ",">"," ERROR: ",E.message]}),(0,mn.jsx)("p",{className:"animate-pulse",children:"_"})]})]})]})]},"dashboard-content")})})]})}function UT(e,t){var n=Hf(null===t||void 0===t?void 0:t.client);Wf(e,Of.Mutation);var r=Hd.useState({called:!1,loading:!1,client:n}),o=r[0],i=r[1],s=Hd.useRef({result:o,mutationId:0,isMounted:!0,client:n,mutation:e,options:t});AT((function(){Object.assign(s.current,{client:n,options:t,mutation:e})}));var a=Hd.useCallback((function(e){void 0===e&&(e={});var t=s.current,n=t.options,r=t.mutation,o=Kd(Kd({},n),{mutation:r}),a=e.client||s.current.client;s.current.result.loading||o.ignoreResults||!s.current.isMounted||i(s.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:a});var l=++s.current.mutationId,c=Hu(o,e);return a.mutate(c).then((function(t){var n,r,o=t.data,d=t.errors,u=d&&d.length>0?new Zu({graphQLErrors:d}):void 0,h=e.onError||(null===(n=s.current.options)||void 0===n?void 0:n.onError);if(u&&h&&h(u,c),l===s.current.mutationId&&!c.ignoreResults){var p={called:!0,loading:!1,data:o,error:u,client:a};s.current.isMounted&&!Du(s.current.result,p)&&i(s.current.result=p)}var f=e.onCompleted||(null===(r=s.current.options)||void 0===r?void 0:r.onCompleted);return u||null===f||void 0===f||f(t.data,c),t}),(function(t){var n;if(l===s.current.mutationId&&s.current.isMounted){var r={loading:!1,error:t,data:void 0,called:!0,client:a};Du(s.current.result,r)||i(s.current.result=r)}var o=e.onError||(null===(n=s.current.options)||void 0===n?void 0:n.onError);if(o)return o(t,c),{data:void 0,errors:t};throw t}))}),[]),l=Hd.useCallback((function(){if(s.current.isMounted){var e={called:!1,loading:!1,client:s.current.client};Object.assign(s.current,{mutationId:0,result:e}),i(e)}}),[]);return Hd.useEffect((function(){var e=s.current;return e.isMounted=!0,function(){e.isMounted=!1}}),[]),[a,Kd({reset:l},o)]}function GT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pg(Ct(t))}function qT(e){let{data:t,columns:n,onRowClick:r,isLoading:o}=e;return(0,mn.jsxs)("div",{className:"w-full border border-ghost/30 bg-void relative overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute top-0 left-0 w-2 h-2 border-t border-l border-signal"}),(0,mn.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-signal"}),(0,mn.jsx)("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-signal"}),(0,mn.jsx)("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b border-r border-signal"}),o&&(0,mn.jsx)("div",{className:"absolute inset-0 bg-void/80 z-50 flex items-center justify-center backdrop-blur-sm",children:(0,mn.jsx)("div",{className:"text-signal font-mono animate-pulse",children:"FETCHING_DATA..."})}),(0,mn.jsxs)("table",{className:"w-full text-left font-mono text-sm border-collapse",children:[(0,mn.jsx)("thead",{children:(0,mn.jsxs)("tr",{className:"border-b border-ghost/30 bg-ghost/10",children:[n.map(((e,t)=>(0,mn.jsx)("th",{className:GT("py-3 px-4 text-gray-400 uppercase tracking-wider text-xs font-normal",e.className),children:e.header},t))),(0,mn.jsx)("th",{className:"w-10"})]})}),(0,mn.jsxs)("tbody",{className:"relative",children:[(0,mn.jsx)(On,{initial:!1,children:t.map((e=>(0,mn.jsxs)(Md.tr,{onClick:()=>r&&r(e),className:"border-b border-ghost/10 hover:bg-white/5 transition-colors group cursor-pointer",layout:!0,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:50,backgroundColor:"rgba(220, 38, 38, 0.1)",filter:"blur(5px)",transition:{duration:.4,ease:"anticipate"}},transition:{duration:.3},children:[n.map(((t,n)=>(0,mn.jsx)("td",{className:"py-3 px-4 text-signal/80 group-hover:text-signal transition-colors",children:t.cell?t.cell(e):e[t.accessorKey]},n))),(0,mn.jsx)("td",{className:"pr-4 text-right",children:(0,mn.jsx)(wT,{size:16,className:"text-gray-400 group-hover:text-signal opacity-0 group-hover:opacity-100 transition-all -translate-x-2 group-hover:translate-x-0"})})]},e.id)))}),0===t.length&&!o&&(0,mn.jsx)("tr",{children:(0,mn.jsx)("td",{colSpan:n.length+1,className:"py-12 text-center text-gray-400 italic",children:"NO_DATA_FOUND"})})]})]})]})}const KT=zd("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),YT=zd("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),QT=zd("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),XT=zd("cpu",[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]]),ZT=zd("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),JT=zd("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),eA=zd("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),tA=zd("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),nA=zd("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function rA(e){let{children:t,onClose:n,title:r,icon:o,maxWidth:i="max-w-lg",className:s}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,opacity:0,y:10},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},onClick:e=>e.stopPropagation(),className:Wx("group relative w-full overflow-hidden","bg-[#09090b]/80 backdrop-blur-xl","border border-white/10","shadow-2xl shadow-black/50",i,s),style:{borderRadius:"12px"},children:[(0,mn.jsx)("div",{className:"absolute top-0 inset-x-0 h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(0,mn.jsx)("div",{className:"absolute top-0 inset-x-0 h-[1px] bg-gradient-to-r from-transparent via-signal/50 to-transparent opacity-50 blur-sm"}),(0,mn.jsx)("div",{className:"absolute inset-0 opacity-[0.02] pointer-events-none bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"}),(0,mn.jsxs)("div",{className:"relative z-10 flex flex-col max-h-[90vh]",children:[(r||o)&&(0,mn.jsxs)("div",{className:"flex items-center justify-between px-8 py-6 pb-4",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[o&&(0,mn.jsx)("div",{className:"text-signal/80 p-2 bg-signal/5 rounded-lg border border-signal/10",children:a.cloneElement(o,{size:18})}),(0,mn.jsx)("div",{children:(0,mn.jsx)("h2",{className:"text-lg font-semibold text-white tracking-wide font-sans mb-1 pb-1 border-b-2 border-transparent",children:r})})]}),(0,mn.jsx)("button",{onClick:n,className:"p-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-all duration-200",children:(0,mn.jsx)(nA,{size:18})})]}),(0,mn.jsx)("div",{className:"px-8 pb-8 pt-2 overflow-y-auto cyber-scrollbar",children:t})]})]})})}function oA(e){if("string"===typeof e||"number"===typeof e)return""+e;let t="";if(Array.isArray(e))for(let n,r=0;r<e.length;r++)""!==(n=oA(e[r]))&&(t+=(t&&" ")+n);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var iA={value:()=>{}};function sA(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new aA(r)}function aA(e){this._=e}function lA(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}function cA(e,t,n){for(var r=0,o=e.length;r<o;++r)if(e[r].name===t){e[r]=iA,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}aA.prototype=sA.prototype={constructor:aA,on:function(e,t){var n,r,o=this._,i=(r=o,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,a=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=i[s]).type)o[n]=cA(o[n],e.name,t);else if(null==t)for(n in o)o[n]=cA(o[n],e.name,null);return this}for(;++s<a;)if((n=(e=i[s]).type)&&(n=lA(o[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new aA(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=0,n=(r=this._[e]).length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};const dA=sA;function uA(){}function hA(e){return null==e?uA:function(){return this.querySelector(e)}}function pA(){return[]}function fA(e){return null==e?pA:function(){return this.querySelectorAll(e)}}function mA(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}function gA(e){return function(){return this.matches(e)}}function vA(e){return function(t){return t.matches(e)}}var yA=Array.prototype.find;function xA(){return this.firstElementChild}var bA=Array.prototype.filter;function wA(){return Array.from(this.children)}function kA(e){return new Array(e.length)}function NA(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function _A(e,t,n,r,o,i){for(var s,a=0,l=t.length,c=i.length;a<c;++a)(s=t[a])?(s.__data__=i[a],r[a]=s):n[a]=new NA(e,i[a]);for(;a<l;++a)(s=t[a])&&(o[a]=s)}function SA(e,t,n,r,o,i,s){var a,l,c,d=new Map,u=t.length,h=i.length,p=new Array(u);for(a=0;a<u;++a)(l=t[a])&&(p[a]=c=s.call(l,l.__data__,a,t)+"",d.has(c)?o[a]=l:d.set(c,l));for(a=0;a<h;++a)c=s.call(e,i[a],a,i)+"",(l=d.get(c))?(r[a]=l,l.__data__=i[a],d.delete(c)):n[a]=new NA(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&d.get(p[a])===l&&(o[a]=l)}function CA(e){return e.__data__}function jA(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function EA(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}NA.prototype={constructor:NA,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var TA="http://www.w3.org/1999/xhtml";const AA={svg:"http://www.w3.org/2000/svg",xhtml:TA,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function MA(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),AA.hasOwnProperty(t)?{space:AA[t],local:e}:e}function RA(e){return function(){this.removeAttribute(e)}}function OA(e){return function(){this.removeAttributeNS(e.space,e.local)}}function IA(e,t){return function(){this.setAttribute(e,t)}}function LA(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function DA(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function PA(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $A(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function zA(e){return function(){this.style.removeProperty(e)}}function FA(e,t,n){return function(){this.style.setProperty(e,t,n)}}function BA(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function VA(e,t){return e.style.getPropertyValue(t)||$A(e).getComputedStyle(e,null).getPropertyValue(t)}function WA(e){return function(){delete this[e]}}function HA(e,t){return function(){this[e]=t}}function UA(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function GA(e){return e.trim().split(/^|\s+/)}function qA(e){return e.classList||new KA(e)}function KA(e){this._node=e,this._names=GA(e.getAttribute("class")||"")}function YA(e,t){for(var n=qA(e),r=-1,o=t.length;++r<o;)n.add(t[r])}function QA(e,t){for(var n=qA(e),r=-1,o=t.length;++r<o;)n.remove(t[r])}function XA(e){return function(){YA(this,e)}}function ZA(e){return function(){QA(this,e)}}function JA(e,t){return function(){(t.apply(this,arguments)?YA:QA)(this,e)}}function eM(){this.textContent=""}function tM(e){return function(){this.textContent=e}}function nM(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function rM(){this.innerHTML=""}function oM(e){return function(){this.innerHTML=e}}function iM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function sM(){this.nextSibling&&this.parentNode.appendChild(this)}function aM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function lM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===TA&&t.documentElement.namespaceURI===TA?t.createElement(e):t.createElementNS(n,e)}}function cM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function dM(e){var t=MA(e);return(t.local?cM:lM)(t)}function uM(){return null}function hM(){var e=this.parentNode;e&&e.removeChild(this)}function pM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mM(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function gM(e,t,n){return function(){var r,o=this.__on,i=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(o)for(var s=0,a=o.length;s<a;++s)if((r=o[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=i,r.options=n),void(r.value=t);this.addEventListener(e.type,i,n),r={type:e.type,name:e.name,value:t,listener:i,options:n},o?o.push(r):this.__on=[r]}}function vM(e,t,n){var r=$A(e),o=r.CustomEvent;"function"===typeof o?o=new o(t,n):(o=r.document.createEvent("Event"),n?(o.initEvent(t,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(t,!1,!1)),e.dispatchEvent(o)}function yM(e,t){return function(){return vM(this,e,t)}}function xM(e,t){return function(){return vM(this,e,t.apply(this,arguments))}}KA.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var bM=[null];function wM(e,t){this._groups=e,this._parents=t}function kM(){return new wM([[document.documentElement]],bM)}wM.prototype=kM.prototype={constructor:wM,select:function(e){"function"!==typeof e&&(e=hA(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s,a=t[o],l=a.length,c=r[o]=new Array(l),d=0;d<l;++d)(i=a[d])&&(s=e.call(i,i.__data__,d,a))&&("__data__"in i&&(s.__data__=i.__data__),c[d]=s);return new wM(r,this._parents)},selectAll:function(e){e="function"===typeof e?mA(e):fA(e);for(var t=this._groups,n=t.length,r=[],o=[],i=0;i<n;++i)for(var s,a=t[i],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),o.push(s));return new wM(r,o)},selectChild:function(e){return this.select(null==e?xA:function(e){return function(){return yA.call(this.children,e)}}("function"===typeof e?e:vA(e)))},selectChildren:function(e){return this.selectAll(null==e?wA:function(e){return function(){return bA.call(this.children,e)}}("function"===typeof e?e:vA(e)))},filter:function(e){"function"!==typeof e&&(e=gA(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new wM(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,CA);var n,r=t?SA:_A,o=this._parents,i=this._groups;"function"!==typeof e&&(n=e,e=function(){return n});for(var s=i.length,a=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var u=o[d],h=i[d],p=h.length,f=jA(e.call(u,u&&u.__data__,d,o)),m=f.length,g=l[d]=new Array(m),v=a[d]=new Array(m);r(u,h,g,v,c[d]=new Array(p),f,t);for(var y,x,b=0,w=0;b<m;++b)if(y=g[b]){for(b>=w&&(w=b+1);!(x=v[w])&&++w<m;);y._next=x||null}}return(a=new wM(a,o))._enter=l,a._exit=c,a},enter:function(){return new wM(this._enter||this._groups.map(kA),this._parents)},exit:function(){return new wM(this._exit||this._groups.map(kA),this._parents)},join:function(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,o=n.length,i=r.length,s=Math.min(o,i),a=new Array(o),l=0;l<s;++l)for(var c,d=n[l],u=r[l],h=d.length,p=a[l]=new Array(h),f=0;f<h;++f)(c=d[f]||u[f])&&(p[f]=c);for(;l<o;++l)a[l]=n[l];return new wM(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,s=o[i];--i>=0;)(r=o[i])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=EA);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var s,a=n[i],l=a.length,c=o[i]=new Array(l),d=0;d<l;++d)(s=a[d])&&(c[d]=s);c.sort(t)}return new wM(o,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var s=r[o];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],s=0,a=i.length;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this},attr:function(e,t){var n=MA(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?OA:RA:"function"===typeof t?n.local?PA:DA:n.local?LA:IA)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?zA:"function"===typeof t?BA:FA)(e,t,null==n?"":n)):VA(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?WA:"function"===typeof t?UA:HA)(e,t)):this.node()[e]},classed:function(e,t){var n=GA(e+"");if(arguments.length<2){for(var r=qA(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"===typeof t?JA:t?XA:ZA)(n,t))},text:function(e){return arguments.length?this.each(null==e?eM:("function"===typeof e?nM:tM)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?rM:("function"===typeof e?iM:oM)(e)):this.node().innerHTML},raise:function(){return this.each(sM)},lower:function(){return this.each(aM)},append:function(e){var t="function"===typeof e?e:dM(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:dM(e),r=null==t?uM:"function"===typeof t?t:hA(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(hM)},clone:function(e){return this.select(e?fM:pM)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,o,i=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=i.length;if(!(arguments.length<2)){for(a=t?gM:mM,r=0;r<s;++r)this.each(a(i[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,d=a.length;c<d;++c)for(r=0,l=a[c];r<s;++r)if((o=i[r]).type===l.type&&o.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?xM:yM)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,s=o.length;i<s;++i)(r=o[i])&&(yield r)}};const NM=kM;function _M(e){return"string"===typeof e?new wM([[document.querySelector(e)]],[document.documentElement]):new wM([[e]],bM)}function SM(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}}return[e.pageX,e.pageY]}const CM={passive:!1},jM={capture:!0,passive:!1};function EM(e){e.stopImmediatePropagation()}function TM(e){e.preventDefault(),e.stopImmediatePropagation()}function AM(e){var t=e.document.documentElement,n=_M(e).on("dragstart.drag",TM,jM);"onselectstart"in t?n.on("selectstart.drag",TM,jM):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function MM(e,t){var n=e.document.documentElement,r=_M(e).on("dragstart.drag",null);t&&(r.on("click.drag",TM,jM),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const RM=e=>()=>e;function OM(e,t){let{sourceEvent:n,subject:r,target:o,identifier:i,active:s,x:a,y:l,dx:c,dy:d,dispatch:u}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:u}})}function IM(e){return!e.ctrlKey&&!e.button}function LM(){return this.parentNode}function DM(e,t){return null==t?{x:e.x,y:e.y}:t}function PM(){return navigator.maxTouchPoints||"ontouchstart"in this}function $M(){var e,t,n,r,o=IM,i=LM,s=DM,a=PM,l={},c=dA("start","drag","end"),d=0,u=0;function h(e){e.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",v,CM).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(s,a){if(!r&&o.call(this,s,a)){var l=x(this,i.call(this,s,a),s,a,"mouse");l&&(_M(s.view).on("mousemove.drag",f,jM).on("mouseup.drag",m,jM),AM(s.view),EM(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function f(r){if(TM(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>u}l.mouse("drag",r)}function m(e){_M(e.view).on("mousemove.drag mouseup.drag",null),MM(e.view,n),TM(e),l.mouse("end",e)}function g(e,t){if(o.call(this,e,t)){var n,r,s=e.changedTouches,a=i.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=x(this,a,e,t,s[n].identifier,s[n]))&&(EM(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=l[r[t].identifier])&&(TM(e),n("drag",e,r[t]))}function y(e){var t,n,o=e.changedTouches,i=o.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(n=l[o[t].identifier])&&(EM(e),n("end",e,o[t]))}function x(e,t,n,r,o,i){var a,u,p,f=c.copy(),m=SM(i||n,t);if(null!=(p=s.call(e,new OM("beforestart",{sourceEvent:n,target:h,identifier:o,active:d,x:m[0],y:m[1],dx:0,dy:0,dispatch:f}),r)))return a=p.x-m[0]||0,u=p.y-m[1]||0,function n(i,s,c){var g,v=m;switch(i){case"start":l[o]=n,g=d++;break;case"end":delete l[o],--d;case"drag":m=SM(c||s,t),g=d}f.call(i,e,new OM(i,{sourceEvent:s,subject:p,target:h,identifier:o,active:g,x:m[0]+a,y:m[1]+u,dx:m[0]-v[0],dy:m[1]-v[1],dispatch:f}),r)}}return h.filter=function(e){return arguments.length?(o="function"===typeof e?e:RM(!!e),h):o},h.container=function(e){return arguments.length?(i="function"===typeof e?e:RM(e),h):i},h.subject=function(e){return arguments.length?(s="function"===typeof e?e:RM(e),h):s},h.touchable=function(e){return arguments.length?(a="function"===typeof e?e:RM(!!e),h):a},h.on=function(){var e=c.on.apply(c,arguments);return e===c?h:e},h.clickDistance=function(e){return arguments.length?(u=(e=+e)*e,h):Math.sqrt(u)},h}OM.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function zM(e){return((e=Math.exp(e))+1/e)/2}const FM=function e(t,n,r){function o(e,o){var i,s,a=e[0],l=e[1],c=e[2],d=o[0],u=o[1],h=o[2],p=d-a,f=u-l,m=p*p+f*f;if(m<1e-12)s=Math.log(h/c)/t,i=function(e){return[a+e*p,l+e*f,c*Math.exp(t*e*s)]};else{var g=Math.sqrt(m),v=(h*h-c*c+r*m)/(2*c*n*g),y=(h*h-c*c-r*m)/(2*h*n*g),x=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(y*y+1)-y);s=(b-x)/t,i=function(e){var r,o=e*s,i=zM(x),d=c/(n*g)*(i*(r=t*o+x,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(x));return[a+d*p,l+d*f,c*i/zM(t*o+x)]}}return i.duration=1e3*s*t/Math.SQRT2,i}return o.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},o}(Math.SQRT2,2,4);var BM,VM,WM=0,HM=0,UM=0,GM=0,qM=0,KM=0,YM="object"===typeof performance&&performance.now?performance:Date,QM="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function XM(){return qM||(QM(ZM),qM=YM.now()+KM)}function ZM(){qM=0}function JM(){this._call=this._time=this._next=null}function eR(e,t,n){var r=new JM;return r.restart(e,t,n),r}function tR(){qM=(GM=YM.now())+KM,WM=HM=0;try{!function(){XM(),++WM;for(var e,t=BM;t;)(e=qM-t._time)>=0&&t._call.call(void 0,e),t=t._next;--WM}()}finally{WM=0,function(){var e,t,n=BM,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:BM=t);VM=e,rR(r)}(),qM=0}}function nR(){var e=YM.now(),t=e-GM;t>1e3&&(KM-=t,GM=e)}function rR(e){WM||(HM&&(HM=clearTimeout(HM)),e-qM>24?(e<1/0&&(HM=setTimeout(tR,e-YM.now()-KM)),UM&&(UM=clearInterval(UM))):(UM||(GM=YM.now(),UM=setInterval(nR,1e3)),WM=1,QM(tR)))}function oR(e,t,n){var r=new JM;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}JM.prototype=eR.prototype={constructor:JM,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?XM():+n)+(null==t?0:+t),this._next||VM===this||(VM?VM._next=this:BM=this,VM=this),this._call=e,this._time=n,rR()},stop:function(){this._call&&(this._call=null,this._time=1/0,rR())}};var iR=dA("start","end","cancel","interrupt"),sR=[];function aR(e,t,n,r,o,i){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,o=e.__transition;function i(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)}function s(i){var c,d,u,h;if(1!==n.state)return l();for(c in o)if((h=o[c]).name===n.name){if(3===h.state)return oR(s);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete o[c]):+c<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete o[c])}if(oR((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(i))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(u=n.tween.length),c=0,d=-1;c<u;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++d]=h);r.length=d+1}}function a(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),i=-1,s=r.length;++i<s;)r[i].call(e,o);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete o[t],o)return;delete e.__transition}o[t]=n,n.timer=eR(i,0,n.time)}(e,n,{name:t,index:r,group:o,on:iR,tween:sR,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function lR(e,t){var n=dR(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function cR(e,t){var n=dR(e,t);if(n.state>3)throw new Error("too late; already running");return n}function dR(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uR(e,t){var n,r,o,i=e.__transition,s=!0;if(i){for(o in t=null==t?null:t+"",i)(n=i[o]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete i[o]):s=!1;s&&delete e.__transition}}function hR(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var pR,fR=180/Math.PI,mR={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gR(e,t,n,r,o,i){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:o,translateY:i,rotate:Math.atan2(t,e)*fR,skewX:Math.atan(l)*fR,scaleX:s,scaleY:a}}function vR(e,t,n,r){function o(e){return e.length?e.pop()+" ":""}return function(i,s){var a=[],l=[];return i=e(i),s=e(s),function(e,r,o,i,s,a){if(e!==o||r!==i){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:hR(e,o)},{i:l-2,x:hR(r,i)})}else(o||i)&&s.push("translate("+o+t+i+n)}(i.translateX,i.translateY,s.translateX,s.translateY,a,l),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:hR(e,t)})):t&&n.push(o(n)+"rotate("+t+r)}(i.rotate,s.rotate,a,l),function(e,t,n,i){e!==t?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:hR(e,t)}):t&&n.push(o(n)+"skewX("+t+r)}(i.skewX,s.skewX,a,l),function(e,t,n,r,i,s){if(e!==n||t!==r){var a=i.push(o(i)+"scale(",null,",",null,")");s.push({i:a-4,x:hR(e,n)},{i:a-2,x:hR(t,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,s.scaleX,s.scaleY,a,l),i=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var yR=vR((function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mR:gR(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),xR=vR((function(e){return null==e?mR:(pR||(pR=document.createElementNS("http://www.w3.org/2000/svg","g")),pR.setAttribute("transform",e),(e=pR.transform.baseVal.consolidate())?gR((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):mR)}),", ",")",")");function bR(e,t){var n,r;return function(){var o=cR(this,e),i=o.tween;if(i!==n)for(var s=0,a=(r=n=i).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}o.tween=r}}function wR(e,t,n){var r,o;if("function"!==typeof n)throw new Error;return function(){var i=cR(this,e),s=i.tween;if(s!==r){o=(r=s).slice();for(var a={name:t,value:n},l=0,c=o.length;l<c;++l)if(o[l].name===t){o[l]=a;break}l===c&&o.push(a)}i.tween=o}}function kR(e,t,n){var r=e._id;return e.each((function(){var e=cR(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return dR(e,r).value[t]}}function NR(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _R(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function SR(){}var CR=.7,jR=1/CR,ER="\\s*([+-]?\\d+)\\s*",TR="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",AR="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MR=/^#([0-9a-f]{3,8})$/,RR=new RegExp("^rgb\\(".concat(ER,",").concat(ER,",").concat(ER,"\\)$")),OR=new RegExp("^rgb\\(".concat(AR,",").concat(AR,",").concat(AR,"\\)$")),IR=new RegExp("^rgba\\(".concat(ER,",").concat(ER,",").concat(ER,",").concat(TR,"\\)$")),LR=new RegExp("^rgba\\(".concat(AR,",").concat(AR,",").concat(AR,",").concat(TR,"\\)$")),DR=new RegExp("^hsl\\(".concat(TR,",").concat(AR,",").concat(AR,"\\)$")),PR=new RegExp("^hsla\\(".concat(TR,",").concat(AR,",").concat(AR,",").concat(TR,"\\)$")),$R={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function zR(){return this.rgb().formatHex()}function FR(){return this.rgb().formatRgb()}function BR(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MR.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?VR(t):3===n?new UR(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?WR(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?WR(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=RR.exec(e))?new UR(t[1],t[2],t[3],1):(t=OR.exec(e))?new UR(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=IR.exec(e))?WR(t[1],t[2],t[3],t[4]):(t=LR.exec(e))?WR(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=DR.exec(e))?XR(t[1],t[2]/100,t[3]/100,1):(t=PR.exec(e))?XR(t[1],t[2]/100,t[3]/100,t[4]):$R.hasOwnProperty(e)?VR($R[e]):"transparent"===e?new UR(NaN,NaN,NaN,0):null}function VR(e){return new UR(e>>16&255,e>>8&255,255&e,1)}function WR(e,t,n,r){return r<=0&&(e=t=n=NaN),new UR(e,t,n,r)}function HR(e,t,n,r){return 1===arguments.length?((o=e)instanceof SR||(o=BR(o)),o?new UR((o=o.rgb()).r,o.g,o.b,o.opacity):new UR):new UR(e,t,n,null==r?1:r);var o}function UR(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function GR(){return"#".concat(QR(this.r)).concat(QR(this.g)).concat(QR(this.b))}function qR(){const e=KR(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(YR(this.r),", ").concat(YR(this.g),", ").concat(YR(this.b)).concat(1===e?")":", ".concat(e,")"))}function KR(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function YR(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function QR(e){return((e=YR(e))<16?"0":"")+e.toString(16)}function XR(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new JR(e,t,n,r)}function ZR(e){if(e instanceof JR)return new JR(e.h,e.s,e.l,e.opacity);if(e instanceof SR||(e=BR(e)),!e)return new JR;if(e instanceof JR)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,o=Math.min(t,n,r),i=Math.max(t,n,r),s=NaN,a=i-o,l=(i+o)/2;return a?(s=t===i?(n-r)/a+6*(n<r):n===i?(r-t)/a+2:(t-n)/a+4,a/=l<.5?i+o:2-i-o,s*=60):a=l>0&&l<1?0:s,new JR(s,a,l,e.opacity)}function JR(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function eO(e){return(e=(e||0)%360)<0?e+360:e}function tO(e){return Math.max(0,Math.min(1,e||0))}function nO(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function rO(e,t,n,r,o){var i=e*e,s=i*e;return((1-3*e+3*i-s)*t+(4-6*i+3*s)*n+(1+3*e+3*i-3*s)*r+s*o)/6}NR(SR,BR,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zR,formatHex:zR,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ZR(this).formatHsl()},formatRgb:FR,toString:FR}),NR(UR,HR,_R(SR,{brighter(e){return e=null==e?jR:Math.pow(jR,e),new UR(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?CR:Math.pow(CR,e),new UR(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new UR(YR(this.r),YR(this.g),YR(this.b),KR(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GR,formatHex:GR,formatHex8:function(){return"#".concat(QR(this.r)).concat(QR(this.g)).concat(QR(this.b)).concat(QR(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:qR,toString:qR})),NR(JR,(function(e,t,n,r){return 1===arguments.length?ZR(e):new JR(e,t,n,null==r?1:r)}),_R(SR,{brighter(e){return e=null==e?jR:Math.pow(jR,e),new JR(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?CR:Math.pow(CR,e),new JR(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new UR(nO(e>=240?e-240:e+120,o,r),nO(e,o,r),nO(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new JR(eO(this.h),tO(this.s),tO(this.l),KR(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=KR(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(eO(this.h),", ").concat(100*tO(this.s),"%, ").concat(100*tO(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const oO=e=>()=>e;function iO(e,t){return function(n){return e+n*t}}function sO(e){return 1===(e=+e)?aO:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):oO(isNaN(t)?n:t)}}function aO(e,t){var n=t-e;return n?iO(e,n):oO(isNaN(e)?t:e)}const lO=function e(t){var n=sO(t);function r(e,t){var r=n((e=HR(e)).r,(t=HR(t)).r),o=n(e.g,t.g),i=n(e.b,t.b),s=aO(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=o(t),e.b=i(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function cO(e){return function(t){var n,r,o=t.length,i=new Array(o),s=new Array(o),a=new Array(o);for(n=0;n<o;++n)r=HR(t[n]),i[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return i=e(i),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=i(e),r.g=s(e),r.b=a(e),r+""}}}cO((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),o=e[r],i=e[r+1],s=r>0?e[r-1]:2*o-i,a=r<t-1?e[r+2]:2*i-o;return rO((n-r/t)*t,s,o,i,a)}})),cO((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),o=e[(r+t-1)%t],i=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return rO((n-r/t)*t,o,i,s,a)}}));var dO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uO=new RegExp(dO.source,"g");function hO(e,t){var n,r,o,i=dO.lastIndex=uO.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=dO.exec(e))&&(r=uO.exec(t));)(o=r.index)>i&&(o=t.slice(i,o),a[s]?a[s]+=o:a[++s]=o),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:hR(n,r)})),i=uO.lastIndex;return i<t.length&&(o=t.slice(i),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function pO(e,t){var n;return("number"===typeof t?hR:t instanceof BR?lO:(n=BR(t))?(t=n,lO):hO)(e,t)}function fO(e){return function(){this.removeAttribute(e)}}function mO(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gO(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function vO(e,t,n){var r,o,i=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function yO(e,t,n){var r,o,i;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===o?i:(o=a,i=t(r=s,l));this.removeAttribute(e)}}function xO(e,t,n){var r,o,i;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===o?i:(o=a,i=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function bO(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,o)),n}return o._value=t,o}function wO(e,t){var n,r;function o(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,o)),n}return o._value=t,o}function kO(e,t){return function(){lR(this,e).delay=+t.apply(this,arguments)}}function NO(e,t){return t=+t,function(){lR(this,e).delay=t}}function _O(e,t){return function(){cR(this,e).duration=+t.apply(this,arguments)}}function SO(e,t){return t=+t,function(){cR(this,e).duration=t}}var CO=NM.prototype.constructor;function jO(e){return function(){this.style.removeProperty(e)}}var EO=0;function TO(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function AO(){return++EO}var MO=NM.prototype;TO.prototype=function(e){return NM().transition(e)}.prototype={constructor:TO,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=hA(e));for(var r=this._groups,o=r.length,i=new Array(o),s=0;s<o;++s)for(var a,l,c=r[s],d=c.length,u=i[s]=new Array(d),h=0;h<d;++h)(a=c[h])&&(l=e.call(a,a.__data__,h,c))&&("__data__"in a&&(l.__data__=a.__data__),u[h]=l,aR(u[h],t,n,h,u,dR(a,n)));return new TO(i,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=fA(e));for(var r=this._groups,o=r.length,i=[],s=[],a=0;a<o;++a)for(var l,c=r[a],d=c.length,u=0;u<d;++u)if(l=c[u]){for(var h,p=e.call(l,l.__data__,u,c),f=dR(l,n),m=0,g=p.length;m<g;++m)(h=p[m])&&aR(h,t,n,m,p,f);i.push(p),s.push(l)}return new TO(i,s,t,n)},selectChild:MO.selectChild,selectChildren:MO.selectChildren,filter:function(e){"function"!==typeof e&&(e=gA(e));for(var t=this._groups,n=t.length,r=new Array(n),o=0;o<n;++o)for(var i,s=t[o],a=s.length,l=r[o]=[],c=0;c<a;++c)(i=s[c])&&e.call(i,i.__data__,c,s)&&l.push(i);return new TO(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,o=n.length,i=Math.min(r,o),s=new Array(r),a=0;a<i;++a)for(var l,c=t[a],d=n[a],u=c.length,h=s[a]=new Array(u),p=0;p<u;++p)(l=c[p]||d[p])&&(h[p]=l);for(;a<r;++a)s[a]=t[a];return new TO(s,this._parents,this._name,this._id)},selection:function(){return new CO(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=AO(),r=this._groups,o=r.length,i=0;i<o;++i)for(var s,a=r[i],l=a.length,c=0;c<l;++c)if(s=a[c]){var d=dR(s,t);aR(s,e,n,c,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new TO(r,this._parents,e,n)},call:MO.call,nodes:MO.nodes,node:MO.node,size:MO.size,empty:MO.empty,each:MO.each,on:function(e,t){var n=this._id;return arguments.length<2?dR(this.node(),n).on.on(e):this.each(function(e,t,n){var r,o,i=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?lR:cR;return function(){var s=i(this,e),a=s.on;a!==r&&(o=(r=a).copy()).on(t,n),s.on=o}}(n,e,t))},attr:function(e,t){var n=MA(e),r="transform"===n?xR:pO;return this.attrTween(e,"function"===typeof t?(n.local?xO:yO)(n,r,kR(this,"attr."+e,t)):null==t?(n.local?mO:fO)(n):(n.local?vO:gO)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=MA(e);return this.tween(n,(r.local?bO:wO)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?yR:pO;return null==t?this.styleTween(e,function(e,t){var n,r,o;return function(){var i=VA(this,e),s=(this.style.removeProperty(e),VA(this,e));return i===s?null:i===n&&s===r?o:o=t(n=i,r=s)}}(e,r)).on("end.style."+e,jO(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,o,i;return function(){var s=VA(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=VA(this,e)),s===l?null:s===r&&l===o?i:(o=l,i=t(r=s,a))}}(e,r,kR(this,"style."+e,t))).each(function(e,t){var n,r,o,i,s="style."+t,a="end."+s;return function(){var l=cR(this,e),c=l.on,d=null==l.value[s]?i||(i=jO(t)):void 0;c===n&&o===d||(r=(n=c).copy()).on(a,o=d),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,o,i=n+"";return function(){var s=VA(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,o;function i(){var i=t.apply(this,arguments);return i!==o&&(r=(o=i)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,i,n)),r}return i._value=t,i}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(kR(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,o=dR(this.node(),n).tween,i=0,s=o.length;i<s;++i)if((r=o[i]).name===e)return r.value;return null}return this.each((null==t?bR:wR)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?kO:NO)(t,e)):dR(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?_O:SO)(t,e)):dR(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){cR(this,e).ease=t}}(t,e)):dR(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;cR(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,o=n.size();return new Promise((function(i,s){var a={value:s},l={value:function(){0===--o&&i()}};n.each((function(){var n=cR(this,r),o=n.on;o!==e&&((t=(e=o).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===o&&i()}))},[Symbol.iterator]:MO[Symbol.iterator]};var RO={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function OO(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}NM.prototype.interrupt=function(e){return this.each((function(){uR(this,e)}))},NM.prototype.transition=function(e){var t,n;e instanceof TO?(t=e._id,e=e._name):(t=AO(),(n=RO).time=XM(),e=null==e?null:e+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var s,a=r[i],l=a.length,c=0;c<l;++c)(s=a[c])&&aR(s,e,t,c,a,n||OO(s,t));return new TO(r,this._parents,e,t)};const IO=e=>()=>e;function LO(e,t){let{sourceEvent:n,target:r,transform:o,dispatch:i}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:o,enumerable:!0,configurable:!0},_:{value:i}})}function DO(e,t,n){this.k=e,this.x=t,this.y=n}DO.prototype={constructor:DO,scale:function(e){return 1===e?this:new DO(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new DO(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var PO=new DO(1,0,0);function $O(e){for(;!e.__zoom;)if(!(e=e.parentNode))return PO;return e.__zoom}function zO(e){e.stopImmediatePropagation()}function FO(e){e.preventDefault(),e.stopImmediatePropagation()}function BO(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function VO(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function WO(){return this.__zoom||PO}function HO(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function UO(){return navigator.maxTouchPoints||"ontouchstart"in this}function GO(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),s>i?(i+s)/2:Math.min(0,i)||Math.max(0,s))}function qO(){var e,t,n,r=BO,o=VO,i=GO,s=HO,a=UO,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],d=250,u=FM,h=dA("start","zoom","end"),p=0,f=10;function m(e){e.property("__zoom",WO).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",_).filter(a).on("touchstart.zoom",S).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new DO(t,e.x,e.y)}function v(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new DO(e.k,r,o)}function y(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,i=arguments,s=b(e,i).event(r),a=o.apply(e,i),l=null==n?y(a):"function"===typeof n?n.apply(e,i):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),d=e.__zoom,h="function"===typeof t?t.apply(e,i):t,p=u(d.invert(l).concat(c/d.k),h.invert(l).concat(c/h.k));return function(e){if(1===e)e=h;else{var t=p(e),n=c/t[2];e=new DO(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function b(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=o.apply(e,t),this.taps=0}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var a=b(this,n).event(e),d=this.__zoom,u=Math.max(l[0],Math.min(l[1],d.k*Math.pow(2,s.apply(this,arguments)))),h=SM(e);if(a.wheel)a.mouse[0][0]===h[0]&&a.mouse[0][1]===h[1]||(a.mouse[1]=d.invert(a.mouse[0]=h)),clearTimeout(a.wheel);else{if(d.k===u)return;a.mouse=[h,d.invert(h)],uR(this),a.start()}FO(e),a.wheel=setTimeout((function(){a.wheel=null,a.end()}),150),a.zoom("mouse",i(v(g(d,u),a.mouse[0],a.mouse[1]),a.extent,c))}}function N(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),s=1;s<t;s++)o[s-1]=arguments[s];if(!n&&r.apply(this,arguments)){var a=e.currentTarget,l=b(this,o,!0).event(e),d=_M(e.view).on("mousemove.zoom",(function(e){if(FO(e),!l.moved){var t=e.clientX-h,n=e.clientY-f;l.moved=t*t+n*n>p}l.event(e).zoom("mouse",i(v(l.that.__zoom,l.mouse[0]=SM(e,a),l.mouse[1]),l.extent,c))}),!0).on("mouseup.zoom",(function(e){d.on("mousemove.zoom mouseup.zoom",null),MM(e.view,l.moved),FO(e),l.event(e).end()}),!0),u=SM(e,a),h=e.clientX,f=e.clientY;AM(e.view),zO(e),l.mouse=[u,this.__zoom.invert(u)],uR(this),l.start()}}function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(r.apply(this,arguments)){var a=this.__zoom,l=SM(e.changedTouches?e.changedTouches[0]:e,this),u=a.invert(l),h=a.k*(e.shiftKey?.5:2),p=i(v(g(a,h),l,u),o.apply(this,n),c);FO(e),d>0?_M(this).transition().duration(d).call(x,p,l,e):_M(this).call(m.transform,p,l,e)}}function S(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(r.apply(this,arguments)){var a,l,c,d,u=n.touches,h=u.length,p=b(this,i,n.changedTouches.length===h).event(n);for(zO(n),l=0;l<h;++l)d=[d=SM(c=u[l],this),this.__zoom.invert(d),c.identifier],p.touch0?p.touch1||p.touch0[2]===d[2]||(p.touch1=d,p.taps=0):(p.touch0=d,a=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(p.taps<2&&(t=d[0],e=setTimeout((function(){e=null}),500)),uR(this),p.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o,s,a,l,d=b(this,n).event(e),u=e.changedTouches,h=u.length;for(FO(e),o=0;o<h;++o)a=SM(s=u[o],this),d.touch0&&d.touch0[2]===s.identifier?d.touch0[0]=a:d.touch1&&d.touch1[2]===s.identifier&&(d.touch1[0]=a);if(s=d.that.__zoom,d.touch1){var p=d.touch0[0],f=d.touch0[1],m=d.touch1[0],y=d.touch1[1],x=(x=m[0]-p[0])*x+(x=m[1]-p[1])*x,w=(w=y[0]-f[0])*w+(w=y[1]-f[1])*w;s=g(s,Math.sqrt(x/w)),a=[(p[0]+m[0])/2,(p[1]+m[1])/2],l=[(f[0]+y[0])/2,(f[1]+y[1])/2]}else{if(!d.touch0)return;a=d.touch0[0],l=d.touch0[1]}d.zoom("touch",i(v(s,a,l),d.extent,c))}}function j(e){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];if(this.__zooming){var s,a,l=b(this,o).event(e),c=e.changedTouches,d=c.length;for(zO(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),500),s=0;s<d;++s)a=c[s],l.touch0&&l.touch0[2]===a.identifier?delete l.touch0:l.touch1&&l.touch1[2]===a.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(a=SM(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<f)){var u=_M(this).on("dblclick.zoom");u&&u.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",WO),e!==o?x(e,t,n,r):o.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=o.apply(this,arguments),r=this.__zoom,s=null==n?y(e):"function"===typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"===typeof t?t.apply(this,arguments):t;return i(v(g(r,l),s,a),e,c)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return i(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),o.apply(this,arguments),c)}),null,r)},m.translateTo=function(e,t,n,r,s){m.transform(e,(function(){var e=o.apply(this,arguments),s=this.__zoom,a=null==r?y(e):"function"===typeof r?r.apply(this,arguments):r;return i(PO.translate(a[0],a[1]).scale(s.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,c)}),r,s)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=_M(this.that).datum();h.call(e,this.that,new LO(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(s="function"===typeof e?e:IO(+e),m):s},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:IO(!!e),m):r},m.touchable=function(e){return arguments.length?(a="function"===typeof e?e:IO(!!e),m):a},m.extent=function(e){return arguments.length?(o="function"===typeof e?e:IO([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):o},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],m):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},m.constrain=function(e){return arguments.length?(i=e,m):i},m.duration=function(e){return arguments.length?(d=+e,m):d},m.interpolate=function(e){return arguments.length?(u=e,m):u},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(f=+e,m):f},m}$O.prototype=DO.prototype;const KO=["inProgress"],YO=()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",QO=e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),XO=()=>"The React Flow parent container needs a width and a height to render the graph.",ZO=()=>"Only child nodes can use a parent extent.",JO=()=>"Can't create edge. An edge needs a source and a target.",eI=e=>'Marker type "'.concat(e,"\" doesn't exist."),tI=(e,t)=>{let{id:n,sourceHandle:r,targetHandle:o}=t;return"Couldn't create edge for ".concat(e,' handle id: "').concat("source"===e?r:o,'", edge id: ').concat(n,".")},nI=()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",rI=e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),oI=e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),iI=()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",sI=()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs.",aI=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],lI=["Enter"," ","Escape"];var cI,dI,uI;!function(e){e.Strict="strict",e.Loose="loose"}(cI||(cI={})),function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"}(dI||(dI={})),function(e){e.Partial="partial",e.Full="full"}(uI||(uI={}));const hI={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var pI,fI,mI;!function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"}(pI||(pI={})),function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"}(fI||(fI={})),function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"}(mI||(mI={}));const gI={[mI.Left]:mI.Right,[mI.Right]:mI.Left,[mI.Top]:mI.Bottom,[mI.Bottom]:mI.Top};function vI(e){return null===e?null:e?"valid":"invalid"}const yI=e=>"id"in e&&"source"in e&&"target"in e,xI=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),bI=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{width:r,height:o}=KI(e),i=null!==(t=e.origin)&&void 0!==t?t:n,s=r*i[0],a=o*i[1];return{x:e.position.x-s,y:e.position.y-a}},wI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach((e=>{if(void 0===t.filter||t.filter(e)){const t=LI(e);n=MI(n,t)}})),OI(n)},kI=function(e,t){let[n,r,o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0,1],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const l=s(s({},VI(t,[n,r,o])),{},{width:t.width/o,height:t.height/o}),c=[];for(const s of e.values()){var d,u,h,p,f,m;const{measured:e,selectable:t=!0,hidden:n=!1}=s;if(a&&!t||n)continue;const r=null!==(d=null!==(u=null!==(h=e.width)&&void 0!==h?h:s.width)&&void 0!==u?u:s.initialWidth)&&void 0!==d?d:null,o=null!==(p=null!==(f=null!==(m=e.height)&&void 0!==m?m:s.height)&&void 0!==f?f:s.initialHeight)&&void 0!==p?p:null,g=PI(l,II(s)),v=(null!==r&&void 0!==r?r:0)*(null!==o&&void 0!==o?o:0),y=i&&g>0;(!s.internals.handleBounds||y||g>=v||s.dragging)&&c.push(s)}return c};async function NI(e,t){var n,r,o;let{nodes:i,width:s,height:a,panZoom:l,minZoom:c,maxZoom:d}=e;if(0===i.size)return Promise.resolve(!0);const u=function(e,t){const n=new Map,r=null!==t&&void 0!==t&&t.nodes?new Set(t.nodes.map((e=>e.id))):null;return e.forEach((e=>{!e.measured.width||!e.measured.height||!(null===t||void 0===t?void 0:t.includeHiddenNodes)&&e.hidden||r&&!r.has(e.id)||n.set(e.id,e)})),n}(i,t),h=wI(u),p=UI(h,s,a,null!==(n=null===t||void 0===t?void 0:t.minZoom)&&void 0!==n?n:c,null!==(r=null===t||void 0===t?void 0:t.maxZoom)&&void 0!==r?r:d,null!==(o=null===t||void 0===t?void 0:t.padding)&&void 0!==o?o:.1);return await l.setViewport(p,{duration:null===t||void 0===t?void 0:t.duration}),Promise.resolve(!0)}function _I(e){var t,n,r;let{nodeId:o,nextPosition:i,nodeLookup:s,nodeOrigin:a=[0,0],nodeExtent:l,onError:c}=e;const d=s.get(o),u=d.parentId?s.get(d.parentId):void 0,{x:h,y:p}=u?u.internals.positionAbsolute:{x:0,y:0},f=null!==(t=d.origin)&&void 0!==t?t:a;let m=l;if("parent"!==d.extent||d.expandParent)u&&qI(d.extent)&&(m=[[d.extent[0][0]+h,d.extent[0][1]+p],[d.extent[1][0]+h,d.extent[1][1]+p]]);else if(u){const e=u.measured.width,t=u.measured.height;e&&t&&(m=[[h,p],[h+e,p+t]])}else null===c||void 0===c||c("005",ZO());const g=qI(m)?jI(i,m,d.measured):i;return void 0!==d.measured.width&&void 0!==d.measured.height||null===c||void 0===c||c("015",sI()),{position:{x:g.x-h+(null!==(n=d.measured.width)&&void 0!==n?n:0)*f[0],y:g.y-p+(null!==(r=d.measured.height)&&void 0!==r?r:0)*f[1]},positionAbsolute:g}}async function SI(e){let{nodesToRemove:t=[],edgesToRemove:n=[],nodes:r,edges:o,onBeforeDelete:i}=e;const s=new Set(t.map((e=>e.id))),a=[];for(const p of r){if(!1===p.deletable)continue;const e=s.has(p.id),t=!e&&p.parentId&&a.find((e=>e.id===p.parentId));(e||t)&&a.push(p)}const l=new Set(n.map((e=>e.id))),c=o.filter((e=>!1!==e.deletable)),d=((e,t)=>{const n=new Set;return e.forEach((e=>{n.add(e.id)})),t.filter((e=>n.has(e.source)||n.has(e.target)))})(a,c),u=d;for(const p of c){l.has(p.id)&&!u.find((e=>e.id===p.id))&&u.push(p)}if(!i)return{edges:u,nodes:a};const h=await i({nodes:a,edges:u});return"boolean"===typeof h?h?{edges:u,nodes:a}:{edges:[],nodes:[]}:h}const CI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(e,t),n)},jI=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0},r=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return{x:CI(n.x,r[0][0],r[1][0]-(null!==(e=null===o||void 0===o?void 0:o.width)&&void 0!==e?e:0)),y:CI(n.y,r[0][1],r[1][1]-(null!==(t=null===o||void 0===o?void 0:o.height)&&void 0!==t?t:0))}};function EI(e,t,n){const{width:r,height:o}=KI(n),{x:i,y:s}=n.internals.positionAbsolute;return jI(e,[[i,s],[i+r,s+o]],t)}const TI=(e,t,n)=>e<t?CI(Math.abs(e-t),1,t)/t:e>n?-CI(Math.abs(e-n),1,t)/t:0,AI=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40;return[TI(e.x,r,t.width-r)*n,TI(e.y,r,t.height-r)*n]},MI=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),RI=e=>{let{x:t,y:n,width:r,height:o}=e;return{x:t,y:n,x2:t+r,y2:n+o}},OI=e=>{let{x:t,y:n,x2:r,y2:o}=e;return{x:t,y:n,width:r-t,height:o-n}},II=function(e){var t,n,r,o,i,s,a,l;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{x:d,y:u}=xI(e)?e.internals.positionAbsolute:bI(e,c);return{x:d,y:u,width:null!==(t=null!==(n=null!==(r=null===(o=e.measured)||void 0===o?void 0:o.width)&&void 0!==r?r:e.width)&&void 0!==n?n:e.initialWidth)&&void 0!==t?t:0,height:null!==(i=null!==(s=null!==(a=null===(l=e.measured)||void 0===l?void 0:l.height)&&void 0!==a?a:e.height)&&void 0!==s?s:e.initialHeight)&&void 0!==i?i:0}},LI=function(e){var t,n,r,o,i,s,a,l;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0];const{x:d,y:u}=xI(e)?e.internals.positionAbsolute:bI(e,c);return{x:d,y:u,x2:d+(null!==(t=null!==(n=null!==(r=null===(o=e.measured)||void 0===o?void 0:o.width)&&void 0!==r?r:e.width)&&void 0!==n?n:e.initialWidth)&&void 0!==t?t:0),y2:u+(null!==(i=null!==(s=null!==(a=null===(l=e.measured)||void 0===l?void 0:l.height)&&void 0!==a?a:e.height)&&void 0!==s?s:e.initialHeight)&&void 0!==i?i:0)}},DI=(e,t)=>OI(MI(RI(e),RI(t))),PI=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},$I=e=>zI(e.width)&&zI(e.height)&&zI(e.x)&&zI(e.y),zI=e=>!isNaN(e)&&isFinite(e),FI=(e,t)=>{0},BI=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1];return{x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}},VI=function(e,t){let{x:n,y:r}=e,[o,i,s]=t;const a={x:(n-o)/s,y:(r-i)/s};return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?BI(a,arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1]):a},WI=(e,t)=>{let{x:n,y:r}=e,[o,i,s]=t;return{x:n*s+o,y:r*s+i}};function HI(e,t){if("number"===typeof e)return Math.floor(.5*(t-t/(1+e)));if("string"===typeof e&&e.endsWith("px")){const t=parseFloat(e);if(!Number.isNaN(t))return Math.floor(t)}if("string"===typeof e&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error('[React Flow] The padding value "'.concat(e,'" is invalid. Please provide a number or a string with a valid unit (px or %).')),0}const UI=(e,t,n,r,o,i)=>{const s=function(e,t,n){if("string"===typeof e||"number"===typeof e){const r=HI(e,n),o=HI(e,t);return{top:r,right:o,bottom:r,left:o,x:2*o,y:2*r}}if("object"===typeof e){var r,o,i,s,a,l,c,d;const u=HI(null!==(r=null!==(o=e.top)&&void 0!==o?o:e.y)&&void 0!==r?r:0,n),h=HI(null!==(i=null!==(s=e.bottom)&&void 0!==s?s:e.y)&&void 0!==i?i:0,n),p=HI(null!==(a=null!==(l=e.left)&&void 0!==l?l:e.x)&&void 0!==a?a:0,t),f=HI(null!==(c=null!==(d=e.right)&&void 0!==d?d:e.x)&&void 0!==c?c:0,t);return{top:u,right:f,bottom:h,left:p,x:p+f,y:u+h}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}(i,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,c=Math.min(a,l),d=CI(c,r,o),u=t/2-(e.x+e.width/2)*d,h=n/2-(e.y+e.height/2)*d,p=function(e,t,n,r,o,i){const{x:s,y:a}=WI(e,[t,n,r]),{x:l,y:c}=WI({x:e.x+e.width,y:e.y+e.height},[t,n,r]),d=o-l,u=i-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(u)}}(e,u,h,d,t,n),f=Math.min(p.left-s.left,0),m=Math.min(p.top-s.top,0);return{x:u-f+Math.min(p.right-s.right,0),y:h-m+Math.min(p.bottom-s.bottom,0),zoom:d}},GI=()=>{var e;return"undefined"!==typeof navigator&&(null===(e=navigator)||void 0===e||null===(e=e.userAgent)||void 0===e?void 0:e.indexOf("Mac"))>=0};function qI(e){return void 0!==e&&"parent"!==e}function KI(e){var t,n,r,o,i,s,a,l;return{width:null!==(t=null!==(n=null!==(r=null===(o=e.measured)||void 0===o?void 0:o.width)&&void 0!==r?r:e.width)&&void 0!==n?n:e.initialWidth)&&void 0!==t?t:0,height:null!==(i=null!==(s=null!==(a=null===(l=e.measured)||void 0===l?void 0:l.height)&&void 0!==a?a:e.height)&&void 0!==s?s:e.initialHeight)&&void 0!==i?i:0}}function YI(e){var t,n,r,o,i,s;return void 0!==(null!==(t=null!==(n=null===(r=e.measured)||void 0===r?void 0:r.width)&&void 0!==n?n:e.width)&&void 0!==t?t:e.initialWidth)&&void 0!==(null!==(o=null!==(i=null===(s=e.measured)||void 0===s?void 0:s.height)&&void 0!==i?i:e.height)&&void 0!==o?o:e.initialHeight)}function QI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:0,height:0},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;const i=s({},e),a=r.get(n);if(a){var l,c;const e=a.origin||o;i.x+=a.internals.positionAbsolute.x-(null!==(l=t.width)&&void 0!==l?l:0)*e[0],i.y+=a.internals.positionAbsolute.y-(null!==(c=t.height)&&void 0!==c?c:0)*e[1]}return i}function XI(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function ZI(e,t){var n,r;let{snapGrid:o=[0,0],snapToGrid:i=!1,transform:a,containerBounds:l}=t;const{x:c,y:d}=oL(e),u=VI({x:c-(null!==(n=null===l||void 0===l?void 0:l.left)&&void 0!==n?n:0),y:d-(null!==(r=null===l||void 0===l?void 0:l.top)&&void 0!==r?r:0)},a),{x:h,y:p}=i?BI(u,o):u;return s({xSnapped:h,ySnapped:p},u)}const JI=e=>({width:e.offsetWidth,height:e.offsetHeight}),eL=e=>{var t,n;return(null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))||(null===(n=window)||void 0===n?void 0:n.document)},tL=["INPUT","SELECT","TEXTAREA"];function nL(e){var t;const n=(null===(t=e.composedPath)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t[0])||e.target;if(1!==(null===n||void 0===n?void 0:n.nodeType))return!1;return tL.includes(n.nodeName)||n.hasAttribute("contenteditable")||!!n.closest(".nokey")}const rL=e=>"clientX"in e,oL=(e,t)=>{var n,r,o,i;const s=rL(e),a=s?e.clientX:null===(n=e.touches)||void 0===n?void 0:n[0].clientX,l=s?e.clientY:null===(r=e.touches)||void 0===r?void 0:r[0].clientY;return{x:a-(null!==(o=null===t||void 0===t?void 0:t.left)&&void 0!==o?o:0),y:l-(null!==(i=null===t||void 0===t?void 0:t.top)&&void 0!==i?i:0)}},iL=(e,t,n,r,o)=>{const i=t.querySelectorAll(".".concat(e));return i&&i.length?Array.from(i).map((t=>{const i=t.getBoundingClientRect();return s({id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r},JI(t))})):null};function sL(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o,sourceControlX:i,sourceControlY:s,targetControlX:a,targetControlY:l}=e;const c=.125*t+.375*i+.375*a+.125*r,d=.125*n+.375*s+.375*l+.125*o;return[c,d,Math.abs(c-t),Math.abs(d-n)]}function aL(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function lL(e){let{pos:t,x1:n,y1:r,x2:o,y2:i,c:s}=e;switch(t){case mI.Left:return[n-aL(n-o,s),r];case mI.Right:return[n+aL(o-n,s),r];case mI.Top:return[n,r-aL(r-i,s)];case mI.Bottom:return[n,r+aL(i-r,s)]}}function cL(e){let{sourceX:t,sourceY:n,sourcePosition:r=mI.Bottom,targetX:o,targetY:i,targetPosition:s=mI.Top,curvature:a=.25}=e;const[l,c]=lL({pos:r,x1:t,y1:n,x2:o,y2:i,c:a}),[d,u]=lL({pos:s,x1:o,y1:i,x2:t,y2:n,c:a}),[h,p,f,m]=sL({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:u});return["M".concat(t,",").concat(n," C").concat(l,",").concat(c," ").concat(d,",").concat(u," ").concat(o,",").concat(i),h,p,f,m]}function dL(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const i=Math.abs(r-t)/2,s=r<t?r+i:r-i,a=Math.abs(o-n)/2;return[s,o<n?o+a:o-a,i,a]}function uL(e){let{sourceNode:t,targetNode:n,width:r,height:o,transform:i}=e;const s=MI(LI(t),LI(n));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const a={x:-i[0]/i[2],y:-i[1]/i[2],width:r/i[2],height:o/i[2]};return PI(a,OI(s))>0}const hL=e=>{let{source:t,sourceHandle:n,target:r,targetHandle:o}=e;return"xy-edge__".concat(t).concat(n||"","-").concat(r).concat(o||"")};function pL(e){let{sourceX:t,sourceY:n,targetX:r,targetY:o}=e;const[i,s,a,l]=dL({sourceX:t,sourceY:n,targetX:r,targetY:o});return["M ".concat(t,",").concat(n,"L ").concat(r,",").concat(o),i,s,a,l]}const fL={[mI.Left]:{x:-1,y:0},[mI.Right]:{x:1,y:0},[mI.Top]:{x:0,y:-1},[mI.Bottom]:{x:0,y:1}},mL=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function gL(e){let{source:t,sourcePosition:n=mI.Bottom,target:r,targetPosition:o=mI.Top,center:i,offset:s}=e;const a=fL[n],l=fL[o],c={x:t.x+a.x*s,y:t.y+a.y*s},d={x:r.x+l.x*s,y:r.y+l.y*s},u=(e=>{let{source:t,sourcePosition:n=mI.Bottom,target:r}=e;return n===mI.Left||n===mI.Right?t.x<r.x?{x:1,y:0}:{x:-1,y:0}:t.y<r.y?{x:0,y:1}:{x:0,y:-1}})({source:c,sourcePosition:n,target:d}),h=0!==u.x?"x":"y",p=u[h];let f,m,g=[];const v={x:0,y:0},y={x:0,y:0},[x,b,w,k]=dL({sourceX:t.x,sourceY:t.y,targetX:r.x,targetY:r.y});if(a[h]*l[h]===-1){var N,_;f=null!==(N=i.x)&&void 0!==N?N:x,m=null!==(_=i.y)&&void 0!==_?_:b;const e=[{x:f,y:c.y},{x:f,y:d.y}],t=[{x:c.x,y:m},{x:d.x,y:m}];g=a[h]===p?"x"===h?e:t:"x"===h?t:e}else{const e=[{x:c.x,y:d.y}],i=[{x:d.x,y:c.y}];if(g="x"===h?a.x===p?i:e:a.y===p?e:i,n===o){const e=Math.abs(t[h]-r[h]);if(e<=s){const n=Math.min(s-1,s-e);a[h]===p?v[h]=(c[h]>t[h]?-1:1)*n:y[h]=(d[h]>r[h]?-1:1)*n}}if(n!==o){const t="x"===h?"y":"x",n=a[h]===l[t],r=c[t]>d[t],o=c[t]<d[t];(1===a[h]&&(!n&&r||n&&o)||1!==a[h]&&(!n&&o||n&&r))&&(g="x"===h?e:i)}const u={x:c.x+v.x,y:c.y+v.y},x={x:d.x+y.x,y:d.y+y.y};Math.max(Math.abs(u.x-g[0].x),Math.abs(x.x-g[0].x))>=Math.max(Math.abs(u.y-g[0].y),Math.abs(x.y-g[0].y))?(f=(u.x+x.x)/2,m=g[0].y):(f=g[0].x,m=(u.y+x.y)/2)}return[[t,{x:c.x+v.x,y:c.y+v.y},...g,{x:d.x+y.x,y:d.y+y.y},r],f,m,w,k]}function vL(e){let{sourceX:t,sourceY:n,sourcePosition:r=mI.Bottom,targetX:o,targetY:i,targetPosition:s=mI.Top,borderRadius:a=5,centerX:l,centerY:c,offset:d=20}=e;const[u,h,p,f,m]=gL({source:{x:t,y:n},sourcePosition:r,target:{x:o,y:i},targetPosition:s,center:{x:l,y:c},offset:d}),g=u.reduce(((e,t,n)=>{let r="";return r=n>0&&n<u.length-1?function(e,t,n,r){const o=Math.min(mL(e,t)/2,mL(t,n)/2,r),{x:i,y:s}=t;if(e.x===i&&i===n.x||e.y===s&&s===n.y)return"L".concat(i," ").concat(s);if(e.y===s){const t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return"L ".concat(i+o*t,",").concat(s,"Q ").concat(i,",").concat(s," ").concat(i,",").concat(s+o*r)}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(i,",").concat(s+o*l,"Q ").concat(i,",").concat(s," ").concat(i+o*a,",").concat(s)}(u[n-1],t,u[n+1],a):"".concat(0===n?"M":"L").concat(t.x," ").concat(t.y),e+=r}),"");return[g,h,p,f,m]}function yL(e){var t;return e&&!!(e.internals.handleBounds||null!==(t=e.handles)&&void 0!==t&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function xL(e){if(!e)return null;const t=[],n=[];for(const i of e){var r,o;i.width=null!==(r=i.width)&&void 0!==r?r:1,i.height=null!==(o=i.height)&&void 0!==o?o:1,"source"===i.type?t.push(i):"target"===i.type&&n.push(i)}return{source:t,target:n}}function bL(e,t){var n,r,o;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mI.Left,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=(null!==(n=null===t||void 0===t?void 0:t.x)&&void 0!==n?n:0)+e.internals.positionAbsolute.x,l=(null!==(r=null===t||void 0===t?void 0:t.y)&&void 0!==r?r:0)+e.internals.positionAbsolute.y,{width:c,height:d}=null!==t&&void 0!==t?t:KI(e);if(s)return{x:a+c/2,y:l+d/2};switch(null!==(o=null===t||void 0===t?void 0:t.position)&&void 0!==o?o:i){case mI.Top:return{x:a+c/2,y:l};case mI.Right:return{x:a+c,y:l+d/2};case mI.Bottom:return{x:a+c/2,y:l+d};case mI.Left:return{x:a,y:l+d/2}}}function wL(e,t){return e&&(t?e.find((e=>e.id===t)):e[0])||null}function kL(e,t){if(!e)return"";if("string"===typeof e)return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map((t=>"".concat(t,"=").concat(e[t]))).join("&"))}const NL={nodeOrigin:[0,0],nodeExtent:aI,elevateNodesOnSelect:!0,defaults:{}},_L=s(s({},NL),{},{checkEquality:!0});function SL(e,t){const n=s({},e);for(const r in t)void 0!==t[r]&&(n[r]=t[r]);return n}function CL(e,t,n,r){const o=SL(_L,r);let i=e.length>0;const a=new Map(t),l=null!==o&&void 0!==o&&o.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const p of e){var c;let e=a.get(p.id);if(o.checkEquality&&p===(null===(c=e)||void 0===c?void 0:c.internals.userNode))t.set(p.id,e);else{var d,u,h;const n=bI(p,o.nodeOrigin),r=qI(p.extent)?p.extent:o.nodeExtent,i=jI(n,r,KI(p));e=s(s(s({},o.defaults),p),{},{measured:{width:null===(d=p.measured)||void 0===d?void 0:d.width,height:null===(u=p.measured)||void 0===u?void 0:u.height},internals:{positionAbsolute:i,handleBounds:p.measured?null===(h=e)||void 0===h?void 0:h.internals.handleBounds:void 0,z:EL(p,l),userNode:p}}),t.set(p.id,e)}void 0!==e.measured&&void 0!==e.measured.width&&void 0!==e.measured.height||e.hidden||(i=!1),p.parentId&&jL(e,t,n,r)}return i}function jL(e,t,n,r){const{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=SL(NL,r),l=e.parentId,c=t.get(l);if(!c)return void console.warn("Parent node ".concat(l," not found. Please make sure that parent nodes are in front of their child nodes in the nodes array."));!function(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);const d=o?1e3:0,{x:u,y:h,z:p}=function(e,t,n,r,o){var i;const{x:s,y:a}=t.internals.positionAbsolute,l=KI(e),c=bI(e,n),d=qI(e.extent)?jI(c,e.extent,l):c;let u=jI({x:s+d.x,y:a+d.y},r,l);"parent"===e.extent&&(u=EI(u,l,t));const h=EL(e,o),p=null!==(i=t.internals.z)&&void 0!==i?i:0;return{x:u.x,y:u.y,z:p>h?p:h}}(e,c,i,a,d),{positionAbsolute:f}=e.internals,m=u!==f.x||h!==f.y;(m||p!==e.internals.z)&&t.set(e.id,s(s({},e),{},{internals:s(s({},e.internals),{},{positionAbsolute:m?{x:u,y:h}:f,z:p})}))}function EL(e,t){return(zI(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function TL(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[0,0];const o=[],i=new Map;for(const l of e){var s,a;const e=t.get(l.parentId);if(!e)continue;const n=null!==(s=null===(a=i.get(l.parentId))||void 0===a?void 0:a.expandedRect)&&void 0!==s?s:II(e),r=DI(n,l.rect);i.set(l.parentId,{expandedRect:r,parent:e})}return i.size>0&&i.forEach(((t,i)=>{var s;let{expandedRect:a,parent:l}=t;const c=l.internals.positionAbsolute,d=KI(l),u=null!==(s=l.origin)&&void 0!==s?s:r,h=a.x<c.x?Math.round(Math.abs(c.x-a.x)):0,p=a.y<c.y?Math.round(Math.abs(c.y-a.y)):0,f=Math.max(d.width,Math.round(a.width)),m=Math.max(d.height,Math.round(a.height)),g=(f-d.width)*u[0],v=(m-d.height)*u[1];var y;(h>0||p>0||g||v)&&(o.push({id:i,type:"position",position:{x:l.position.x-h+g,y:l.position.y-p+v}}),null===(y=n.get(i))||void 0===y||y.forEach((t=>{e.some((e=>e.id===t.id))||o.push({id:t.id,type:"position",position:{x:t.position.x+h,y:t.position.y+p}})})));(d.width<a.width||d.height<a.height||h||p)&&o.push({id:i,type:"dimensions",setAttributes:!0,dimensions:{width:f+(h?u[0]*h-g:0),height:m+(p?u[1]*p-v:0)}})})),o}function AL(e,t,n,r,o,i){let s=o;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s="".concat(o,"-").concat(e);const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),i){s="".concat(o,"-").concat(e,"-").concat(i);const a=r.get(s)||new Map;r.set(s,a.set(n,t))}}function ML(e,t,n){e.clear(),t.clear();for(const r of n){const{source:n,target:o,sourceHandle:i=null,targetHandle:s=null}=r,a={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:s},l="".concat(n,"-").concat(i,"--").concat(o,"-").concat(s);AL("source",a,"".concat(o,"-").concat(s,"--").concat(n,"-").concat(i),e,n,i),AL("target",a,l,e,o,s),t.set(r.id,r)}}function RL(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return!!n&&(!!n.selected||RL(n,t))}function OL(e,t,n){let r=e;do{var o,i,s;if(null!==(o=r)&&void 0!==o&&null!==(i=o.matches)&&void 0!==i&&i.call(o,t))return!0;if(r===n)return!1;r=null===(s=r)||void 0===s?void 0:s.parentElement}while(r);return!1}function IL(e){var t,n;let{nodeId:r,dragItems:o,nodeLookup:i,dragging:a=!0}=e;const l=[];for(const[u,h]of o){var c;const e=null===(c=i.get(u))||void 0===c?void 0:c.internals.userNode;e&&l.push(s(s({},e),{},{position:h.position,dragging:a}))}if(!r)return[l[0],l];const d=null===(t=i.get(r))||void 0===t?void 0:t.internals.userNode;return[d?s(s({},d),{},{position:(null===(n=o.get(r))||void 0===n?void 0:n.position)||d.position,dragging:a}):l[0],l]}function LL(e){let{onNodeMouseDown:t,getStoreItems:n,onDragStart:r,onDrag:o,onDragStop:i}=e,s={x:null,y:null},a=0,l=new Map,c=!1,d={x:0,y:0},u=null,h=!1,p=null,f=!1;return{update:function(e){let{noDragClassName:m,handleSelector:g,domNode:v,isSelectable:y,nodeId:x,nodeClickDistance:b=0}=e;function w(e,t){let{x:r,y:i}=e;const{nodeLookup:a,nodeExtent:c,snapGrid:d,snapToGrid:u,nodeOrigin:h,onNodeDrag:p,onSelectionDrag:f,onError:m,updateNodePositions:g}=n();s={x:r,y:i};let v=!1,y={x:0,y:0,x2:0,y2:0};if(l.size>1&&c){const e=wI(l);y=RI(e)}for(const[n,o]of l){if(!a.has(n))continue;let e={x:r-o.distance.x,y:i-o.distance.y};u&&(e=BI(e,d));let t=[[c[0][0],c[0][1]],[c[1][0],c[1][1]]];if(l.size>1&&c&&!o.extent){const{positionAbsolute:e}=o.internals,n=e.x-y.x+c[0][0],r=e.x+o.measured.width-y.x2+c[1][0];t=[[n,e.y-y.y+c[0][1]],[r,e.y+o.measured.height-y.y2+c[1][1]]]}const{position:s,positionAbsolute:p}=_I({nodeId:n,nextPosition:e,nodeLookup:a,nodeExtent:t,nodeOrigin:h,onError:m});v=v||o.position.x!==s.x||o.position.y!==s.y,o.position=s,o.internals.positionAbsolute=p}if(v&&(g(l,!0),t&&(o||p||!x&&f))){const[e,n]=IL({nodeId:x,dragItems:l,nodeLookup:a});null===o||void 0===o||o(t,l,e,n),null===p||void 0===p||p(t,e,n),x||null===f||void 0===f||f(t,n)}}async function k(){if(!u)return;const{transform:e,panBy:t,autoPanSpeed:r,autoPanOnNodeDrag:o}=n();if(!o)return c=!1,void cancelAnimationFrame(a);const[i,l]=AI(d,u,r);var h,p;0===i&&0===l||(s.x=(null!==(h=s.x)&&void 0!==h?h:0)-i/e[2],s.y=(null!==(p=s.y)&&void 0!==p?p:0)-l/e[2],await t({x:i,y:l})&&w(s,null));a=requestAnimationFrame(k)}function N(e){const{nodeLookup:o,multiSelectionActive:i,nodesDraggable:a,transform:c,snapGrid:d,snapToGrid:p,selectNodesOnDrag:f,onNodeDragStart:m,onSelectionDragStart:g,unselectNodesAndEdges:v}=n();var b;(h=!0,f&&y||i||!x)||(null!==(b=o.get(x))&&void 0!==b&&b.selected||v());y&&f&&x&&(null===t||void 0===t||t(x));const w=ZI(e.sourceEvent,{transform:c,snapGrid:d,snapToGrid:p,containerBounds:u});if(s=w,l=function(e,t,n,r){const o=new Map;for(const[a,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!RL(l,e))&&(l.draggable||t&&"undefined"===typeof l.draggable)){const t=e.get(a);var i,s;t&&o.set(a,{id:a,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:null!==(i=t.measured.width)&&void 0!==i?i:0,height:null!==(s=t.measured.height)&&void 0!==s?s:0}})}return o}(o,a,w,x),l.size>0&&(r||m||!x&&g)){const[t,n]=IL({nodeId:x,dragItems:l,nodeLookup:o});null===r||void 0===r||r(e.sourceEvent,l,t,n),null===m||void 0===m||m(e.sourceEvent,t,n),x||null===g||void 0===g||g(e.sourceEvent,n)}}p=_M(v);const _=$M().clickDistance(b).on("start",(e=>{const{domNode:t,nodeDragThreshold:r,transform:o,snapGrid:i,snapToGrid:a}=n();u=(null===t||void 0===t?void 0:t.getBoundingClientRect())||null,f=!1,0===r&&N(e);const l=ZI(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:a,containerBounds:u});s=l,d=oL(e.sourceEvent,u)})).on("drag",(e=>{const{autoPanOnNodeDrag:t,transform:r,snapGrid:o,snapToGrid:i,nodeDragThreshold:a,nodeLookup:p}=n(),m=ZI(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:i,containerBounds:u});if(("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||x&&!p.has(x))&&(f=!0),!f){if(!c&&t&&h&&(c=!0,k()),!h){var g,v;const t=m.xSnapped-(null!==(g=s.x)&&void 0!==g?g:0),n=m.ySnapped-(null!==(v=s.y)&&void 0!==v?v:0);Math.sqrt(t*t+n*n)>a&&N(e)}(s.x!==m.xSnapped||s.y!==m.ySnapped)&&l&&h&&(d=oL(e.sourceEvent,u),w(m,e.sourceEvent))}})).on("end",(e=>{if(h&&!f&&(c=!1,h=!1,cancelAnimationFrame(a),l.size>0)){const{nodeLookup:t,updateNodePositions:r,onNodeDragStop:o,onSelectionDragStop:s}=n();if(r(l,!1),i||o||!x&&s){const[n,r]=IL({nodeId:x,dragItems:l,nodeLookup:t,dragging:!1});null===i||void 0===i||i(e.sourceEvent,l,n,r),null===o||void 0===o||o(e.sourceEvent,n,r),x||null===s||void 0===s||s(e.sourceEvent,r)}}})).filter((e=>{const t=e.target;return!e.button&&(!m||!OL(t,".".concat(m),v))&&(!g||OL(t,g,v))}));p.call(_)},destroy:function(){var e;null===(e=p)||void 0===e||e.on(".drag",null)}}}function DL(e,t,n,r){let o=[],i=1/0;const a=function(e,t,n){const r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(const i of t.values())PI(o,II(i))>0&&r.push(i);return r}(e,n,t+250);for(const p of a){var l,c,d,u;const n=[...null!==(l=null===(c=p.internals.handleBounds)||void 0===c?void 0:c.source)&&void 0!==l?l:[],...null!==(d=null===(u=p.internals.handleBounds)||void 0===u?void 0:u.target)&&void 0!==d?d:[]];for(const a of n){if(r.nodeId===a.nodeId&&r.type===a.type&&r.id===a.id)continue;const{x:n,y:l}=bL(p,a,a.position,!0),c=Math.sqrt(Math.pow(n-e.x,2)+Math.pow(l-e.y,2));c>t||(c<i?(o=[s(s({},a),{},{x:n,y:l})],i=c):c===i&&o.push(s(s({},a),{},{x:n,y:l})))}}if(!o.length)return null;if(o.length>1){var h;const e="source"===r.type?"target":"source";return null!==(h=o.find((t=>t.type===e)))&&void 0!==h?h:o[0]}return o[0]}function PL(e,t,n,r,o){var i,a,l,c,d,u;let h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const p=r.get(e);if(!p)return null;const f="strict"===o?null===(i=p.internals.handleBounds)||void 0===i?void 0:i[t]:[...null!==(a=null===(l=p.internals.handleBounds)||void 0===l?void 0:l.source)&&void 0!==a?a:[],...null!==(c=null===(d=p.internals.handleBounds)||void 0===d?void 0:d.target)&&void 0!==c?c:[]],m=null!==(u=n?null===f||void 0===f?void 0:f.find((e=>e.id===n)):null===f||void 0===f?void 0:f[0])&&void 0!==u?u:null;return m&&h?s(s({},m),bL(p,m,m.position,!0)):m}function $L(e,t){return e||(null!==t&&void 0!==t&&t.classList.contains("target")?"target":null!==t&&void 0!==t&&t.classList.contains("source")?"source":null)}const zL=()=>!0;function FL(e,t){let{handle:n,connectionMode:r,fromNodeId:o,fromHandleId:i,fromType:s,doc:a,lib:l,flowId:c,isValidConnection:d=zL,nodeLookup:u}=t;const h="target"===s,p=n?a.querySelector(".".concat(l,'-flow__handle[data-id="').concat(c,"-").concat(null===n||void 0===n?void 0:n.nodeId,"-").concat(null===n||void 0===n?void 0:n.id,"-").concat(null===n||void 0===n?void 0:n.type,'"]')):null,{x:f,y:m}=oL(e),g=a.elementFromPoint(f,m),v=null!==g&&void 0!==g&&g.classList.contains("".concat(l,"-flow__handle"))?g:p,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){const e=$L(void 0,v),t=v.getAttribute("data-nodeid"),n=v.getAttribute("data-handleid"),s=v.classList.contains("connectable"),a=v.classList.contains("connectableend");if(!t||!e)return y;const l={source:h?t:o,sourceHandle:h?n:i,target:h?o:t,targetHandle:h?i:n};y.connection=l;const c=s&&a&&(r===cI.Strict?h&&"source"===e||!h&&"target"===e:t!==o||n!==i);y.isValid=c&&d(l),y.toHandle=PL(t,e,n,u,r,!1)}return y}const BL={onPointerDown:function(e,t){let{connectionMode:n,connectionRadius:r,handleId:o,nodeId:i,edgeUpdaterType:a,isTarget:l,domNode:c,nodeLookup:d,lib:h,autoPanOnConnect:p,flowId:f,panBy:m,cancelConnection:g,onConnectStart:v,onConnect:y,onConnectEnd:x,isValidConnection:b=zL,onReconnectEnd:w,updateConnection:k,getTransform:N,getFromHandle:_,autoPanSpeed:S}=t;const C=eL(e.target);let j,E=0;const{x:T,y:A}=oL(e),M=null===C||void 0===C?void 0:C.elementFromPoint(T,A),R=$L(a,M),O=null===c||void 0===c?void 0:c.getBoundingClientRect();if(!O||!R)return;const I=PL(i,R,o,d,n);if(!I)return;let L=oL(e,O),D=!1,P=null,$=!1,z=null;function F(){if(!p||!O)return;const[e,t]=AI(L,O,S);m({x:e,y:t}),E=requestAnimationFrame(F)}const B=s(s({},I),{},{nodeId:i,type:R,position:I.position}),V=d.get(i),W={inProgress:!0,isValid:null,from:bL(V,B,mI.Left,!0),fromHandle:B,fromPosition:B.position,fromNode:V,to:L,toHandle:null,toPosition:gI[B.position],toNode:null};k(W);let H=W;function U(e){if(!_()||!B)return void G(e);const t=N();L=oL(e,O),j=DL(VI(L,t,!1,[1,1]),r,d,B),D||(F(),D=!0);const a=FL(e,{handle:j,connectionMode:n,fromNodeId:i,fromHandleId:o,fromType:l?"target":"source",isValidConnection:b,doc:C,lib:h,flowId:f,nodeLookup:d});z=a.handleDomNode,P=a.connection,$=function(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}(!!j,a.isValid);const c=s(s({},H),{},{isValid:$,to:j&&$?WI({x:j.x,y:j.y},t):L,toHandle:a.toHandle,toPosition:$&&a.toHandle?a.toHandle.position:gI[B.position],toNode:a.toHandle?d.get(a.toHandle.nodeId):null});$&&j&&H.toHandle&&c.toHandle&&H.toHandle.type===c.toHandle.type&&H.toHandle.nodeId===c.toHandle.nodeId&&H.toHandle.id===c.toHandle.id&&H.to.x===c.to.x&&H.to.y===c.to.y||(k(c),H=c)}function G(e){(j||z)&&P&&$&&(null===y||void 0===y||y(P));const{inProgress:t}=H,n=s(s({},u(H,KO)),{},{toPosition:H.toHandle?H.toPosition:null});null===x||void 0===x||x(e,n),a&&(null===w||void 0===w||w(e,n)),g(),cancelAnimationFrame(E),D=!1,$=!1,P=null,z=null,C.removeEventListener("mousemove",U),C.removeEventListener("mouseup",G),C.removeEventListener("touchmove",U),C.removeEventListener("touchend",G)}null===v||void 0===v||v(e,{nodeId:i,handleId:o,handleType:R}),C.addEventListener("mousemove",U),C.addEventListener("mouseup",G),C.addEventListener("touchmove",U),C.addEventListener("touchend",G)},isValid:FL};const VL=e=>({x:e.x,y:e.y,zoom:e.k}),WL=e=>{let{x:t,y:n,zoom:r}=e;return PO.translate(t,n).scale(r)},HL=(e,t)=>e.target.closest(".".concat(t)),UL=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),GL=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const r="number"===typeof t&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},qL=e=>{const t=e.ctrlKey&&GI()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function KL(e){let{domNode:t,minZoom:n,maxZoom:r,paneClickDistance:o,translateExtent:i,viewport:s,onPanZoom:a,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}=e;const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),p=qO().clickDistance(!zI(o)||o<0?0:o).scaleExtent([n,r]).translateExtent(i),f=_M(t).call(p);x({x:s.x,y:s.y,zoom:CI(s.zoom,n,r)},[[0,0],[h.width,h.height]],i);const m=f.on("wheel.zoom"),g=f.on("dblclick.zoom");function v(e,t){return f?new Promise((n=>{null===p||void 0===p||p.transform(GL(f,null===t||void 0===t?void 0:t.duration,(()=>n(!0))),e)})):Promise.resolve(!1)}function y(){p.on("zoom",null)}async function x(e,t,n){const r=WL(e),o=null===p||void 0===p?void 0:p.constrain()(r,t,n);return o&&await v(o),new Promise((e=>e(o)))}return p.wheelDelta(qL),{update:function(e){let{noWheelClassName:t,noPanClassName:n,onPaneContextMenu:r,userSelectionActive:o,panOnScroll:i,panOnDrag:s,panOnScrollMode:h,panOnScrollSpeed:v,preventScrolling:x,zoomOnPinch:b,zoomOnScroll:w,zoomOnDoubleClick:k,zoomActivationKeyPressed:N,lib:_,onTransformChange:S}=e;o&&!u.isZoomingOrPanning&&y();const C=i&&!N&&!o?function(e){let{zoomPanValues:t,noWheelClassName:n,d3Selection:r,d3Zoom:o,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:a,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}=e;return e=>{if(HL(e,n))return!1;e.preventDefault(),e.stopImmediatePropagation();const u=r.property("__zoom").k||1;if(e.ctrlKey&&a){const t=SM(e),n=qL(e),i=u*Math.pow(2,n);return void o.scaleTo(r,i,t,e)}const h=1===e.deltaMode?20:1;let p=i===dI.Vertical?0:e.deltaX*h,f=i===dI.Horizontal?0:e.deltaY*h;!GI()&&e.shiftKey&&i!==dI.Vertical&&(p=e.deltaY*h,f=0),o.translateBy(r,-p/u*s,-f/u*s,{internal:!0});const m=VL(r.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,null===l||void 0===l||l(e,m)),t.isPanScrolling&&(null===c||void 0===c||c(e,m),t.panScrollTimeout=setTimeout((()=>{null===d||void 0===d||d(e,m),t.isPanScrolling=!1}),150))}}({zoomPanValues:u,noWheelClassName:t,d3Selection:f,d3Zoom:p,panOnScrollMode:h,panOnScrollSpeed:v,zoomOnPinch:b,onPanZoomStart:l,onPanZoom:a,onPanZoomEnd:c}):function(e){let{noWheelClassName:t,preventScrolling:n,d3ZoomHandler:r}=e;return function(e,o){const i="wheel"===e.type,s=!n&&i&&!e.ctrlKey,a=HL(e,t);if(e.ctrlKey&&i&&a&&e.preventDefault(),s||a)return null;e.preventDefault(),r.call(this,e,o)}}({noWheelClassName:t,preventScrolling:x,d3ZoomHandler:m});if(f.on("wheel.zoom",C,{passive:!1}),!o){const e=function(e){let{zoomPanValues:t,onDraggingChange:n,onPanZoomStart:r}=e;return e=>{var o,i,s;if(null!==(o=e.sourceEvent)&&void 0!==o&&o.internal)return;const a=VL(e.transform);t.mouseButton=(null===(i=e.sourceEvent)||void 0===i?void 0:i.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=a,"mousedown"===(null===(s=e.sourceEvent)||void 0===s?void 0:s.type)&&n(!0),r&&(null===r||void 0===r||r(e.sourceEvent,a))}}({zoomPanValues:u,onDraggingChange:d,onPanZoomStart:l});p.on("start",e);const t=function(e){let{zoomPanValues:t,panOnDrag:n,onPaneContextMenu:r,onTransformChange:o,onPanZoom:i}=e;return e=>{var s,a,l;t.usedRightMouseButton=!(!r||!UL(n,null!==(s=t.mouseButton)&&void 0!==s?s:0)),null!==(a=e.sourceEvent)&&void 0!==a&&a.sync||o([e.transform.x,e.transform.y,e.transform.k]),!i||null!==(l=e.sourceEvent)&&void 0!==l&&l.internal||null===i||void 0===i||i(e.sourceEvent,VL(e.transform))}}({zoomPanValues:u,panOnDrag:s,onPaneContextMenu:!!r,onPanZoom:a,onTransformChange:S});p.on("zoom",t);const n=function(e){let{zoomPanValues:t,panOnDrag:n,panOnScroll:r,onDraggingChange:o,onPanZoomEnd:i,onPaneContextMenu:s}=e;return e=>{var a,l,c,d;if((null===(a=e.sourceEvent)||void 0===a||!a.internal)&&(t.isZoomingOrPanning=!1,s&&UL(n,null!==(l=t.mouseButton)&&void 0!==l?l:0)&&!t.usedRightMouseButton&&e.sourceEvent&&s(e.sourceEvent),t.usedRightMouseButton=!1,o(!1),i&&(c=t.prevViewport,d=e.transform,c.x!==d.x||c.y!==d.y||c.zoom!==d.k))){const n=VL(e.transform);t.prevViewport=n,clearTimeout(t.timerId),t.timerId=setTimeout((()=>{null===i||void 0===i||i(e.sourceEvent,n)}),r?150:0)}}}({zoomPanValues:u,panOnDrag:s,panOnScroll:i,onPaneContextMenu:r,onPanZoomEnd:c,onDraggingChange:d});p.on("end",n)}const j=function(e){let{zoomActivationKeyPressed:t,zoomOnScroll:n,zoomOnPinch:r,panOnDrag:o,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:a,noWheelClassName:l,noPanClassName:c,lib:d}=e;return e=>{var u;const h=t||n,p=r&&e.ctrlKey;if(1===e.button&&"mousedown"===e.type&&(HL(e,"".concat(d,"-flow__node"))||HL(e,"".concat(d,"-flow__edge"))))return!0;if(!o&&!h&&!i&&!s&&!r)return!1;if(a)return!1;if(HL(e,l)&&"wheel"===e.type)return!1;if(HL(e,c)&&("wheel"!==e.type||i&&"wheel"===e.type&&!t))return!1;if(!r&&e.ctrlKey&&"wheel"===e.type)return!1;if(!r&&"touchstart"===e.type&&(null===(u=e.touches)||void 0===u?void 0:u.length)>1)return e.preventDefault(),!1;if(!h&&!i&&!p&&"wheel"===e.type)return!1;if(!o&&("mousedown"===e.type||"touchstart"===e.type))return!1;if(Array.isArray(o)&&!o.includes(e.button)&&"mousedown"===e.type)return!1;const f=Array.isArray(o)&&o.includes(e.button)||!e.button||e.button<=1;return(!e.ctrlKey||"wheel"===e.type)&&f}}({zoomActivationKeyPressed:N,panOnDrag:s,zoomOnScroll:w,panOnScroll:i,zoomOnDoubleClick:k,zoomOnPinch:b,userSelectionActive:o,noPanClassName:n,noWheelClassName:t,lib:_});p.filter(j),k?f.on("dblclick.zoom",g):f.on("dblclick.zoom",null)},destroy:y,setViewport:async function(e,t){const n=WL(e);return await v(n,t),new Promise((e=>e(n)))},setViewportConstrained:x,getViewport:function(){const e=f?$O(f.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return f?new Promise((n=>{null===p||void 0===p||p.scaleTo(GL(f,null===t||void 0===t?void 0:t.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},scaleBy:function(e,t){return f?new Promise((n=>{null===p||void 0===p||p.scaleBy(GL(f,null===t||void 0===t?void 0:t.duration,(()=>n(!0))),e)})):Promise.resolve(!1)},setScaleExtent:function(e){null===p||void 0===p||p.scaleExtent(e)},setTranslateExtent:function(e){null===p||void 0===p||p.translateExtent(e)},syncViewport:function(e){if(f){const t=WL(e),n=f.property("__zoom");n.k===e.zoom&&n.x===e.x&&n.y===e.y||null===p||void 0===p||p.transform(f,t,null,{sync:!0})}},setClickDistance:function(e){const t=!zI(e)||e<0?0:e;null===p||void 0===p||p.clickDistance(t)}}}var YL;!function(e){e.Line="line",e.Handle="handle"}(YL||(YL={}));function QL(e,t){return Math.max(0,t-e)}function XL(e,t){return Math.max(0,e-t)}function ZL(e,t,n){return Math.max(0,t-e,e-n)}function JL(e,t){return e?!t:t}const eD={width:0,height:0,x:0,y:0},tD=s(s({},eD),{},{pointerX:0,pointerY:0,aspectRatio:1});function nD(e,t,n){var r,o;const i=t.position.x+e.position.x,s=t.position.y+e.position.y,a=null!==(r=e.measured.width)&&void 0!==r?r:0,l=null!==(o=e.measured.height)&&void 0!==o?o:0,c=n[0]*a,d=n[1]*l;return[[i-c,s-d],[i+a-c,s+l-d]]}function rD(e){let{domNode:t,nodeId:n,getStoreItems:r,onChange:o,onEnd:i}=e;const a=_M(t);return{update:function(e){let{controlPosition:t,boundaries:l,keepAspectRatio:c,resizeDirection:d,onResizeStart:u,onResize:h,onResizeEnd:p,shouldResize:f}=e,m=s({},eD),g=s({},tD);const v=function(e){return{isHorizontal:e.includes("right")||e.includes("left"),isVertical:e.includes("bottom")||e.includes("top"),affectsX:e.includes("left"),affectsY:e.includes("top")}}(t);let y,x,b,w,k=null,N=[];const _=$M().on("start",(e=>{var t,o,i,a,l;const{nodeLookup:c,transform:d,snapGrid:h,snapToGrid:p,nodeOrigin:f,paneDomNode:v}=r();if(y=c.get(n),!y)return;k=null!==(t=null===v||void 0===v?void 0:v.getBoundingClientRect())&&void 0!==t?t:null;const{xSnapped:_,ySnapped:S}=ZI(e.sourceEvent,{transform:d,snapGrid:h,snapToGrid:p,containerBounds:k});m={width:null!==(o=y.measured.width)&&void 0!==o?o:0,height:null!==(i=y.measured.height)&&void 0!==i?i:0,x:null!==(a=y.position.x)&&void 0!==a?a:0,y:null!==(l=y.position.y)&&void 0!==l?l:0},g=s(s({},m),{},{pointerX:_,pointerY:S,aspectRatio:m.width/m.height}),x=void 0,y.parentId&&("parent"===y.extent||y.expandParent)&&(x=c.get(y.parentId),b=x&&"parent"===y.extent?function(e){return[[0,0],[e.measured.width,e.measured.height]]}(x):void 0),N=[],w=void 0;for(const[r,u]of c)if(u.parentId===n&&(N.push({id:r,position:s({},u.position),extent:u.extent}),"parent"===u.extent||u.expandParent)){var C;const e=nD(u,y,null!==(C=u.origin)&&void 0!==C?C:f);w=w?[[Math.min(e[0][0],w[0][0]),Math.min(e[0][1],w[0][1])],[Math.max(e[1][0],w[1][0]),Math.max(e[1][1],w[1][1])]]:e}null===u||void 0===u||u(e,s({},m))})).on("drag",(e=>{var t;const{transform:n,snapGrid:i,snapToGrid:a,nodeOrigin:u}=r(),p=ZI(e.sourceEvent,{transform:n,snapGrid:i,snapToGrid:a,containerBounds:k}),_=[];if(!y)return;const{x:S,y:C,width:j,height:E}=m,T={},A=null!==(t=y.origin)&&void 0!==t?t:u,{width:M,height:R,x:O,y:I}=function(e,t,n,r,o,i,s,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:d,isVertical:u}=t,h=d&&u,{xSnapped:p,ySnapped:f}=n,{minWidth:m,maxWidth:g,minHeight:v,maxHeight:y}=r,{x:x,y:b,width:w,height:k,aspectRatio:N}=e;let _=Math.floor(d?p-e.pointerX:0),S=Math.floor(u?f-e.pointerY:0);const C=w+(l?-_:_),j=k+(c?-S:S),E=-i[0]*w,T=-i[1]*k;let A=ZL(C,m,g),M=ZL(j,v,y);if(s){let e=0,t=0;l&&_<0?e=QL(x+_+E,s[0][0]):!l&&_>0&&(e=XL(x+C+E,s[1][0])),c&&S<0?t=QL(b+S+T,s[0][1]):!c&&S>0&&(t=XL(b+j+T,s[1][1])),A=Math.max(A,e),M=Math.max(M,t)}if(a){let e=0,t=0;l&&_>0?e=XL(x+_,a[0][0]):!l&&_<0&&(e=QL(x+C,a[1][0])),c&&S>0?t=XL(b+S,a[0][1]):!c&&S<0&&(t=QL(b+j,a[1][1])),A=Math.max(A,e),M=Math.max(M,t)}if(o){if(d){const e=ZL(C/N,v,y)*N;if(A=Math.max(A,e),s){let e=0;e=!l&&!c||l&&!c&&h?XL(b+T+C/N,s[1][1])*N:QL(b+T+(l?_:-_)/N,s[0][1])*N,A=Math.max(A,e)}if(a){let e=0;e=!l&&!c||l&&!c&&h?QL(b+C/N,a[1][1])*N:XL(b+(l?_:-_)/N,a[0][1])*N,A=Math.max(A,e)}}if(u){const e=ZL(j*N,m,g)/N;if(M=Math.max(M,e),s){let e=0;e=!l&&!c||c&&!l&&h?XL(x+j*N+E,s[1][0])/N:QL(x+(c?S:-S)*N+E,s[0][0])/N,M=Math.max(M,e)}if(a){let e=0;e=!l&&!c||c&&!l&&h?QL(x+j*N,a[1][0])/N:XL(x+(c?S:-S)*N,a[0][0])/N,M=Math.max(M,e)}}}S+=S<0?M:-M,_+=_<0?A:-A,o&&(h?C>j*N?S=(JL(l,c)?-_:_)/N:_=(JL(l,c)?-S:S)*N:d?(S=_/N,c=l):(_=S*N,l=c));const R=l?x+_:x,O=c?b+S:b;return{width:w+(l?-_:_),height:k+(c?-S:S),x:i[0]*_*(l?-1:1)+R,y:i[1]*S*(c?-1:1)+O}}(g,v,p,l,c,A,b,w),L=M!==j,D=R!==E,P=O!==S&&L,$=I!==C&&D;if(!P&&!$&&!L&&!D)return;if((P||$||1===A[0]||1===A[1])&&(T.x=P?O:m.x,T.y=$?I:m.y,m.x=T.x,m.y=T.y,N.length>0)){const e=O-S,t=I-C;for(const n of N)n.position={x:n.position.x-e+A[0]*(M-j),y:n.position.y-t+A[1]*(R-E)},_.push(n)}if((L||D)&&(T.width=!L||d&&"horizontal"!==d?m.width:M,T.height=!D||d&&"vertical"!==d?m.height:R,m.width=T.width,m.height=T.height),x&&y.expandParent){var z,F;const e=A[0]*(null!==(z=T.width)&&void 0!==z?z:0);T.x&&T.x<e&&(m.x=e,g.x=g.x-(T.x-e));const t=A[1]*(null!==(F=T.height)&&void 0!==F?F:0);T.y&&T.y<t&&(m.y=t,g.y=g.y-(T.y-t))}const B=function(e){let{width:t,prevWidth:n,height:r,prevHeight:o,affectsX:i,affectsY:s}=e;const a=t-n,l=r-o,c=[a>0?1:a<0?-1:0,l>0?1:l<0?-1:0];return a&&i&&(c[0]=-1*c[0]),l&&s&&(c[1]=-1*c[1]),c}({width:m.width,prevWidth:j,height:m.height,prevHeight:E,affectsX:v.affectsX,affectsY:v.affectsY}),V=s(s({},m),{},{direction:B});!1!==(null===f||void 0===f?void 0:f(e,V))&&(null===h||void 0===h||h(e,V),o(T,_))})).on("end",(e=>{null===p||void 0===p||p(e,s({},m)),null===i||void 0===i||i(s({},m))}));a.call(_)},destroy:function(){a.on(".drag",null)}}}var oD=n(443);const iD=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"===typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!==typeof o||null===o)?o:Object.assign({},t,o),n.forEach((n=>n(t,e)))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},s=t=e(r,o,i);return i},sD=e=>e?iD(e):iD;const{useDebugValue:aD}=a,{useSyncExternalStoreWithSelector:lD}=oD,cD=e=>e;function dD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:cD,n=arguments.length>2?arguments[2]:void 0;const r=lD(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return aD(r),r}const uD=(e,t)=>{const n=sD(e),r=function(e){return dD(n,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:t)};return Object.assign(r,n),r};function hD(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const pD=["position","children","className","style"],fD=["type","position","isValidConnection","isConnectable","isConnectableStart","isConnectableEnd","id","onConnect","children","className","onMouseDown","onTouchStart"],mD=["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"],gD=["path","labelX","labelY","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","interactionWidth"],vD=["id"],yD=["nodes","edges","defaultNodes","defaultEdges","className","nodeTypes","edgeTypes","onNodeClick","onEdgeClick","onInit","onMove","onMoveStart","onMoveEnd","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onNodesDelete","onEdgesDelete","onDelete","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","onSelectionStart","onSelectionEnd","onBeforeDelete","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","connectionLineContainerStyle","deleteKeyCode","selectionKeyCode","selectionOnDrag","selectionMode","panActivationKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","nodesFocusable","nodeOrigin","edgesFocusable","edgesReconnectable","elementsSelectable","defaultViewport","minZoom","maxZoom","translateExtent","preventScrolling","nodeExtent","defaultMarkerColor","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","panOnDrag","onPaneClick","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","onPaneScroll","onPaneContextMenu","paneClickDistance","nodeClickDistance","children","onReconnect","onReconnectStart","onReconnectEnd","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","reconnectRadius","onNodesChange","onEdgesChange","noDragClassName","noWheelClassName","noPanClassName","fitView","fitViewOptions","connectOnClick","attributionPosition","proOptions","defaultEdgeOptions","elevateNodesOnSelect","elevateEdgesOnSelect","disableKeyboardA11y","autoPanOnConnect","autoPanOnNodeDrag","autoPanSpeed","connectionRadius","isValidConnection","onError","style","id","nodeDragThreshold","viewport","onViewportChange","width","height","colorMode","debug","onScroll"],xD=["children","className"],bD=(0,a.createContext)(null),wD=bD.Provider,kD=YO();function ND(e,t){const n=(0,a.useContext)(bD);if(null===n)throw new Error(kD);return dD(n,e,t)}function _D(){const e=(0,a.useContext)(bD);if(null===e)throw new Error(kD);return(0,a.useMemo)((()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe})),[e])}const SD={display:"none"},CD={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},jD="react-flow__node-desc",ED="react-flow__edge-desc",TD=e=>e.ariaLiveMessage;function AD(e){let{rfId:t}=e;const n=ND(TD);return(0,mn.jsx)("div",{id:"".concat("react-flow__aria-live","-").concat(t),"aria-live":"assertive","aria-atomic":"true",style:CD,children:n})}function MD(e){let{rfId:t,disableKeyboardA11y:n}=e;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("div",{id:"".concat(jD,"-").concat(t),style:SD,children:["Press enter or space to select a node.",!n&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,mn.jsx)("div",{id:"".concat(ED,"-").concat(t),style:SD,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!n&&(0,mn.jsx)(AD,{rfId:t})]})}const RD=e=>e.userSelectionActive?"none":"all",OD=(0,a.forwardRef)(((e,t)=>{let{position:n="top-left",children:r,className:o,style:i}=e,a=u(e,pD);const l=ND(RD),c="".concat(n).split("-");return(0,mn.jsx)("div",s(s({className:oA(["react-flow__panel",o,...c]),style:s(s({},i),{},{pointerEvents:l}),ref:t},a),{},{children:r}))}));function ID(e){let{proOptions:t,position:n="bottom-right"}=e;return null!==t&&void 0!==t&&t.hideAttribution?null:(0,mn.jsx)(OD,{position:n,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,mn.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}OD.displayName="Panel";const LD=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},DD=e=>e.id;function PD(e,t){return hD(e.selectedNodes.map(DD),t.selectedNodes.map(DD))&&hD(e.selectedEdges.map(DD),t.selectedEdges.map(DD))}function $D(e){let{onSelectionChange:t}=e;const n=_D(),{selectedNodes:r,selectedEdges:o}=ND(LD,PD);return(0,a.useEffect)((()=>{const e={nodes:r,edges:o};null===t||void 0===t||t(e),n.getState().onSelectionChangeHandlers.forEach((t=>t(e)))}),[r,o,t]),null}const zD=e=>!!e.onSelectionChangeHandlers;function FD(e){let{onSelectionChange:t}=e;const n=ND(zD);return t||n?(0,mn.jsx)($D,{onSelectionChange:t}):null}const BD=[0,0],VD={x:0,y:0,zoom:1},WD=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],HD=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),UD={translateExtent:aI,nodeOrigin:BD,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function GD(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:s,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=ND(HD,hD),u=_D();(0,a.useEffect)((()=>(c(e.defaultNodes,e.defaultEdges),()=>{h.current=UD,l()})),[]);const h=(0,a.useRef)(UD);return(0,a.useEffect)((()=>{for(const a of WD){const l=e[a];l!==h.current[a]&&("undefined"!==typeof e[a]&&("nodes"===a?t(l):"edges"===a?n(l):"minZoom"===a?r(l):"maxZoom"===a?o(l):"translateExtent"===a?i(l):"nodeExtent"===a?s(l):"paneClickDistance"===a?d(l):"fitView"===a?u.setState({fitViewQueued:l}):"fitViewOptions"===a?u.setState({fitViewOptions:l}):u.setState({[a]:l})))}h.current=e}),WD.map((t=>e[t]))),null}function qD(){return"undefined"!==typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}const KD="undefined"!==typeof document?document:null;function YD(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{target:KD,actInsideInputWithModifier:!0};const[n,r]=(0,a.useState)(!1),o=(0,a.useRef)(!1),i=(0,a.useRef)(new Set([])),[s,l]=(0,a.useMemo)((()=>{if(null!==e){const t=(Array.isArray(e)?e:[e]).filter((e=>"string"===typeof e)).map((e=>e.replace("+","\n").replace("\n\n","\n+").split("\n"))),n=t.reduce(((e,t)=>e.concat(...t)),[]);return[t,n]}return[[],[]]}),[e]);return(0,a.useEffect)((()=>{const n=(null===t||void 0===t?void 0:t.target)||KD;if(null!==e){const e=e=>{o.current=e.ctrlKey||e.metaKey||e.shiftKey||e.altKey;if((!o.current||o.current&&!t.actInsideInputWithModifier)&&nL(e))return!1;const n=XD(e.code,l);if(i.current.add(e[n]),QD(s,i.current,!1)){var a;const n=(null===(a=e.composedPath)||void 0===a||null===(a=a.call(e))||void 0===a?void 0:a[0])||e.target,i="BUTTON"===(null===n||void 0===n?void 0:n.nodeName)||"A"===(null===n||void 0===n?void 0:n.nodeName);!1===t.preventDefault||!o.current&&i||e.preventDefault(),r(!0)}},a=e=>{const t=XD(e.code,l);QD(s,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[t]),"Meta"===e.key&&i.current.clear(),o.current=!1},c=()=>{i.current.clear(),r(!1)};return null===n||void 0===n||n.addEventListener("keydown",e),null===n||void 0===n||n.addEventListener("keyup",a),window.addEventListener("blur",c),window.addEventListener("contextmenu",c),()=>{null===n||void 0===n||n.removeEventListener("keydown",e),null===n||void 0===n||n.removeEventListener("keyup",a),window.removeEventListener("blur",c),window.removeEventListener("contextmenu",c)}}}),[e,r]),n}function QD(e,t,n){return e.filter((e=>n||e.length===t.size)).some((e=>e.every((e=>t.has(e)))))}function XD(e,t){return t.includes(e)?"code":"key"}function ZD(e,t){const n=[],r=new Map,o=[];for(const i of e)if("add"!==i.type)if("remove"===i.type||"replace"===i.type)r.set(i.id,[i]);else{const e=r.get(i.id);e?e.push(i):r.set(i.id,[i])}else o.push(i);for(const i of t){const e=r.get(i.id);if(!e){n.push(i);continue}if("remove"===e[0].type)continue;if("replace"===e[0].type){n.push(s({},e[0].item));continue}const t=s({},i);for(const n of e)JD(n,t);n.push(t)}return o.length&&o.forEach((e=>{void 0!==e.index?n.splice(e.index,0,s({},e.item)):n.push(s({},e.item))})),n}function JD(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":"undefined"!==typeof e.position&&(t.position=e.position),"undefined"!==typeof e.dragging&&(t.dragging=e.dragging);break;case"dimensions":var n;if("undefined"!==typeof e.dimensions)null!==(n=t.measured)&&void 0!==n||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(!0!==e.setAttributes&&"width"!==e.setAttributes||(t.width=e.dimensions.width),!0!==e.setAttributes&&"height"!==e.setAttributes||(t.height=e.dimensions.height));"boolean"===typeof e.resizing&&(t.resizing=e.resizing)}}function eP(e,t){return ZD(e,t)}function tP(e,t){return ZD(e,t)}function nP(e,t){return{id:e,type:"select",selected:t}}function rP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=[];for(const[o,i]of e){const e=t.has(o);void 0===i.selected&&!e||i.selected===e||(n&&(i.selected=e),r.push(nP(i.id,e)))}return r}function oP(e){let{items:t=[],lookup:n}=e;const r=[],o=new Map(t.map((e=>[e.id,e])));for(const[a,l]of t.entries()){var i,s;const e=n.get(l.id),t=null!==(i=null===e||void 0===e||null===(s=e.internals)||void 0===s?void 0:s.userNode)&&void 0!==i?i:e;void 0!==t&&t!==l&&r.push({id:l.id,item:l,type:"replace"}),void 0===t&&r.push({item:l,type:"add",index:a})}for(const[a]of n){void 0===o.get(a)&&r.push({id:a,type:"remove"})}return r}function iP(e){return{id:e.id,type:"remove"}}const sP=e=>(e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e))(e);function aP(e){return(0,a.forwardRef)(e)}const lP="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;function cP(e){const[t,n]=(0,a.useState)(BigInt(0)),[r]=(0,a.useState)((()=>function(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}((()=>n((e=>e+BigInt(1)))))));return lP((()=>{const t=r.get();t.length&&(e(t),r.reset())}),[t]),r}const dP=(0,a.createContext)(null);function uP(e){let{children:t}=e;const n=_D(),r=(0,a.useCallback)((e=>{const{nodes:t=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:s,fitViewQueued:a}=n.getState();let l=t;for(const n of e)l="function"===typeof n?n(l):n;if(o)r(l);else{const e=oP({items:l,lookup:s});e.length>0?null===i||void 0===i||i(e):a&&window.requestAnimationFrame((()=>{const{fitViewQueued:e,nodes:t,setNodes:r}=n.getState();e&&r(t)}))}}),[]),o=cP(r),i=(0,a.useCallback)((e=>{const{edges:t=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:s}=n.getState();let a=t;for(const n of e)a="function"===typeof n?n(a):n;o?r(a):i&&i(oP({items:a,lookup:s}))}),[]),s=cP(i),l=(0,a.useMemo)((()=>({nodeQueue:o,edgeQueue:s})),[]);return(0,mn.jsx)(dP.Provider,{value:l,children:t})}const hP=e=>!!e.panZoom;function pP(){const e=(()=>{const e=_D();return(0,a.useMemo)((()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:null===t||void 0===t?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:null===t||void 0===t?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:null===n||void 0===n?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{var r,o,i;const{transform:[s,a,l],panZoom:c}=e.getState();return c?(await c.setViewport({x:null!==(r=t.x)&&void 0!==r?r:s,y:null!==(o=t.y)&&void 0!==o?o:a,zoom:null!==(i=t.zoom)&&void 0!==i?i:l},{duration:null===n||void 0===n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:o,height:i,maxZoom:s,panZoom:a}=e.getState(),l="undefined"!==typeof(null===r||void 0===r?void 0:r.zoom)?r.zoom:s,c=o/2-t*l,d=i/2-n*l;return a?(await a.setViewport({x:c,y:d,zoom:l},{duration:null===r||void 0===r?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{var r;const{width:o,height:i,minZoom:s,maxZoom:a,panZoom:l}=e.getState(),c=UI(t,o,i,s,a,null!==(r=null===n||void 0===n?void 0:n.padding)&&void 0!==r?r:.1);return l?(await l.setViewport(c,{duration:null===n||void 0===n?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:function(t){var n,r;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:i,snapGrid:s,snapToGrid:a,domNode:l}=e.getState();if(!l)return t;const{x:c,y:d}=l.getBoundingClientRect(),u={x:t.x-c,y:t.y-d},h=null!==(n=o.snapGrid)&&void 0!==n?n:s,p=null!==(r=o.snapToGrid)&&void 0!==r?r:a;return VI(u,i,p,h)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:o,y:i}=r.getBoundingClientRect(),s=WI(t,n);return{x:s.x+o,y:s.y+i}}})),[])})(),t=_D(),n=function(){const e=(0,a.useContext)(dP);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}(),r=ND(hP),o=(0,a.useMemo)((()=>{const e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},i=e=>{var n,r,o,i;const{nodeLookup:a,nodeOrigin:l}=t.getState(),c=sP(e)?e:a.get(e.id),d=c.parentId?QI(c.position,c.measured,c.parentId,a,l):c.position,u=s(s({},c),{},{position:d,width:null!==(n=null===(r=c.measured)||void 0===r?void 0:r.width)&&void 0!==n?n:c.width,height:null!==(o=null===(i=c.measured)||void 0===i?void 0:i.height)&&void 0!==o?o:c.height});return II(u)},a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};r((r=>r.map((r=>{if(r.id===e){const e="function"===typeof t?t(r):t;return n.replace&&sP(e)?e:s(s({},r),e)}return r}))))},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};o((r=>r.map((r=>{if(r.id===e){const e="function"===typeof t?t(r):t;return n.replace&&yI(e)?e:s(s({},r),e)}return r}))))};return{getNodes:()=>t.getState().nodes.map((e=>s({},e))),getNode:t=>{var n;return null===(n=e(t))||void 0===n?void 0:n.internals.userNode},getInternalNode:e,getEdges:()=>{const{edges:e=[]}=t.getState();return e.map((e=>s({},e)))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{const t=Array.isArray(e)?e:[e];n.nodeQueue.push((e=>[...e,...t]))},addEdges:e=>{const t=Array.isArray(e)?e:[e];n.edgeQueue.push((e=>[...e,...t]))},toObject:()=>{const{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e.map((e=>s({},e))),edges:n.map((e=>s({},e))),viewport:{x:o,y:i,zoom:a}}},deleteElements:async e=>{let{nodes:n=[],edges:r=[]}=e;const{nodes:o,edges:i,onNodesDelete:s,onEdgesDelete:a,triggerNodeChanges:l,triggerEdgeChanges:c,onDelete:d,onBeforeDelete:u}=t.getState(),{nodes:h,edges:p}=await SI({nodesToRemove:n,edgesToRemove:r,nodes:o,edges:i,onBeforeDelete:u}),f=p.length>0,m=h.length>0;if(f){const e=p.map(iP);null===a||void 0===a||a(p),c(e)}if(m){const e=h.map(iP);null===s||void 0===s||s(h),l(e)}return(m||f)&&(null===d||void 0===d||d({nodes:h,edges:p})),{deletedNodes:h,deletedEdges:p}},getIntersectingNodes:function(e){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;const o=$I(e),s=o?e:i(e),a=void 0!==r;return s?(r||t.getState().nodes).filter((r=>{const i=t.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;const l=II(a?r:i),c=PI(l,s);return n&&c>0||c>=s.width*s.height})):[]},isNodeIntersecting:function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=$I(e)?e:i(e);if(!r)return!1;const o=PI(r,t);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};a(e,(e=>{const r="function"===typeof t?t(e):t;return n.replace?s(s({},e),{},{data:r}):s(s({},e),{},{data:s(s({},e.data),r)})}),n)},updateEdge:l,updateEdgeData:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{replace:!1};l(e,(e=>{const r="function"===typeof t?t(e):t;return n.replace?s(s({},e),{},{data:r}):s(s({},e),{},{data:s(s({},e.data),r)})}),n)},getNodesBounds:e=>{const{nodeLookup:n,nodeOrigin:r}=t.getState();return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{nodeOrigin:[0,0]};if(0===e.length)return{x:0,y:0,width:0,height:0};const n=e.reduce(((e,n)=>{const r="string"===typeof n;let o=t.nodeLookup||r?void 0:n;t.nodeLookup&&(o=r?t.nodeLookup.get(n):xI(n)?n:t.nodeLookup.get(n.id));const i=o?LI(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return MI(e,i)}),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return OI(n)}(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:e=>{var n,r;let{type:o,id:i,nodeId:s}=e;return Array.from(null!==(n=null===(r=t.getState().connectionLookup.get("".concat(s,"-").concat(o).concat(i?"-".concat(i):"")))||void 0===r?void 0:r.values())&&void 0!==n?n:[])},getNodeConnections:e=>{var n,r;let{type:o,handleId:i,nodeId:s}=e;return Array.from(null!==(n=null===(r=t.getState().connectionLookup.get("".concat(s).concat(o?i?"-".concat(o,"-").concat(i):"-".concat(o):"")))||void 0===r?void 0:r.values())&&void 0!==n?n:[])},fitView:async e=>{var r;const o=null!==(r=t.getState().fitViewResolver)&&void 0!==r?r:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}();return t.setState({fitViewQueued:!0,fitViewOptions:e,fitViewResolver:o}),n.nodeQueue.push((e=>[...e])),o.promise}}}),[]);return(0,a.useMemo)((()=>s(s(s({},o),e),{},{viewportInitialized:r})),[r])}const fP=e=>e.selected,mP={actInsideInputWithModifier:!1},gP="undefined"!==typeof window?window:void 0;const vP={position:"absolute",width:"100%",height:"100%",top:0,left:0},yP=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function xP(e){let{onPaneContextMenu:t,zoomOnScroll:n=!0,zoomOnPinch:r=!0,panOnScroll:o=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=dI.Free,zoomOnDoubleClick:l=!0,panOnDrag:c=!0,defaultViewport:d,translateExtent:u,minZoom:h,maxZoom:p,zoomActivationKeyCode:f,preventScrolling:m=!0,children:g,noWheelClassName:v,noPanClassName:y,onViewportChange:x,isControlledViewport:b,paneClickDistance:w}=e;const k=_D(),N=(0,a.useRef)(null),{userSelectionActive:_,lib:S}=ND(yP,hD),C=YD(f),j=(0,a.useRef)();!function(e){const t=_D();(0,a.useEffect)((()=>{const n=()=>{if(!e.current)return!1;const n=JI(e.current);var r,o;0!==n.height&&0!==n.width||null===(r=(o=t.getState()).onError)||void 0===r||r.call(o,"004",XO()),t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);const t=new ResizeObserver((()=>n()));return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}}),[])}(N);const E=(0,a.useCallback)((e=>{null===x||void 0===x||x({x:e[0],y:e[1],zoom:e[2]}),b||k.setState({transform:e})}),[x,b]);return(0,a.useEffect)((()=>{if(N.current){j.current=KL({domNode:N.current,minZoom:h,maxZoom:p,translateExtent:u,viewport:d,paneClickDistance:w,onDraggingChange:e=>k.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{const{onViewportChangeStart:n,onMoveStart:r}=k.getState();null===r||void 0===r||r(e,t),null===n||void 0===n||n(t)},onPanZoom:(e,t)=>{const{onViewportChange:n,onMove:r}=k.getState();null===r||void 0===r||r(e,t),null===n||void 0===n||n(t)},onPanZoomEnd:(e,t)=>{const{onViewportChangeEnd:n,onMoveEnd:r}=k.getState();null===r||void 0===r||r(e,t),null===n||void 0===n||n(t)}});const{x:e,y:t,zoom:n}=j.current.getViewport();return k.setState({panZoom:j.current,transform:[e,t,n],domNode:N.current.closest(".react-flow")}),()=>{var e;null===(e=j.current)||void 0===e||e.destroy()}}}),[]),(0,a.useEffect)((()=>{var e;null===(e=j.current)||void 0===e||e.update({onPaneContextMenu:t,zoomOnScroll:n,zoomOnPinch:r,panOnScroll:o,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:l,panOnDrag:c,zoomActivationKeyPressed:C,preventScrolling:m,noPanClassName:y,userSelectionActive:_,noWheelClassName:v,lib:S,onTransformChange:E})}),[t,n,r,o,i,s,l,c,C,m,y,_,v,S,E]),(0,mn.jsx)("div",{className:"react-flow__renderer",ref:N,style:vP,children:g})}const bP=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function wP(){const{userSelectionActive:e,userSelectionRect:t}=ND(bP,hD);return e&&t?(0,mn.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}const kP=(e,t)=>n=>{n.target===t.current&&(null===e||void 0===e||e(n))},NP=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function _P(e){let{isSelecting:t,selectionKeyPressed:n,selectionMode:r=uI.Full,panOnDrag:o,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:l,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:u,onPaneMouseEnter:h,onPaneMouseMove:p,onPaneMouseLeave:f,children:m}=e;const g=_D(),{userSelectionActive:v,elementsSelectable:y,dragging:x,connectionInProgress:b}=ND(NP,hD),w=y&&(t||v),k=(0,a.useRef)(null),N=(0,a.useRef)(),_=(0,a.useRef)(new Set),S=(0,a.useRef)(new Set),C=(0,a.useRef)(!1),j=(0,a.useRef)(!1),E=e=>{C.current||b?C.current=!1:(null===c||void 0===c||c(e),g.getState().resetSelectedElements(),g.setState({nodesSelectionActive:!1}))},T=u?e=>u(e):void 0,A=!0===o||Array.isArray(o)&&o.includes(0);return(0,mn.jsxs)("div",{className:oA(["react-flow__pane",{draggable:A,dragging:x,selection:t}]),onClick:w?void 0:kP(E,k),onContextMenu:kP((e=>{Array.isArray(o)&&null!==o&&void 0!==o&&o.includes(2)?e.preventDefault():null===d||void 0===d||d(e)}),k),onWheel:kP(T,k),onPointerEnter:w?void 0:h,onPointerDown:w?e=>{var n,r;const{resetSelectedElements:o,domNode:i}=g.getState();if(N.current=null===i||void 0===i?void 0:i.getBoundingClientRect(),!y||!t||0!==e.button||e.target!==k.current||!N.current)return;null===(n=e.target)||void 0===n||null===(r=n.setPointerCapture)||void 0===r||r.call(n,e.pointerId),j.current=!0,C.current=!1;const{x:a,y:l}=oL(e.nativeEvent,N.current);o(),g.setState({userSelectionRect:{width:0,height:0,startX:a,startY:l,x:a,y:l}}),null===s||void 0===s||s(e)}:p,onPointerMove:w?e=>{var t;const{userSelectionRect:n,transform:o,nodeLookup:i,edgeLookup:s,connectionLookup:a,triggerNodeChanges:l,triggerEdgeChanges:c,defaultEdgeOptions:d}=g.getState();if(!N.current||!n)return;C.current=!0;const{x:u,y:h}=oL(e.nativeEvent,N.current),{startX:p,startY:f}=n,m={startX:p,startY:f,x:u<p?u:p,y:h<f?h:f,width:Math.abs(u-p),height:Math.abs(h-f)},v=_.current,y=S.current;_.current=new Set(kI(i,m,o,r===uI.Partial,!0).map((e=>e.id))),S.current=new Set;const x=null===(t=null===d||void 0===d?void 0:d.selectable)||void 0===t||t;for(const r of _.current){const e=a.get(r);if(e)for(const{edgeId:t}of e.values()){var b;const e=s.get(t);e&&(null!==(b=e.selectable)&&void 0!==b?b:x)&&S.current.add(t)}}if(!XI(v,_.current)){l(rP(i,_.current,!0))}if(!XI(y,S.current)){c(rP(s,S.current))}g.setState({userSelectionRect:m,userSelectionActive:!0,nodesSelectionActive:!1})}:p,onPointerUp:w?e=>{var t,r;if(0!==e.button||!j.current)return;null===(t=e.target)||void 0===t||null===(r=t.releasePointerCapture)||void 0===r||r.call(t,e.pointerId);const{userSelectionRect:o}=g.getState();!v&&o&&e.target===k.current&&(null===E||void 0===E||E(e)),g.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:_.current.size>0}),null===l||void 0===l||l(e),(n||i)&&(C.current=!1),j.current=!1}:void 0,onPointerLeave:f,ref:k,style:vP,children:[m,(0,mn.jsx)(wP,{})]})}function SP(e){let{id:t,store:n,unselect:r=!1,nodeRef:o}=e;const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:a,nodeLookup:l,onError:c}=n.getState(),d=l.get(t);d?(n.setState({nodesSelectionActive:!1}),d.selected?(r||d.selected&&a)&&(s({nodes:[d],edges:[]}),requestAnimationFrame((()=>{var e;return null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.blur()}))):i([t])):null===c||void 0===c||c("012",oI(t))}function CP(e){let{nodeRef:t,disabled:n=!1,noDragClassName:r,handleSelector:o,nodeId:i,isSelectable:s,nodeClickDistance:l}=e;const c=_D(),[d,u]=(0,a.useState)(!1),h=(0,a.useRef)();return(0,a.useEffect)((()=>{h.current=LL({getStoreItems:()=>c.getState(),onNodeMouseDown:e=>{SP({id:e,store:c,nodeRef:t})},onDragStart:()=>{u(!0)},onDragStop:()=>{u(!1)}})}),[]),(0,a.useEffect)((()=>{var e;if(n)null===(e=h.current)||void 0===e||e.destroy();else if(t.current){var a;return null===(a=h.current)||void 0===a||a.update({noDragClassName:r,handleSelector:o,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:l}),()=>{var e;null===(e=h.current)||void 0===e||e.destroy()}}}),[r,o,n,s,t,i]),d}function jP(){const e=_D(),t=(0,a.useCallback)((t=>{const{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:s,updateNodePositions:a,nodeLookup:l,nodeOrigin:c}=e.getState(),d=new Map,u=(e=>t=>t.selected&&(t.draggable||e&&"undefined"===typeof t.draggable))(i),h=r?o[0]:5,p=r?o[1]:5,f=t.direction.x*h*t.factor,m=t.direction.y*p*t.factor;for(const[,e]of l){if(!u(e))continue;let t={x:e.internals.positionAbsolute.x+f,y:e.internals.positionAbsolute.y+m};r&&(t=BI(t,o));const{position:i,positionAbsolute:a}=_I({nodeId:e.id,nextPosition:t,nodeLookup:l,nodeExtent:n,nodeOrigin:c,onError:s});e.position=i,e.internals.positionAbsolute=a,d.set(e.id,e)}a(d)}),[]);return t}const EP=(0,a.createContext)(null),TP=EP.Provider;EP.Consumer;const AP=()=>(0,a.useContext)(EP),MP=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId});const RP=(0,a.memo)(aP((function(e,t){let{type:n="source",position:r=mI.Top,isValidConnection:o,isConnectable:i=!0,isConnectableStart:a=!0,isConnectableEnd:l=!0,id:c,onConnect:d,children:h,className:p,onMouseDown:f,onTouchStart:m}=e,g=u(e,fD);const v=c||null,y="target"===n,x=_D(),b=AP(),{connectOnClick:w,noPanClassName:k,rfId:N}=ND(MP,hD),{connectingFrom:_,connectingTo:S,clickConnecting:C,isPossibleEndHandle:j,connectionInProcess:E,clickConnectionInProcess:T,valid:A}=ND(((e,t,n)=>r=>{const{connectionClickStartHandle:o,connectionMode:i,connection:s}=r,{fromHandle:a,toHandle:l,isValid:c}=s,d=(null===l||void 0===l?void 0:l.nodeId)===e&&(null===l||void 0===l?void 0:l.id)===t&&(null===l||void 0===l?void 0:l.type)===n;return{connectingFrom:(null===a||void 0===a?void 0:a.nodeId)===e&&(null===a||void 0===a?void 0:a.id)===t&&(null===a||void 0===a?void 0:a.type)===n,connectingTo:d,clickConnecting:(null===o||void 0===o?void 0:o.nodeId)===e&&(null===o||void 0===o?void 0:o.id)===t&&(null===o||void 0===o?void 0:o.type)===n,isPossibleEndHandle:i===cI.Strict?(null===a||void 0===a?void 0:a.type)!==n:e!==(null===a||void 0===a?void 0:a.nodeId)||t!==(null===a||void 0===a?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!o,valid:d&&c}})(b,v,n),hD);var M,R;b||null===(M=(R=x.getState()).onError)||void 0===M||M.call(R,"010",nI());const O=e=>{const{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=x.getState(),o=s(s({},t),e);if(r){const{edges:e,setEdges:t}=x.getState();t(((e,t)=>{if(!e.source||!e.target)return FI(0,JO()),t;let n;return n=yI(e)?s({},e):s(s({},e),{},{id:hL(e)}),((e,t)=>t.some((t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle))))(n,t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n))})(o,e))}null===n||void 0===n||n(o),null===d||void 0===d||d(o)},I=e=>{if(!b)return;const t=rL(e.nativeEvent);if(a&&(t&&0===e.button||!t)){const t=x.getState();BL.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:y,handleId:v,nodeId:b,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:O,isValidConnection:o||t.isValidConnection,getTransform:()=>x.getState().transform,getFromHandle:()=>x.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?null===f||void 0===f||f(e):null===m||void 0===m||m(e)};return(0,mn.jsx)("div",s(s({"data-handleid":v,"data-nodeid":b,"data-handlepos":r,"data-id":"".concat(N,"-").concat(b,"-").concat(v,"-").concat(n),className:oA(["react-flow__handle","react-flow__handle-".concat(r),"nodrag",k,p,{source:!y,target:y,connectable:i,connectablestart:a,connectableend:l,clickconnecting:C,connectingfrom:_,connectingto:S,valid:A,connectionindicator:i&&(!E||j)&&(E||T?l:a)}]),onMouseDown:I,onTouchStart:I,onClick:w?e=>{const{onClickConnectStart:t,onClickConnectEnd:r,connectionClickStartHandle:i,connectionMode:s,isValidConnection:l,lib:c,rfId:d,nodeLookup:u,connection:h}=x.getState();if(!b||!i&&!a)return;if(!i)return null===t||void 0===t||t(e.nativeEvent,{nodeId:b,handleId:v,handleType:n}),void x.setState({connectionClickStartHandle:{nodeId:b,type:n,id:v}});const p=eL(e.target),f=o||l,{connection:m,isValid:g}=BL.isValid(e.nativeEvent,{handle:{nodeId:b,id:v,type:n},connectionMode:s,fromNodeId:i.nodeId,fromHandleId:i.id||null,fromType:i.type,isValidConnection:f,flowId:d,doc:p,lib:c,nodeLookup:u});g&&m&&O(m);const y=structuredClone(h);delete y.inProgress,y.toPosition=y.toHandle?y.toHandle.position:null,null===r||void 0===r||r(e,y),x.setState({connectionClickStartHandle:null})}:void 0,ref:t},g),{},{children:h}))})));const OP={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},IP={input:function(e){let{data:t,isConnectable:n,sourcePosition:r=mI.Bottom}=e;return(0,mn.jsxs)(mn.Fragment,{children:[null===t||void 0===t?void 0:t.label,(0,mn.jsx)(RP,{type:"source",position:r,isConnectable:n})]})},default:function(e){let{data:t,isConnectable:n,targetPosition:r=mI.Top,sourcePosition:o=mI.Bottom}=e;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(RP,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label,(0,mn.jsx)(RP,{type:"source",position:o,isConnectable:n})]})},output:function(e){let{data:t,isConnectable:n,targetPosition:r=mI.Top}=e;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(RP,{type:"target",position:r,isConnectable:n}),null===t||void 0===t?void 0:t.label]})},group:function(){return null}};const LP=e=>{const{width:t,height:n,x:r,y:o}=wI(e.nodeLookup,{filter:e=>!!e.selected});return{width:zI(t)?t:null,height:zI(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(r,"px,").concat(o,"px)")}};function DP(e){let{onSelectionContextMenu:t,noPanClassName:n,disableKeyboardA11y:r}=e;const o=_D(),{width:i,height:s,transformString:l,userSelectionActive:c}=ND(LP,hD),d=jP(),u=(0,a.useRef)(null);if((0,a.useEffect)((()=>{var e;r||(null===(e=u.current)||void 0===e||e.focus({preventScroll:!0}))}),[r]),CP({nodeRef:u}),c||!i||!s)return null;const h=t?e=>{const n=o.getState().nodes.filter((e=>e.selected));t(e,n)}:void 0;return(0,mn.jsx)("div",{className:oA(["react-flow__nodesselection","react-flow__container",n]),style:{transform:l},children:(0,mn.jsx)("div",{ref:u,className:"react-flow__nodesselection-rect",onContextMenu:h,tabIndex:r?void 0:-1,onKeyDown:r?void 0:e=>{Object.prototype.hasOwnProperty.call(OP,e.key)&&(e.preventDefault(),d({direction:OP[e.key],factor:e.shiftKey?4:1}))},style:{width:i,height:s}})})}const PP="undefined"!==typeof window?window:void 0,$P=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function zP(e){let{children:t,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,paneClickDistance:c,deleteKeyCode:d,selectionKeyCode:u,selectionOnDrag:h,selectionMode:p,onSelectionStart:f,onSelectionEnd:m,multiSelectionKeyCode:g,panActivationKeyCode:v,zoomActivationKeyCode:y,elementsSelectable:x,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:k,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:S,panOnDrag:C,defaultViewport:j,translateExtent:E,minZoom:T,maxZoom:A,preventScrolling:M,onSelectionContextMenu:R,noWheelClassName:O,noPanClassName:I,disableKeyboardA11y:L,onViewportChange:D,isControlledViewport:P}=e;const{nodesSelectionActive:$,userSelectionActive:z}=ND($P),F=YD(u,{target:PP}),B=YD(v,{target:PP}),V=B||C,W=B||k,H=h&&!0!==V,U=F||z||H;return function(e){let{deleteKeyCode:t,multiSelectionKeyCode:n}=e;const r=_D(),{deleteElements:o}=pP(),i=YD(t,mP),s=YD(n,{target:gP});(0,a.useEffect)((()=>{if(i){const{edges:e,nodes:t}=r.getState();o({nodes:t.filter(fP),edges:e.filter(fP)}),r.setState({nodesSelectionActive:!1})}}),[i]),(0,a.useEffect)((()=>{r.setState({multiSelectionActive:s})}),[s])}({deleteKeyCode:d,multiSelectionKeyCode:g}),(0,mn.jsx)(xP,{onPaneContextMenu:s,elementsSelectable:x,zoomOnScroll:b,zoomOnPinch:w,panOnScroll:W,panOnScrollSpeed:N,panOnScrollMode:_,zoomOnDoubleClick:S,panOnDrag:!F&&V,defaultViewport:j,translateExtent:E,minZoom:T,maxZoom:A,zoomActivationKeyCode:y,preventScrolling:M,noWheelClassName:O,noPanClassName:I,onViewportChange:D,isControlledViewport:P,paneClickDistance:c,children:(0,mn.jsxs)(_P,{onSelectionStart:f,onSelectionEnd:m,onPaneClick:n,onPaneMouseEnter:r,onPaneMouseMove:o,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:l,panOnDrag:V,isSelecting:!!U,selectionMode:p,selectionKeyPressed:F,selectionOnDrag:H,children:[t,$&&(0,mn.jsx)(DP,{onSelectionContextMenu:R,noPanClassName:I,disableKeyboardA11y:L})]})})}zP.displayName="FlowRenderer";const FP=(0,a.memo)(zP);function BP(e){const t=ND((0,a.useCallback)((e=>t=>e?kI(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map((e=>e.id)):Array.from(t.nodeLookup.keys()))(e),[e]),hD);return t}const VP=e=>e.updateNodeInternals;function WP(e){var t,n;let{id:r,onClick:o,onMouseEnter:i,onMouseMove:l,onMouseLeave:c,onContextMenu:d,onDoubleClick:u,nodesDraggable:h,elementsSelectable:p,nodesConnectable:f,nodesFocusable:m,resizeObserver:g,noDragClassName:v,noPanClassName:y,disableKeyboardA11y:x,rfId:b,nodeTypes:w,nodeClickDistance:k,onError:N}=e;const{node:_,internals:S,isParent:C}=ND((e=>{const t=e.nodeLookup.get(r),n=e.parentLookup.has(r);return{node:t,internals:t.internals,isParent:n}}),hD);let j=_.type||"default",E=(null===w||void 0===w?void 0:w[j])||IP[j];void 0===E&&(null===N||void 0===N||N("003",QO(j)),j="default",E=IP.default);const T=!!(_.draggable||h&&"undefined"===typeof _.draggable),A=!!(_.selectable||p&&"undefined"===typeof _.selectable),M=!!(_.connectable||f&&"undefined"===typeof _.connectable),R=!!(_.focusable||m&&"undefined"===typeof _.focusable),O=_D(),I=YI(_),L=function(e){let{node:t,nodeType:n,hasDimensions:r,resizeObserver:o}=e;const i=_D(),s=(0,a.useRef)(null),l=(0,a.useRef)(null),c=(0,a.useRef)(t.sourcePosition),d=(0,a.useRef)(t.targetPosition),u=(0,a.useRef)(n),h=r&&!!t.internals.handleBounds;return(0,a.useEffect)((()=>{!s.current||t.hidden||h&&l.current===s.current||(l.current&&(null===o||void 0===o||o.unobserve(l.current)),null===o||void 0===o||o.observe(s.current),l.current=s.current)}),[h,t.hidden]),(0,a.useEffect)((()=>()=>{l.current&&(null===o||void 0===o||o.unobserve(l.current),l.current=null)}),[]),(0,a.useEffect)((()=>{if(s.current){const e=u.current!==n,r=c.current!==t.sourcePosition,o=d.current!==t.targetPosition;(e||r||o)&&(u.current=n,c.current=t.sourcePosition,d.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}}),[t.id,n,t.sourcePosition,t.targetPosition]),s}({node:_,nodeType:j,hasDimensions:I,resizeObserver:g}),D=CP({nodeRef:L,disabled:_.hidden||!T,noDragClassName:v,handleSelector:_.dragHandle,nodeId:r,isSelectable:A,nodeClickDistance:k}),P=jP();if(_.hidden)return null;const $=KI(_),z=function(e){var t,n,r,o,i,s,a,l,c,d;return void 0===e.internals.handleBounds?{width:null!==(i=null!==(s=e.width)&&void 0!==s?s:e.initialWidth)&&void 0!==i?i:null===(a=e.style)||void 0===a?void 0:a.width,height:null!==(l=null!==(c=e.height)&&void 0!==c?c:e.initialHeight)&&void 0!==l?l:null===(d=e.style)||void 0===d?void 0:d.height}:{width:null!==(t=e.width)&&void 0!==t?t:null===(n=e.style)||void 0===n?void 0:n.width,height:null!==(r=e.height)&&void 0!==r?r:null===(o=e.style)||void 0===o?void 0:o.height}}(_),F=A||T||o||i||l||c,B=i?e=>i(e,s({},S.userNode)):void 0,V=l?e=>l(e,s({},S.userNode)):void 0,W=c?e=>c(e,s({},S.userNode)):void 0,H=d?e=>d(e,s({},S.userNode)):void 0,U=u?e=>u(e,s({},S.userNode)):void 0;return(0,mn.jsx)("div",{className:oA(["react-flow__node","react-flow__node-".concat(j),{[y]:T},_.className,{selected:_.selected,selectable:A,parent:C,draggable:T,dragging:D}]),ref:L,style:s(s({zIndex:S.z,transform:"translate(".concat(S.positionAbsolute.x,"px,").concat(S.positionAbsolute.y,"px)"),pointerEvents:F?"all":"none",visibility:I?"visible":"hidden"},_.style),z),"data-id":r,"data-testid":"rf__node-".concat(r),onMouseEnter:B,onMouseMove:V,onMouseLeave:W,onContextMenu:H,onClick:e=>{const{selectNodesOnDrag:t,nodeDragThreshold:n}=O.getState();A&&(!t||!T||n>0)&&SP({id:r,store:O,nodeRef:L}),o&&o(e,s({},S.userNode))},onDoubleClick:U,onKeyDown:R?e=>{if(!nL(e.nativeEvent)&&!x)if(lI.includes(e.key)&&A){const t="Escape"===e.key;SP({id:r,store:O,unselect:t,nodeRef:L})}else T&&_.selected&&Object.prototype.hasOwnProperty.call(OP,e.key)&&(e.preventDefault(),O.setState({ariaLiveMessage:"Moved selected node ".concat(e.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~S.positionAbsolute.x,", y: ").concat(~~S.positionAbsolute.y)}),P({direction:OP[e.key],factor:e.shiftKey?4:1}))}:void 0,tabIndex:R?0:void 0,role:R?"button":void 0,"aria-describedby":x?void 0:"".concat(jD,"-").concat(b),"aria-label":_.ariaLabel,children:(0,mn.jsx)(TP,{value:r,children:(0,mn.jsx)(E,s({id:r,data:_.data,type:j,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:null!==(t=_.selected)&&void 0!==t&&t,selectable:A,draggable:T,deletable:null===(n=_.deletable)||void 0===n||n,isConnectable:M,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:D,dragHandle:_.dragHandle,zIndex:S.z,parentId:_.parentId},$))})})}const HP=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function UP(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,onError:i}=ND(HP,hD),s=BP(e.onlyRenderVisibleElements),l=function(){const e=ND(VP),[t]=(0,a.useState)((()=>"undefined"===typeof ResizeObserver?null:new ResizeObserver((t=>{const n=new Map;t.forEach((e=>{const t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})})),e(n)}))));return(0,a.useEffect)((()=>()=>{null===t||void 0===t||t.disconnect()}),[t]),t}();return(0,mn.jsx)("div",{className:"react-flow__nodes",style:vP,children:s.map((s=>(0,mn.jsx)(WP,{id:s,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:l,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:o,nodeClickDistance:e.nodeClickDistance,onError:i},s)))})}UP.displayName="NodeRenderer";const GP=(0,a.memo)(UP);const qP={[fI.Arrow]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,mn.jsx)("polyline",{style:{stroke:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"})},[fI.ArrowClosed]:e=>{let{color:t="none",strokeWidth:n=1}=e;return(0,mn.jsx)("polyline",{style:{stroke:t,fill:t,strokeWidth:n},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})}};const KP=e=>{let{id:t,type:n,color:r,width:o=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:l,orient:c="auto-start-reverse"}=e;const d=function(e){const t=_D();return(0,a.useMemo)((()=>{var n,r;return Object.prototype.hasOwnProperty.call(qP,e)?qP[e]:(null===(n=(r=t.getState()).onError)||void 0===n||n.call(r,"009",eI(e)),null)}),[e])}(n);return d?(0,mn.jsx)("marker",{className:"react-flow__arrowhead",id:t,markerWidth:"".concat(o),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:s,orient:c,refX:"0",refY:"0",children:(0,mn.jsx)(d,{color:r,strokeWidth:l})}):null},YP=e=>{let{defaultColor:t,rfId:n}=e;const r=ND((e=>e.edges)),o=ND((e=>e.defaultEdgeOptions)),i=(0,a.useMemo)((()=>{const e=function(e,t){let{id:n,defaultColor:r,defaultMarkerStart:o,defaultMarkerEnd:i}=t;const a=new Set;return e.reduce(((e,t)=>([t.markerStart||o,t.markerEnd||i].forEach((t=>{if(t&&"object"===typeof t){const o=kL(t,n);a.has(o)||(e.push(s({id:o,color:t.color||r},t)),a.add(o))}})),e)),[]).sort(((e,t)=>e.id.localeCompare(t.id)))}(r,{id:n,defaultColor:t,defaultMarkerStart:null===o||void 0===o?void 0:o.markerStart,defaultMarkerEnd:null===o||void 0===o?void 0:o.markerEnd});return e}),[r,o,n,t]);return i.length?(0,mn.jsx)("svg",{className:"react-flow__marker","aria-hidden":"true",children:(0,mn.jsx)("defs",{children:i.map((e=>(0,mn.jsx)(KP,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id)))})}):null};YP.displayName="MarkerDefinitions";var QP=(0,a.memo)(YP);function XP(e){let{x:t,y:n,label:r,labelStyle:o,labelShowBg:i=!0,labelBgStyle:l,labelBgPadding:c=[2,4],labelBgBorderRadius:d=2,children:h,className:p}=e,f=u(e,mD);const[m,g]=(0,a.useState)({x:1,y:0,width:0,height:0}),v=oA(["react-flow__edge-textwrapper",p]),y=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(y.current){const e=y.current.getBBox();g({x:e.x,y:e.y,width:e.width,height:e.height})}}),[r]),r?(0,mn.jsxs)("g",s(s({transform:"translate(".concat(t-m.width/2," ").concat(n-m.height/2,")"),className:v,visibility:m.width?"visible":"hidden"},f),{},{children:[i&&(0,mn.jsx)("rect",{width:m.width+2*c[0],x:-c[0],y:-c[1],height:m.height+2*c[1],className:"react-flow__edge-textbg",style:l,rx:d,ry:d}),(0,mn.jsx)("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:y,style:o,children:r}),h]})):null}XP.displayName="EdgeText";const ZP=(0,a.memo)(XP);function JP(e){let{path:t,labelX:n,labelY:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d,interactionWidth:h=20}=e,p=u(e,gD);return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("path",s(s({},p),{},{d:t,fill:"none",className:oA(["react-flow__edge-path",p.className])})),h&&(0,mn.jsx)("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),o&&zI(n)&&zI(r)?(0,mn.jsx)(ZP,{x:n,y:r,label:o,labelStyle:i,labelShowBg:a,labelBgStyle:l,labelBgPadding:c,labelBgBorderRadius:d}):null]})}function e$(e){let{pos:t,x1:n,y1:r,x2:o,y2:i}=e;return t===mI.Left||t===mI.Right?[.5*(n+o),r]:[n,.5*(r+i)]}function t$(e){let{sourceX:t,sourceY:n,sourcePosition:r=mI.Bottom,targetX:o,targetY:i,targetPosition:s=mI.Top}=e;const[a,l]=e$({pos:r,x1:t,y1:n,x2:o,y2:i}),[c,d]=e$({pos:s,x1:o,y1:i,x2:t,y2:n}),[u,h,p,f]=sL({sourceX:t,sourceY:n,targetX:o,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return["M".concat(t,",").concat(n," C").concat(a,",").concat(l," ").concat(c,",").concat(d," ").concat(o,",").concat(i),u,h,p,f]}function n$(e){return(0,a.memo)((t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:a,targetPosition:l,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:v,interactionWidth:y}=t;const[x,b,w]=t$({sourceX:r,sourceY:o,sourcePosition:a,targetX:i,targetY:s,targetPosition:l}),k=e.isInternal?void 0:n;return(0,mn.jsx)(JP,{id:k,path:x,labelX:b,labelY:w,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:v,interactionWidth:y})}))}const r$=n$({isInternal:!1}),o$=n$({isInternal:!0});function i$(e){return(0,a.memo)((t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:s,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:p,sourcePosition:f=mI.Bottom,targetPosition:m=mI.Top,markerEnd:g,markerStart:v,pathOptions:y,interactionWidth:x}=t;const[b,w,k]=vL({sourceX:r,sourceY:o,sourcePosition:f,targetX:i,targetY:s,targetPosition:m,borderRadius:null===y||void 0===y?void 0:y.borderRadius,offset:null===y||void 0===y?void 0:y.offset}),N=e.isInternal?void 0:n;return(0,mn.jsx)(JP,{id:N,path:b,labelX:w,labelY:k,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:v,interactionWidth:x})}))}r$.displayName="SimpleBezierEdge",o$.displayName="SimpleBezierEdgeInternal";const s$=i$({isInternal:!1}),a$=i$({isInternal:!0});function l$(e){return(0,a.memo)((t=>{var n;let{id:r}=t,o=u(t,vD);const i=e.isInternal?void 0:r;return(0,mn.jsx)(s$,s(s({},o),{},{id:i,pathOptions:(0,a.useMemo)((()=>{var e;return{borderRadius:0,offset:null===(e=o.pathOptions)||void 0===e?void 0:e.offset}}),[null===(n=o.pathOptions)||void 0===n?void 0:n.offset])}))}))}s$.displayName="SmoothStepEdge",a$.displayName="SmoothStepEdgeInternal";const c$=l$({isInternal:!1}),d$=l$({isInternal:!0});function u$(e){return(0,a.memo)((t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:s,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:p,markerEnd:f,markerStart:m,interactionWidth:g}=t;const[v,y,x]=pL({sourceX:r,sourceY:o,targetX:i,targetY:s}),b=e.isInternal?void 0:n;return(0,mn.jsx)(JP,{id:b,path:v,labelX:y,labelY:x,label:a,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:u,labelBgBorderRadius:h,style:p,markerEnd:f,markerStart:m,interactionWidth:g})}))}c$.displayName="StepEdge",d$.displayName="StepEdgeInternal";const h$=u$({isInternal:!1}),p$=u$({isInternal:!0});function f$(e){return(0,a.memo)((t=>{let{id:n,sourceX:r,sourceY:o,targetX:i,targetY:s,sourcePosition:a=mI.Bottom,targetPosition:l=mI.Top,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:v,pathOptions:y,interactionWidth:x}=t;const[b,w,k]=cL({sourceX:r,sourceY:o,sourcePosition:a,targetX:i,targetY:s,targetPosition:l,curvature:null===y||void 0===y?void 0:y.curvature}),N=e.isInternal?void 0:n;return(0,mn.jsx)(JP,{id:N,path:b,labelX:w,labelY:k,label:c,labelStyle:d,labelShowBg:u,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:f,style:m,markerEnd:g,markerStart:v,interactionWidth:x})}))}h$.displayName="StraightEdge",p$.displayName="StraightEdgeInternal";const m$=f$({isInternal:!1}),g$=f$({isInternal:!0});m$.displayName="BezierEdge",g$.displayName="BezierEdgeInternal";const v$={default:g$,straight:p$,step:d$,smoothstep:a$,simplebezier:o$},y$={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},x$=(e,t,n)=>n===mI.Left?e-t:n===mI.Right?e+t:e,b$=(e,t,n)=>n===mI.Top?e-t:n===mI.Bottom?e+t:e,w$="react-flow__edgeupdater";function k$(e){let{position:t,centerX:n,centerY:r,radius:o=10,onMouseDown:i,onMouseEnter:s,onMouseOut:a,type:l}=e;return(0,mn.jsx)("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:a,className:oA([w$,"".concat(w$,"-").concat(l)]),cx:x$(n,o,t),cy:b$(r,o,t),r:o,stroke:"transparent",fill:"transparent"})}function N$(e){let{isReconnectable:t,reconnectRadius:n,edge:r,sourceX:o,sourceY:i,targetX:s,targetY:a,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:u,onReconnectEnd:h,setReconnecting:p,setUpdateHover:f}=e;const m=_D(),g=(e,t)=>{if(0!==e.button)return;const{autoPanOnConnect:n,domNode:o,isValidConnection:i,connectionMode:s,connectionRadius:a,lib:l,onConnectStart:c,onConnectEnd:f,cancelConnection:g,nodeLookup:v,rfId:y,panBy:x,updateConnection:b}=m.getState(),w="target"===t.type;p(!0),null===u||void 0===u||u(e,r,t.type);BL.onPointerDown(e.nativeEvent,{autoPanOnConnect:n,connectionMode:s,connectionRadius:a,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:v,isTarget:w,edgeUpdaterType:t.type,lib:l,flowId:y,cancelConnection:g,panBy:x,isValidConnection:i,onConnect:e=>null===d||void 0===d?void 0:d(r,e),onConnectStart:c,onConnectEnd:f,onReconnectEnd:(e,n)=>{p(!1),null===h||void 0===h||h(e,r,t.type,n)},updateConnection:b,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle})},v=()=>f(!0),y=()=>f(!1);return(0,mn.jsxs)(mn.Fragment,{children:[(!0===t||"source"===t)&&(0,mn.jsx)(k$,{position:l,centerX:o,centerY:i,radius:n,onMouseDown:e=>{var t;return g(e,{nodeId:r.target,id:null!==(t=r.targetHandle)&&void 0!==t?t:null,type:"target"})},onMouseEnter:v,onMouseOut:y,type:"source"}),(!0===t||"target"===t)&&(0,mn.jsx)(k$,{position:c,centerX:s,centerY:a,radius:n,onMouseDown:e=>{var t;return g(e,{nodeId:r.source,id:null!==(t=r.sourceHandle)&&void 0!==t?t:null,type:"source"})},onMouseEnter:v,onMouseOut:y,type:"target"})]})}function _$(e){var t;let{id:n,edgesFocusable:r,edgesReconnectable:o,elementsSelectable:i,onClick:l,onDoubleClick:c,onContextMenu:d,onMouseEnter:u,onMouseMove:h,onMouseLeave:p,reconnectRadius:f,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,rfId:y,edgeTypes:x,noPanClassName:b,onError:w,disableKeyboardA11y:k}=e,N=ND((e=>e.edgeLookup.get(n)));const _=ND((e=>e.defaultEdgeOptions));N=_?s(s({},_),N):N;let S=N.type||"default",C=(null===x||void 0===x?void 0:x[S])||v$[S];void 0===C&&(null===w||void 0===w||w("011",rI(S)),S="default",C=v$.default);const j=!!(N.focusable||r&&"undefined"===typeof N.focusable),E="undefined"!==typeof m&&(N.reconnectable||o&&"undefined"===typeof N.reconnectable),T=!!(N.selectable||i&&"undefined"===typeof N.selectable),A=(0,a.useRef)(null),[M,R]=(0,a.useState)(!1),[O,I]=(0,a.useState)(!1),L=_D(),{zIndex:D,sourceX:P,sourceY:$,targetX:z,targetY:F,sourcePosition:B,targetPosition:V}=ND((0,a.useCallback)((e=>{const t=e.nodeLookup.get(N.source),r=e.nodeLookup.get(N.target);if(!t||!r)return s({zIndex:N.zIndex},y$);const o=function(e){var t,n,r,o;const{sourceNode:i,targetNode:s}=e;if(!yL(i)||!yL(s))return null;const a=i.internals.handleBounds||xL(i.handles),l=s.internals.handleBounds||xL(s.handles),c=wL(null!==(t=null===a||void 0===a?void 0:a.source)&&void 0!==t?t:[],e.sourceHandle),d=wL(e.connectionMode===cI.Strict?null!==(n=null===l||void 0===l?void 0:l.target)&&void 0!==n?n:[]:(null!==(r=null===l||void 0===l?void 0:l.target)&&void 0!==r?r:[]).concat(null!==(o=null===l||void 0===l?void 0:l.source)&&void 0!==o?o:[]),e.targetHandle);var u;if(!c||!d)return null===(u=e.onError)||void 0===u||u.call(e,"008",tI(c?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const h=(null===c||void 0===c?void 0:c.position)||mI.Bottom,p=(null===d||void 0===d?void 0:d.position)||mI.Top,f=bL(i,c,h),m=bL(s,d,p);return{sourceX:f.x,sourceY:f.y,targetX:m.x,targetY:m.y,sourcePosition:h,targetPosition:p}}({id:n,sourceNode:t,targetNode:r,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:e.connectionMode,onError:w}),i=function(e){let{sourceNode:t,targetNode:n,selected:r=!1,zIndex:o=0,elevateOnSelect:i=!1}=e;if(!i)return o;const s=r||n.selected||t.selected,a=Math.max(t.internals.z||0,n.internals.z||0,1e3);return o+(s?a:0)}({selected:N.selected,zIndex:N.zIndex,sourceNode:t,targetNode:r,elevateOnSelect:e.elevateEdgesOnSelect});return s({zIndex:i},o||y$)}),[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),hD),W=(0,a.useMemo)((()=>N.markerStart?"url('#".concat(kL(N.markerStart,y),"')"):void 0),[N.markerStart,y]),H=(0,a.useMemo)((()=>N.markerEnd?"url('#".concat(kL(N.markerEnd,y),"')"):void 0),[N.markerEnd,y]);if(N.hidden||null===P||null===$||null===z||null===F)return null;const U=c?e=>{c(e,s({},N))}:void 0,G=d?e=>{d(e,s({},N))}:void 0,q=u?e=>{u(e,s({},N))}:void 0,K=h?e=>{h(e,s({},N))}:void 0,Y=p?e=>{p(e,s({},N))}:void 0;return(0,mn.jsx)("svg",{style:{zIndex:D},children:(0,mn.jsxs)("g",{className:oA(["react-flow__edge","react-flow__edge-".concat(S),N.className,b,{selected:N.selected,animated:N.animated,inactive:!T&&!l,updating:M,selectable:T}]),onClick:e=>{const{addSelectedEdges:t,unselectNodesAndEdges:r,multiSelectionActive:o}=L.getState();var i;T&&(L.setState({nodesSelectionActive:!1}),N.selected&&o?(r({nodes:[],edges:[N]}),null===(i=A.current)||void 0===i||i.blur()):t([n]));l&&l(e,N)},onDoubleClick:U,onContextMenu:G,onMouseEnter:q,onMouseMove:K,onMouseLeave:Y,onKeyDown:j?e=>{if(!k&&lI.includes(e.key)&&T){const{unselectNodesAndEdges:r,addSelectedEdges:o}=L.getState();var t;if("Escape"===e.key)null===(t=A.current)||void 0===t||t.blur(),r({edges:[N]});else o([n])}}:void 0,tabIndex:j?0:void 0,role:j?"button":"img","data-id":n,"data-testid":"rf__edge-".concat(n),"aria-label":null===N.ariaLabel?void 0:N.ariaLabel||"Edge from ".concat(N.source," to ").concat(N.target),"aria-describedby":j?"".concat(ED,"-").concat(y):void 0,ref:A,children:[!O&&(0,mn.jsx)(C,{id:n,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:T,deletable:null===(t=N.deletable)||void 0===t||t,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:P,sourceY:$,targetX:z,targetY:F,sourcePosition:B,targetPosition:V,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:W,markerEnd:H,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),E&&(0,mn.jsx)(N$,{edge:N,isReconnectable:E,reconnectRadius:f,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,sourceX:P,sourceY:$,targetX:z,targetY:F,sourcePosition:B,targetPosition:V,setUpdateHover:R,setReconnecting:I})]})})}const S$=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function C$(e){let{defaultMarkerColor:t,onlyRenderVisibleElements:n,rfId:r,edgeTypes:o,noPanClassName:i,onReconnect:s,onEdgeContextMenu:l,onEdgeMouseEnter:c,onEdgeMouseMove:d,onEdgeMouseLeave:u,onEdgeClick:h,reconnectRadius:p,onEdgeDoubleClick:f,onReconnectStart:m,onReconnectEnd:g,disableKeyboardA11y:v}=e;const{edgesFocusable:y,edgesReconnectable:x,elementsSelectable:b,onError:w}=ND(S$,hD),k=(N=n,ND((0,a.useCallback)((e=>{if(!N)return e.edges.map((e=>e.id));const t=[];if(e.width&&e.height)for(const n of e.edges){const r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&uL({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t}),[N]),hD));var N;return(0,mn.jsxs)("div",{className:"react-flow__edges",children:[(0,mn.jsx)(QP,{defaultColor:t,rfId:r}),k.map((e=>(0,mn.jsx)(_$,{id:e,edgesFocusable:y,edgesReconnectable:x,elementsSelectable:b,noPanClassName:i,onReconnect:s,onContextMenu:l,onMouseEnter:c,onMouseMove:d,onMouseLeave:u,onClick:h,reconnectRadius:p,onDoubleClick:f,onReconnectStart:m,onReconnectEnd:g,rfId:r,onError:w,edgeTypes:o,disableKeyboardA11y:v},e)))]})}C$.displayName="EdgeRenderer";const j$=(0,a.memo)(C$),E$=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function T$(e){let{children:t}=e;const n=ND(E$);return(0,mn.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:n},children:t})}const A$=e=>{var t;return null===(t=e.panZoom)||void 0===t?void 0:t.syncViewport};function M$(e){return e.connection.inProgress?s(s({},e.connection),{},{to:VI(e.connection.to,e.transform)}):s({},e.connection)}function R$(e){const t=function(e){if(e)return t=>{const n=M$(t);return e(n)};return M$}(e);return ND(t,hD)}const O$=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function I$(e){let{containerStyle:t,style:n,type:r,component:o}=e;const{nodesConnectable:i,width:s,height:a,isValid:l,inProgress:c}=ND(O$,hD);return!!(s&&i&&c)?(0,mn.jsx)("svg",{style:t,width:s,height:a,className:"react-flow__connectionline react-flow__container",children:(0,mn.jsx)("g",{className:oA(["react-flow__connection",vI(l)]),children:(0,mn.jsx)(L$,{style:n,type:r,CustomComponent:o,isValid:l})})}):null}const L$=e=>{let{style:t,type:n=pI.Bezier,CustomComponent:r,isValid:o}=e;const{inProgress:i,from:a,fromNode:l,fromHandle:c,fromPosition:d,to:u,toNode:h,toHandle:p,toPosition:f}=R$();if(!i)return;if(r)return(0,mn.jsx)(r,{connectionLineType:n,connectionLineStyle:t,fromNode:l,fromHandle:c,fromX:a.x,fromY:a.y,toX:u.x,toY:u.y,fromPosition:d,toPosition:f,connectionStatus:vI(o),toNode:h,toHandle:p});let m="";const g={sourceX:a.x,sourceY:a.y,sourcePosition:d,targetX:u.x,targetY:u.y,targetPosition:f};switch(n){case pI.Bezier:[m]=cL(g);break;case pI.SimpleBezier:[m]=t$(g);break;case pI.Step:[m]=vL(s(s({},g),{},{borderRadius:0}));break;case pI.SmoothStep:[m]=vL(g);break;default:[m]=pL(g)}return(0,mn.jsx)("path",{d:m,fill:"none",className:"react-flow__connection-path",style:t})};L$.displayName="ConnectionLine";const D$={};function P$(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D$;(0,a.useRef)(e),_D();(0,a.useEffect)((()=>{}),[e])}function $$(e){let{nodeTypes:t,edgeTypes:n,onInit:r,onNodeClick:o,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:l,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:u,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:f,onSelectionEnd:m,connectionLineType:g,connectionLineStyle:v,connectionLineComponent:y,connectionLineContainerStyle:x,selectionKeyCode:b,selectionOnDrag:w,selectionMode:k,multiSelectionKeyCode:N,panActivationKeyCode:_,zoomActivationKeyCode:S,deleteKeyCode:C,onlyRenderVisibleElements:j,elementsSelectable:E,defaultViewport:T,translateExtent:A,minZoom:M,maxZoom:R,preventScrolling:O,defaultMarkerColor:I,zoomOnScroll:L,zoomOnPinch:D,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:z,zoomOnDoubleClick:F,panOnDrag:B,onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:H,onPaneMouseLeave:U,onPaneScroll:G,onPaneContextMenu:q,paneClickDistance:K,nodeClickDistance:Y,onEdgeContextMenu:Q,onEdgeMouseEnter:X,onEdgeMouseMove:Z,onEdgeMouseLeave:J,reconnectRadius:ee,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,noDragClassName:oe,noWheelClassName:ie,noPanClassName:se,disableKeyboardA11y:ae,nodeExtent:le,rfId:ce,viewport:de,onViewportChange:ue}=e;return P$(t),P$(n),_D(),(0,a.useRef)(!1),(0,a.useEffect)((()=>{}),[]),function(e){const t=pP(),n=(0,a.useRef)(!1);(0,a.useEffect)((()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout((()=>e(t)),1),n.current=!0)}),[e,t.viewportInitialized])}(r),function(e){const t=ND(A$),n=_D();(0,a.useEffect)((()=>{e&&(null===t||void 0===t||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))}),[e,t])}(de),(0,mn.jsx)(FP,{onPaneClick:V,onPaneMouseEnter:W,onPaneMouseMove:H,onPaneMouseLeave:U,onPaneContextMenu:q,onPaneScroll:G,paneClickDistance:K,deleteKeyCode:C,selectionKeyCode:b,selectionOnDrag:w,selectionMode:k,onSelectionStart:f,onSelectionEnd:m,multiSelectionKeyCode:N,panActivationKeyCode:_,zoomActivationKeyCode:S,elementsSelectable:E,zoomOnScroll:L,zoomOnPinch:D,zoomOnDoubleClick:F,panOnScroll:P,panOnScrollSpeed:$,panOnScrollMode:z,panOnDrag:B,defaultViewport:T,translateExtent:A,minZoom:M,maxZoom:R,onSelectionContextMenu:p,preventScrolling:O,noDragClassName:oe,noWheelClassName:ie,noPanClassName:se,disableKeyboardA11y:ae,onViewportChange:ue,isControlledViewport:!!de,children:(0,mn.jsxs)(T$,{children:[(0,mn.jsx)(j$,{edgeTypes:n,onEdgeClick:i,onEdgeDoubleClick:l,onReconnect:te,onReconnectStart:ne,onReconnectEnd:re,onlyRenderVisibleElements:j,onEdgeContextMenu:Q,onEdgeMouseEnter:X,onEdgeMouseMove:Z,onEdgeMouseLeave:J,reconnectRadius:ee,defaultMarkerColor:I,noPanClassName:se,disableKeyboardA11y:ae,rfId:ce}),(0,mn.jsx)(I$,{style:v,type:g,component:y,containerStyle:x}),(0,mn.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,mn.jsx)(GP,{nodeTypes:t,onNodeClick:o,onNodeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:d,onNodeMouseLeave:u,onNodeContextMenu:h,nodeClickDistance:Y,onlyRenderVisibleElements:j,noPanClassName:se,noDragClassName:oe,disableKeyboardA11y:ae,nodeExtent:le,rfId:ce}),(0,mn.jsx)("div",{className:"react-flow__viewport-portal"})]})})}$$.displayName="GraphView";const z$=(0,a.memo)($$),F$=function(){var e,t;let{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,width:a,height:l,fitView:c,fitViewOptions:d,minZoom:u=.5,maxZoom:h=2,nodeOrigin:p,nodeExtent:f}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const m=new Map,g=new Map,v=new Map,y=new Map,x=null!==(e=null!==i&&void 0!==i?i:r)&&void 0!==e?e:[],b=null!==(t=null!==o&&void 0!==o?o:n)&&void 0!==t?t:[],w=null!==p&&void 0!==p?p:[0,0],k=null!==f&&void 0!==f?f:aI;ML(v,y,x);const N=CL(b,m,g,{nodeOrigin:w,nodeExtent:k,elevateNodesOnSelect:!1});let _=[0,0,1];if(c&&a&&l){var S;const e=wI(m,{filter:e=>!(!e.width&&!e.initialWidth||!e.height&&!e.initialHeight)}),{x:t,y:n,zoom:r}=UI(e,a,l,u,h,null!==(S=null===d||void 0===d?void 0:d.padding)&&void 0!==S?S:.1);_=[t,n,r]}return{rfId:"1",width:0,height:0,transform:_,nodes:b,nodesInitialized:N,nodeLookup:m,parentLookup:g,edges:x,edgeLookup:y,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==o,hasDefaultEdges:void 0!==i,panZoom:null,minZoom:u,maxZoom:h,translateExtent:aI,nodeExtent:k,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:cI.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:w,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:null!==c&&void 0!==c&&c,fitViewOptions:d,fitViewResolver:null,connection:s({},hI),connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:FI,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},B$=e=>{let{nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:a,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:h,nodeExtent:p}=e;return((e,t)=>e?uD(e,t):uD)(((e,f)=>{async function m(){const{nodeLookup:t,panZoom:n,fitViewOptions:r,fitViewResolver:o,width:i,height:s,minZoom:a,maxZoom:l}=f();n&&(await NI({nodes:t,width:i,height:s,panZoom:n,minZoom:a,maxZoom:l},r),null===o||void 0===o||o.resolve(!0),e({fitViewResolver:null}))}return s(s({},F$({nodes:t,edges:n,width:i,height:a,fitView:l,fitViewOptions:c,minZoom:d,maxZoom:u,nodeOrigin:h,nodeExtent:p,defaultNodes:r,defaultEdges:o})),{},{setNodes:t=>{const{nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:i,fitViewQueued:s}=f(),a=CL(t,n,r,{nodeOrigin:o,nodeExtent:p,elevateNodesOnSelect:i,checkEquality:!0});s&&a?(m(),e({nodes:t,nodesInitialized:a,fitViewQueued:!1,fitViewOptions:void 0})):e({nodes:t,nodesInitialized:a})},setEdges:t=>{const{connectionLookup:n,edgeLookup:r}=f();ML(n,r,t),e({edges:t})},setDefaultNodesAndEdges:(t,n)=>{if(t){const{setNodes:n}=f();n(t),e({hasDefaultNodes:!0})}if(n){const{setEdges:t}=f();t(n),e({hasDefaultEdges:!0})}},updateNodeInternals:t=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,domNode:i,nodeOrigin:a,nodeExtent:l,debug:c,fitViewQueued:d}=f(),{changes:u,updatedInternals:h}=function(e,t,n,r,o,i){const a=null===r||void 0===r?void 0:r.querySelector(".xyflow__viewport");let l=!1;if(!a)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(a),{m22:u}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const p of e.values()){const e=t.get(p.id);if(!e)continue;if(e.hidden){t.set(e.id,s(s({},e),{},{internals:s(s({},e.internals),{},{handleBounds:void 0})})),l=!0;continue}const r=JI(p.nodeElement),a=e.measured.width!==r.width||e.measured.height!==r.height;if(r.width&&r.height&&(a||!e.internals.handleBounds||p.force)){const d=p.nodeElement.getBoundingClientRect(),f=qI(e.extent)?e.extent:i;let{positionAbsolute:m}=e.internals;e.parentId&&"parent"===e.extent?m=EI(m,r,t.get(e.parentId)):f&&(m=jI(m,f,r));const g=s(s({},e),{},{measured:r,internals:s(s({},e.internals),{},{positionAbsolute:m,handleBounds:{source:iL("source",p.nodeElement,d,u,e.id),target:iL("target",p.nodeElement,d,u,e.id)}})});t.set(e.id,g),e.parentId&&jL(g,t,n,{nodeOrigin:o}),l=!0,a&&(c.push({id:e.id,type:"dimensions",dimensions:r}),e.expandParent&&e.parentId&&h.push({id:e.id,parentId:e.parentId,rect:II(g,o)}))}}if(h.length>0){const e=TL(h,t,n,o);c.push(...e)}return{changes:c,updatedInternals:l}}(t,r,o,i,a,l);h&&(!function(e,t,n){const r=SL(NL,n);for(const o of e.values())if(o.parentId)jL(o,e,t,r);else{const e=bI(o,r.nodeOrigin),t=qI(o.extent)?o.extent:r.nodeExtent,n=jI(e,t,KI(o));o.internals.positionAbsolute=n}}(r,o,{nodeOrigin:a,nodeExtent:l}),d?(m(),e({fitViewQueued:!1,fitViewOptions:void 0})):e({}),(null===u||void 0===u?void 0:u.length)>0&&(c&&console.log("React Flow: trigger node changes",u),null===n||void 0===n||n(u)))},updateNodePositions:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=[],r=[],{nodeLookup:o,triggerNodeChanges:i}=f();for(const[c,d]of e){const e=o.get(c),i=!!(null!==e&&void 0!==e&&e.expandParent&&null!==e&&void 0!==e&&e.parentId&&null!==d&&void 0!==d&&d.position),u={id:c,type:"position",position:i?{x:Math.max(0,d.position.x),y:Math.max(0,d.position.y)}:d.position,dragging:t};var a,l;if(i&&e.parentId)n.push({id:c,parentId:e.parentId,rect:s(s({},d.internals.positionAbsolute),{},{width:null!==(a=d.measured.width)&&void 0!==a?a:0,height:null!==(l=d.measured.height)&&void 0!==l?l:0})});r.push(u)}if(n.length>0){const{parentLookup:e,nodeOrigin:t}=f(),i=TL(n,o,e,t);r.push(...i)}i(r)},triggerNodeChanges:e=>{const{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=f();if(null!==e&&void 0!==e&&e.length){if(o){n(eP(e,r))}i&&console.log("React Flow: trigger node changes",e),null===t||void 0===t||t(e)}},triggerEdgeChanges:e=>{const{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=f();if(null!==e&&void 0!==e&&e.length){if(o){n(tP(e,r))}i&&console.log("React Flow: trigger edge changes",e),null===t||void 0===t||t(e)}},addSelectedNodes:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=f();if(t){o(e.map((e=>nP(e,!0))))}else o(rP(r,new Set([...e]),!0)),i(rP(n))},addSelectedEdges:e=>{const{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=f();if(t){i(e.map((e=>nP(e,!0))))}else i(rP(n,new Set([...e]))),o(rP(r,new Set,!0))},unselectNodesAndEdges:function(){let{nodes:e,edges:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:s}=f(),a=t||n,l=(e||r).map((e=>{const t=o.get(e.id);return t&&(t.selected=!1),nP(e.id,!1)})),c=a.map((e=>nP(e.id,!1)));i(l),s(c)},setMinZoom:t=>{const{panZoom:n,maxZoom:r}=f();null===n||void 0===n||n.setScaleExtent([t,r]),e({minZoom:t})},setMaxZoom:t=>{const{panZoom:n,minZoom:r}=f();null===n||void 0===n||n.setScaleExtent([r,t]),e({maxZoom:t})},setTranslateExtent:t=>{var n;null===(n=f().panZoom)||void 0===n||n.setTranslateExtent(t),e({translateExtent:t})},setPaneClickDistance:e=>{var t;null===(t=f().panZoom)||void 0===t||t.setClickDistance(e)},resetSelectedElements:()=>{const{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r,elementsSelectable:o}=f();if(!o)return;const i=t.reduce(((e,t)=>t.selected?[...e,nP(t.id,!1)]:e),[]),s=e.reduce(((e,t)=>t.selected?[...e,nP(t.id,!1)]:e),[]);n(i),r(s)},setNodeExtent:t=>{const{nodes:n,nodeLookup:r,parentLookup:o,nodeOrigin:i,elevateNodesOnSelect:s,nodeExtent:a}=f();t[0][0]===a[0][0]&&t[0][1]===a[0][1]&&t[1][0]===a[1][0]&&t[1][1]===a[1][1]||(CL(n,r,o,{nodeOrigin:i,nodeExtent:t,elevateNodesOnSelect:s,checkEquality:!1}),e({nodeExtent:t}))},panBy:e=>{const{transform:t,width:n,height:r,panZoom:o,translateExtent:i}=f();return async function(e){let{delta:t,panZoom:n,transform:r,translateExtent:o,width:i,height:s}=e;if(!n||!t.x&&!t.y)return Promise.resolve(!1);const a=await n.setViewportConstrained({x:r[0]+t.x,y:r[1]+t.y,zoom:r[2]},[[0,0],[i,s]],o),l=!!a&&(a.x!==r[0]||a.y!==r[1]||a.k!==r[2]);return Promise.resolve(l)}({delta:e,panZoom:o,transform:t,translateExtent:i,width:n,height:r})},cancelConnection:()=>{e({connection:s({},hI)})},updateConnection:t=>{e({connection:t})},reset:()=>e(s({},F$()))})}),Object.is)};function V$(e){let{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:i,initialHeight:s,initialMinZoom:l,initialMaxZoom:c,initialFitViewOptions:d,fitView:u,nodeOrigin:h,nodeExtent:p,children:f}=e;const[m]=(0,a.useState)((()=>B$({nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:i,height:s,fitView:u,minZoom:l,maxZoom:c,fitViewOptions:d,nodeOrigin:h,nodeExtent:p})));return(0,mn.jsx)(wD,{value:m,children:(0,mn.jsx)(uP,{children:f})})}function W$(e){let{children:t,nodes:n,edges:r,defaultNodes:o,defaultEdges:i,width:s,height:l,fitView:c,fitViewOptions:d,minZoom:u,maxZoom:h,nodeOrigin:p,nodeExtent:f}=e;return(0,a.useContext)(bD)?(0,mn.jsx)(mn.Fragment,{children:t}):(0,mn.jsx)(V$,{initialNodes:n,initialEdges:r,defaultNodes:o,defaultEdges:i,initialWidth:s,initialHeight:l,fitView:c,initialFitViewOptions:d,initialMinZoom:u,initialMaxZoom:h,nodeOrigin:p,nodeExtent:f,children:t})}const H$={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var U$=aP((function(e,t){let{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,className:l,nodeTypes:c,edgeTypes:d,onNodeClick:h,onEdgeClick:p,onInit:f,onMove:m,onMoveStart:g,onMoveEnd:v,onConnect:y,onConnectStart:x,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:k,onNodeMouseEnter:N,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:j,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:A,onNodesDelete:M,onEdgesDelete:R,onDelete:O,onSelectionChange:I,onSelectionDragStart:L,onSelectionDrag:D,onSelectionDragStop:P,onSelectionContextMenu:$,onSelectionStart:z,onSelectionEnd:F,onBeforeDelete:B,connectionMode:V,connectionLineType:W=pI.Bezier,connectionLineStyle:H,connectionLineComponent:U,connectionLineContainerStyle:G,deleteKeyCode:q="Backspace",selectionKeyCode:K="Shift",selectionOnDrag:Y=!1,selectionMode:Q=uI.Full,panActivationKeyCode:X="Space",multiSelectionKeyCode:Z=(GI()?"Meta":"Control"),zoomActivationKeyCode:J=(GI()?"Meta":"Control"),snapToGrid:ee,snapGrid:te,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:re,nodesDraggable:oe,nodesConnectable:ie,nodesFocusable:se,nodeOrigin:ae=BD,edgesFocusable:le,edgesReconnectable:ce,elementsSelectable:de=!0,defaultViewport:ue=VD,minZoom:he=.5,maxZoom:pe=2,translateExtent:fe=aI,preventScrolling:me=!0,nodeExtent:ge,defaultMarkerColor:ve="#b1b1b7",zoomOnScroll:ye=!0,zoomOnPinch:xe=!0,panOnScroll:be=!1,panOnScrollSpeed:we=.5,panOnScrollMode:ke=dI.Free,zoomOnDoubleClick:Ne=!0,panOnDrag:_e=!0,onPaneClick:Se,onPaneMouseEnter:Ce,onPaneMouseMove:je,onPaneMouseLeave:Ee,onPaneScroll:Te,onPaneContextMenu:Ae,paneClickDistance:Me=0,nodeClickDistance:Re=0,children:Oe,onReconnect:Ie,onReconnectStart:Le,onReconnectEnd:De,onEdgeContextMenu:Pe,onEdgeDoubleClick:$e,onEdgeMouseEnter:ze,onEdgeMouseMove:Fe,onEdgeMouseLeave:Be,reconnectRadius:Ve=10,onNodesChange:We,onEdgesChange:He,noDragClassName:Ue="nodrag",noWheelClassName:Ge="nowheel",noPanClassName:qe="nopan",fitView:Ke,fitViewOptions:Ye,connectOnClick:Qe,attributionPosition:Xe,proOptions:Ze,defaultEdgeOptions:Je,elevateNodesOnSelect:et,elevateEdgesOnSelect:tt,disableKeyboardA11y:nt=!1,autoPanOnConnect:rt,autoPanOnNodeDrag:ot,autoPanSpeed:it,connectionRadius:st,isValidConnection:at,onError:lt,style:ct,id:dt,nodeDragThreshold:ut,viewport:ht,onViewportChange:pt,width:ft,height:mt,colorMode:gt="light",debug:vt,onScroll:yt}=e,xt=u(e,yD);const bt=dt||"1",wt=function(e){var t;const[n,r]=(0,a.useState)("system"===e?null:e);return(0,a.useEffect)((()=>{if("system"!==e)return void r(e);const t=qD(),n=()=>r(null!==t&&void 0!==t&&t.matches?"dark":"light");return n(),null===t||void 0===t||t.addEventListener("change",n),()=>{null===t||void 0===t||t.removeEventListener("change",n)}}),[e]),null!==n?n:null!==(t=qD())&&void 0!==t&&t.matches?"dark":"light"}(gt),kt=(0,a.useCallback)((e=>{e.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),null===yt||void 0===yt||yt(e)}),[yt]);return(0,mn.jsx)("div",s(s({"data-testid":"rf__wrapper"},xt),{},{onScroll:kt,style:s(s({},ct),H$),ref:t,className:oA(["react-flow",l,wt]),id:dt,children:(0,mn.jsxs)(W$,{nodes:n,edges:r,width:ft,height:mt,fitView:Ke,fitViewOptions:Ye,minZoom:he,maxZoom:pe,nodeOrigin:ae,nodeExtent:ge,children:[(0,mn.jsx)(z$,{onInit:f,onNodeClick:h,onEdgeClick:p,onNodeMouseEnter:N,onNodeMouseMove:_,onNodeMouseLeave:S,onNodeContextMenu:C,onNodeDoubleClick:j,nodeTypes:c,edgeTypes:d,connectionLineType:W,connectionLineStyle:H,connectionLineComponent:U,connectionLineContainerStyle:G,selectionKeyCode:K,selectionOnDrag:Y,selectionMode:Q,deleteKeyCode:q,multiSelectionKeyCode:Z,panActivationKeyCode:X,zoomActivationKeyCode:J,onlyRenderVisibleElements:ne,defaultViewport:ue,translateExtent:fe,minZoom:he,maxZoom:pe,preventScrolling:me,zoomOnScroll:ye,zoomOnPinch:xe,zoomOnDoubleClick:Ne,panOnScroll:be,panOnScrollSpeed:we,panOnScrollMode:ke,panOnDrag:_e,onPaneClick:Se,onPaneMouseEnter:Ce,onPaneMouseMove:je,onPaneMouseLeave:Ee,onPaneScroll:Te,onPaneContextMenu:Ae,paneClickDistance:Me,nodeClickDistance:Re,onSelectionContextMenu:$,onSelectionStart:z,onSelectionEnd:F,onReconnect:Ie,onReconnectStart:Le,onReconnectEnd:De,onEdgeContextMenu:Pe,onEdgeDoubleClick:$e,onEdgeMouseEnter:ze,onEdgeMouseMove:Fe,onEdgeMouseLeave:Be,reconnectRadius:Ve,defaultMarkerColor:ve,noDragClassName:Ue,noWheelClassName:Ge,noPanClassName:qe,rfId:bt,disableKeyboardA11y:nt,nodeExtent:ge,viewport:ht,onViewportChange:pt}),(0,mn.jsx)(GD,{nodes:n,edges:r,defaultNodes:o,defaultEdges:i,onConnect:y,onConnectStart:x,onConnectEnd:b,onClickConnectStart:w,onClickConnectEnd:k,nodesDraggable:oe,nodesConnectable:ie,nodesFocusable:se,edgesFocusable:le,edgesReconnectable:ce,elementsSelectable:de,elevateNodesOnSelect:et,elevateEdgesOnSelect:tt,minZoom:he,maxZoom:pe,nodeExtent:ge,onNodesChange:We,onEdgesChange:He,snapToGrid:ee,snapGrid:te,connectionMode:V,translateExtent:fe,connectOnClick:Qe,defaultEdgeOptions:Je,fitView:Ke,fitViewOptions:Ye,onNodesDelete:M,onEdgesDelete:R,onDelete:O,onNodeDragStart:E,onNodeDrag:T,onNodeDragStop:A,onSelectionDrag:D,onSelectionDragStart:L,onSelectionDragStop:P,onMove:m,onMoveStart:g,onMoveEnd:v,noPanClassName:qe,nodeOrigin:ae,rfId:bt,autoPanOnConnect:rt,autoPanOnNodeDrag:ot,autoPanSpeed:it,onError:lt,connectionRadius:st,isValidConnection:at,selectNodesOnDrag:re,nodeDragThreshold:ut,onBeforeDelete:B,paneClickDistance:Me,debug:vt}),(0,mn.jsx)(FD,{onSelectionChange:I}),Oe,(0,mn.jsx)(ID,{proOptions:Ze,position:Xe}),(0,mn.jsx)(MD,{rfId:bt,disableKeyboardA11y:nt})]})}))}));iI();function G$(e){let{dimensions:t,lineWidth:n,variant:r,className:o}=e;return(0,mn.jsx)("path",{strokeWidth:n,d:"M".concat(t[0]/2," 0 V").concat(t[1]," M0 ").concat(t[1]/2," H").concat(t[0]),className:oA(["react-flow__background-pattern",r,o])})}function q$(e){let{radius:t,className:n}=e;return(0,mn.jsx)("circle",{cx:t,cy:t,r:t,className:oA(["react-flow__background-pattern","dots",n])})}var K$;!function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"}(K$||(K$={}));const Y$={[K$.Dots]:1,[K$.Lines]:1,[K$.Cross]:6},Q$=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function X$(e){let{id:t,variant:n=K$.Dots,gap:r=20,size:o,lineWidth:i=1,offset:l=0,color:c,bgColor:d,style:u,className:h,patternClassName:p}=e;const f=(0,a.useRef)(null),{transform:m,patternId:g}=ND(Q$,hD),v=o||Y$[n],y=n===K$.Dots,x=n===K$.Cross,b=Array.isArray(r)?r:[r,r],w=[b[0]*m[2]||1,b[1]*m[2]||1],k=v*m[2],N=Array.isArray(l)?l:[l,l],_=x?[k,k]:w,S=[N[0]*m[2]||1+_[0]/2,N[1]*m[2]||1+_[1]/2],C="".concat(g).concat(t||"");return(0,mn.jsxs)("svg",{className:oA(["react-flow__background",h]),style:s(s(s({},u),vP),{},{"--xy-background-color-props":d,"--xy-background-pattern-color-props":c}),ref:f,"data-testid":"rf__background",children:[(0,mn.jsx)("pattern",{id:C,x:m[0]%w[0],y:m[1]%w[1],width:w[0],height:w[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(S[0],",-").concat(S[1],")"),children:y?(0,mn.jsx)(q$,{radius:k/2,className:p}):(0,mn.jsx)(G$,{dimensions:_,lineWidth:i,variant:n,className:p})}),(0,mn.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(C,")")})]})}X$.displayName="Background";const Z$=(0,a.memo)(X$);function J$(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,mn.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function ez(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,mn.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function tz(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,mn.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function nz(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,mn.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function rz(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,mn.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function oz(e){let{children:t,className:n}=e,r=u(e,xD);return(0,mn.jsx)("button",s(s({type:"button",className:oA(["react-flow__controls-button",n])},r),{},{children:t}))}const iz=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function sz(e){let{style:t,showZoom:n=!0,showFitView:r=!0,showInteractive:o=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:a,onFitView:l,onInteractiveChange:c,className:d,children:u,position:h="bottom-left",orientation:p="vertical","aria-label":f="React Flow controls"}=e;const m=_D(),{isInteractive:g,minZoomReached:v,maxZoomReached:y}=ND(iz,hD),{zoomIn:x,zoomOut:b,fitView:w}=pP(),k="horizontal"===p?"horizontal":"vertical";return(0,mn.jsxs)(OD,{className:oA(["react-flow__controls",k,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":f,children:[n&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(oz,{onClick:()=>{x(),null===s||void 0===s||s()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:y,children:(0,mn.jsx)(J$,{})}),(0,mn.jsx)(oz,{onClick:()=>{b(),null===a||void 0===a||a()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:v,children:(0,mn.jsx)(ez,{})})]}),r&&(0,mn.jsx)(oz,{className:"react-flow__controls-fitview",onClick:()=>{w(i),null===l||void 0===l||l()},title:"fit view","aria-label":"fit view",children:(0,mn.jsx)(tz,{})}),o&&(0,mn.jsx)(oz,{className:"react-flow__controls-interactive",onClick:()=>{m.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),null===c||void 0===c||c(!g)},title:"toggle interactivity","aria-label":"toggle interactivity",children:g?(0,mn.jsx)(rz,{}):(0,mn.jsx)(nz,{})}),u]})}sz.displayName="Controls";(0,a.memo)(sz);const az=(0,a.memo)((function(e){let{id:t,x:n,y:r,width:o,height:i,style:s,color:a,strokeColor:l,strokeWidth:c,className:d,borderRadius:u,shapeRendering:h,selected:p,onClick:f}=e;const{background:m,backgroundColor:g}=s||{},v=a||m||g;return(0,mn.jsx)("rect",{className:oA(["react-flow__minimap-node",{selected:p},d]),x:n,y:r,rx:u,ry:u,width:o,height:i,style:{fill:v,stroke:l,strokeWidth:c},shapeRendering:h,onClick:f?e=>f(e,t):void 0})})),lz=e=>e.nodes.map((e=>e.id)),cz=e=>e instanceof Function?e:()=>e;const dz=(0,a.memo)((function(e){let{id:t,nodeColorFunc:n,nodeStrokeColorFunc:r,nodeClassNameFunc:o,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:a,NodeComponent:l,onClick:c}=e;const{node:d,x:u,y:h,width:p,height:f}=ND((e=>{const{internals:n}=e.nodeLookup.get(t),r=n.userNode,{x:o,y:i}=n.positionAbsolute,{width:s,height:a}=KI(r);return{node:r,x:o,y:i,width:s,height:a}}),hD);return d&&!d.hidden&&YI(d)?(0,mn.jsx)(l,{x:u,y:h,width:p,height:f,style:d.style,selected:!!d.selected,className:o(d),color:n(d),borderRadius:i,strokeColor:r(d),strokeWidth:s,shapeRendering:a,onClick:c,id:d.id}):null}));var uz=(0,a.memo)((function(e){let{nodeStrokeColor:t,nodeColor:n,nodeClassName:r="",nodeBorderRadius:o=5,nodeStrokeWidth:i,nodeComponent:s=az,onClick:a}=e;const l=ND(lz,hD),c=cz(n),d=cz(t),u=cz(r),h="undefined"===typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,mn.jsx)(mn.Fragment,{children:l.map((e=>(0,mn.jsx)(dz,{id:e,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:u,nodeBorderRadius:o,nodeStrokeWidth:i,NodeComponent:s,onClick:a,shapeRendering:h},e)))})}));const hz=e=>!e.hidden,pz=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?DI(wI(e.nodeLookup,{filter:hz}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function fz(e){var t,n;let{style:r,className:o,nodeStrokeColor:i,nodeColor:l,nodeClassName:c="",nodeBorderRadius:d=5,nodeStrokeWidth:u,nodeComponent:h,bgColor:p,maskColor:f,maskStrokeColor:m,maskStrokeWidth:g,position:v="bottom-right",onClick:y,onNodeClick:x,pannable:b=!1,zoomable:w=!1,ariaLabel:k="React Flow mini map",inversePan:N,zoomStep:_=10,offsetScale:S=5}=e;const C=_D(),j=(0,a.useRef)(null),{boundingRect:E,viewBB:T,rfId:A,panZoom:M,translateExtent:R,flowWidth:O,flowHeight:I}=ND(pz,hD),L=null!==(t=null===r||void 0===r?void 0:r.width)&&void 0!==t?t:200,D=null!==(n=null===r||void 0===r?void 0:r.height)&&void 0!==n?n:150,P=E.width/L,$=E.height/D,z=Math.max(P,$),F=z*L,B=z*D,V=S*z,W=E.x-(F-E.width)/2-V,H=E.y-(B-E.height)/2-V,U=F+2*V,G=B+2*V,q="".concat("react-flow__minimap-desc","-").concat(A),K=(0,a.useRef)(0),Y=(0,a.useRef)();K.current=z,(0,a.useEffect)((()=>{if(j.current&&M)return Y.current=function(e){let{domNode:t,panZoom:n,getTransform:r,getViewScale:o}=e;const i=_M(t);return{update:function(e){let{translateExtent:t,width:s,height:a,zoomStep:l=10,pannable:c=!0,zoomable:d=!0,inversePan:u=!1}=e,h=[0,0];const p=qO().on("start",(e=>{var t,n;"mousedown"!==e.sourceEvent.type&&"touchstart"!==e.sourceEvent.type||(h=[null!==(t=e.sourceEvent.clientX)&&void 0!==t?t:e.sourceEvent.touches[0].clientX,null!==(n=e.sourceEvent.clientY)&&void 0!==n?n:e.sourceEvent.touches[0].clientY])})).on("zoom",c?e=>{var i,l;const c=r();if("mousemove"!==e.sourceEvent.type&&"touchmove"!==e.sourceEvent.type||!n)return;const d=[null!==(i=e.sourceEvent.clientX)&&void 0!==i?i:e.sourceEvent.touches[0].clientX,null!==(l=e.sourceEvent.clientY)&&void 0!==l?l:e.sourceEvent.touches[0].clientY],p=[d[0]-h[0],d[1]-h[1]];h=d;const f=o()*Math.max(c[2],Math.log(c[2]))*(u?-1:1),m={x:c[0]-p[0]*f,y:c[1]-p[1]*f},g=[[0,0],[s,a]];n.setViewportConstrained({x:m.x,y:m.y,zoom:c[2]},g,t)}:null).on("zoom.wheel",d?e=>{const t=r();if("wheel"!==e.sourceEvent.type||!n)return;const o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*l,i=t[2]*Math.pow(2,o);n.scaleTo(i)}:null);i.call(p,{})},destroy:function(){i.on("zoom",null)},pointer:SM}}({domNode:j.current,panZoom:M,getTransform:()=>C.getState().transform,getViewScale:()=>K.current}),()=>{var e;null===(e=Y.current)||void 0===e||e.destroy()}}),[M]),(0,a.useEffect)((()=>{var e;null===(e=Y.current)||void 0===e||e.update({translateExtent:R,width:O,height:I,inversePan:N,pannable:b,zoomStep:_,zoomable:w})}),[b,w,N,_,R,O,I]);const Q=y?e=>{var t;const[n,r]=(null===(t=Y.current)||void 0===t?void 0:t.pointer(e))||[0,0];y(e,{x:n,y:r})}:void 0,X=x?(0,a.useCallback)(((e,t)=>{const n=C.getState().nodeLookup.get(t).internals.userNode;x(e,n)}),[]):void 0;return(0,mn.jsx)(OD,{position:v,style:s(s({},r),{},{"--xy-minimap-background-color-props":"string"===typeof p?p:void 0,"--xy-minimap-mask-background-color-props":"string"===typeof f?f:void 0,"--xy-minimap-mask-stroke-color-props":"string"===typeof m?m:void 0,"--xy-minimap-mask-stroke-width-props":"number"===typeof g?g*z:void 0,"--xy-minimap-node-background-color-props":"string"===typeof l?l:void 0,"--xy-minimap-node-stroke-color-props":"string"===typeof i?i:void 0,"--xy-minimap-node-stroke-width-props":"number"===typeof u?u:void 0}),className:oA(["react-flow__minimap",o]),"data-testid":"rf__minimap",children:(0,mn.jsxs)("svg",{width:L,height:D,viewBox:"".concat(W," ").concat(H," ").concat(U," ").concat(G),className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:j,onClick:Q,children:[k&&(0,mn.jsx)("title",{id:q,children:k}),(0,mn.jsx)(uz,{onClick:X,nodeColor:l,nodeStrokeColor:i,nodeBorderRadius:d,nodeClassName:c,nodeStrokeWidth:u,nodeComponent:h}),(0,mn.jsx)("path",{className:"react-flow__minimap-mask",d:"M".concat(W-V,",").concat(H-V,"h").concat(U+2*V,"v").concat(G+2*V,"h").concat(-U-2*V,"z\n        M").concat(T.x,",").concat(T.y,"h").concat(T.width,"v").concat(T.height,"h").concat(-T.width,"z"),fillRule:"evenodd",pointerEvents:"none"})]})})}fz.displayName="MiniMap";(0,a.memo)(fz);(0,a.memo)((function(e){let{nodeId:t,position:n,variant:r=YL.Handle,className:o,style:i={},children:l,color:c,minWidth:d=10,minHeight:u=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:m,shouldResize:g,onResizeStart:v,onResize:y,onResizeEnd:x}=e;const b=AP(),w="string"===typeof t?t:b,k=_D(),N=(0,a.useRef)(null),_=r===YL.Line?"right":"bottom-right",S=null!==n&&void 0!==n?n:_,C=(0,a.useRef)(null);(0,a.useEffect)((()=>{if(N.current&&w)return C.current||(C.current=rD({domNode:N.current,nodeId:w,getStoreItems:()=>{const{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:i}=k.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:i}},onChange:(e,t)=>{const{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:i}=k.getState(),a=[],l={x:e.x,y:e.y},c=r.get(w);if(c&&c.expandParent&&c.parentId){var d,u,h,p,f,g,v;const t=null!==(d=c.origin)&&void 0!==d?d:i,n=null!==(u=null!==(h=e.width)&&void 0!==h?h:c.measured.width)&&void 0!==u?u:0,m=null!==(p=null!==(f=e.height)&&void 0!==f?f:c.measured.height)&&void 0!==p?p:0,y=TL([{id:c.id,parentId:c.parentId,rect:s({width:n,height:m},QI({x:null!==(g=e.x)&&void 0!==g?g:c.position.x,y:null!==(v=e.y)&&void 0!==v?v:c.position.y},{width:n,height:m},c.parentId,r,t))}],r,o,i);a.push(...y),l.x=e.x?Math.max(t[0]*n,e.x):void 0,l.y=e.y?Math.max(t[1]*m,e.y):void 0}if(void 0!==l.x&&void 0!==l.y){const e={id:w,type:"position",position:s({},l)};a.push(e)}if(void 0!==e.width&&void 0!==e.height){const t={id:w,type:"dimensions",resizing:!0,setAttributes:!m||("horizontal"===m?"width":"height"),dimensions:{width:e.width,height:e.height}};a.push(t)}for(const m of t){const e=s(s({},m),{},{type:"position"});a.push(e)}n(a)},onEnd:e=>{let{width:t,height:n}=e;const r={id:w,type:"dimensions",resizing:!1,dimensions:{width:t,height:n}};k.getState().triggerNodeChanges([r])}})),C.current.update({controlPosition:S,boundaries:{minWidth:d,minHeight:u,maxWidth:h,maxHeight:p},keepAspectRatio:f,resizeDirection:m,onResizeStart:v,onResize:y,onResizeEnd:x,shouldResize:g}),()=>{var e;null===(e=C.current)||void 0===e||e.destroy()}}),[S,d,u,h,p,f,v,y,x,g]);const j=S.split("-"),E=r===YL.Line?"borderColor":"backgroundColor",T=c?s(s({},i),{},{[E]:c}):i;return(0,mn.jsx)("div",{className:oA(["react-flow__resize-control","nodrag",...j,r,o]),ref:N,style:T,children:l})}));const mz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return false},gz=e=>"".concat("minerva_customnode_").concat(e),vz=e=>"".concat("minerva_graphedge_").concat(e);const yz=e=>btoa(unescape(encodeURIComponent(e))),xz=e=>{try{return decodeURIComponent(escape(atob(e)))}catch(FQ){return atob(e)}},bz=e=>yz(JSON.stringify(e));function wz(e){if("object"===typeof e&&null!==e)return e;if("string"!==typeof e)throw new Error("Unexpected data type: ".concat(typeof e));try{return JSON.parse(e)}catch(t){}if(e.startsWith("\\x"))try{const t=(e=>{const t=e.match(/.{1,2}/g);if(!t)throw new Error("Invalid hex string");return t.map((e=>String.fromCharCode(parseInt(e,16)))).join("")})(e.substring(2));return JSON.parse(xz(t))}catch(n){}try{return JSON.parse(xz(e))}catch(r){throw new Error("Failed to parse storage data")}}const kz=e=>(mz("deserializeNodeData input:",typeof e),wz(e)),Nz=e=>(mz("deserializeEdgeData input:",typeof e),wz(e));function _z(e){var t;const n={id:e.id,hostname:e.hostname,ip_address:e.ip_address,operating_system:e.operating_system,architecture:e.architecture,username:e.username,description:e.description,hidden:null!==(t=e.hidden)&&void 0!==t&&t,timestamp:(new Date).toISOString(),position:e.position,parent_id:e.parent_id,parent_type:e.parent_type,c2profile:e.c2profile};return{unique_id:gz(e.id),data:bz(n)}}function Sz(e){mz("Processing",e.length,"node items");const t=[];for(const r of e)try{t.push(kz(r.data))}catch(n){console.error("[parseAgentStorageResults] Failed to parse:",r.unique_id)}return mz("Successfully parsed",t.length,"nodes"),t}const Cz=zd("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),jz=zd("skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),Ez=zd("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),Tz=zd("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Az=zd("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),Mz=window.onerror;window.onerror=function(e){if("string"===typeof e&&e.includes("ResizeObserver loop"))return!0;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!Mz&&Mz(e,...n)};const Rz=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return false},Oz=e=>{let{size:t=16,className:n=""}=e;return(0,mn.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:n,children:(0,mn.jsx)("path",{d:"M0 3.449L9.75 2.1v9.451H0m10.949-9.602L24 0v11.4H10.949M0 12.6h9.75v9.451L0 20.699M10.949 12.6H24V24l-12.9-1.801"})})},Iz=e=>{let{size:t=16,className:n=""}=e;return(0,mn.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:n,children:(0,mn.jsx)("path",{d:"M12.504 0c-.155 0-.315.008-.48.021-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.424.424 0 00-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071.771-.06 1.592-.536 2.257-1.306.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.357.357 0 00-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139zm.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105a.086.086 0 01-.004-.021l-.004-.024a1.807 1.807 0 01-.15.706.953.953 0 01-.213.335.71.71 0 00-.088-.042c-.104-.045-.198-.064-.284-.133a1.312 1.312 0 00-.22-.066c.05-.06.166-.166.216-.264.068-.135.097-.265.079-.39-.02-.135-.089-.259-.202-.353a.547.547 0 00-.4-.135c-.147.018-.266.076-.357.166-.09.09-.152.193-.18.307a.559.559 0 00.007.283c.029.097.078.18.161.262-.057.023-.113.078-.166.126-.085.085-.186.125-.319.165l-.045.015a.867.867 0 01-.074-.32 1.556 1.556 0 01-.028-.324c.018-.22.065-.463.146-.7.08-.249.193-.465.334-.657.141-.192.295-.346.46-.445a.912.912 0 01.532-.166zm-2.625.084c.088 0 .177.017.26.043a.928.928 0 01.476.358c.136.174.212.39.225.63.017.245-.017.49-.09.733-.07.24-.165.47-.26.684l-.004.007c-.012.024-.014.047-.015.071v.093c-.004.135-.014.259-.058.38a.846.846 0 01-.225.353 1.58 1.58 0 01-.257-.135c-.145-.105-.228-.166-.324-.262-.055-.055-.094-.097-.16-.16l-.015-.019c.05-.062.111-.146.162-.207.065-.078.109-.166.133-.256.025-.09.019-.185-.02-.27-.044-.09-.115-.155-.212-.195a.451.451 0 00-.274-.017c-.094.021-.169.073-.224.146a.448.448 0 00-.098.235.456.456 0 00.055.248c.037.07.086.123.153.168-.085.09-.133.166-.233.32-.176.26-.18.39-.263.585-.096-.092-.17-.198-.216-.319a1.42 1.42 0 01-.065-.373c0-.135.015-.267.047-.397.037-.132.09-.256.16-.373a1.4 1.4 0 01.292-.316c.123-.104.266-.183.427-.233a.914.914 0 01.26-.043zM8.071 6.643c.086.09.166.166.259.238a.59.59 0 01-.016.116.61.61 0 01-.053.132c.009.009.012.014.024.023.017.017.033.036.05.053.062.055.132.098.209.129.048.02.1.034.152.042a.608.608 0 01-.01.048.61.61 0 00-.011.132c.007.058.023.116.052.169l.01.02a.74.74 0 01-.105.067c-.13.067-.261.135-.367.24-.136.126-.263.27-.389.405l-.028.029c-.114.116-.228.166-.376.166a.667.667 0 01-.264-.044 1.153 1.153 0 01-.247-.133 3.108 3.108 0 01-.263-.201 4.446 4.446 0 01-.481-.485c-.114-.125-.216-.26-.293-.384a1.463 1.463 0 01-.168-.37c-.012-.066-.012-.132.009-.193.024-.057.065-.104.12-.147.055-.043.123-.08.202-.105a.879.879 0 01.245-.048c.223-.009.409.051.586.115.178.065.345.14.499.222l.075.04c.046.03.08.058.122.089zm7.946-.137c.09.05.178.1.27.151.181.098.35.199.497.315a.957.957 0 01.271.324c.05.105.053.2.016.288a.594.594 0 01-.177.245 2.18 2.18 0 01-.309.225 4.456 4.456 0 01-.655.354c-.11.048-.22.092-.33.132a1.18 1.18 0 01-.346.068.594.594 0 01-.313-.082.66.66 0 01-.198-.199c-.095-.132-.171-.253-.267-.383a1.447 1.447 0 00-.12-.149c-.017-.016-.03-.032-.048-.048l-.003-.002.001-.002.01-.017c.058-.102.113-.2.16-.294.042-.089.073-.173.097-.251v-.001l.013.013c.027.03.07.062.133.104a.5.5 0 00.176.076.56.56 0 00.109.01.347.347 0 00.243-.099.504.504 0 00.122-.174.513.513 0 00.04-.169c.003-.091-.01-.165-.04-.228a.577.577 0 00-.101-.162c.035-.035.085-.08.129-.12.037-.043.076-.08.117-.112.053-.044.095-.078.148-.103a.48.48 0 01.148-.055zm-6.54 4.668c.066 0 .128.021.178.057.05.037.09.09.112.157.024.064.029.131.016.197a.476.476 0 01-.095.183.615.615 0 01-.17.132.698.698 0 01-.212.068 1.09 1.09 0 01-.232.013.71.71 0 01-.22-.043.56.56 0 01-.18-.102.41.41 0 01-.12-.173.372.372 0 01-.018-.21.417.417 0 01.085-.18c.047-.053.107-.097.178-.13a.792.792 0 01.236-.072.895.895 0 01.246.003.694.694 0 01.196.1zm5.097.041c.066-.004.133.007.193.032a.516.516 0 01.169.097c.05.044.091.098.124.158.03.058.046.119.046.18a.358.358 0 01-.08.222.508.508 0 01-.188.152.698.698 0 01-.245.073.833.833 0 01-.258-.008.659.659 0 01-.23-.082.495.495 0 01-.166-.14.404.404 0 01-.08-.196.362.362 0 01.032-.19c.03-.06.075-.113.131-.157a.645.645 0 01.192-.108.67.67 0 01.21-.038l.15.005z"})})},Lz=e=>{let{size:t=16,className:n=""}=e;return(0,mn.jsx)("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"currentColor",className:n,children:(0,mn.jsx)("path",{d:"M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"})})},Dz=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";const o=(e||"").toLowerCase(),i=(t||"").toLowerCase();return o.includes("windows")||"apollo"===i?(0,mn.jsx)(Oz,{size:n,className:r}):o.includes("linux")||"poseidon"===i?(0,mn.jsx)(Iz,{size:n,className:r}):o.includes("mac")||o.includes("darwin")||"medusa"===i?(0,mn.jsx)(Lz,{size:n,className:r}):(0,mn.jsx)(Cz,{size:n,className:r})},Pz={custom:e=>{let{data:t}=e;const n=t.integrity_level>2,r=n?"border-yellow-500":"border-signal/50",o=n?"text-yellow-500":"text-signal",i=t.payloadType||"",s=t.os||"",l=t.animationDelay||0,c=t.isNewNode,[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)({x:0,y:0,align:"right"}),f=(0,a.useRef)(null),m=(0,a.useCallback)((e=>{if(e.preventDefault(),e.stopPropagation(),t.onContextMenu){var n;const r=null===(n=f.current)||void 0===n?void 0:n.getBoundingClientRect();t.onContextMenu(e,{id:t.callback_id,display_id:t.display_id,description:t.description,locked:t.locked,host:t.host,user:t.user,ip:t.ip,pid:t.pid,os:t.os,architecture:t.architecture,domain:t.domain,integrity_level:t.integrity_level,sleep_info:t.sleep_info,payloadType:t.payloadType,last_checkin:t.last_checkin,isCustom:t.isCustom||!1,db_id:t.db_id},r)}}),[t]),g=(0,a.useCallback)((()=>{if(t.isCustom)return"N/A";if(!t.last_checkin)return"NEVER";try{const e=t.last_checkin.endsWith("Z")?t.last_checkin:"".concat(t.last_checkin,"Z"),n=new Date(e).getTime(),r=(new Date).getTime(),o=Math.floor((r-n)/1e3);return o<0?"0s ago":o<60?"".concat(o,"s ago"):o<3600?"".concat(Math.floor(o/60),"m ago"):o<86400?"".concat(Math.floor(o/3600),"h ago"):"".concat(Math.floor(o/86400),"d ago")}catch(zQ){return"ERROR"}}),[t.last_checkin,t.isCustom]),[v,y]=(0,a.useState)(g());(0,a.useEffect)((()=>{y(g());const e=setInterval((()=>{y(g())}),1e3);return()=>clearInterval(e)}),[g]);const[x,b]=(0,a.useState)(!1),w=(0,a.useMemo)((()=>{if(t.isCustom)return!1;if(!t.last_checkin)return!1;try{const e=t.last_checkin.endsWith("Z")?t.last_checkin:"".concat(t.last_checkin,"Z"),n=new Date(e).getTime(),r=(new Date).getTime();return(r-n)/1e3>300}catch(zQ){return!1}}),[v,t.last_checkin,t.isCustom]);(0,a.useEffect)((()=>{const e=1e3*(t.animationDelay||0)+1200,n=setTimeout((()=>{b(!0)}),e);return()=>clearTimeout(n)}),[t.animationDelay]);const k=w&&x;let N="#22c55e",_="border-signal/50",S="bg-signal/20",C="text-signal",j="bg-[#050505]";k?(N="#ef4444",_="border-red-500/50",S="bg-red-500/0",C="text-black",j="bg-red-600"):n&&(N="#eab308",_="border-yellow-500",S="bg-yellow-500/20",C="text-yellow-500");const E={hidden:{opacity:0,x:-5},visible:{opacity:1,x:0,transition:{delay:l+.8,duration:.4}}},T={hidden:{opacity:0},visible:{opacity:1,transition:{delay:l+1,duration:1.2}}},A={hidden:{clipPath:"inset(0 100% 0 0)",opacity:1},visible:{clipPath:"inset(0 0 0 0)",opacity:1,transition:{delay:l+.5,duration:.4}}};return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)(Md.div,{ref:f,className:"relative cursor-pointer",initial:c?"hidden":"visible",animate:"visible",onMouseEnter:()=>{if(f.current){const e=f.current.getBoundingClientRect(),t=300,n=15,r=20;let o=e.right+n,i="right";o+t>window.innerWidth-r&&(o=e.left-t-n,i="left");let s=e.top;const a=250;s+a>window.innerHeight-r&&(s=window.innerHeight-a-r),s<r&&(s=r),p({x:o,y:s,align:i}),u(!0)}},onMouseLeave:()=>u(!1),onContextMenu:m,children:[(0,mn.jsx)(Md.div,{className:"absolute -inset-1 ".concat(S," blur-md rounded-lg group-hover:bg-opacity-40 transition-all duration-500"),variants:T}),(0,mn.jsxs)(Md.div,{initial:{backgroundColor:"#050505",borderColor:"#ffffff",opacity:0,scale:.8,filter:"blur(5px)",clipPath:"inset(0 100% 0 0)"},animate:{backgroundColor:k?"#dc2626":"#050505",borderColor:k?"#ef4444":n?"#eab308":"rgba(34, 197, 94, 0.5)",opacity:1,scale:1,filter:"blur(0px)",clipPath:"inset(0 0% 0 0)",transition:{backgroundColor:{duration:.3,ease:"easeInOut"},borderColor:{delay:.5,duration:1,ease:"easeInOut"},default:{duration:.5}}},className:"relative border p-3 shadow-[0_0_15px_rgba(0,0,0,0.5)] flex items-center gap-3 overflow-hidden w-[230px]",children:[(0,mn.jsx)(RP,{type:"target",position:mI.Top,className:"!opacity-0 pointer-events-none !w-3 !h-3",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),(0,mn.jsx)(Md.div,{className:n&&!k?"animate-pulse":"",style:{color:"#ffffff"},initial:{color:"#ffffff",opacity:0,scale:0},animate:{color:k?"#000000":N,opacity:1,scale:1,transition:{color:{delay:k?0:l+1,duration:.8},default:{delay:k?0:l+.4,duration:.6}}},children:k?(0,mn.jsx)(jz,{size:24,className:"text-black"}):Dz(s,i,24,"currentColor")}),(0,mn.jsxs)("div",{className:"flex flex-col min-w-0 flex-1 overflow-hidden",children:[(0,mn.jsx)(Md.span,{className:"font-bold text-sm tracking-wide block truncate",variants:A,initial:"hidden",animate:{color:k?"#000000":"#e5e7eb",clipPath:"inset(0 0 0 0)",transition:{color:{duration:1},clipPath:{delay:l+.5,duration:.4,ease:"easeOut"}}},children:t.host}),(0,mn.jsx)(Md.span,{variants:E,className:"text-xs font-mono truncate block ".concat(k?"text-black/80":"text-gray-500"),children:t.ip})]}),(0,mn.jsx)(Md.div,{variants:E,className:"ml-auto flex gap-1 pl-2",children:(0,mn.jsx)("div",{className:"w-2 h-2 ".concat(k?"bg-black":n?"bg-yellow-500":"bg-signal"," rounded-full animate-pulse shadow-[0_0_5px_currentColor] transition-colors duration-1000")})}),(0,mn.jsx)(Md.div,{className:"absolute top-0 right-0 w-3 h-3 border-t-2 border-r-2",initial:{borderColor:"#ffffff",opacity:0},animate:{borderColor:k?"#000000":n?"#eab308":"#22c55e",opacity:1},transition:{opacity:{delay:l+.2,duration:.2},borderColor:{delay:k?0:l+1,duration:1.2,ease:"easeInOut"}}}),(0,mn.jsx)(Md.div,{className:"absolute bottom-0 left-0 w-3 h-3 border-b-2 border-l-2",initial:{borderColor:"#ffffff",opacity:0},animate:{borderColor:k?"#000000":n?"#eab308":"#22c55e",opacity:1},transition:{opacity:{delay:l+.2,duration:.2},borderColor:{delay:k?0:l+1,duration:1.2,ease:"easeInOut"}}}),(0,mn.jsx)(RP,{type:"source",position:mI.Bottom,className:"!opacity-0 pointer-events-none !w-3 !h-3",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]})]}),d&&(0,sj.createPortal)((0,mn.jsx)(On,{children:(0,mn.jsx)(Md.div,{initial:{opacity:0,scale:.95,x:"right"===h.align?-10:10},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.95},transition:{duration:.2,ease:"easeOut"},className:"fixed z-[9999] w-[280px] pointer-events-none",style:{left:h.x,top:h.y},children:(0,mn.jsxs)("div",{className:"bg-black/90 backdrop-blur-xl border ".concat(r," p-4 rounded shadow-[0_0_30px_rgba(0,0,0,0.8)] relative overflow-hidden"),children:[(0,mn.jsx)("div",{className:"absolute inset-0 opacity-10 bg-[linear-gradient(transparent_0%,".concat(n?"#eab308":"#22c55e","_50%,transparent_100%)] bg-[length:100%_200%] animate-[scan_3s_linear_infinite] pointer-events-none")}),"right"===h.align?(0,mn.jsx)("div",{className:"absolute top-6 -left-1.5 w-3 h-3 bg-black border-l border-b ".concat(r," transform rotate-45")}):(0,mn.jsx)("div",{className:"absolute top-6 -right-1.5 w-3 h-3 bg-black border-r border-t ".concat(r," transform rotate-45")}),(0,mn.jsxs)("div",{className:"space-y-4 relative z-10",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between border-b border-white/10 pb-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:"font-mono text-sm font-bold ".concat(o),children:["NODE_",t.display_id]}),t.pid&&(0,mn.jsxs)("span",{className:"text-[10px] font-mono text-gray-500 bg-white/5 px-1.5 rounded",children:["PID ",t.pid]})]}),n&&(0,mn.jsxs)("div",{className:"flex items-center gap-1 bg-yellow-500/20 px-1.5 py-0.5 rounded border border-yellow-500/50",children:[(0,mn.jsx)(bm,{size:10,className:"text-yellow-500"}),(0,mn.jsx)("span",{className:"text-[9px] font-bold text-yellow-500",children:"ADMIN"})]})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,mn.jsxs)("div",{className:"flex flex-col gap-0.5 col-span-2",children:[(0,mn.jsx)("span",{className:"text-[9px] font-mono text-gray-500 uppercase tracking-wider",children:"User @ Domain"}),(0,mn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,mn.jsx)(QT,{size:12,className:"text-gray-400 shrink-0"}),(0,mn.jsxs)("span",{className:"text-xs text-white truncate font-mono",children:[t.user,t.domain&&(0,mn.jsxs)("span",{className:"text-gray-500",children:["@",t.domain]})]})]})]}),(0,mn.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,mn.jsx)("span",{className:"text-[9px] font-mono text-gray-500 uppercase tracking-wider",children:"OS / Arch"}),(0,mn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,mn.jsx)(XT,{size:12,className:"text-gray-400 shrink-0"}),(0,mn.jsxs)("span",{className:"text-xs text-white truncate font-mono",children:[s||"Unknown"," ",t.architecture&&"(".concat(t.architecture,")")]})]})]}),(0,mn.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,mn.jsx)("span",{className:"text-[9px] font-mono text-gray-500 uppercase tracking-wider",children:"Agent"}),(0,mn.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,mn.jsx)(Wd,{size:12,className:"text-gray-400 shrink-0"}),(0,mn.jsx)("span",{className:"text-xs text-white uppercase font-mono",children:i})]})]})]}),(0,mn.jsxs)("div",{className:"bg-white/5 rounded p-2 border border-white/5",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,mn.jsx)("span",{className:"text-[9px] font-mono text-gray-500 uppercase",children:"Last Checkin"}),(0,mn.jsx)("span",{className:"text-[10px] font-mono font-bold ".concat(t.isCustom?"text-cyan-400":v.includes("s")?"text-green-500":"text-red-400"),children:v})]}),!t.isCustom&&(0,mn.jsx)("div",{className:"h-1 w-full bg-gray-800 rounded-full overflow-hidden",children:(0,mn.jsx)(Md.div,{className:"h-full ".concat(v.includes("s")?"bg-green-500":"bg-red-500"),initial:{width:0},animate:{width:v.includes("s")?"100%":"30%"},transition:{duration:1}})}),t.isCustom&&(0,mn.jsx)("div",{className:"text-[9px] text-cyan-400 mt-1 italic",children:"Custom node - no active connection"})]}),t.description&&(0,mn.jsxs)("div",{className:"text-[10px] text-gray-400 italic border-t border-white/10 pt-2",children:['"',t.description,'"']})]})]})})}),document.body)]})},root:e=>{let{data:t}=e;return(0,mn.jsxs)(Md.div,{className:"relative group",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6,ease:[.34,1.56,.64,1],type:"spring",bounce:.5},children:[(0,mn.jsx)(Md.div,{className:"absolute -inset-8 bg-signal/5 blur-2xl rounded-full",initial:{scale:0,opacity:0},animate:{scale:[1,1.2,1],opacity:[.3,.1,.3]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,mn.jsx)(Md.div,{className:"absolute -inset-4 bg-signal/10 blur-xl rounded-full",initial:{scale:0,opacity:0},animate:{scale:[1,1.1,1],opacity:[.5,.2,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut",delay:.5}}),[0,1,2].map((e=>(0,mn.jsx)(Md.div,{className:"absolute inset-0 border-2 border-signal/30 rounded-full",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"},initial:{scale:1,opacity:.5},animate:{scale:[1,1.5+.3*e],opacity:[.5,0]},transition:{duration:2,repeat:1/0,delay:.6*e,ease:"easeOut"}},e))),(0,mn.jsxs)(Md.div,{className:"relative w-32 h-32 flex flex-col items-center justify-center bg-black border-2 border-signal shadow-[0_0_30px_rgba(34,197,94,0.3)]",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"},animate:{boxShadow:["0 0 30px rgba(34,197,94,0.3)","0 0 50px rgba(34,197,94,0.5)","0 0 30px rgba(34,197,94,0.3)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[(0,mn.jsx)(RP,{type:"source",position:mI.Bottom,className:"!opacity-0 pointer-events-none !w-3 !h-3",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),(0,mn.jsx)(RP,{type:"target",position:mI.Top,className:"!opacity-0 pointer-events-none !w-3 !h-3",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}),(0,mn.jsx)(Md.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,duration:.5,type:"spring"},children:(0,mn.jsx)(fT,{size:32,className:"text-signal mb-2"})}),(0,mn.jsx)(Md.div,{className:"text-signal font-bold tracking-widest text-xs",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:"MINERVA"}),(0,mn.jsx)(Md.div,{className:"text-[10px] text-gray-500 font-mono",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7,duration:.4},children:"C2_CORE"}),(0,mn.jsx)(Md.div,{className:"absolute inset-0 border border-signal/20 scale-75",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"},initial:{scale:0,opacity:0},animate:{scale:.75,opacity:1},transition:{delay:.4,duration:.5}})]})]})}},$z={pulse:e=>{let{id:t,sourceX:n,sourceY:r,targetX:o,targetY:i,sourcePosition:s,targetPosition:a,style:l={},markerEnd:c,data:d,label:u}=e;const[h,p,f]=pL({sourceX:n,sourceY:r,targetX:o,targetY:i}),m=null===d||void 0===d?void 0:d.timestamp;return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(JP,{path:h,markerEnd:c,style:l}),u&&(0,mn.jsxs)("g",{transform:"translate(".concat(p,", ").concat(f,")"),children:[(0,mn.jsx)("rect",{x:-(5*String(u).length+8)/2,y:-9,width:5*String(u).length+8,height:18,rx:4,fill:"rgba(255, 255, 255, 0.95)",stroke:"rgba(0, 0, 0, 0.2)",strokeWidth:1}),(0,mn.jsx)("text",{style:{fontSize:10,fontWeight:600,fill:"#1a1a1a"},textAnchor:"middle",dominantBaseline:"central",children:String(u)})]}),(null===d||void 0===d?void 0:d.active)&&(0,mn.jsx)("g",{children:(0,mn.jsxs)("circle",{r:"4",fill:"#ffffff",filter:"url(#glow-pulse)",opacity:"0",children:[(0,mn.jsx)("animateMotion",{dur:"1.5s",repeatCount:"1",path:h,keyPoints:"1;0",keyTimes:"0;1",calcMode:"linear",fill:"remove"},String(m||"")),(0,mn.jsx)("animate",{attributeName:"opacity",values:"1;1",dur:"1.5s",repeatCount:"1",fill:"remove"},"".concat(m,"-opacity"))]})})]})}},zz=100,Fz=300,Bz=150,Vz=400,Wz=10;function Hz(){var e,t,n,r;const{data:o,loading:i,error:l,refetch:c}=Jf(Qy,{pollInterval:5e3}),{data:d,loading:u,error:h,refetch:p}=Jf(Zy,{pollInterval:5e3}),{data:f,refetch:m}=Jf(ux,{fetchPolicy:"network-only"}),{data:g,refetch:v}=Jf(vx,{fetchPolicy:"network-only"}),[y]=UT(Jy),[x]=UT(ex),[b]=UT(tx),[w]=UT(nx),[k]=UT(rx),[N,_,S]=function(e){const[t,n]=(0,a.useState)(e),r=(0,a.useCallback)((e=>n((t=>eP(e,t)))),[]);return[t,n,r]}([]),[C,j,E]=function(e){const[t,n]=(0,a.useState)(e),r=(0,a.useCallback)((e=>n((t=>tP(e,t)))),[]);return[t,n,r]}([]),T=(0,a.useRef)({x:0,y:0,zoom:1}),[A,M]=(0,a.useState)(!0),R=(0,a.useRef)(new Set),O=(0,a.useRef)({nodes:[],edges:[]}),I=fe(),[L,D]=(0,a.useState)(null),[P,$]=(0,a.useState)(null),[z,F]=(0,a.useState)(""),[B,V]=(0,a.useState)(null),[W,H]=(0,a.useState)(null),[U,G]=(0,a.useState)(null),[q,K]=(0,a.useState)(null),[Y,Q]=(0,a.useState)(""),[X,Z]=(0,a.useState)(!0),[J,ee]=(0,a.useState)(!1),[te,ne]=(0,a.useState)(null),[re,oe]=(0,a.useState)([]),[ie,se]=(0,a.useState)([]),[ae,le]=(0,a.useState)({host:"",os:"Windows",ip:"",user:"",description:"",architecture:"x64"}),[ce,de]=(0,a.useState)(!1),[ue,he]=(0,a.useState)(!1),[pe,me]=(0,a.useState)(""),[ge,ve]=(0,a.useState)(""),{data:ye,refetch:xe}=Jf(ox,{pollInterval:5e3,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),{data:be,refetch:we}=Jf(lx,{pollInterval:5e3,fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first"}),[ke]=UT(ix),[Ne]=UT(sx),[_e]=UT(ax),[Se]=UT(cx),[Ce]=UT(dx);(0,a.useEffect)((()=>{if(Rz(" customNodesData changed:",ye),null!==ye&&void 0!==ye&&ye.agentstorage){Rz(" Found agentstorage data:",ye.agentstorage);try{const e=Sz(ye.agentstorage);Rz(" Parsed nodes:",e);const t=e.map((e=>({id:"custom-".concat(e.id),db_id:e.id,display_id:e.id,host:e.hostname,ip:e.ip_address,os:e.operating_system,architecture:e.architecture,user:e.username||"N/A",description:e.description||"",isHidden:e.hidden||!1,isCustom:!0,timestamp:e.timestamp,position:e.position,parent_id:e.parent_id,parent_type:e.parent_type,c2profile:e.c2profile})));Rz(" Mapped internal nodes:",t),oe(t),Rz(" setCustomNodes called with",t.length,"nodes");const n=t.filter((e=>void 0!==e.parent_id&&null!==e.parent_id)).map((e=>({id:"custom-edge-".concat(e.db_id),source:e.id,target:"custom"===e.parent_type?"custom-".concat(e.parent_id):e.parent_id,sourceId:e.db_id,targetId:e.parent_id,c2profile:e.c2profile||""})));Rz(" Generated edges from parent relationships:",n),se((e=>{const t=e.filter((e=>e.id.includes("callback-")));return Rz(" Merging parent edges:",n.length,"with callback edges:",t.length),[...n,...t]}))}catch(e){console.error("[CallbackGraph] Failed to parse custom nodes from agentstorage:",e),sT.error("Failed to load custom nodes: "+e.message)}}else Rz(" No agentstorage data in customNodesData")}),[ye]),(0,a.useEffect)((()=>{if(Rz(" customEdgesData changed:",be),null!==be&&void 0!==be&&be.agentstorage){Rz(" Found custom edges data:",be.agentstorage);try{const e=function(e){mz("Processing",e.length,"edge items");const t=[];for(const r of e)try{t.push(Nz(r.data))}catch(n){console.error("[parseEdgeStorageResults] Failed to parse:",r.unique_id)}return mz("Successfully parsed",t.length,"edges"),t}(be.agentstorage);Rz(" Parsed callback->custom edges:",e),se((t=>{const n=t.filter((e=>e.id.startsWith("custom-edge-")&&!e.id.includes("callback-")));return Rz(" Merging stored callback edges:",e.length,"with parent edges:",n.length),[...n,...e]}))}catch(e){console.error("[CallbackGraph] Failed to parse custom edges:",e)}}else Rz(" No custom edges data, keeping only parent edges"),se((e=>e.filter((e=>e.id.startsWith("custom-edge-")&&!e.id.includes("callback-")))))}),[be]);const je=(0,a.useCallback)(((e,t,n)=>{e.preventDefault();const r=e.clientX,o=e.clientY;D({x:r,y:o,callback:t})}),[]);(0,a.useEffect)((()=>{const e=()=>D(null);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[]);const Ee=e=>{H(e),G(null),K(null),Q(""),Z(!0),m(),v(),D(null)},Te=e=>{ne(e),le({host:e.host,os:e.os,ip:e.ip,user:e.user,description:e.description||"",architecture:e.architecture}),D(null)},Ae=(0,a.useCallback)((e=>{const t=String(e),n=ie.find((e=>String(e.source)===t));return n||(null!==d&&void 0!==d&&d.callbackgraphedge?d.callbackgraphedge.find((t=>{var n;return(null===(n=t.source)||void 0===n?void 0:n.id)===e&&!t.end_timestamp})):null)}),[d,ie]),Me=async e=>{Rz("[handleDisconnectParent] callback:",e),Rz("[handleDisconnectParent] callback.id:",e.id,"type:",typeof e.id),Rz("[handleDisconnectParent] callback.isCustom:",e.isCustom),Rz("[handleDisconnectParent] customEdges:",ie.map((e=>({id:e.id,source:e.source,target:e.target}))));const t=Ae(e.id);if(Rz("[handleDisconnectParent] Found parentEdge:",t),!t)return sT.info("No parent connection found"),void D(null);if(e.isCustom){try{var n,r;Rz("[handleDisconnectParent] Removing parent from custom node:",e.db_id);const{unique_id:t,data:o}=_z({id:e.db_id,hostname:e.host,ip_address:e.ip,operating_system:e.os,architecture:e.architecture,username:"N/A"!==e.user?e.user:void 0,description:e.description,hidden:e.isHidden,parent_id:void 0,parent_type:void 0,c2profile:void 0});(null===(n=(await Ne({variables:{unique_id:t,data:o}})).data)||void 0===n||null===(r=n.update_agentstorage)||void 0===r?void 0:r.affected_rows)>0?(sT.success("Disconnected from parent"),xe()):sT.error("Failed to disconnect")}catch(zQ){console.error("[handleDisconnectParent] Error:",zQ),sT.error("Failed to disconnect: "+zQ.message)}D(null)}else if(!t.source||"string"!==typeof t.source||t.id.startsWith("e")){try{var o,i,s,a;const e=await k({variables:{edge_id:t.id}});var l;if("success"===(null===(o=e.data)||void 0===o||null===(i=o.callbackgraphedge_remove)||void 0===i?void 0:i.status))sT.success("Disconnected from Callback #".concat(null===(l=t.destination)||void 0===l?void 0:l.display_id));else null!==(s=e.data)&&void 0!==s&&null!==(a=s.callbackgraphedge_remove)&&void 0!==a&&a.error&&sT.error("Failed to disconnect: ".concat(e.data.callbackgraphedge_remove.error));c(),p()}catch(zQ){sT.error("Failed to disconnect: "+zQ.message)}D(null)}else{try{var d,u;Rz("[handleDisconnectParent] Removing custom edge from database:",t.id);(null===(d=(await Ce({variables:{unique_id:vz(t.id)}})).data)||void 0===d||null===(u=d.delete_agentstorage)||void 0===u?void 0:u.affected_rows)>0?(sT.success("Disconnected from Custom Node #".concat(t.targetId)),we()):sT.error("Failed to remove connection from database")}catch(zQ){console.error("[handleDisconnectParent] Error removing custom edge:",zQ),sT.error("Failed to disconnect: "+zQ.message)}D(null)}},Re=(0,a.useCallback)(((e,t)=>{var n;"custom"===t.type&&null!==(n=t.data)&&void 0!==n&&n.display_id&&I("/console/".concat(t.data.display_id))}),[I]);(0,a.useEffect)((()=>{var e;if(A&&(null===o||void 0===o||null===(e=o.callback)||void 0===e?void 0:e.length)>0){const e=setTimeout((()=>{M(!1)}),3e3);return()=>clearTimeout(e)}}),[o,A]);const Oe=(0,a.useMemo)((()=>{const e=(null===o||void 0===o?void 0:o.callback)||[];if(0===e.length&&0===re.length)return O.current.nodes.length>0?O.current:{nodes:[],edges:[]};const t=[...ce?e:e.filter((e=>!1!==e.active)),...re].map(((e,t)=>{var n,r,o;const i=String(e.id),s=!R.current.has(i);let a=0;return A?a=.3+.08*t:s&&(a=.1),R.current.add(i),{id:i,type:"custom",sourcePosition:mI.Bottom,targetPosition:mI.Top,position:{x:0,y:0},data:{callback_id:e.id,display_id:e.display_id,db_id:e.db_id,user:e.user,host:e.host,ip:e.isCustom?e.ip:(()=>{try{return JSON.parse(e.ip)[0]}catch(zQ){return e.ip}})(),integrity_level:e.integrity_level,payloadType:e.payloadType||(null===(n=e.payload)||void 0===n||null===(r=n.payloadtype)||void 0===r?void 0:r.name)||"",os:e.os,last_checkin:e.last_checkin,pid:e.pid,architecture:e.architecture,domain:e.domain,description:e.description,locked:e.locked,sleep_info:e.sleep_info,animationDelay:a,isNewNode:s||A,label:"".concat(e.isCustom?"Custom Node":"Callback"," ").concat(e.display_id),onContextMenu:je,isCustom:e.isCustom||!1,c2profiles:(null===(o=e.callbackc2profiles)||void 0===o?void 0:o.map((e=>{var t;return null===(t=e.c2profile)||void 0===t?void 0:t.name})).filter(Boolean))||[]}}}));t.push({id:"root",type:"root",sourcePosition:mI.Bottom,targetPosition:mI.Top,data:{label:"Minerva C2"},position:{x:400,y:50}});const n=[];null!==d&&void 0!==d&&d.callbackgraphedge&&d.callbackgraphedge.forEach((e=>{var t;!e.end_timestamp&&e.source&&e.destination&&n.push({id:"e".concat(e.source.id,"-").concat(e.destination.id),source:String(e.source.id),target:String(e.destination.id),animated:!1,style:{stroke:"#ffffff",strokeWidth:2.5},markerEnd:{type:fI.ArrowClosed,color:"#ffffff"},label:(null===(t=e.c2profile)||void 0===t?void 0:t.name)||"Linked"})})),ie.forEach((e=>{n.push({id:e.id,source:String(e.source),target:String(e.target),animated:!1,style:{stroke:"#00ffff",strokeWidth:2.5},markerEnd:{type:fI.ArrowClosed,color:"#00ffff"},label:e.c2profile||"Custom"})}));const r=new Set(t.filter((e=>"root"!==e.id)).map((e=>e.id))),i=new Set(n.filter((e=>r.has(e.source)&&r.has(e.target)&&e.source!==e.target)).map((e=>e.source)));t.filter((e=>"root"!==e.id)).forEach((e=>{var t,r,o;if(i.has(e.id))return;let s=!1,a="";if(null!==(t=e.data)&&void 0!==t&&t.last_checkin)try{const t=String(e.data.last_checkin),n=t.endsWith("Z")?t:"".concat(t,"Z");a=n;const r=new Date(n).getTime(),o=(new Date).getTime();(o-r)/1e3<5&&(s=!0)}catch(zQ){}const l=Array.isArray(null===(r=e.data)||void 0===r?void 0:r.c2profiles)?e.data.c2profiles:[],c=l.length>0?l.join(", "):"";n.push({id:"root-".concat(e.id),source:"root",target:e.id,type:"pulse",animated:!1,style:{stroke:"#ffffff",strokeWidth:2.5},markerEnd:{type:fI.ArrowClosed,color:"#ffffff"},label:c,labelStyle:{fill:"#a0aec0",fontSize:10,fontWeight:500},labelBgStyle:{fill:"rgba(0, 0, 0, 0.6)",fillOpacity:.8},labelBgPadding:[4,2],data:{active:s,timestamp:a,highIntegrity:Number((null===(o=e.data)||void 0===o?void 0:o.integrity_level)||0)>2}})}));const s={nodes:t,edges:n};return O.current=s,s}),[o,d,je,A,re,ce,ie]),Ie=(0,a.useRef)("");a.useEffect((()=>{if(Oe.nodes.length>0){const{nodes:e,edges:t}=((e,t)=>{if(!e.find((e=>"root"===e.id)))return{nodes:e,edges:t};const n=new Map;t.forEach((e=>{e.id.startsWith("root-")||n.has(e.source)||n.set(e.source,e.target)}));const r=new Map;r.set("root",0);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;if(r.has(e))return r.get(e);if(t.has(e))return r.set(e,1),1;t.add(e);const i=n.get(e);if(i&&"root"!==i&&i!==e){const n=o(i,new Set(t))+1;return r.set(e,n),n}return r.set(e,1),1};e.forEach((e=>{"root"!==e.id&&o(e.id)}));const i=new Map;e.forEach((e=>{var t;const n=null!==(t=r.get(e.id))&&void 0!==t?t:1;i.has(n)||i.set(n,[]),i.get(n).push(e)}));const a=e.map((e=>{var t;if("root"===e.id)return s(s({},e),{},{position:{x:zz,y:Vz}});const n=null!==(t=r.get(e.id))&&void 0!==t?t:1,o=i.get(n)||[];o.sort(((e,t)=>e.id.localeCompare(t.id)));const a=o.findIndex((t=>t.id===e.id)),l=zz+n*Fz,c=o.length,d=Math.ceil(c/Wz),u=Math.floor(a/Wz),h=Vz-((u===d-1&&c%Wz||Wz)-1)*Bz/2+a%Wz*Bz,p=u*Fz;return s(s({},e),{},{position:{x:l+p,y:h}})}));return{nodes:a,edges:t}})(Oe.nodes,Oe.edges),n=Oe.edges.filter((e=>!e.id.startsWith("root-"))).map((e=>"".concat(e.source,"->").concat(e.target))).sort().join("|"),r=n!==Ie.current;Ie.current=n,_((t=>{if(r||0===t.length)return e;const n=new Map(t.map((e=>[e.id,e])));return e.map((e=>{const t=n.get(e.id);return t&&t.position?s(s({},e),{},{position:t.position}):e}))})),j(t)}}),[Oe,_,j]);const Le=(0,a.useMemo)((()=>{if(!W)return[];return[...(null===o||void 0===o?void 0:o.callback)||[],...re].filter((e=>e.id!==W.id&&e.display_id!==W.display_id))||[]}),[o,W,re]);return(0,mn.jsxs)("div",{className:"w-full h-full bg-[#050505] border border-ghost/30 relative overflow-hidden rounded-lg",children:[(0,mn.jsxs)("div",{className:"absolute top-4 right-4 z-10 flex items-center gap-2",children:[(0,mn.jsxs)("button",{onClick:()=>de(!ce),className:"flex items-center gap-2 px-3 py-2 border rounded transition-colors text-xs font-mono ".concat(ce?"bg-yellow-500/20 hover:bg-yellow-500/30 border-yellow-500/50 text-yellow-500":"bg-gray-500/20 hover:bg-gray-500/30 border-gray-500/50 text-gray-400"),title:ce?"Hide Hidden Nodes":"Show Hidden Nodes",children:[(0,mn.jsx)(YT,{size:14}),ce?"HIDE":"SHOW"," HIDDEN"]}),re.length>0&&(0,mn.jsxs)("button",{onClick:()=>{const e={version:"1.0",timestamp:(new Date).toISOString(),customNodes:re,customEdges:ie};me(JSON.stringify(e,null,2)),he(!0)},className:"flex items-center gap-2 px-3 py-2 bg-purple-500/20 hover:bg-purple-500/30 border border-purple-500/50 text-purple-400 rounded transition-colors text-xs font-mono",title:"Export/Import Custom Nodes",children:[(0,mn.jsx)(Ez,{size:14}),"SHARE"]}),(0,mn.jsxs)("button",{onClick:()=>ee(!0),className:"flex items-center gap-2 px-3 py-2 bg-signal/20 hover:bg-signal/30 border border-signal/50 text-signal rounded transition-colors text-xs font-mono",title:"Add Custom Node",children:[(0,mn.jsx)(Tz,{size:14}),"ADD NODE"]})]}),i&&!o&&(0,mn.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-20 text-signal font-mono text-xs",children:"LOADING_TOPOLOGY..."}),(0,mn.jsx)("div",{className:"absolute inset-0 opacity-[0.1] pointer-events-none",style:{backgroundImage:"\n                        linear-gradient(rgba(34, 197, 94, 0.1) 1px, transparent 1px),\n                        linear-gradient(90deg, rgba(34, 197, 94, 0.1) 1px, transparent 1px)\n                     ",backgroundSize:"40px 40px"}}),(0,mn.jsx)("svg",{style:{position:"absolute",width:0,height:0},children:(0,mn.jsx)("defs",{children:(0,mn.jsxs)("filter",{id:"glow-pulse",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,mn.jsx)("feGaussianBlur",{stdDeviation:"2",result:"coloredBlur"}),(0,mn.jsxs)("feMerge",{children:[(0,mn.jsx)("feMergeNode",{in:"coloredBlur"}),(0,mn.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})})}),(0,mn.jsx)(U$,{nodes:N,edges:C,onNodesChange:S,onEdgesChange:E,nodeTypes:Pz,edgeTypes:$z,proOptions:{hideAttribution:!0},defaultEdgeOptions:{type:"straight",style:{stroke:"#ffffff",strokeWidth:2.5,opacity:.95,zIndex:200},markerEnd:{type:fI.ArrowClosed,color:"#ffffff"},animated:!0},defaultViewport:T.current,onMoveEnd:(e,t)=>{T.current=t},onNodeClick:Re,fitView:!0,fitViewOptions:{padding:.5,minZoom:.1,maxZoom:1},className:"bg-transparent",minZoom:.1,maxZoom:4,zoomOnScroll:!0,panOnScroll:!1,zoomOnDoubleClick:!1,children:(0,mn.jsx)(Z$,{color:"#333",gap:20,className:"opacity-20"})}),(0,mn.jsxs)("div",{className:"absolute top-4 left-4 z-10 pointer-events-none flex flex-col gap-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-signal bg-black/60 px-3 py-1 border border-signal/20 backdrop-blur-sm shadow-[0_0_10px_rgba(34,197,94,0.2)]",children:[(0,mn.jsx)("div",{className:"w-2 h-2 bg-signal rounded-full animate-pulse shadow-[0_0_5px_#22c55e]"}),"NETWORK_TOPOLOGY_ACTIVE"]}),re.length>0&&(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-cyan-400 bg-black/60 px-3 py-1 border border-cyan-500/20 backdrop-blur-sm",children:[(0,mn.jsx)("div",{className:"w-2 h-2 bg-cyan-500 rounded-full"}),re.length," CUSTOM_NODE",re.length>1?"S":""]})]}),L&&(0,sj.createPortal)((0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"fixed z-[9999] bg-black/95 border border-signal/40 shadow-lg shadow-signal/20 w-56 backdrop-blur-xl",style:{top:L.y,left:L.x,transform:L.x>window.innerWidth-250?"translateX(-100%)":"none"},onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"px-3 py-2 border-b border-signal/20 flex items-center justify-between",children:[(0,mn.jsxs)("span",{className:"text-xs font-mono text-signal font-bold",children:[L.callback.isCustom?"CUSTOM_NODE_":"CALLBACK_",L.callback.display_id]}),L.callback.locked&&(0,mn.jsx)(KT,{size:12,className:"text-red-500"})]}),(0,mn.jsx)("div",{className:"p-1 flex flex-col",children:L.callback.isCustom?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("button",{onClick:()=>Te(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-signal/10 text-xs text-left text-gray-300 hover:text-signal transition-colors group",children:[(0,mn.jsx)(JT,{size:14,className:"text-gray-500 group-hover:text-signal"}),(0,mn.jsx)("span",{children:"Edit Node"})]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>Ee(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-blue-900/30 text-xs text-left text-blue-400 hover:text-blue-300 transition-colors group",children:[(0,mn.jsx)(Az,{size:14,className:"text-blue-500"}),(0,mn.jsx)("span",{children:"Link to Parent"})]}),Ae(L.callback.id)&&(0,mn.jsxs)("button",{onClick:()=>Me(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-orange-900/30 text-xs text-left text-orange-400 hover:text-orange-300 transition-colors group",children:[(0,mn.jsx)(nA,{size:14,className:"text-orange-500"}),(0,mn.jsx)("span",{children:"Disconnect from Parent"})]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{var t,n;const r=gz(e.db_id);if(!((null===(t=(await _e({variables:{unique_id:r}})).data)||void 0===t||null===(n=t.delete_agentstorage)||void 0===n?void 0:n.affected_rows)>0))throw new Error("Failed to delete node from database");se(ie.filter((t=>t.source!==e.id&&t.target!==e.id))),sT.success('Custom node "'.concat(e.host,'" deleted successfully')),D(null),xe()}catch(zQ){console.error("Delete custom node error:",zQ),sT.error("Failed to delete custom node: "+zQ.message)}})(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-red-900/30 text-xs text-left text-red-400 hover:text-red-300 transition-colors group",children:[(0,mn.jsx)(nA,{size:14,className:"text-red-500"}),(0,mn.jsx)("span",{children:"Delete Node"})]})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("button",{onClick:()=>{return e=L.callback,V(e),void D(null);var e},className:"flex items-center gap-3 px-3 py-2.5 hover:bg-signal/10 text-xs text-left text-gray-300 hover:text-signal transition-colors group",children:[(0,mn.jsx)(OT,{size:14,className:"text-gray-500 group-hover:text-signal"}),(0,mn.jsx)("span",{children:"View Details"}),(0,mn.jsx)(wT,{size:12,className:"ml-auto text-gray-600"})]}),(0,mn.jsxs)("button",{onClick:()=>{return e=L.callback,$(e),F(e.description||""),void D(null);var e},className:"flex items-center gap-3 px-3 py-2.5 hover:bg-signal/10 text-xs text-left text-gray-300 hover:text-signal transition-colors group",children:[(0,mn.jsx)(JT,{size:14,className:"text-gray-500 group-hover:text-signal"}),(0,mn.jsx)("span",{children:"Edit Description"})]}),(0,mn.jsx)("button",{onClick:()=>(async e=>{try{await x({variables:{callback_display_id:e.display_id,locked:!e.locked}}),sT.success("Callback ".concat(e.display_id," ").concat(e.locked?"unlocked":"locked")),c()}catch(zQ){sT.error("Failed to toggle lock: "+zQ.message)}D(null)})(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-signal/10 text-xs text-left text-gray-300 hover:text-signal transition-colors group",children:L.callback.locked?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(eA,{size:14,className:"text-gray-500 group-hover:text-signal"}),(0,mn.jsx)("span",{children:"Unlock Callback"})]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(KT,{size:14,className:"text-gray-500 group-hover:text-signal"}),(0,mn.jsx)("span",{children:"Lock Callback"})]})}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>Ee(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-blue-900/30 text-xs text-left text-blue-400 hover:text-blue-300 transition-colors group",children:[(0,mn.jsx)(Az,{size:14,className:"text-blue-500"}),(0,mn.jsx)("span",{children:"Link to Parent"})]}),Ae(L.callback.id)&&(0,mn.jsxs)("button",{onClick:()=>Me(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-orange-900/30 text-xs text-left text-orange-400 hover:text-orange-300 transition-colors group",children:[(0,mn.jsx)(nA,{size:14,className:"text-orange-500"}),(0,mn.jsx)("span",{children:"Disconnect from Parent"})]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{await y({variables:{callback_display_id:e.display_id,active:!1}}),sT.success("Callback ".concat(e.display_id," hidden")),c()}catch(zQ){sT.error("Failed to hide callback: "+zQ.message)}D(null)})(L.callback),className:"flex items-center gap-3 px-3 py-2.5 hover:bg-red-900/30 text-xs text-left text-red-400 hover:text-red-300 transition-colors group",children:[(0,mn.jsx)(YT,{size:14,className:"text-red-500"}),(0,mn.jsx)("span",{children:"Hide Callback"})]})]})})]}),document.body),(0,mn.jsx)(On,{children:P&&(0,mn.jsx)(rA,{title:"EDIT_DESCRIPTION",onClose:()=>$(null),icon:(0,mn.jsx)(JT,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"text-xs text-gray-400 font-mono mb-2",children:["Callback #",P.display_id," - ",P.host]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("input",{type:"text",value:z,onChange:e=>F(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",autoFocus:!0})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mn.jsx)("button",{onClick:()=>$(null),className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:async()=>{if(P)try{await b({variables:{callback_display_id:P.display_id,description:z}}),sT.success("Description updated"),c(),$(null)}catch(zQ){sT.error("Failed to update description: "+zQ.message)}},className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white transition-colors",children:"SAVE"})]})]})})}),(0,mn.jsx)(On,{children:J&&(0,mn.jsx)(rA,{title:"CREATE_CUSTOM_NODE",onClose:()=>ee(!1),icon:(0,mn.jsx)(Tz,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsx)("div",{className:"text-xs text-gray-400 mb-4",children:"Create a custom node to represent external systems or planned targets in the topology."}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"HOSTNAME *"}),(0,mn.jsx)("input",{type:"text",value:ae.host,onChange:e=>le(s(s({},ae),{},{host:e.target.value})),placeholder:"TARGET-PC-01",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"OPERATING SYSTEM *"}),(0,mn.jsxs)("select",{value:ae.os,onChange:e=>le(s(s({},ae),{},{os:e.target.value})),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm",children:[(0,mn.jsx)("option",{value:"Windows",children:"Windows"}),(0,mn.jsx)("option",{value:"Linux",children:"Linux"}),(0,mn.jsx)("option",{value:"macOS",children:"macOS"}),(0,mn.jsx)("option",{value:"Unknown",children:"Unknown"})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"IP ADDRESS *"}),(0,mn.jsx)("input",{type:"text",value:ae.ip,onChange:e=>le(s(s({},ae),{},{ip:e.target.value})),placeholder:"192.168.1.100",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"ARCHITECTURE"}),(0,mn.jsxs)("select",{value:ae.architecture,onChange:e=>le(s(s({},ae),{},{architecture:e.target.value})),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm",children:[(0,mn.jsx)("option",{value:"x64",children:"x64"}),(0,mn.jsx)("option",{value:"x86",children:"x86"}),(0,mn.jsx)("option",{value:"arm64",children:"ARM64"})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"USER"}),(0,mn.jsx)("input",{type:"text",value:ae.user,onChange:e=>le(s(s({},ae),{},{user:e.target.value})),placeholder:"Administrator",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("textarea",{value:ae.description,onChange:e=>le(s(s({},ae),{},{description:e.target.value})),placeholder:"Target system details...",rows:3,className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm resize-none"})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,mn.jsx)("button",{onClick:()=>ee(!1),className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:async()=>{if(Rz("[handleCreateCustomNode] === START ==="),Rz("[handleCreateCustomNode] Form:",ae),!ae.host||!ae.ip)return console.error("[handleCreateCustomNode] Validation failed - missing host or IP"),void sT.error("Hostname and IP are required");try{var e;Rz("[handleCreateCustomNode] Parsing existing nodes...");const n=null!==ye&&void 0!==ye&&ye.agentstorage?Sz(ye.agentstorage):[];Rz("[handleCreateCustomNode] Found",n.length,"existing nodes"),Rz("[handleCreateCustomNode] Existing node IDs:",n.map((e=>e.id)));const r=(t=n).length?Math.max(...t.map((e=>e.id)))+1:1;Rz("[handleCreateCustomNode] Generated next ID:",r),Rz("[handleCreateCustomNode] Preparing node data...");const{unique_id:o,data:i}=function(e,t){const n={id:t,hostname:e.hostname,ip_address:e.ip_address,operating_system:e.operating_system,architecture:e.architecture,username:e.username,description:e.description,hidden:!1,timestamp:(new Date).toISOString(),position:e.position};return{unique_id:gz(t),data:bz(n)}}({hostname:ae.host,ip_address:ae.ip,operating_system:ae.os,architecture:ae.architecture,username:ae.user||void 0,description:ae.description},r);Rz("[handleCreateCustomNode] unique_id:",o),Rz("[handleCreateCustomNode] data (first 100 chars):",i.substring(0,100)),Rz("[handleCreateCustomNode] data length:",i.length),Rz("[handleCreateCustomNode] Calling createCustomNodeMutation...");const s=await ke({variables:{unique_id:o,data:i}});if(Rz("[handleCreateCustomNode] Mutation completed. Result:",s),null===(e=s.data)||void 0===e||!e.insert_agentstorage_one)throw new Error("Failed to create node");Rz("[handleCreateCustomNode] Created successfully:",s.data.insert_agentstorage_one),sT.success('Custom node "'.concat(ae.host,'" created')),ee(!1),Rz("[handleCreateCustomNode] Refetching custom nodes..."),await xe(),Rz("[handleCreateCustomNode] Refetch complete"),le({host:"",os:"Windows",ip:"",user:"",description:"",architecture:"x64"})}catch(zQ){console.error("Create custom node error:",zQ),sT.error("Failed to create custom node: "+zQ.message)}var t},className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white transition-colors",children:"CREATE"})]})]})})}),(0,mn.jsx)(On,{children:te&&(0,mn.jsx)(rA,{title:"EDIT_CUSTOM_NODE",onClose:()=>ne(null),icon:(0,mn.jsx)(JT,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"text-xs text-gray-400 mb-4",children:["Edit custom node #",te.display_id," - ",te.host]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"HOSTNAME *"}),(0,mn.jsx)("input",{type:"text",value:ae.host,onChange:e=>le(s(s({},ae),{},{host:e.target.value})),placeholder:"TARGET-PC-01",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"OPERATING SYSTEM *"}),(0,mn.jsxs)("select",{value:ae.os,onChange:e=>le(s(s({},ae),{},{os:e.target.value})),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm",children:[(0,mn.jsx)("option",{value:"Windows",children:"Windows"}),(0,mn.jsx)("option",{value:"Linux",children:"Linux"}),(0,mn.jsx)("option",{value:"macOS",children:"macOS"}),(0,mn.jsx)("option",{value:"Unknown",children:"Unknown"})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"IP ADDRESS *"}),(0,mn.jsx)("input",{type:"text",value:ae.ip,onChange:e=>le(s(s({},ae),{},{ip:e.target.value})),placeholder:"192.168.1.100",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"ARCHITECTURE"}),(0,mn.jsxs)("select",{value:ae.architecture,onChange:e=>le(s(s({},ae),{},{architecture:e.target.value})),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm",children:[(0,mn.jsx)("option",{value:"x64",children:"x64"}),(0,mn.jsx)("option",{value:"x86",children:"x86"}),(0,mn.jsx)("option",{value:"arm64",children:"ARM64"})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"USER"}),(0,mn.jsx)("input",{type:"text",value:ae.user,onChange:e=>le(s(s({},ae),{},{user:e.target.value})),placeholder:"Administrator",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("textarea",{value:ae.description,onChange:e=>le(s(s({},ae),{},{description:e.target.value})),placeholder:"Target system details...",rows:3,className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-sm resize-none"})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,mn.jsx)("button",{onClick:()=>ne(null),className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:async()=>{if(ae.host&&ae.ip)try{var e,t;const{unique_id:n,data:r}=_z({id:te.db_id,hostname:ae.host,ip_address:ae.ip,operating_system:ae.os,architecture:ae.architecture,username:ae.user||void 0,description:ae.description,hidden:te.isHidden||!1});if(!((null===(e=(await Ne({variables:{unique_id:n,data:r}})).data)||void 0===e||null===(t=e.update_agentstorage)||void 0===t?void 0:t.affected_rows)>0))throw new Error("No rows updated");sT.success("Custom node updated successfully"),ne(null),xe(),le({host:"",os:"Windows",ip:"",user:"",description:"",architecture:"x64"})}catch(zQ){console.error("Update custom node error:",zQ),sT.error("Failed to update custom node: "+zQ.message)}else sT.error("Hostname and IP are required")},className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white transition-colors",children:"UPDATE"})]})]})})}),(0,mn.jsx)(On,{children:ue&&(0,mn.jsx)(rA,{title:"SHARE_CUSTOM_NODES",onClose:()=>{he(!1),ve("")},icon:(0,mn.jsx)(Ez,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsx)("div",{className:"text-xs text-gray-400 mb-4 p-3 bg-cyan-500/10 border border-cyan-500/30 rounded",children:(0,mn.jsxs)("div",{className:"flex items-start gap-2",children:[(0,mn.jsx)(OT,{size:14,className:"text-cyan-400 mt-0.5 shrink-0"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"font-bold text-cyan-400 mb-1",children:"GraphQL Server Storage"}),(0,mn.jsx)("div",{children:"Custom nodes are stored on the Mythic server and synchronized in real-time across all clients. Export for backup or migration purposes."})]})]})}),(0,mn.jsxs)("div",{className:"border-t border-gray-800 pt-4",children:[(0,mn.jsxs)("label",{className:"block text-xs font-mono text-gray-500 mb-2 flex items-center gap-2",children:[(0,mn.jsx)("span",{children:"EXPORT_DATA"}),(0,mn.jsxs)("span",{className:"text-[10px] text-gray-600",children:["(",re.length," nodes, ",ie.length," edges)"]})]}),(0,mn.jsx)("textarea",{value:pe,readOnly:!0,rows:8,className:"w-full bg-black/50 border border-gray-700 p-2 text-signal font-mono text-xs resize-none",placeholder:"Export data will appear here..."}),(0,mn.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(pe),sT.success("Copied to clipboard")},className:"w-full mt-2 px-4 py-2 bg-purple-500/20 border border-purple-500/50 text-purple-400 hover:bg-purple-500/30 font-mono text-sm transition-colors",children:"COPY_TO_CLIPBOARD"})]}),(0,mn.jsxs)("div",{className:"border-t border-gray-800 pt-4",children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-2",children:"IMPORT_DATA"}),(0,mn.jsx)("textarea",{value:ge,onChange:e=>ve(e.target.value),rows:8,placeholder:"Paste exported data here...",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-xs resize-none"}),(0,mn.jsx)("button",{onClick:()=>{try{const e=JSON.parse(ge);if(!e.customNodes||!Array.isArray(e.customNodes))return void sT.error("Invalid import data format");if(e.customEdges&&Array.isArray(e.customEdges)){const t=new Set(ie.map((e=>e.id))),n=e.customEdges.filter((e=>!t.has(e.id)));se([...ie,...n])}sT.success("Import data ready - nodes will be created in the backend"),he(!1),ve("")}catch(zQ){sT.error("Failed to import: "+zQ.message)}},disabled:!ge.trim(),className:"w-full mt-2 px-4 py-2 bg-signal/20 border border-signal/50 text-signal hover:bg-signal/30 font-mono text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"IMPORT_NODES"})]}),(0,mn.jsx)("div",{className:"flex justify-end pt-2",children:(0,mn.jsx)("button",{onClick:()=>{he(!1),ve("")},className:"px-6 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CLOSE"})})]})})}),(0,mn.jsx)(On,{children:W&&(0,mn.jsx)(rA,{title:"LINK_TO_PARENT",onClose:()=>H(null),icon:(0,mn.jsx)(Az,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"text-xs text-gray-400 font-mono mb-2",children:["Link ",W.isCustom?"Custom Node":"Callback"," #",W.display_id," (",W.host,") to another node."]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-2",children:"TARGET_NODE"}),(0,mn.jsx)("div",{className:"grid gap-2 max-h-48 overflow-y-auto border border-gray-800 p-2 bg-black/30",children:Le.length>0?Le.map((e=>{var t,n;const r=e.isCustom?e.ip:(()=>{try{return JSON.parse(e.ip)[0]}catch(zQ){return e.ip}})();return(0,mn.jsxs)("button",{onClick:()=>K(e),className:"flex items-center gap-3 px-3 py-2.5 border text-left text-xs font-mono transition-colors ".concat((null===q||void 0===q?void 0:q.id)===e.id?"border-signal bg-signal/10 text-signal":"border-gray-700 text-gray-400 hover:border-gray-500 hover:bg-white/5"),children:[(0,mn.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(e.isCustom?"bg-cyan-500":e.integrity_level>2?"bg-yellow-500":"bg-signal")}),(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:"font-bold",children:["#",e.display_id]}),(0,mn.jsx)("span",{className:"text-gray-500",children:"@"}),(0,mn.jsx)("span",{className:"truncate",children:e.host}),e.isCustom&&(0,mn.jsx)("span",{className:"text-[9px] bg-cyan-500/20 text-cyan-400 px-1 py-0.5 rounded border border-cyan-500/30",children:"CUSTOM"})]}),(0,mn.jsxs)("div",{className:"text-[10px] text-gray-600 flex items-center gap-2",children:[(0,mn.jsx)("span",{children:e.user}),(0,mn.jsx)("span",{children:"\u2022"}),(0,mn.jsx)("span",{children:r}),e.description&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("span",{children:"\u2022"}),(0,mn.jsx)("span",{className:"italic truncate",children:e.description})]})]})]}),(0,mn.jsx)("span",{className:"text-[10px] uppercase text-gray-600 border border-gray-700 px-1.5 py-0.5",children:e.isCustom?"CUSTOM":null===(t=e.payload)||void 0===t||null===(n=t.payloadtype)||void 0===n?void 0:n.name})]},e.id)})):(0,mn.jsx)("div",{className:"text-gray-500 text-xs font-mono p-3 text-center",children:"NO_OTHER_CALLBACKS_AVAILABLE"})})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-2",children:"CONNECTION_TYPE"}),(0,mn.jsxs)("div",{className:"flex gap-2",children:[(0,mn.jsxs)("button",{onClick:()=>{Z(!0),G(null)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 border text-xs font-mono transition-colors ".concat(X?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-gray-700 text-gray-500 hover:border-gray-500"),children:[(0,mn.jsx)(Az,{size:14}),(0,mn.jsx)("span",{children:"P2P"})]}),(0,mn.jsxs)("button",{onClick:()=>{Z(!1),G(null)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2.5 border text-xs font-mono transition-colors ".concat(X?"border-gray-700 text-gray-500 hover:border-gray-500":"border-purple-500 bg-purple-500/10 text-purple-400"),children:[(0,mn.jsx)(fT,{size:14}),(0,mn.jsx)("span",{children:"EGRESS"})]})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-2",children:X?"P2P_PROFILE":"C2_PROFILE"}),(0,mn.jsx)("div",{className:"grid gap-2 max-h-32 overflow-y-auto border border-gray-800 p-2 bg-black/30",children:X?(0,mn.jsxs)(mn.Fragment,{children:[null===f||void 0===f||null===(e=f.c2profile)||void 0===e?void 0:e.map((e=>(0,mn.jsxs)("button",{onClick:()=>G(e),className:"flex items-center gap-2 px-3 py-2 border text-left text-xs font-mono transition-colors ".concat((null===U||void 0===U?void 0:U.id)===e.id?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-gray-700 text-gray-400 hover:border-gray-500"),children:[(0,mn.jsx)(Az,{size:14}),(0,mn.jsx)("span",{children:e.name}),(0,mn.jsx)("span",{className:"ml-auto text-[10px] text-cyan-600 uppercase border border-cyan-800 px-1",children:"P2P"})]},e.id))),(!(null!==f&&void 0!==f&&f.c2profile)||0===f.c2profile.length)&&(0,mn.jsx)("div",{className:"text-gray-500 text-xs font-mono p-3 text-center",children:"NO_P2P_PROFILES_AVAILABLE"})]}):(0,mn.jsxs)(mn.Fragment,{children:[null===g||void 0===g||null===(t=g.c2profile)||void 0===t?void 0:t.filter((e=>!e.is_p2p)).map((e=>(0,mn.jsxs)("button",{onClick:()=>G(e),className:"flex items-center gap-2 px-3 py-2 border text-left text-xs font-mono transition-colors ".concat((null===U||void 0===U?void 0:U.id)===e.id?"border-purple-500 bg-purple-500/10 text-purple-400":"border-gray-700 text-gray-400 hover:border-gray-500"),children:[(0,mn.jsx)(fT,{size:14}),(0,mn.jsx)("span",{children:e.name}),(0,mn.jsx)("div",{className:"ml-auto flex items-center gap-1",children:e.running?(0,mn.jsx)("span",{className:"text-[10px] text-green-500 border border-green-800 px-1",children:"RUNNING"}):(0,mn.jsx)("span",{className:"text-[10px] text-red-500 border border-red-800 px-1",children:"STOPPED"})})]},e.id))),!(null!==g&&void 0!==g&&null!==(n=g.c2profile)&&void 0!==n&&null!==(r=n.filter((e=>!e.is_p2p)))&&void 0!==r&&r.length)&&(0,mn.jsx)("div",{className:"text-gray-500 text-xs font-mono p-3 text-center",children:"NO_EGRESS_PROFILES_AVAILABLE"})]})})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:["EDGE_LABEL ",(0,mn.jsx)("span",{className:"text-gray-600",children:"(optional)"})]}),(0,mn.jsx)("input",{type:"text",value:Y,onChange:e=>Q(e.target.value),placeholder:"e.g., SMB Link, Internal Pivot...",className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono text-xs placeholder:text-gray-600"})]}),q&&U&&(0,mn.jsxs)("div",{className:"p-3 border text-xs font-mono ".concat(X?"bg-cyan-900/20 border-cyan-500/30":"bg-purple-900/20 border-purple-500/30"),children:[(0,mn.jsxs)("div",{className:"mb-2 flex items-center gap-2 ".concat(X?"text-cyan-400":"text-purple-400"),children:[X?(0,mn.jsx)(Az,{size:12}):(0,mn.jsx)(fT,{size:12}),(0,mn.jsx)("span",{children:"LINK_SUMMARY"}),(0,mn.jsx)("span",{className:"text-[10px] px-1.5 py-0.5 border ".concat(X?"border-cyan-600 text-cyan-500":"border-purple-600 text-purple-500"),children:X?"P2P":"EGRESS"})]}),(0,mn.jsxs)("div",{className:"text-gray-300 flex items-center gap-2 flex-wrap",children:[(0,mn.jsxs)("span",{className:"text-signal font-bold",children:["#",W.display_id]}),(0,mn.jsxs)("span",{className:"text-gray-600",children:["(",W.host,")"]}),(0,mn.jsx)("span",{className:X?"text-cyan-500":"text-purple-500",children:"\u2192"}),(0,mn.jsx)("span",{className:"px-2 py-0.5 ".concat(X?"bg-cyan-900/50 text-cyan-400":"bg-purple-900/50 text-purple-400"),children:U.name}),(0,mn.jsx)("span",{className:X?"text-cyan-500":"text-purple-500",children:"\u2192"}),(0,mn.jsxs)("span",{className:"text-signal font-bold",children:["#",q.display_id]}),(0,mn.jsxs)("span",{className:"text-gray-600",children:["(",q.host,")"]})]}),Y&&(0,mn.jsxs)("div",{className:"mt-2 text-gray-500 italic",children:['Label: "',Y,'"']})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 pt-2",children:[(0,mn.jsx)("button",{onClick:()=>H(null),className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:async()=>{if(!W||!U||!q)return void sT.error("Please select a C2 profile and destination node");const e=W.isCustom,t=q.isCustom;if(Rz("[handleSetParent] isSourceCustom:",e,"isDestCustom:",t),Rz("[handleSetParent] setParentModal:",W),Rz("[handleSetParent] selectedDestination:",q),e){try{var n,r;Rz("[handleSetParent] Updating custom node parent connection..."),Rz("[handleSetParent] Source:",W.id,"db_id:",W.db_id),Rz("[handleSetParent] Destination:",q.id,"display_id:",q.display_id);const e=re.find((e=>e.id===W.id));if(!e)return console.error("[handleSetParent] Source node not found in customNodes:",W.id),console.error("[handleSetParent] Available custom nodes:",re.map((e=>e.id))),void sT.error("Source node not found");Rz("[handleSetParent] Found source node:",e);const{unique_id:o,data:i}=_z({id:e.db_id,hostname:e.host,ip_address:e.ip,operating_system:e.os,architecture:e.architecture,username:"N/A"!==e.user?e.user:void 0,description:e.description,hidden:e.isHidden,parent_id:t?q.db_id:q.display_id,parent_type:t?"custom":"callback",c2profile:U.name});Rz("[handleSetParent] Updating with parent_id:",t?q.db_id:q.display_id);(null===(n=(await Ne({variables:{unique_id:o,data:i}})).data)||void 0===n||null===(r=n.update_agentstorage)||void 0===r?void 0:r.affected_rows)>0?(sT.success("Linked to ".concat(t?"Custom Node":"Callback"," #").concat(q.display_id||q.db_id)),xe()):sT.error("Failed to update custom node connection")}catch(zQ){console.error("[handleSetParent] Error:",zQ),sT.error("Failed to link: "+zQ.message)}H(null)}else if(t){try{var o;Rz("[handleSetParent] Creating custom edge: callback \u2192 custom node"),Rz("[handleSetParent] Source (callback):",W.id,W.display_id),Rz("[handleSetParent] Destination (custom):",q.id,q.db_id);const e="callback-".concat(W.display_id,"-to-custom-").concat(q.db_id),t={id:e,source:String(W.id),target:q.id,sourceId:W.display_id,targetId:q.db_id,c2profile:U.name};Rz("[handleSetParent] Saving edge to database:",t);const n=ie.filter((e=>e.source===String(W.id)));Rz("[handleSetParent] Found",n.length,"existing edges to remove");for(const r of n)try{Rz("[handleSetParent] Deleting edge:",r.id,"unique_id:",vz(r.id)),await Ce({variables:{unique_id:vz(r.id)}})}catch(g){console.warn("[handleSetParent] Failed to delete edge:",r.id,g.message)}await new Promise((e=>setTimeout(e,100)));null!==(o=(await Se({variables:{unique_id:vz(e),data:(i=t,yz(JSON.stringify(i)))}})).data)&&void 0!==o&&o.insert_agentstorage_one?(sT.success("Linked to Custom Node #".concat(q.db_id," (persistent)")),await we()):sT.error("Failed to save connection")}catch(zQ){console.error("[handleSetParent] Error creating custom edge:",zQ),sT.error("Failed to link: "+zQ.message)}H(null)}else{var i;try{var s,a,l,u;if(null!==d&&void 0!==d&&d.callbackgraphedge){const e=d.callbackgraphedge.filter((e=>{var t;return(null===(t=e.source)||void 0===t?void 0:t.id)===W.id&&!e.end_timestamp}));for(const t of e)try{var h,f;var m;if("success"===(null===(h=(await k({variables:{edge_id:t.id}})).data)||void 0===h||null===(f=h.callbackgraphedge_remove)||void 0===f?void 0:f.status))sT.info("Removed existing link to Callback #".concat(null===(m=t.destination)||void 0===m?void 0:m.display_id))}catch(v){console.error("Failed to remove edge:",v)}}const e=await w({variables:{source_id:W.display_id,destination_id:q.display_id,c2profile:U.name}});"success"===(null===(s=e.data)||void 0===s||null===(a=s.callbackgraphedge_add)||void 0===a?void 0:a.status)?sT.success("Linked to Callback #".concat(q.display_id)):null!==(l=e.data)&&void 0!==l&&null!==(u=l.callbackgraphedge_add)&&void 0!==u&&u.error?sT.error("Failed to add edge: ".concat(e.data.callbackgraphedge_add.error)):sT.success("Linked to Callback #".concat(q.display_id)),c(),p(),H(null)}catch(zQ){sT.error("Failed to add edge: "+zQ.message)}}},disabled:!U||!q,className:"px-6 py-2 font-bold font-mono text-sm transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat(X?"bg-cyan-600 text-white hover:bg-cyan-500":"bg-purple-600 text-white hover:bg-purple-500"),children:"CREATE_LINK"})]})]})})}),(0,mn.jsx)(On,{children:B&&(0,mn.jsx)(rA,{title:B.isCustom?"CUSTOM_NODE_DETAILS":"CALLBACK_DETAILS",onClose:()=>V(null),icon:(0,mn.jsx)(OT,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4 p-3 bg-black/30 border border-gray-800",children:[(0,mn.jsx)("div",{className:"p-2 border ".concat(B.isCustom?"border-cyan-500 bg-cyan-500/10":B.integrity_level>2?"border-yellow-500 bg-yellow-500/10":"border-signal bg-signal/10"),children:(0,mn.jsx)(Wd,{size:20,className:B.isCustom?"text-cyan-500":B.integrity_level>2?"text-yellow-500":"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"text-lg font-bold text-white font-mono",children:[B.isCustom?"CUSTOM_NODE":"CALLBACK"," #",B.display_id,B.locked&&(0,mn.jsx)(KT,{size:14,className:"inline ml-2 text-red-500"})]}),(0,mn.jsx)("div",{className:"text-xs text-gray-500",children:B.host})]}),!B.isCustom&&B.integrity_level>2&&(0,mn.jsxs)("div",{className:"ml-auto flex items-center gap-1 px-2 py-1 bg-yellow-500/20 border border-yellow-500/50",children:[(0,mn.jsx)(bm,{size:12,className:"text-yellow-500"}),(0,mn.jsx)("span",{className:"text-xs font-bold text-yellow-500",children:"ADMIN"})]}),B.isCustom&&(0,mn.jsx)("div",{className:"ml-auto flex items-center gap-1 px-2 py-1 bg-cyan-500/20 border border-cyan-500/50",children:(0,mn.jsx)("span",{className:"text-xs font-bold text-cyan-400",children:"CUSTOM"})})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs font-mono",children:[(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"USER"}),(0,mn.jsx)("div",{className:"text-white",children:B.user})]}),!B.isCustom&&(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"DOMAIN"}),(0,mn.jsx)("div",{className:"text-white",children:B.domain||"N/A"})]}),(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"IP_ADDRESS"}),(0,mn.jsx)("div",{className:"text-white",children:B.ip})]}),!B.isCustom&&(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"PID"}),(0,mn.jsx)("div",{className:"text-white",children:B.pid})]}),(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"OS"}),(0,mn.jsx)("div",{className:"text-white",children:B.os})]}),(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"ARCHITECTURE"}),(0,mn.jsx)("div",{className:"text-white",children:B.architecture})]}),!B.isCustom&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"AGENT"}),(0,mn.jsx)("div",{className:"text-white uppercase",children:B.payloadType})]}),(0,mn.jsxs)("div",{className:"space-y-1",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"INTEGRITY"}),(0,mn.jsxs)("div",{className:B.integrity_level>2?"text-yellow-500":"text-white",children:["Level ",B.integrity_level]})]})]})]}),!B.isCustom&&B.sleep_info&&(0,mn.jsxs)("div",{className:"p-3 bg-black/30 border border-gray-800",children:[(0,mn.jsx)("div",{className:"text-xs font-mono text-gray-500 mb-1",children:"SLEEP_INFO"}),(0,mn.jsx)("div",{className:"text-sm font-mono text-signal",children:B.sleep_info})]}),(0,mn.jsxs)("div",{className:"p-3 bg-black/30 border border-gray-800",children:[(0,mn.jsx)("div",{className:"text-xs font-mono text-gray-500 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("div",{className:"text-sm text-gray-300 italic",children:B.description||"No description set"})]}),B.isCustom&&(0,mn.jsx)("button",{onClick:()=>{Te(B),V(null)},className:"w-full px-4 py-2 bg-cyan-500/20 border border-cyan-500/50 text-cyan-400 hover:bg-cyan-500/30 font-mono text-sm transition-colors",children:"EDIT_NODE"}),(0,mn.jsx)("div",{className:"flex justify-end",children:(0,mn.jsx)("button",{onClick:()=>V(null),className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white transition-colors",children:"CLOSE"})})]})})})]})}const Uz=n.p+"static/media/loading.288893f8695749138c41.m4a",Gz=e=>{let{lastCheckin:t}=e;const n=a.useCallback((()=>{if(!t)return{text:"NEVER",color:"text-gray-500"};try{const e=t.endsWith("Z")?t:"".concat(t,"Z"),n=new Date(e).getTime(),r=(new Date).getTime(),o=Math.floor((r-n)/1e3);let i="text-green-500";o>60&&(i="text-yellow-500"),o>300&&(i="text-red-500");let s="".concat(o,"s ago");return o<0?s="0s ago":o>=86400?s="".concat(Math.floor(o/86400),"d ago"):o>=3600?s="".concat(Math.floor(o/3600),"h ago"):o>=60&&(s="".concat(Math.floor(o/60),"m ago")),{text:s,color:i}}catch(zQ){return{text:"ERROR",color:"text-red-500"}}}),[t]),[r,o]=(0,a.useState)(n());return a.useEffect((()=>{o(n());const e=setInterval((()=>{o(n())}),1e3);return()=>clearInterval(e)}),[n]),(0,mn.jsx)("span",{className:r.color,children:r.text})};function qz(){var e,t;const{isSidebarCollapsed:n}=Zg();a.useEffect((()=>{const e=new Audio(Uz);e.volume=.5,e.play().catch((e=>console.error("Loading sound play failed:",e)))}),[]);const{data:r,loading:o,error:i,refetch:s}=Jf(Qy,{pollInterval:5e3}),l=fe(),[c]=UT(Jy),[d]=UT(ex),[u]=UT(tx),[h,p]=(0,a.useState)(null),[f,m]=(0,a.useState)({top:0,left:0}),[g,v]=(0,a.useState)(null),[y,x]=(0,a.useState)(""),[b,w]=(0,a.useState)(!1);a.useEffect((()=>{const e=()=>p(null);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[]);const k=[{header:"ID",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:!1===e.active?"text-gray-600":"text-gray-400",children:["#",e.display_id]}),e.locked&&(0,mn.jsx)(KT,{size:12,className:"text-red-500"}),!1===e.active&&(0,mn.jsx)(YT,{size:12,className:"text-yellow-500",title:"Hidden"})]})},{header:"USER",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(QT,{size:14,className:"text-gray-400"}),(0,mn.jsx)("span",{className:e.integrity_level>2?"text-yellow-500 font-bold":"text-signal",children:e.user}),e.integrity_level>2&&(0,mn.jsx)(bm,{size:12,className:"text-yellow-500"})]})},{header:"HOST",accessorKey:"host"},{header:"IP",cell:e=>{try{const t=JSON.parse(e.ip);return t.length>0?t[0]:"UNKNOWN"}catch(zQ){return e.ip||"UNKNOWN"}}},{header:"OS",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,mn.jsx)(XT,{size:14,className:"text-gray-400"}),(0,mn.jsxs)("span",{children:[e.os," (",e.architecture,")"]})]})},{header:"PID",accessorKey:"pid",className:"font-mono text-gray-400"},{header:"LAST CHECKIN",cell:e=>(0,mn.jsx)(Gz,{lastCheckin:e.last_checkin})},{header:"DESCRIPTION",cell:e=>(0,mn.jsx)("span",{className:"text-xs text-gray-500 italic truncate max-w-[150px] block",title:e.description,children:e.description||"No description"})},{header:"AGENT",cell:e=>{var t,n;return(0,mn.jsx)("span",{className:"uppercase text-xs border border-ghost/30 px-2 py-0.5 rounded",children:null===(t=e.payload)||void 0===t||null===(n=t.payloadtype)||void 0===n?void 0:n.name})}},{header:"",className:"w-10",cell:e=>(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();m({top:n.bottom+5,left:n.right-160}),p(h===t?null:t)})(t,e.id),className:"p-1 hover:text-signal text-gray-500 transition-colors",children:(0,mn.jsx)(ZT,{size:16})}),h===e.id&&(0,sj.createPortal)((0,mn.jsx)("div",{className:"fixed z-50 bg-black border border-signal/30 shadow-lg shadow-signal/10 w-48 backdrop-blur-md",style:{top:f.top,left:f.left},onClick:e=>e.stopPropagation(),children:(0,mn.jsxs)("div",{className:"p-1 flex flex-col",children:[(0,mn.jsxs)("button",{onClick:()=>{return v(t=e),x(t.description||""),void p(null);var t},className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[(0,mn.jsx)(JT,{size:14})," Edit Description"]}),(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{await d({variables:{callback_display_id:e.display_id,locked:!e.locked}}),sT.success("Callback ".concat(e.display_id," ").concat(e.locked?"unlocked":"locked")),s()}catch(zQ){sT.error("Failed to toggle lock: "+zQ.message)}p(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[e.locked?(0,mn.jsx)(eA,{size:14}):(0,mn.jsx)(KT,{size:14}),e.locked?"Unlock Callback":"Lock Callback"]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),!1===e.active?(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{await c({variables:{callback_display_id:e.display_id,active:!0}}),sT.success("Callback ".concat(e.display_id," restored")),s()}catch(zQ){sT.error("Failed to show callback: "+zQ.message)}p(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-green-900/30 text-xs text-left text-green-400 hover:text-green-300 transition-colors",children:[(0,mn.jsx)(NT,{size:14})," Show Callback"]}):(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{await c({variables:{callback_display_id:e.display_id,active:!1}}),sT.success("Callback ".concat(e.display_id," hidden")),s()}catch(zQ){sT.error("Failed to hide callback: "+zQ.message)}p(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-red-900/30 text-xs text-left text-red-400 hover:text-red-300 transition-colors",children:[(0,mn.jsx)(YT,{size:14})," Hide Callback"]})]})}),document.body)]})}];return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)("div",{className:Wx("transition-all duration-300 p-6 lg:p-12 h-screen flex flex-col overflow-hidden",n?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(um,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"ACTIVE CALLBACKS"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/agents/list"})]})]}),(0,mn.jsxs)("div",{className:"flex gap-6 text-xs font-mono items-center",children:[(0,mn.jsxs)("div",{className:"text-right border-l border-ghost/20 pl-6",children:[(0,mn.jsx)("div",{className:"text-gray-400",children:"TOTAL_AGENTS"}),(0,mn.jsx)("div",{className:"text-xl text-signal",children:(null===r||void 0===r||null===(e=r.callback)||void 0===e?void 0:e.length)||0})]}),(0,mn.jsxs)("div",{className:"text-right",children:[(0,mn.jsx)("div",{className:"text-gray-400",children:"HIGH_INTEGRITY"}),(0,mn.jsx)("div",{className:"text-xl text-yellow-500",children:(null===r||void 0===r||null===(t=r.callback)||void 0===t?void 0:t.filter((e=>e.integrity_level>2)).length)||0})]})]})]}),(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"flex-1 h-full min-h-0 flex flex-col gap-6",children:[(0,mn.jsxs)("div",{className:"h-[60%] min-h-[400px] border-b border-ghost/20 pb-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-xs font-mono text-gray-400",children:[(0,mn.jsx)(fT,{size:14,className:"text-signal"}),(0,mn.jsx)("span",{children:"NETWORK_TOPOLOGY"})]}),(0,mn.jsx)(Hz,{})]}),(0,mn.jsxs)("div",{className:"flex-1 min-h-0 overflow-auto",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs font-mono text-gray-400",children:[(0,mn.jsx)(tA,{size:14,className:"text-signal"}),(0,mn.jsx)("span",{children:"AGENT_LIST"}),b&&(0,mn.jsx)("span",{className:"px-2 py-0.5 bg-yellow-500/20 text-yellow-500 text-[10px] rounded",children:"SHOWING HIDDEN"})]}),(0,mn.jsxs)("button",{onClick:()=>w(!b),className:Wx("flex items-center gap-1.5 px-2 py-1 text-xs font-mono transition-colors rounded",b?"bg-yellow-500/20 text-yellow-500 hover:bg-yellow-500/30":"text-gray-500 hover:text-gray-300 hover:bg-white/5"),title:b?"Hide inactive callbacks":"Show hidden callbacks",children:[b?(0,mn.jsx)(NT,{size:12}):(0,mn.jsx)(YT,{size:12}),(0,mn.jsx)("span",{children:b?"HIDE_INACTIVE":"SHOW_HIDDEN"})]})]}),(0,mn.jsx)(qT,{data:((null===r||void 0===r?void 0:r.callback)||[]).filter((e=>b||!1!==e.active)),columns:k,isLoading:o,onRowClick:e=>{l("/console/".concat(e.display_id))}})]})]})]}),(0,mn.jsx)(On,{children:g&&(0,mn.jsx)(rA,{title:"EDIT_DESCRIPTION",onClose:()=>v(null),icon:(0,mn.jsx)(JT,{}),children:(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",autoFocus:!0})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mn.jsx)("button",{onClick:()=>v(null),className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:async()=>{if(g)try{await u({variables:{callback_display_id:g.display_id,description:y}}),sT.success("Description updated"),s(),v(null)}catch(zQ){sT.error("Failed to update description: "+zQ.message)}},className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white transition-colors",children:"SAVE"})]})]})})})]})}var Kz=["refetch","reobserve","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore"];function Yz(e,t){var n,r=Hd.useRef(void 0),o=Hd.useRef(void 0),i=Hd.useRef(void 0),s=Hu(t,r.current||{}),a=null!==(n=null===s||void 0===s?void 0:s.query)&&void 0!==n?n:e;o.current=t,i.current=a;var l=Kd(Kd({},s),{skip:!r.current}),c=tm(a,l),d=c.obsQueryFields,u=c.result,h=c.client,p=c.resultData,f=c.observable,m=c.onQueryExecuted,g=f.options.initialFetchPolicy||sm(l.defaultOptions,h.defaultOptions),v=Hd.useReducer((function(e){return e+1}),0)[1],y=Hd.useMemo((function(){for(var e={},t=function(t){var n=d[t];e[t]=function(){return r.current||(r.current=Object.create(null),v()),n.apply(this,arguments)}},n=0,o=Kz;n<o.length;n++){t(o[n])}return e}),[v,d]),x=!!r.current,b=Hd.useMemo((function(){return Kd(Kd(Kd({},u),y),{called:x})}),[u,y,x]),w=Hd.useCallback((function(e){r.current=e?Kd(Kd({},e),{fetchPolicy:e.fetchPolicy||g}):{fetchPolicy:g};var t=Hu(o.current,Kd({query:i.current},r.current)),n=function(e,t,n,r,o,i){var s=o.query||r,a=nm(n,s,o,!1)(t),l=t.reobserveAsConcast(rm(t,n,o,a));return i(a),new Promise((function(r){var o;l.subscribe({next:function(e){o=e},error:function(){r(lm(t.getCurrentResult(),e.previousData,t,n))},complete:function(){r(lm(t.maskResult(o),e.previousData,t,n))}})}))}(p,f,h,a,Kd(Kd({},t),{skip:!1}),m).then((function(e){return Object.assign(e,y)}));return n.catch((function(){})),n}),[h,a,y,g,f,p,m]),k=Hd.useRef(w);AT((function(){k.current=w}));var N=Hd.useCallback((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k.current.apply(k,e)}),[]);return[N,b]}const Qz=zd("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Xz=zd("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),Zz=zd("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]),Jz=zd("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),eF=zd("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]),tF=zd("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),nF=zd("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),rF=zd("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var oF,iF,sF;const aF=Kv(oF||(oF=Jg(["\n    query GetMythicDownloads {\n        filemeta(\n            where: {\n                is_download_from_agent: { _eq: true },\n                is_screenshot: { _eq: false },\n                deleted: { _eq: false }\n            },\n            order_by: { id: desc },\n            limit: 100\n        ) {\n            id\n            agent_file_id\n            filename_text\n            full_remote_path_text\n            host\n            size\n            complete\n            deleted\n            md5\n            sha1\n            timestamp\n            comment\n            chunks_received\n            total_chunks\n            operator { username }\n            task {\n                display_id\n                callback { display_id }\n            }\n        }\n    }\n"]))),lF=Kv(iF||(iF=Jg(["\n    query GetMythicUploads {\n        filemeta(\n            where: {\n                is_download_from_agent: { _eq: false },\n                is_screenshot: { _eq: false },\n                is_payload: { _eq: false },\n                deleted: { _eq: false }\n            },\n            order_by: { id: desc },\n            limit: 100\n        ) {\n            id\n            agent_file_id\n            filename_text\n            full_remote_path_text\n            host\n            size\n            complete\n            deleted\n            md5\n            sha1\n            timestamp\n            comment\n            chunks_received\n            total_chunks\n            operator { username }\n            task {\n                display_id\n                callback { display_id }\n            }\n        }\n    }\n"]))),cF=Kv(sF||(sF=Jg(["\n    query GetMythicScreenshots {\n        filemeta(\n            where: {\n                is_screenshot: { _eq: true },\n                deleted: { _eq: false }\n            },\n            order_by: { id: desc },\n            limit: 50\n        ) {\n            id\n            agent_file_id\n            filename_text\n            host\n            size\n            complete\n            timestamp\n            task {\n                display_id\n                callback { display_id }\n            }\n        }\n    }\n"]))),dF=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]},uF=e=>{if(!e)return"";try{const t=window.atob(e);try{const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return new TextDecoder("utf-8").decode(e)}catch(FQ){return t}}catch(t){return e}},hF=e=>{if(!e||0===e.length)return[];const t=new Map;return e.forEach((e=>{const n=e.full_path_text;t.has(n)||t.set(n,e)})),Array.from(t.values())},pF=e=>{try{return JSON.parse(e.metadata)}catch(t){return{}}},fF=e=>{let{node:t,host:n,selectedPath:r,onSelect:o,level:i=0}=e;const[s,l]=(0,a.useState)(!1),[c,{data:d,loading:u}]=Yz(Ix,{variables:{parent_path_text:t.full_path_text,host:n}}),h=t.full_path_text===r,p=t.can_have_children;return(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:Wx("flex items-center gap-1 py-1 px-2 cursor-pointer hover:bg-white/5 transition-colors select-none text-xs truncate",h&&"bg-signal/20 text-signal"),style:{paddingLeft:"".concat(12*i+4,"px")},onClick:()=>{o(t)},children:[p?(0,mn.jsx)("div",{onClick:e=>{e.stopPropagation(),s||c(),l(!s)},className:"p-0.5 hover:text-signal",children:s?(0,mn.jsx)(Qz,{size:14}):(0,mn.jsx)(wT,{size:14})}):(0,mn.jsx)("span",{className:"w-[14px]"}),p?s?(0,mn.jsx)(Xz,{size:14,className:"text-yellow-500"}):(0,mn.jsx)(pT,{size:14,className:"text-yellow-500"}):(0,mn.jsx)(Zz,{size:14,className:"text-blue-400"}),(0,mn.jsx)("span",{className:"ml-1",children:t.name_text||(0===i?"ROOT":"")})]}),s&&(0,mn.jsx)("div",{className:"border-l border-white/10 ml-2",children:u?(0,mn.jsx)("div",{className:"pl-4 py-1 text-[10px] text-gray-500",children:"LOADING..."}):hF((null===d||void 0===d?void 0:d.children)||[]).map((e=>e.can_have_children&&(0,mn.jsx)(fF,{node:e,host:n,selectedPath:r,onSelect:o,level:i+1},e.full_path_text)))})]})},mF=e=>{let{host:t,callbackId:n}=e;const[r,o]=(0,a.useState)("callback"),[i,s]=(0,a.useState)("downloads");return(0,mn.jsxs)("div",{className:"flex flex-col h-full border border-ghost/30 bg-void rounded overflow-hidden",children:[(0,mn.jsxs)("div",{className:"flex border-b border-ghost/30 bg-black/30",children:[(0,mn.jsxs)("button",{onClick:()=>o("callback"),className:Wx("flex items-center gap-2 px-4 py-2 text-xs font-mono transition-colors border-b-2","callback"===r?"text-signal border-signal bg-white/5":"text-gray-400 border-transparent hover:text-white hover:bg-white/5"),children:[(0,mn.jsx)(Cz,{size:14}),"CALLBACK_FILES"]}),(0,mn.jsxs)("button",{onClick:()=>o("mythic"),className:Wx("flex items-center gap-2 px-4 py-2 text-xs font-mono transition-colors border-b-2","mythic"===r?"text-signal border-signal bg-white/5":"text-gray-400 border-transparent hover:text-white hover:bg-white/5"),children:[(0,mn.jsx)(mm,{size:14}),"MYTHIC_C2_FILES"]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-hidden",children:"callback"===r?(0,mn.jsx)(gF,{host:t,callbackId:n}):(0,mn.jsx)(vF,{subTab:i,setSubTab:s})})]})},gF=e=>{let{host:t,callbackId:n}=e;const[r]=UT(fx),[o,i]=(0,a.useState)(""),[s,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(0),{data:u,loading:h}=Jf(Ox,{variables:{host:t}}),[p,{data:f,loading:m,refetch:g}]=Yz(Ix,{fetchPolicy:"network-only"});(0,a.useEffect)((()=>{s&&(p({variables:{parent_path_text:s.full_path_text,host:t}}),i(s.full_path_text))}),[s,c,t]);const v=[{header:"Name",accessorKey:"name_text",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[e.can_have_children?(0,mn.jsx)(pT,{size:14,className:"text-yellow-500"}):(0,mn.jsx)(Zz,{size:14,className:"text-blue-400"}),(0,mn.jsx)("span",{children:e.name_text})]})},{header:"Size",cell:e=>{const t=pF(e).size||0;return(0,mn.jsx)("span",{className:"font-mono text-xs opacity-70",children:dF(t)})}},{header:"Modified",cell:e=>{const t=pF(e);return(0,mn.jsx)("span",{className:"font-mono text-xs opacity-70",children:t.modify_time||"-"})}},{header:"",cell:e=>(0,mn.jsx)("div",{className:"flex justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,mn.jsx)("button",{onClick:t=>{t.stopPropagation(),(e=>{r({variables:{callback_id:n,command:"download",params:e.full_path_text}}).then((()=>{sT.info("Tasked download for ".concat(e.name_text))})).catch((e=>{sT.error("Download task failed: "+e.message)}))})(e)},className:"p-1 hover:bg-white/10 rounded text-blue-400 hover:text-white",title:"Download",children:(0,mn.jsx)(vm,{size:14})})})}],y=s?f&&f.children?f.children:[]:u&&u.mythictree?u.mythictree:[],x=hF(y),b=s?m:h;return(0,mn.jsxs)("div",{className:"flex h-full overflow-hidden",children:[(0,mn.jsxs)("div",{className:"w-56 border-r border-ghost/30 bg-black/20 flex flex-col",children:[(0,mn.jsxs)("div",{className:"p-2 border-b border-ghost/30 font-mono text-[10px] flex items-center gap-2 text-gray-400",children:[(0,mn.jsx)(Jz,{size:12,className:"text-signal"}),(0,mn.jsx)("span",{className:"truncate",title:t,children:t})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto p-1 scrollbar-thin scrollbar-thumb-ghost/30",children:h?(0,mn.jsx)("div",{className:"text-center p-4 text-xs text-gray-500",children:"LOADING..."}):hF((null===u||void 0===u?void 0:u.mythictree)||[]).map((e=>(0,mn.jsx)(fF,{node:e,host:t,selectedPath:o,onSelect:l},e.full_path_text)))})]}),(0,mn.jsxs)("div",{className:"flex-1 flex flex-col bg-black/10",children:[(0,mn.jsxs)("div",{className:"h-9 border-b border-ghost/30 flex items-center px-3 gap-3 bg-white/5",children:[(0,mn.jsx)("button",{onClick:()=>l(null),className:"p-1 hover:bg-white/10 rounded transition-colors text-gray-400 hover:text-white",title:"Home",children:(0,mn.jsx)(eF,{size:14})}),(0,mn.jsx)("div",{className:"flex-1 font-mono text-[10px] truncate px-2 py-1 bg-black/30 rounded text-gray-300",children:o||"/"}),(0,mn.jsx)("button",{onClick:()=>{d((e=>e+1)),g(),s&&r({variables:{callback_id:n,command:"ls",params:s.full_path_text||"."}}).then((()=>{sT.info("Tasked 'ls'")})).catch((e=>{sT.error("Failed to task 'ls': "+e.message)}))},className:"p-1 hover:bg-white/10 rounded transition-colors text-signal hover:text-white",title:"Refresh & LS",children:(0,mn.jsx)(Fd,{size:14})})]}),(0,mn.jsxs)("div",{className:"flex-1 overflow-auto bg-void relative",children:[(0,mn.jsx)(qT,{data:x,columns:v,onRowClick:e=>{e.can_have_children&&l(e)},isLoading:b}),!b&&0===x.length&&(0,mn.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-600 font-mono text-xs pointer-events-none",children:[(0,mn.jsx)(pT,{size:32,className:"mb-2 opacity-30"}),(0,mn.jsx)("span",{children:"NO_FILE_DATA"}),(0,mn.jsx)("span",{className:"text-[10px] mt-1 text-gray-500",children:"Execute 'ls' to browse files"})]})]})]})]})},vF=e=>{let{subTab:t,setSubTab:n}=e;const[r,o]=(0,a.useState)(null),{data:i,loading:s,refetch:l}=Jf(aF,{skip:"downloads"!==t,pollInterval:15e3}),{data:c,loading:d,refetch:u}=Jf(lF,{skip:"uploads"!==t,pollInterval:15e3}),{data:h,loading:p,refetch:f}=Jf(cF,{skip:"screenshots"!==t,pollInterval:15e3}),{data:m,loading:g}="downloads"===t?{data:(null===i||void 0===i?void 0:i.filemeta)||[],loading:s}:"uploads"===t?{data:(null===c||void 0===c?void 0:c.filemeta)||[],loading:d}:{data:(null===h||void 0===h?void 0:h.filemeta)||[],loading:p};return(0,mn.jsxs)("div",{className:"flex flex-col h-full relative",children:[(0,mn.jsxs)("div",{className:"flex items-center border-b border-ghost/30 bg-black/20 px-2",children:[(0,mn.jsxs)("button",{onClick:()=>n("downloads"),className:Wx("flex items-center gap-1.5 px-3 py-2 text-[10px] font-mono transition-colors","downloads"===t?"text-blue-400 border-b border-blue-400":"text-gray-500 hover:text-white"),children:[(0,mn.jsx)(vm,{size:12}),"DOWNLOADS"]}),(0,mn.jsxs)("button",{onClick:()=>n("uploads"),className:Wx("flex items-center gap-1.5 px-3 py-2 text-[10px] font-mono transition-colors","uploads"===t?"text-green-400 border-b border-green-400":"text-gray-500 hover:text-white"),children:[(0,mn.jsx)(ym,{size:12}),"UPLOADS"]}),(0,mn.jsxs)("button",{onClick:()=>n("screenshots"),className:Wx("flex items-center gap-1.5 px-3 py-2 text-[10px] font-mono transition-colors","screenshots"===t?"text-purple-400 border-b border-purple-400":"text-gray-500 hover:text-white"),children:[(0,mn.jsx)(xm,{size:12}),"SCREENSHOTS"]}),(0,mn.jsx)("div",{className:"flex-1"}),(0,mn.jsx)("button",{onClick:()=>{"downloads"===t?l():"uploads"===t?u():f()},className:"p-1.5 hover:bg-white/10 rounded transition-colors text-gray-400 hover:text-white",title:"Refresh",children:(0,mn.jsx)(Fd,{size:12})})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto",children:g?(0,mn.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500 font-mono text-xs",children:"LOADING_FILES..."}):0===m.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-full text-gray-600 font-mono text-xs",children:[(0,mn.jsx)(vT,{size:32,className:"mb-2 opacity-30"}),(0,mn.jsxs)("span",{children:["NO_",t.toUpperCase(),"_FOUND"]})]}):"screenshots"===t?(0,mn.jsx)(xF,{files:m,onPreview:o}):(0,mn.jsx)(yF,{files:m,type:t,onPreview:o})}),(0,mn.jsx)(On,{children:r&&(0,mn.jsx)(bF,{file:r,onClose:()=>o(null)})})]})},yF=e=>{let{files:t,type:n,onPreview:r}=e;return(0,mn.jsx)("div",{className:"divide-y divide-white/5",children:t.map((e=>(0,mn.jsxs)("div",{className:"flex items-center gap-3 px-3 py-2 hover:bg-white/5 transition-colors group",children:[(0,mn.jsx)("div",{className:Wx("p-2 rounded","downloads"===n?"bg-blue-500/10 text-blue-400":"bg-green-500/10 text-green-400"),children:"downloads"===n?(0,mn.jsx)(vm,{size:14}):(0,mn.jsx)(ym,{size:14})}),(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-xs font-mono text-white truncate",title:uF(e.filename_text),children:uF(e.filename_text)||"unnamed"}),!e.complete&&(0,mn.jsxs)("span",{className:"text-[9px] px-1.5 py-0.5 bg-yellow-500/20 text-yellow-400 rounded",children:[Math.round(e.chunks_received/e.total_chunks*100),"%"]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 mt-0.5",children:[e.host&&(0,mn.jsxs)("span",{className:"flex items-center gap-1",children:[(0,mn.jsx)(Cz,{size:10}),e.host]}),(0,mn.jsxs)("span",{className:"flex items-center gap-1",children:[(0,mn.jsx)(Jz,{size:10}),dF(e.size)]}),e.task&&(0,mn.jsxs)("span",{className:"flex items-center gap-1",children:[(0,mn.jsx)(tF,{size:10}),"Task #",e.task.display_id]}),(0,mn.jsxs)("span",{className:"flex items-center gap-1",children:[(0,mn.jsx)(km,{size:10}),new Date(e.timestamp).toLocaleString()]})]}),e.full_remote_path_text&&(0,mn.jsx)("div",{className:"text-[9px] text-gray-600 truncate mt-0.5",title:uF(e.full_remote_path_text),children:uF(e.full_remote_path_text)})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.complete&&(0,mn.jsx)("button",{onClick:()=>(e=>{e.agent_file_id&&window.open("/direct/download/".concat(e.agent_file_id),"_blank")})(e),className:"p-1.5 hover:bg-white/10 rounded text-blue-400 hover:text-white",title:"Download from Mythic",children:(0,mn.jsx)(vm,{size:14})}),(0,mn.jsx)("button",{onClick:()=>r(e),className:"p-1.5 hover:bg-white/10 rounded text-gray-400 hover:text-white",title:"View Details",children:(0,mn.jsx)(NT,{size:14})})]})]},e.id)))})},xF=e=>{let{files:t,onPreview:n}=e;return(0,mn.jsx)("div",{className:"grid grid-cols-3 gap-2 p-2",children:t.map((e=>(0,mn.jsxs)("div",{onClick:()=>n(e),className:"relative aspect-video bg-black/40 rounded border border-ghost/30 overflow-hidden group cursor-pointer hover:border-purple-500/50 transition-colors",children:[(0,mn.jsx)("img",{src:"/direct/download/".concat(e.agent_file_id),alt:uF(e.filename_text),className:"w-full h-full object-cover",loading:"lazy"}),(0,mn.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,mn.jsx)(NT,{size:24,className:"text-white"})}),(0,mn.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 px-2 py-1 bg-black/80 text-[9px] font-mono",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-1 text-gray-400 truncate",children:[(0,mn.jsx)(Cz,{size:10}),e.host]}),(0,mn.jsx)("div",{className:"text-gray-500 truncate",children:new Date(e.timestamp).toLocaleString()})]})]},e.id)))})},bF=e=>{let{file:t,onClose:n}=e;const r=e=>{navigator.clipboard.writeText(e),sT.success("Copied to clipboard")},o=t.is_screenshot;return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-white/20 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(vT,{size:20,className:"text-signal"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"font-mono text-sm text-white",children:uF(t.filename_text)||"Unnamed File"}),(0,mn.jsx)("p",{className:"text-[10px] text-gray-500",children:t.agent_file_id})]})]}),(0,mn.jsx)("button",{onClick:n,className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(nF,{size:20,className:"text-gray-400"})})]}),o&&(0,mn.jsx)("div",{className:"p-4 bg-black/40",children:(0,mn.jsx)("img",{src:"/direct/download/".concat(t.agent_file_id),alt:uF(t.filename_text),className:"max-w-full rounded border border-white/10"})}),(0,mn.jsxs)("div",{className:"p-4 space-y-3",children:[(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"HOST"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:t.host||"-"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"SIZE"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:dF(t.size)})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"TIMESTAMP"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:new Date(t.timestamp).toLocaleString()})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"STATUS"}),(0,mn.jsx)("p",{className:t.complete?"text-green-400":"text-yellow-400",children:t.complete?"Complete":"".concat(t.chunks_received,"/").concat(t.total_chunks," chunks")})]}),t.md5&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"MD5"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("p",{className:"text-white font-mono text-[10px] break-all",children:t.md5}),(0,mn.jsx)("button",{onClick:()=>r(t.md5),className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(rF,{size:10,className:"text-gray-400"})})]})]}),t.sha1&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"SHA1"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("p",{className:"text-white font-mono text-[10px] break-all",children:t.sha1}),(0,mn.jsx)("button",{onClick:()=>r(t.sha1),className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(rF,{size:10,className:"text-gray-400"})})]})]}),t.full_remote_path_text&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"REMOTE PATH"}),(0,mn.jsx)("p",{className:"text-white font-mono text-[10px] break-all",children:uF(t.full_remote_path_text)})]}),t.comment&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"COMMENT"}),(0,mn.jsx)("p",{className:"text-gray-300 text-sm",children:t.comment})]})]}),(0,mn.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-white/10",children:[t.complete&&(0,mn.jsxs)("a",{href:"/direct/download/".concat(t.agent_file_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded text-xs hover:bg-blue-500/30 transition-colors",children:[(0,mn.jsx)(vm,{size:14}),"Download"]}),(0,mn.jsxs)("button",{onClick:()=>r(t.agent_file_id),className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white border border-white/20 rounded text-xs hover:bg-white/20 transition-colors",children:[(0,mn.jsx)(rF,{size:14}),"Copy File ID"]})]})]})]})})},wF=zd("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),kF=zd("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),NF=zd("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),_F=zd("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),SF=zd("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var CF,jF,EF;const TF=Kv(CF||(CF=Jg(["\n    query GetMythicFiles {\n        downloads: filemeta(\n            where: {\n                is_download_from_agent: { _eq: true },\n                is_screenshot: { _eq: false },\n                deleted: { _eq: false }\n            },\n            order_by: { id: desc },\n            limit: 200\n        ) {\n            id\n            agent_file_id\n            filename_text\n            full_remote_path_text\n            host\n            size\n            complete\n            deleted\n            md5\n            sha1\n            timestamp\n            comment\n            chunks_received\n            total_chunks\n            operator { username }\n            task { display_id callback { display_id } }\n        }\n        uploads: filemeta(\n            where: {\n                is_download_from_agent: { _eq: false },\n                is_screenshot: { _eq: false },\n                is_payload: { _eq: false },\n                deleted: { _eq: false }\n            },\n            order_by: { id: desc },\n            limit: 200\n        ) {\n            id\n            agent_file_id\n            filename_text\n            full_remote_path_text\n            host\n            size\n            complete\n            deleted\n            md5\n            sha1\n            timestamp\n            comment\n            chunks_received\n            total_chunks\n            operator { username }\n            task { display_id callback { display_id } }\n        }\n        screenshots: filemeta(\n            where: {\n                is_screenshot: { _eq: true },\n                deleted: { _eq: false }\n            },\n            order_by: { id: desc },\n            limit: 100\n        ) {\n            id\n            agent_file_id\n            filename_text\n            host\n            size\n            complete\n            timestamp\n            task { display_id callback { display_id } }\n        }\n    }\n"]))),AF=Kv(jF||(jF=Jg(["\n    mutation DeleteFile($file_id: Int!) {\n        deleteFile(file_id: $file_id) {\n            status\n            error\n            file_ids\n        }\n    }\n"]))),MF=Kv(EF||(EF=Jg(["\n    mutation DownloadBulk($files: [String!]!) {\n        download_bulk(files: $files) {\n            status\n            error\n            file_id\n        }\n    }\n"]))),RF=e=>{if(!e)return"";try{const t=window.atob(e);try{const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return new TextDecoder("utf-8").decode(e)}catch(FQ){return t}}catch(t){return e}},OF=e=>{if(0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]},IF=e=>{const t=new Date,n=new Date(e),r=t.getTime()-n.getTime(),o=Math.floor(r/6e4),i=Math.floor(r/36e5),s=Math.floor(r/864e5);return o<1?"Just now":o<60?"".concat(o,"m ago"):i<24?"".concat(i,"h ago"):"".concat(s,"d ago")},LF=async(e,t)=>{const n=new FormData;n.append("file",e),n.append("comment",t);try{const e=await fetch("/api/v1.4/task_upload_file_webhook",{method:"POST",body:n,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}}),t=await e.json();return(null===t||void 0===t?void 0:t.agent_file_id)||null}catch(r){return console.error("Upload error:",r),null}};function DF(){const{isSidebarCollapsed:e}=Zg(),[t,n]=(0,a.useState)(null),[r,o]=(0,a.useState)("machines"),[i,s]=(0,a.useState)(new Set),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(null),h=(0,a.useRef)(null),{data:p,loading:f}=Jf(Qy,{variables:{limit:100,offset:0},pollInterval:1e4}),{data:m,loading:g,refetch:v}=Jf(TF,{pollInterval:15e3}),[y]=UT(AF,{onCompleted:e=>{"success"===e.deleteFile.status?(sT.success("File deleted"),v()):sT.error(e.deleteFile.error)}}),[x]=UT(MF,{onCompleted:e=>{"success"===e.download_bulk.status?(sT.success("Bulk download ready"),window.open("/direct/download/".concat(e.download_bulk.file_id),"_blank")):sT.error(e.download_bulk.error)}}),b=(null===p||void 0===p?void 0:p.callback)||[],w=(null===m||void 0===m?void 0:m.downloads)||[],k=(null===m||void 0===m?void 0:m.uploads)||[],N=(null===m||void 0===m?void 0:m.screenshots)||[],_=(0,a.useMemo)((()=>{const e=new Map;return b.forEach((t=>{const n=t.host||"UNKNOWN";e.has(n)||e.set(n,{host:n,callbacks:[],activeCount:0,lastCheckin:t.last_checkin,users:[],primaryCallback:t});const r=e.get(n);r.callbacks.push(t);new Date(t.last_checkin)>new Date(Date.now()-3e5)&&r.activeCount++,t.user&&!r.users.includes(t.user)&&r.users.push(t.user),new Date(t.last_checkin)>new Date(r.lastCheckin)&&(r.lastCheckin=t.last_checkin,r.primaryCallback=t)})),Array.from(e.values()).sort(((e,t)=>new Date(t.lastCheckin).getTime()-new Date(e.lastCheckin).getTime()))}),[b]),S=e=>new Date(e)>new Date(Date.now()-3e5),C=e=>{if(!l)return e;const t=l.toLowerCase();return e.filter((e=>{var n,r,o;return(null===(n=RF(e.filename_text))||void 0===n?void 0:n.toLowerCase().includes(t))||(null===(r=e.host)||void 0===r?void 0:r.toLowerCase().includes(t))||(null===(o=RF(e.full_remote_path_text))||void 0===o?void 0:o.toLowerCase().includes(t))}))},j=e=>{navigator.clipboard.writeText(e),sT.success("Copied to clipboard")},E=()=>{switch(r){case"downloads":return C(w);case"uploads":return C(k);case"screenshots":return C(N);default:return[]}};return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void overflow-hidden",children:[(0,mn.jsx)(VT,{}),(0,mn.jsx)("input",{ref:h,type:"file",multiple:!0,className:"hidden",onChange:async e=>{const t=e.target.files;if(t&&0!==t.length){for(let e=0;e<t.length;e++){const n=t[e];sT.info("Uploading ".concat(n.name,"..."));await LF(n,"Uploaded via Minerva UI")?sT.success("".concat(n.name," uploaded successfully")):sT.error("Failed to upload ".concat(n.name))}v(),h.current&&(h.current.value="")}}}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("flex-1 flex flex-col transition-all duration-300 p-6 lg:p-12",e?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(pT,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"FILE MANAGER"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/files/browser"})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[i.size>0&&(0,mn.jsxs)("button",{onClick:()=>{const e=Array.from(i),t=[...w,...k].filter((t=>e.includes(t.id))).map((e=>e.agent_file_id));t.length>0&&(sT.info("Creating zip archive..."),x({variables:{files:t}}))},className:"flex items-center gap-2 px-4 py-2 border border-blue-500 text-blue-400 font-mono text-xs hover:bg-blue-500/20 transition-colors rounded",children:[(0,mn.jsx)(vm,{size:14}),"DOWNLOAD ",i.size," FILES"]}),(0,mn.jsxs)("button",{onClick:()=>{var e;null===(e=h.current)||void 0===e||e.click()},className:"flex items-center gap-2 px-6 py-3 bg-signal text-void font-bold font-mono text-sm hover:bg-white hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all rounded",children:[(0,mn.jsx)(ym,{size:18}),"UPLOAD FILE"]}),(0,mn.jsx)("button",{onClick:()=>v(),className:"p-2 border border-gray-700 hover:border-signal text-gray-400 hover:text-signal transition-colors rounded-full",children:(0,mn.jsx)(Fd,{size:20})})]})]}),(0,mn.jsxs)("div",{className:"flex-1 overflow-hidden flex",children:[(0,mn.jsxs)("div",{className:"w-64 border-r border-white/10 bg-black/30 flex flex-col",children:[(0,mn.jsxs)("div",{className:"border-b border-white/10",children:[(0,mn.jsxs)("div",{onClick:()=>{o("machines"),n(null)},className:Wx("flex items-center gap-2 px-3 py-2.5 cursor-pointer transition-colors","machines"===r?"bg-signal/10 text-signal":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[(0,mn.jsx)(Cz,{size:14}),(0,mn.jsx)("span",{className:"font-mono text-xs",children:"TARGET_MACHINES"}),(0,mn.jsx)("span",{className:"ml-auto text-[10px] px-1.5 py-0.5 bg-white/10 rounded",children:_.length})]}),(0,mn.jsx)("div",{className:"px-3 py-1.5 border-t border-white/5",children:(0,mn.jsx)("span",{className:"text-[9px] text-gray-600 font-mono",children:"MYTHIC_C2_FILES"})}),(0,mn.jsxs)("div",{onClick:()=>{o("downloads"),n(null)},className:Wx("flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors","downloads"===r?"bg-blue-500/10 text-blue-400":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[(0,mn.jsx)(vm,{size:14}),(0,mn.jsx)("span",{className:"font-mono text-xs",children:"DOWNLOADS"}),(0,mn.jsx)("span",{className:"ml-auto text-[10px] px-1.5 py-0.5 bg-white/10 rounded",children:w.length})]}),(0,mn.jsxs)("div",{onClick:()=>{o("uploads"),n(null)},className:Wx("flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors","uploads"===r?"bg-green-500/10 text-green-400":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[(0,mn.jsx)(ym,{size:14}),(0,mn.jsx)("span",{className:"font-mono text-xs",children:"UPLOADS"}),(0,mn.jsx)("span",{className:"ml-auto text-[10px] px-1.5 py-0.5 bg-white/10 rounded",children:k.length})]}),(0,mn.jsxs)("div",{onClick:()=>{o("screenshots"),n(null)},className:Wx("flex items-center gap-2 px-3 py-2 cursor-pointer transition-colors","screenshots"===r?"bg-purple-500/10 text-purple-400":"text-gray-400 hover:bg-white/5 hover:text-white"),children:[(0,mn.jsx)(xm,{size:14}),(0,mn.jsx)("span",{className:"font-mono text-xs",children:"SCREENSHOTS"}),(0,mn.jsx)("span",{className:"ml-auto text-[10px] px-1.5 py-0.5 bg-white/10 rounded",children:N.length})]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto",children:"machines"===r?(0,mn.jsx)("div",{className:"divide-y divide-white/5",children:f?(0,mn.jsx)("div",{className:"p-4 text-center text-gray-500 font-mono text-xs animate-pulse",children:"SCANNING..."}):0===_.length?(0,mn.jsxs)("div",{className:"p-4 text-center",children:[(0,mn.jsx)(Wd,{size:20,className:"mx-auto text-gray-600 mb-2"}),(0,mn.jsx)("p",{className:"text-gray-500 text-[10px] font-mono",children:"NO_TARGETS"})]}):_.map((e=>{const r=S(e.lastCheckin),o=(null===t||void 0===t?void 0:t.host)===e.host;return(0,mn.jsxs)("div",{onClick:()=>n(e),className:Wx("p-2.5 cursor-pointer transition-all",o?"bg-signal/10 border-l-2 border-signal":"hover:bg-white/5 border-l-2 border-transparent"),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(Cz,{size:12,className:r?"text-signal":"text-gray-600"}),(0,mn.jsx)("span",{className:Wx("font-mono text-xs truncate flex-1",o?"text-signal":"text-white"),children:e.host}),r?(0,mn.jsx)(wF,{size:10,className:"text-green-400"}):(0,mn.jsx)(kF,{size:10,className:"text-gray-600"})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-[9px] text-gray-600 mt-1 ml-4",children:[(0,mn.jsxs)("span",{children:[e.callbacks.length," cb"]}),(0,mn.jsx)("span",{children:"\u2022"}),(0,mn.jsx)("span",{children:e.users[0]||"?"})]})]},e.host)}))}):(0,mn.jsxs)("div",{className:"p-2",children:[(0,mn.jsxs)("div",{className:"relative mb-2",children:[(0,mn.jsx)(mT,{size:12,className:"absolute left-2 top-1/2 -translate-y-1/2 text-gray-500"}),(0,mn.jsx)("input",{type:"text",placeholder:"Search files...",value:l,onChange:e=>c(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded pl-7 pr-2 py-1.5 text-[10px] text-white placeholder-gray-600 focus:outline-none focus:border-signal/50"})]}),(0,mn.jsxs)("div",{className:"text-[9px] text-gray-500 mb-2 font-mono",children:[E().length," files \u2022 ",OF(E().reduce(((e,t)=>e+(t.size||0)),0))]})]})})]}),(0,mn.jsx)("div",{className:"flex-1 flex flex-col overflow-hidden",children:"machines"!==r||t?"machines"===r&&t?(0,mn.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,mn.jsx)($F,{machine:t,isRecentlyActive:S}),(0,mn.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,mn.jsx)(mF,{host:t.host,callbackId:t.primaryCallback.display_id})})]}):(0,mn.jsx)(zF,{files:E(),type:r,loading:g,selectedFiles:i,onSelectFile:(e,t)=>{const n=new Set(i);t?n.add(e):n.delete(e),s(n)},onDeleteFile:e=>{y({variables:{file_id:e}})},onPreviewFile:u,onCopy:j}):(0,mn.jsx)(PF,{machines:_,isRecentlyActive:S,downloads:w.length,uploads:k.length})})]})]}),(0,mn.jsx)(On,{children:d&&(0,mn.jsx)(FF,{file:d,onClose:()=>u(null),onCopy:j})})]})}const PF=e=>{let{machines:t,isRecentlyActive:n,downloads:r,uploads:o}=e;return(0,mn.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-8 text-center",children:[(0,mn.jsx)("div",{className:"w-16 h-16 bg-signal/10 rounded-lg flex items-center justify-center border border-signal/30 mb-4",children:(0,mn.jsx)(Jz,{size:32,className:"text-signal"})}),(0,mn.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"SELECT A TARGET"}),(0,mn.jsx)("p",{className:"text-gray-500 text-sm max-w-md mb-6",children:"Choose a target machine or browse Mythic C2 files from the sidebar."}),(0,mn.jsxs)("div",{className:"grid grid-cols-4 gap-3 max-w-2xl text-left",children:[(0,mn.jsxs)("div",{className:"p-3 bg-black/40 border border-white/10 rounded",children:[(0,mn.jsx)(Cz,{size:16,className:"text-signal mb-2"}),(0,mn.jsx)("h3",{className:"text-[10px] font-bold text-white",children:"TARGETS"}),(0,mn.jsx)("p",{className:"text-lg text-signal font-bold",children:t.length})]}),(0,mn.jsxs)("div",{className:"p-3 bg-black/40 border border-white/10 rounded",children:[(0,mn.jsx)(wF,{size:16,className:"text-green-400 mb-2"}),(0,mn.jsx)("h3",{className:"text-[10px] font-bold text-white",children:"ACTIVE"}),(0,mn.jsx)("p",{className:"text-lg text-green-400 font-bold",children:t.filter((e=>n(e.lastCheckin))).length})]}),(0,mn.jsxs)("div",{className:"p-3 bg-black/40 border border-white/10 rounded",children:[(0,mn.jsx)(vm,{size:16,className:"text-blue-400 mb-2"}),(0,mn.jsx)("h3",{className:"text-[10px] font-bold text-white",children:"DOWNLOADS"}),(0,mn.jsx)("p",{className:"text-lg text-blue-400 font-bold",children:r})]}),(0,mn.jsxs)("div",{className:"p-3 bg-black/40 border border-white/10 rounded",children:[(0,mn.jsx)(ym,{size:16,className:"text-green-400 mb-2"}),(0,mn.jsx)("h3",{className:"text-[10px] font-bold text-white",children:"UPLOADS"}),(0,mn.jsx)("p",{className:"text-lg text-green-400 font-bold",children:o})]})]})]})},$F=e=>{let{machine:t,isRecentlyActive:n}=e;return(0,mn.jsxs)("div",{className:"h-10 bg-black/40 border-b border-white/10 flex items-center px-4 gap-3 shrink-0",children:[(0,mn.jsx)(Cz,{size:14,className:"text-signal"}),(0,mn.jsx)("span",{className:"font-mono text-sm text-white font-bold",children:t.host}),(0,mn.jsx)("div",{className:"w-px h-4 bg-white/20"}),(0,mn.jsx)(QT,{size:12,className:"text-gray-500"}),(0,mn.jsx)("span",{className:"text-xs text-gray-400",children:t.users.join(", ")}),(0,mn.jsx)("div",{className:"w-px h-4 bg-white/20"}),(0,mn.jsx)("div",{className:"flex gap-1",children:t.callbacks.slice(0,5).map((e=>(0,mn.jsxs)("span",{className:Wx("text-[9px] px-1 py-0.5 rounded font-mono",n(e.last_checkin)?"bg-green-500/20 text-green-400":"bg-gray-500/20 text-gray-500"),children:["#",e.display_id]},e.id)))})]})},zF=e=>{let{files:t,type:n,loading:r,selectedFiles:o,onSelectFile:i,onDeleteFile:s,onPreviewFile:a,onCopy:l}=e;return r?(0,mn.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,mn.jsx)("div",{className:"text-gray-500 font-mono text-sm animate-pulse",children:"LOADING_FILES..."})}):"screenshots"===n?(0,mn.jsxs)("div",{className:"flex-1 overflow-auto p-4",children:[(0,mn.jsx)("div",{className:"grid grid-cols-4 gap-3",children:t.map((e=>(0,mn.jsxs)("div",{onClick:()=>a(e),className:"relative aspect-video bg-black/40 rounded border border-white/10 overflow-hidden group cursor-pointer hover:border-purple-500/50 transition-colors",children:[(0,mn.jsx)("img",{src:"/direct/download/".concat(e.agent_file_id),alt:RF(e.filename_text),className:"w-full h-full object-cover",loading:"lazy"}),(0,mn.jsx)("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:(0,mn.jsx)(NT,{size:24,className:"text-white"})}),(0,mn.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 px-2 py-1 bg-gradient-to-t from-black to-transparent",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-1 text-[9px] text-gray-300",children:[(0,mn.jsx)(Cz,{size:9}),e.host]}),(0,mn.jsx)("div",{className:"text-[8px] text-gray-500",children:IF(e.timestamp)})]})]},e.id)))}),0===t.length&&(0,mn.jsxs)("div",{className:"text-center py-20",children:[(0,mn.jsx)(xm,{size:40,className:"mx-auto text-gray-600 mb-3"}),(0,mn.jsx)("p",{className:"text-gray-500 font-mono text-sm",children:"NO_SCREENSHOTS"})]})]}):(0,mn.jsxs)("div",{className:"flex-1 overflow-auto",children:[(0,mn.jsxs)("table",{className:"w-full text-xs",children:[(0,mn.jsx)("thead",{className:"bg-black/40 sticky top-0 z-10",children:(0,mn.jsxs)("tr",{className:"text-gray-500 font-mono text-[10px]",children:[(0,mn.jsx)("th",{className:"p-2 text-left w-8",children:(0,mn.jsx)("input",{type:"checkbox",className:"rounded bg-black/40 border-white/20"})}),(0,mn.jsx)("th",{className:"p-2 text-left",children:"FILENAME"}),(0,mn.jsx)("th",{className:"p-2 text-left w-28",children:"HOST"}),(0,mn.jsx)("th",{className:"p-2 text-left w-20",children:"SIZE"}),(0,mn.jsx)("th",{className:"p-2 text-left w-24",children:"STATUS"}),(0,mn.jsx)("th",{className:"p-2 text-left w-28",children:"TIME"}),(0,mn.jsx)("th",{className:"p-2 text-left w-24",children:"ACTIONS"})]})}),(0,mn.jsx)("tbody",{className:"divide-y divide-white/5",children:t.map((e=>(0,mn.jsxs)("tr",{className:"hover:bg-white/5 group",children:[(0,mn.jsx)("td",{className:"p-2",children:(0,mn.jsx)("input",{type:"checkbox",checked:o.has(e.id),onChange:t=>i(e.id,t.target.checked),className:"rounded bg-black/40 border-white/20"})}),(0,mn.jsx)("td",{className:"p-2",children:(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(vT,{size:14,className:"downloads"===n?"text-blue-400":"text-green-400"}),(0,mn.jsxs)("div",{className:"truncate max-w-xs",children:[(0,mn.jsx)("span",{className:"text-white",children:RF(e.filename_text)||"unnamed"}),e.full_remote_path_text&&(0,mn.jsx)("p",{className:"text-[9px] text-gray-600 truncate",children:RF(e.full_remote_path_text)})]})]})}),(0,mn.jsx)("td",{className:"p-2 text-gray-400 font-mono text-[10px]",children:e.host||"-"}),(0,mn.jsx)("td",{className:"p-2 text-gray-400 font-mono",children:OF(e.size)}),(0,mn.jsx)("td",{className:"p-2",children:e.complete?(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-green-400 text-[10px]",children:[(0,mn.jsx)(NF,{size:10}),"Complete"]}):(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-yellow-400 text-[10px]",children:[(0,mn.jsx)(RT,{size:10}),Math.round(e.chunks_received/e.total_chunks*100),"%"]})}),(0,mn.jsx)("td",{className:"p-2 text-gray-500 text-[10px]",children:IF(e.timestamp)}),(0,mn.jsx)("td",{className:"p-2",children:(0,mn.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.complete&&(0,mn.jsx)("a",{href:"/direct/download/".concat(e.agent_file_id),target:"_blank",rel:"noopener noreferrer",className:"p-1 hover:bg-white/10 rounded text-blue-400",title:"Download",children:(0,mn.jsx)(vm,{size:12})}),(0,mn.jsx)("button",{onClick:()=>a(e),className:"p-1 hover:bg-white/10 rounded text-gray-400",title:"Details",children:(0,mn.jsx)(NT,{size:12})}),(0,mn.jsx)("button",{onClick:()=>l(e.agent_file_id),className:"p-1 hover:bg-white/10 rounded text-gray-400",title:"Copy ID",children:(0,mn.jsx)(rF,{size:12})}),(0,mn.jsx)("button",{onClick:()=>s(e.id),className:"p-1 hover:bg-white/10 rounded text-red-400",title:"Delete",children:(0,mn.jsx)(_F,{size:12})})]})})]},e.id)))})]}),0===t.length&&(0,mn.jsxs)("div",{className:"text-center py-20",children:[(0,mn.jsx)(vT,{size:40,className:"mx-auto text-gray-600 mb-3"}),(0,mn.jsx)("p",{className:"text-gray-500 font-mono text-sm",children:"NO_FILES_FOUND"})]})]})},FF=e=>{let{file:t,onClose:n,onCopy:r}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-white/20 rounded-lg max-w-2xl w-full max-h-[80vh] overflow-auto",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(vT,{size:20,className:"text-signal"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"font-mono text-sm text-white",children:RF(t.filename_text)||"Unnamed File"}),(0,mn.jsx)("p",{className:"text-[10px] text-gray-500",children:t.agent_file_id})]})]}),(0,mn.jsx)("button",{onClick:n,className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(nF,{size:20,className:"text-gray-400"})})]}),t.is_screenshot&&(0,mn.jsx)("div",{className:"p-4 bg-black/40",children:(0,mn.jsx)("img",{src:"/direct/download/".concat(t.agent_file_id),alt:RF(t.filename_text),className:"max-w-full rounded border border-white/10"})}),(0,mn.jsxs)("div",{className:"p-4 space-y-3",children:[(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"HOST"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:t.host||"-"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"SIZE"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:OF(t.size)})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"TIMESTAMP"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:new Date(t.timestamp).toLocaleString()})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"STATUS"}),(0,mn.jsx)("p",{className:t.complete?"text-green-400":"text-yellow-400",children:t.complete?"Complete":"".concat(t.chunks_received,"/").concat(t.total_chunks," chunks")})]}),t.md5&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"MD5"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("p",{className:"text-white font-mono text-[10px] break-all",children:t.md5}),(0,mn.jsx)("button",{onClick:()=>r(t.md5),className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(rF,{size:10,className:"text-gray-400"})})]})]}),t.sha1&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"SHA1"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("p",{className:"text-white font-mono text-[10px] break-all",children:t.sha1}),(0,mn.jsx)("button",{onClick:()=>r(t.sha1),className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(rF,{size:10,className:"text-gray-400"})})]})]}),t.full_remote_path_text&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"REMOTE PATH"}),(0,mn.jsx)("p",{className:"text-white font-mono text-[10px] break-all",children:RF(t.full_remote_path_text)})]}),t.comment&&(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"COMMENT"}),(0,mn.jsx)("p",{className:"text-gray-300 text-sm",children:t.comment})]})]}),(0,mn.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-white/10",children:[t.complete&&(0,mn.jsxs)("a",{href:"/direct/download/".concat(t.agent_file_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-blue-500/20 text-blue-400 border border-blue-500/30 rounded text-xs hover:bg-blue-500/30 transition-colors",children:[(0,mn.jsx)(vm,{size:14}),"Download"]}),(0,mn.jsxs)("button",{onClick:()=>r(t.agent_file_id),className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white border border-white/20 rounded text-xs hover:bg-white/20 transition-colors",children:[(0,mn.jsx)(rF,{size:14}),"Copy File ID"]}),(0,mn.jsxs)("a",{href:"/direct/download/".concat(t.agent_file_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 bg-white/10 text-white border border-white/20 rounded text-xs hover:bg-white/20 transition-colors",children:[(0,mn.jsx)(SF,{size:14}),"Open in New Tab"]})]})]})]})})},BF=zd("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]),VF=zd("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),WF=zd("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),HF=zd("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var UF,GF,qF,KF,YF,QF,XF,ZF,JF;const eB=Kv(UF||(UF=Jg(["\n    fragment CredentialData on credential {\n        id\n        account\n        realm\n        type\n        credential_text\n        comment\n        deleted\n        timestamp\n        operator { username }\n        task {\n            display_id\n            id\n            callback {\n                id\n                host\n                display_id\n                mythictree_groups\n            }\n        }\n        tags {\n            id\n            tagtype { name color id }\n        }\n    }\n"]))),tB=Kv(GF||(GF=Jg(["\n    ","\n    query GetCredentials($deleted: Boolean!) {\n        credential(\n            where: { deleted: { _eq: $deleted } },\n            order_by: { id: desc },\n            limit: 500\n        ) {\n            ...CredentialData\n        }\n        credential_aggregate(where: { deleted: { _eq: $deleted } }) {\n            aggregate { count }\n        }\n    }\n"])),eB),nB=Kv(qF||(qF=Jg(["\n    mutation CreateCredential($account: String!, $realm: String!, $credential: String!, $type: String!, $comment: String!) {\n        createCredential(account: $account, realm: $realm, credential: $credential, credential_type: $type, comment: $comment) {\n            status\n            error\n            id\n        }\n    }\n"]))),rB=Kv(KF||(KF=Jg(["\n    ","\n    mutation UpdateCredentialComment($credential_id: Int!, $comment: String!) {\n        update_credential_by_pk(pk_columns: { id: $credential_id }, _set: { comment: $comment }) {\n            ...CredentialData\n        }\n    }\n"])),eB),oB=Kv(YF||(YF=Jg(["\n    ","\n    mutation UpdateCredentialAccount($credential_id: Int!, $account: String!) {\n        update_credential_by_pk(pk_columns: { id: $credential_id }, _set: { account: $account }) {\n            ...CredentialData\n        }\n    }\n"])),eB),iB=Kv(QF||(QF=Jg(["\n    ","\n    mutation UpdateCredentialRealm($credential_id: Int!, $realm: String!) {\n        update_credential_by_pk(pk_columns: { id: $credential_id }, _set: { realm: $realm }) {\n            ...CredentialData\n        }\n    }\n"])),eB),sB=Kv(XF||(XF=Jg(["\n    ","\n    mutation UpdateCredentialType($credential_id: Int!, $type: String!) {\n        update_credential_by_pk(pk_columns: { id: $credential_id }, _set: { type: $type }) {\n            ...CredentialData\n        }\n    }\n"])),eB),aB=Kv(ZF||(ZF=Jg(["\n    ","\n    mutation UpdateCredentialValue($credential_id: Int!, $credential: String!) {\n        update_credential_by_pk(pk_columns: { id: $credential_id }, _set: { credential_text: $credential }) {\n            ...CredentialData\n        }\n    }\n"])),eB),lB=Kv(JF||(JF=Jg(["\n    ","\n    mutation UpdateCredentialDeleted($credential_id: Int!, $deleted: Boolean!) {\n        update_credential_by_pk(pk_columns: { id: $credential_id }, _set: { deleted: $deleted }) {\n            ...CredentialData\n        }\n    }\n"])),eB),cB=["plaintext","hash","ticket","certificate","key","hex"],dB={plaintext:{bg:"bg-green-500/20",text:"text-green-400",border:"border-green-500/30"},hash:{bg:"bg-orange-500/20",text:"text-orange-400",border:"border-orange-500/30"},ticket:{bg:"bg-purple-500/20",text:"text-purple-400",border:"border-purple-500/30"},certificate:{bg:"bg-blue-500/20",text:"text-blue-400",border:"border-blue-500/30"},key:{bg:"bg-yellow-500/20",text:"text-yellow-400",border:"border-yellow-500/30"},hex:{bg:"bg-cyan-500/20",text:"text-cyan-400",border:"border-cyan-500/30"}},uB={plaintext:(0,mn.jsx)(KT,{size:12}),hash:(0,mn.jsx)(BF,{size:12}),ticket:(0,mn.jsx)(VF,{size:12}),certificate:(0,mn.jsx)(bm,{size:12}),key:(0,mn.jsx)(gm,{size:12}),hex:(0,mn.jsx)(vT,{size:12})};function hB(){var e,t;const{isSidebarCollapsed:n}=Zg(),[r,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(""),[l,c]=(0,a.useState)("all"),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[f,m]=(0,a.useState)(null),[g,v]=(0,a.useState)(new Set),{data:y,loading:x,refetch:b}=Jf(tB,{variables:{deleted:r},pollInterval:3e4}),[w]=UT(nB,{onCompleted:e=>{"success"===e.createCredential.status?(sT.success("Credential created"),b(),u(!1)):sT.error(e.createCredential.error)},onError:()=>sT.error("Failed to create credential")}),[k]=UT(rB,{onCompleted:()=>{sT.success("Comment updated"),b()}}),[N]=UT(oB,{onCompleted:()=>{sT.success("Account updated"),b()}}),[_]=UT(iB,{onCompleted:()=>{sT.success("Realm updated"),b()}}),[S]=UT(sB,{onCompleted:()=>{sT.success("Type updated"),b()}}),[C]=UT(aB,{onCompleted:()=>{sT.success("Credential updated"),b()}}),[j]=UT(lB,{onCompleted:()=>{sT.success("Status updated"),b()}}),E=(null===y||void 0===y?void 0:y.credential)||[],T=(null===y||void 0===y||null===(e=y.credential_aggregate)||void 0===e||null===(t=e.aggregate)||void 0===t?void 0:t.count)||0,A=(0,a.useMemo)((()=>{if(!i)return E;const e=i.toLowerCase();return E.filter((t=>{var n,r,o,i,s,a,c,d;switch(l){case"account":return null===(n=t.account)||void 0===n?void 0:n.toLowerCase().includes(e);case"realm":return null===(r=t.realm)||void 0===r?void 0:r.toLowerCase().includes(e);case"credential":return null===(o=t.credential_text)||void 0===o?void 0:o.toLowerCase().includes(e);case"comment":return null===(i=t.comment)||void 0===i?void 0:i.toLowerCase().includes(e);default:return(null===(s=t.account)||void 0===s?void 0:s.toLowerCase().includes(e))||(null===(a=t.realm)||void 0===a?void 0:a.toLowerCase().includes(e))||(null===(c=t.credential_text)||void 0===c?void 0:c.toLowerCase().includes(e))||(null===(d=t.comment)||void 0===d?void 0:d.toLowerCase().includes(e))}}))}),[E,i,l]),M=(0,a.useMemo)((()=>{const e=new Map;return A.forEach((t=>{const n=t.realm||"No Realm";e.has(n)||e.set(n,[]),e.get(n).push(t)})),e}),[A]),R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Text";navigator.clipboard.writeText(e),sT.success("".concat(t," copied to clipboard"))};return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("flex-1 flex flex-col transition-all duration-300 p-6 lg:p-12 h-screen overflow-hidden",n?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(gm,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"CREDENTIALS VAULT"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/credentials/list"})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-6 py-3 bg-signal text-void font-bold font-mono text-sm hover:bg-white hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all rounded",children:[(0,mn.jsx)(Tz,{size:18}),"NEW CREDENTIAL"]}),(0,mn.jsxs)("button",{onClick:()=>o(!r),className:Wx("flex items-center gap-2 px-4 py-2 border rounded text-xs font-mono transition-colors",r?"bg-red-500/20 text-red-400 border-red-500/30":"border-gray-700 text-gray-400 hover:border-signal hover:text-signal"),children:[r?(0,mn.jsx)(NT,{size:14}):(0,mn.jsx)(YT,{size:14}),r?"SHOWING DELETED":"SHOW DELETED"]}),(0,mn.jsx)("button",{onClick:()=>b(),className:"p-2 border border-gray-700 hover:border-signal text-gray-400 hover:text-signal transition-colors rounded-full",children:(0,mn.jsx)(Fd,{size:20})})]})]}),(0,mn.jsxs)("div",{className:"px-6 py-4 bg-black/30 border-b border-white/10 flex items-center gap-4",children:[(0,mn.jsxs)("div",{className:"relative flex-1 max-w-xl",children:[(0,mn.jsx)(mT,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),(0,mn.jsx)("input",{type:"text",placeholder:"Search credentials...",value:i,onChange:e=>s(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded-lg pl-9 pr-4 py-2 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500/50"})]}),(0,mn.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-sm text-white focus:outline-none focus:border-yellow-500/50",children:[(0,mn.jsx)("option",{value:"all",children:"All Fields"}),(0,mn.jsx)("option",{value:"account",children:"Account"}),(0,mn.jsx)("option",{value:"realm",children:"Realm"}),(0,mn.jsx)("option",{value:"credential",children:"Credential"}),(0,mn.jsx)("option",{value:"comment",children:"Comment"})]}),(0,mn.jsxs)("div",{className:"text-xs text-gray-500 font-mono",children:[A.length," / ",T," credentials"]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto p-6",children:x?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)("div",{className:"text-gray-500 font-mono text-sm animate-pulse",children:"LOADING_VAULT..."})}):0===A.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64",children:[(0,mn.jsx)(gm,{size:48,className:"text-gray-600 mb-4"}),(0,mn.jsx)("h3",{className:"text-lg font-bold text-white mb-2",children:"NO CREDENTIALS FOUND"}),(0,mn.jsx)("p",{className:"text-gray-500 text-sm",children:i?"Try adjusting your search query":"Create your first credential to get started"})]}):(0,mn.jsx)("div",{className:"space-y-6",children:Array.from(M.entries()).map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{className:"space-y-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,mn.jsx)(WF,{size:14,className:"text-signal"}),(0,mn.jsx)("h2",{className:"font-mono text-sm text-signal",children:t}),(0,mn.jsx)("span",{className:"text-[10px] text-gray-500 px-1.5 py-0.5 bg-white/10 rounded",children:n.length})]}),(0,mn.jsx)("div",{className:"space-y-2",children:n.map((e=>(0,mn.jsx)(pB,{credential:e,isExpanded:f===e.id,isVisible:g.has(e.id),onExpand:()=>m(f===e.id?null:e.id),onToggleVisibility:()=>(e=>{const t=new Set(g);t.has(e)?t.delete(e):t.add(e),v(t)})(e.id),onCopy:R,onEdit:t=>p({credential:e,field:t}),onDelete:()=>j({variables:{credential_id:e.id,deleted:!e.deleted}})},e.id)))})]},t)}))})})]}),(0,mn.jsx)(On,{children:d&&(0,mn.jsx)(mB,{onClose:()=>u(!1),onCreate:e=>w({variables:e})})}),(0,mn.jsx)(On,{children:h&&(0,mn.jsx)(gB,{credential:h.credential,field:h.field,onClose:()=>p(null),onSave:e=>{const{credential:t,field:n}=h;switch(n){case"account":N({variables:{credential_id:t.id,account:e}});break;case"realm":_({variables:{credential_id:t.id,realm:e}});break;case"type":S({variables:{credential_id:t.id,type:e}});break;case"credential":C({variables:{credential_id:t.id,credential:e}});break;case"comment":k({variables:{credential_id:t.id,comment:e}})}p(null)}})})]})}const pB=e=>{var t,n,r;let{credential:o,isExpanded:i,isVisible:s,onExpand:a,onToggleVisibility:l,onCopy:c,onEdit:d,onDelete:u}=e;const h=dB[o.type]||dB.plaintext,p=uB[o.type]||(0,mn.jsx)(KT,{size:12}),f=s?o.credential_text:"\u2022".repeat(Math.min(o.credential_text.length,24)),m=f.length>50?f.slice(0,50)+"...":f;return(0,mn.jsxs)(Md.div,{layout:!0,className:Wx("bg-black/40 border rounded-lg overflow-hidden transition-colors",o.deleted?"border-red-500/30 opacity-60":"border-white/10 hover:border-white/20"),children:[(0,mn.jsxs)("div",{className:"p-3 flex items-center gap-3",children:[(0,mn.jsxs)("div",{className:Wx("flex items-center gap-1 px-2 py-1 rounded text-[10px] font-mono",h.bg,h.text,h.border,"border"),children:[p,(0,mn.jsx)("span",{className:"uppercase",children:o.type})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2 min-w-[150px]",children:[(0,mn.jsx)(QT,{size:12,className:"text-gray-500"}),(0,mn.jsx)("span",{className:"text-sm text-white font-mono truncate",children:o.account})]}),(0,mn.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,mn.jsx)(KT,{size:12,className:"text-gray-500"}),(0,mn.jsx)("span",{className:"text-sm text-gray-300 font-mono truncate",children:m}),(0,mn.jsx)("button",{onClick:l,className:"p-1 hover:bg-white/10 rounded transition-colors",children:s?(0,mn.jsx)(YT,{size:12,className:"text-gray-400"}):(0,mn.jsx)(NT,{size:12,className:"text-gray-400"})}),(0,mn.jsx)("button",{onClick:()=>c(o.credential_text,"Credential"),className:"p-1 hover:bg-white/10 rounded transition-colors",children:(0,mn.jsx)(rF,{size:12,className:"text-gray-400"})})]}),o.tags&&o.tags.length>0&&(0,mn.jsx)("div",{className:"flex gap-1",children:o.tags.slice(0,2).map((e=>(0,mn.jsx)("span",{className:"px-1.5 py-0.5 rounded text-[9px] font-mono",style:{backgroundColor:"".concat(e.tagtype.color,"20"),color:e.tagtype.color},children:e.tagtype.name},e.id)))}),(0,mn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,mn.jsx)("button",{onClick:a,className:Wx("p-1.5 rounded transition-colors",i?"bg-white/10 text-white":"hover:bg-white/10 text-gray-400"),children:(0,mn.jsx)(Qz,{size:14,className:Wx("transition-transform",i&&"rotate-180")})}),(0,mn.jsx)("button",{onClick:u,className:Wx("p-1.5 rounded transition-colors",o.deleted?"hover:bg-green-500/20 text-green-400":"hover:bg-red-500/20 text-red-400"),title:o.deleted?"Restore":"Delete",children:o.deleted?(0,mn.jsx)(eA,{size:14}):(0,mn.jsx)(_F,{size:14})})]})]}),(0,mn.jsx)(On,{children:i&&(0,mn.jsx)(Md.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-white/10",children:(0,mn.jsxs)("div",{className:"p-4 bg-black/20 space-y-4",children:[(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[(0,mn.jsx)(fB,{label:"Account",value:o.account,onEdit:()=>d("account"),onCopy:()=>c(o.account,"Account")}),(0,mn.jsx)(fB,{label:"Realm",value:o.realm,onEdit:()=>d("realm"),onCopy:()=>c(o.realm,"Realm")}),(0,mn.jsx)(fB,{label:"Type",value:o.type,onEdit:()=>d("type")}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"TIMESTAMP"}),(0,mn.jsx)("p",{className:"text-white font-mono",children:new Date(o.timestamp).toLocaleString()})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:"CREDENTIAL"}),(0,mn.jsxs)("div",{className:"flex gap-1",children:[(0,mn.jsx)("button",{onClick:()=>d("credential"),className:"p-1 hover:bg-white/10 rounded text-gray-400 hover:text-white",children:(0,mn.jsx)(HF,{size:10})}),(0,mn.jsx)("button",{onClick:()=>c(o.credential_text,"Credential"),className:"p-1 hover:bg-white/10 rounded text-gray-400 hover:text-white",children:(0,mn.jsx)(rF,{size:10})})]})]}),(0,mn.jsx)("pre",{className:"p-2 bg-black/40 rounded border border-white/10 text-xs text-gray-300 font-mono whitespace-pre-wrap break-all max-h-40 overflow-auto",children:s?o.credential_text:"\u2022".repeat(Math.min(o.credential_text.length,50))})]}),(o.comment,(0,mn.jsx)(fB,{label:"Comment",value:o.comment||"-",onEdit:()=>d("comment"),fullWidth:!0})),o.task&&(0,mn.jsxs)("div",{className:"pt-3 border-t border-white/10",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px] block mb-2",children:"SOURCE"}),(0,mn.jsxs)("div",{className:"flex items-center gap-4 text-xs",children:[(0,mn.jsxs)("a",{href:"/new/callbacks/".concat(null===(t=o.task.callback)||void 0===t?void 0:t.display_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-signal hover:underline",children:[(0,mn.jsx)(SF,{size:10}),"Callback #",null===(n=o.task.callback)||void 0===n?void 0:n.display_id]}),(0,mn.jsxs)("a",{href:"/new/task/".concat(o.task.display_id),target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-blue-400 hover:underline",children:[(0,mn.jsx)(SF,{size:10}),"Task #",o.task.display_id]}),(0,mn.jsxs)("span",{className:"text-gray-500",children:["Host: ",null===(r=o.task.callback)||void 0===r?void 0:r.host]})]})]})]})})})]})},fB=e=>{let{label:t,value:n,onEdit:r,onCopy:o,fullWidth:i=!1}=e;return(0,mn.jsxs)("div",{className:i?"col-span-2":"",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,mn.jsx)("label",{className:"text-gray-500 text-[10px]",children:t.toUpperCase()}),(0,mn.jsxs)("div",{className:"flex gap-1",children:[(0,mn.jsx)("button",{onClick:r,className:"p-0.5 hover:bg-white/10 rounded text-gray-400 hover:text-white",children:(0,mn.jsx)(HF,{size:10})}),o&&(0,mn.jsx)("button",{onClick:o,className:"p-0.5 hover:bg-white/10 rounded text-gray-400 hover:text-white",children:(0,mn.jsx)(rF,{size:10})})]})]}),(0,mn.jsx)("p",{className:"text-white font-mono text-xs",children:n||"-"})]})},mB=e=>{let{onClose:t,onCreate:n}=e;const[r,o]=(0,a.useState)({account:"",realm:"",credential:"",type:"plaintext",comment:""});return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8",onClick:t,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-white/20 rounded-lg w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(gm,{size:18,className:"text-yellow-400"}),(0,mn.jsx)("h2",{className:"font-bold text-white",children:"New Credential"})]}),(0,mn.jsx)("button",{onClick:t,className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(nF,{size:18,className:"text-gray-400"})})]}),(0,mn.jsxs)("div",{className:"p-4 space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-400 text-xs block mb-1",children:"Type"}),(0,mn.jsx)("select",{value:r.type,onChange:e=>o(s(s({},r),{},{type:e.target.value})),className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-yellow-500/50",children:cB.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-400 text-xs block mb-1",children:"Account"}),(0,mn.jsx)("input",{type:"text",value:r.account,onChange:e=>o(s(s({},r),{},{account:e.target.value})),placeholder:"username",className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500/50"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-400 text-xs block mb-1",children:"Realm"}),(0,mn.jsx)("input",{type:"text",value:r.realm,onChange:e=>o(s(s({},r),{},{realm:e.target.value})),placeholder:"domain.com",className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500/50"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-400 text-xs block mb-1",children:"Credential"}),(0,mn.jsx)("textarea",{value:r.credential,onChange:e=>o(s(s({},r),{},{credential:e.target.value})),placeholder:"password or hash...",rows:3,className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500/50 resize-none"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-gray-400 text-xs block mb-1",children:"Comment"}),(0,mn.jsx)("input",{type:"text",value:r.comment,onChange:e=>o(s(s({},r),{},{comment:e.target.value})),placeholder:"Optional comment...",className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white placeholder-gray-600 focus:outline-none focus:border-yellow-500/50"})]})]}),(0,mn.jsxs)("div",{className:"p-4 border-t border-white/10 flex justify-end gap-2",children:[(0,mn.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,mn.jsx)("button",{onClick:()=>n(r),disabled:!r.account||!r.credential,className:"px-4 py-2 bg-yellow-500/20 text-yellow-400 border border-yellow-500/30 rounded text-sm hover:bg-yellow-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Create"})]})]})})},gB=e=>{let{credential:t,field:n,onClose:r,onSave:o}=e;const i="credential"===n?t.credential_text:t[n]||"",[s,l]=(0,a.useState)(i);return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-8",onClick:r,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-white/20 rounded-lg w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-4 border-b border-white/10 flex items-center justify-between",children:[(0,mn.jsxs)("h2",{className:"font-bold text-white",children:["Edit ",n.charAt(0).toUpperCase()+n.slice(1)]}),(0,mn.jsx)("button",{onClick:r,className:"p-1 hover:bg-white/10 rounded",children:(0,mn.jsx)(nF,{size:18,className:"text-gray-400"})})]}),(0,mn.jsx)("div",{className:"p-4",children:"type"===n?(0,mn.jsx)("select",{value:s,onChange:e=>l(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-signal/50",children:cB.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))}):"credential"===n||"comment"===n?(0,mn.jsx)("textarea",{value:s,onChange:e=>l(e.target.value),rows:5,className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-signal/50 resize-none font-mono"}):(0,mn.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),className:"w-full bg-black/40 border border-white/10 rounded px-3 py-2 text-sm text-white focus:outline-none focus:border-signal/50"})}),(0,mn.jsxs)("div",{className:"p-4 border-t border-white/10 flex justify-end gap-2",children:[(0,mn.jsx)("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,mn.jsx)("button",{onClick:()=>o(s),className:"px-4 py-2 bg-signal/20 text-signal border border-signal/30 rounded text-sm hover:bg-signal/30 transition-colors",children:"Save"})]})]})})},vB=zd("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),yB=zd("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),xB=zd("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);function bB(e){var t;let{profile:n,onClose:r,isOpen:o}=e;const[i,s]=(0,a.useState)("overview"),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(!1),[f,{loading:m}]=UT(yx),[g,{data:v,loading:y}]=Yz(bx,{fetchPolicy:"network-only"}),[x,{data:b,loading:w}]=Yz(xx,{fetchPolicy:"network-only"}),[k]=UT(wx);(0,a.useEffect)((()=>{o&&n&&("config"===i?g({variables:{container_name:n.name,filename:"config.json"}}):"console"===i&&x({variables:{id:n.id}}))}),[i,o,n,g,x]),(0,a.useEffect)((()=>{var e;if(null!==v&&void 0!==v&&null!==(e=v.containerDownloadFile)&&void 0!==e&&e.data)try{c(atob(v.containerDownloadFile.data))}catch(zQ){c("Error decoding config file.")}}),[v]),(0,a.useEffect)((()=>{null!==b&&void 0!==b&&b.getProfileOutput&&u(b.getProfileOutput.output||b.getProfileOutput.error||"No output.")}),[b]);return n?(0,mn.jsx)(On,{children:o&&(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:r,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 flex items-center justify-center p-4",children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},onClick:e=>e.stopPropagation(),className:"w-full max-w-5xl h-[85vh] bg-void border border-signal/50 shadow-[0_0_50px_rgba(34,197,94,0.2)] flex flex-col relative overflow-hidden rounded-lg",children:[(0,mn.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-signal rounded-tl-lg pointer-events-none"}),(0,mn.jsx)("div",{className:"absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-signal rounded-br-lg pointer-events-none"}),(0,mn.jsxs)("div",{className:"p-8 border-b border-ghost/30 bg-black/40 shrink-0 flex justify-between items-start relative z-10",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,mn.jsx)("div",{className:Wx("p-4 border rounded-xl",n.running?"border-green-500 bg-green-500/10 text-green-400":"border-red-500 bg-red-500/10 text-red-400"),children:(0,mn.jsx)(mm,{size:32})}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"text-sm font-mono text-gray-500 mb-1 flex items-center gap-3",children:[(0,mn.jsxs)("span",{children:["SYSTEM_ID: ",n.id.toString().padStart(4,"0")]}),(0,mn.jsx)("span",{className:"text-gray-700",children:"|"}),(0,mn.jsx)("span",{className:"text-signal",children:"SECURE_CHANNEL"})]}),(0,mn.jsx)("h2",{className:"text-4xl font-bold font-mono text-signal tracking-wide uppercase",children:n.name})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,mn.jsxs)("div",{className:"flex flex-col items-end gap-2 text-sm font-mono",children:[(0,mn.jsxs)("div",{className:Wx("flex items-center gap-2 px-3 py-1 rounded bg-black/50 border border-gray-800",n.running?"text-green-400 border-green-900":"text-red-400 border-red-900"),children:[(0,mn.jsx)(um,{size:14})," SERVER_",n.running?"ONLINE":"OFFLINE"]}),(0,mn.jsxs)("div",{className:Wx("flex items-center gap-2 px-3 py-1 rounded bg-black/50 border border-gray-800",n.container_running?"text-blue-400 border-blue-900":"text-gray-400"),children:[(0,mn.jsx)(um,{size:14})," CONTAINER_",n.container_running?"READY":"STOPPED"]})]}),(0,mn.jsx)("button",{onClick:r,className:"p-3 hover:bg-red-500/20 hover:text-red-500 text-gray-500 transition-all rounded-full border border-transparent hover:border-red-500/50",children:(0,mn.jsx)(nA,{size:28})})]})]}),(0,mn.jsxs)("div",{className:"flex border-b border-ghost/30 bg-black/60 text-sm font-mono shrink-0 px-8 pt-2 gap-2",children:[(0,mn.jsx)("button",{onClick:()=>s("overview"),className:Wx("px-8 py-4 transition-colors border-t-2 border-x border-b-0 rounded-t-lg relative top-[1px]","overview"===i?"border-signal bg-void text-signal font-bold":"border-transparent bg-transparent text-gray-500 hover:text-gray-300"),children:"OVERVIEW"}),(0,mn.jsx)("button",{onClick:()=>s("config"),className:Wx("px-8 py-4 transition-colors border-t-2 border-x border-b-0 rounded-t-lg relative top-[1px]","config"===i?"border-signal bg-void text-signal font-bold":"border-transparent bg-transparent text-gray-500 hover:text-gray-300"),children:"CONFIGURATION"}),(0,mn.jsx)("button",{onClick:()=>s("console"),className:Wx("px-8 py-4 transition-colors border-t-2 border-x border-b-0 rounded-t-lg relative top-[1px]","console"===i?"border-signal bg-void text-signal font-bold":"border-transparent bg-transparent text-gray-500 hover:text-gray-300"),children:"TERMINAL"})]}),(0,mn.jsxs)("div",{className:"flex-1 overflow-hidden relative bg-void/50 p-8 flex flex-col",children:["overview"===i&&(0,mn.jsxs)("div",{className:"space-y-8 animate-in fade-in zoom-in-95 duration-300 h-full overflow-y-auto cyber-scrollbar pr-2",children:[(0,mn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,mn.jsxs)("div",{className:"lg:col-span-2 space-y-3",children:[(0,mn.jsxs)("label",{className:"text-sm font-mono text-gray-400 flex items-center gap-2 font-bold tracking-wider",children:[(0,mn.jsx)(vT,{size:16})," CHANNEL_DESCRIPTION"]}),(0,mn.jsx)("div",{className:"p-6 border border-gray-800 bg-black/40 text-base text-gray-300 leading-relaxed font-mono rounded-lg min-h-[160px]",children:n.description||"No description provided."})]}),(0,mn.jsxs)("div",{className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsx)("label",{className:"text-xs font-mono text-gray-500 block mb-1",children:"AUTHOR"}),(0,mn.jsx)("div",{className:"text-signal font-mono font-bold text-lg",children:n.author})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsx)("label",{className:"text-xs font-mono text-gray-500 block mb-1",children:"VERSION"}),(0,mn.jsxs)("div",{className:"text-signal font-mono font-bold text-lg",children:["v",n.semver]})]})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsx)("label",{className:"text-xs font-mono text-gray-500 block mb-3",children:"SUPPORTED_ARCHITECTURES"}),(0,mn.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(t=n.payloadtypec2profiles)||void 0===t?void 0:t.map((e=>(0,mn.jsx)("span",{className:"px-3 py-1.5 bg-signal/10 border border-signal/30 text-xs font-mono text-signal rounded hover:bg-signal/20 transition-colors cursor-default",children:e.payloadtype.name},e.payloadtype.name))),(!n.payloadtypec2profiles||0===n.payloadtypec2profiles.length)&&(0,mn.jsx)("span",{className:"text-gray-600 text-xs italic",children:"NONE_DETECTED"})]})]})]})]}),(0,mn.jsxs)("div",{className:"border-t border-gray-800 pt-8 mt-4",children:[(0,mn.jsx)("label",{className:"text-sm font-mono text-gray-400 mb-4 block font-bold tracking-wider",children:"SYSTEM_CONTROLS"}),(0,mn.jsx)("div",{className:"flex gap-6",children:(0,mn.jsxs)("button",{onClick:async()=>{if(n)try{await f({variables:{id:n.id,action:n.running?"stop":"start"}}),setTimeout((()=>{"console"===i&&x({variables:{id:n.id}})}),1e3)}catch(zQ){console.error(zQ)}},disabled:m,className:Wx("flex-1 py-5 font-bold font-mono text-lg flex items-center justify-center gap-4 transition-all border rounded-xl group overflow-hidden relative shadow-lg",n.running?"border-red-500/50 bg-red-900/20 text-red-400 hover:bg-red-500 hover:text-white hover:shadow-red-500/20":"border-green-500/50 bg-green-900/20 text-green-400 hover:bg-green-500 hover:text-white hover:shadow-green-500/20"),children:[(0,mn.jsx)("div",{className:Wx("absolute inset-0 opacity-10 transition-transform duration-700 group-hover:scale-110",n.running?"bg-red-500":"bg-green-500")}),m?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(Fd,{className:"animate-spin",size:24})," PROCESSING_SEQUENCE..."]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(vB,{size:24})," ",n.running?"TERMINATE_SERVICE":"INITIALIZE_SERVICE"]})]})})]})]}),"config"===i&&(0,mn.jsxs)("div",{className:"h-full flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-4 px-1",children:[(0,mn.jsxs)("div",{className:"text-sm font-mono text-gray-400 flex items-center gap-2",children:[(0,mn.jsx)(vT,{size:16})," /etc/c2_profiles/",n.name,"/config.json"]}),(0,mn.jsxs)("button",{onClick:async()=>{p(!0);try{const e=btoa(l);await k({variables:{container_name:n.name,file_path:"config.json",data:e}})}catch(zQ){console.error("Failed to save config",zQ)}p(!1)},disabled:h||y,className:"px-6 py-2.5 bg-signal text-void font-bold text-sm font-mono flex items-center gap-2 hover:bg-white disabled:opacity-50 rounded transition-colors shadow-[0_0_15px_rgba(34,197,94,0.3)]",children:[h?(0,mn.jsx)(Fd,{className:"animate-spin",size:16}):(0,mn.jsx)(xB,{size:16}),"COMMIT_CHANGES"]})]}),(0,mn.jsx)("div",{className:"flex-1 relative rounded-lg overflow-hidden border border-gray-700 bg-black/50 shadow-inner",children:y?(0,mn.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-signal gap-3 bg-black/80 z-10 font-mono text-lg",children:[(0,mn.jsx)(Fd,{className:"animate-spin",size:24})," DECRYPTING_CONFIG..."]}):(0,mn.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),className:"w-full h-full bg-transparent text-green-400 font-mono text-sm p-6 focus:outline-none resize-none cyber-scrollbar leading-relaxed",spellCheck:!1})})]}),"console"===i&&(0,mn.jsxs)("div",{className:"h-full flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-4 px-1",children:[(0,mn.jsxs)("div",{className:"text-sm font-mono text-gray-400 flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:16})," LIVE_OUTPUT_STREAM"]}),(0,mn.jsx)("div",{className:"flex gap-2",children:(0,mn.jsx)("button",{onClick:()=>x({variables:{id:n.id}}),className:"p-2.5 border border-gray-700 text-gray-400 hover:text-signal hover:border-signal rounded transition-colors",title:"Refresh Output",children:(0,mn.jsx)(Fd,{size:18,className:w?"animate-spin":""})})})]}),(0,mn.jsx)("div",{className:"flex-1 bg-black border border-gray-800 p-6 font-mono text-sm text-gray-300 overflow-y-auto cyber-scrollbar whitespace-pre-wrap rounded-lg shadow-inner",children:w?"ESTABLISHING_UPLINK...":d})]})]})]})})})}):null}function wB(){var e;const{isSidebarCollapsed:t}=Zg(),{data:n,loading:r,refetch:o}=Jf(vx,{pollInterval:1e4,fetchPolicy:"cache-and-network"}),[i,s]=(0,a.useState)(null),[l,c]=(0,a.useState)(null),[d]=UT(yx,{onCompleted:()=>{c(null),setTimeout(o,1e3)},onError:()=>{c(null)}}),u=(0,a.useCallback)(((e,t)=>{c(e),d({variables:{id:e,action:t?"stop":"start"}})}),[d]),h=(0,a.useMemo)((()=>[{header:"NAME / INFO",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:Wx("w-3 h-3 rounded-full transition-colors duration-300 shrink-0",e.running?"bg-green-500 shadow-[0_0_8px_#22c55e]":"bg-red-500")}),(0,mn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,mn.jsxs)("div",{className:"font-bold text-signal tracking-wide flex items-center gap-2 text-base",children:[e.name,e.is_p2p&&(0,mn.jsx)("span",{className:"text-xs bg-blue-900/30 text-blue-400 px-2 py-0.5 border border-blue-800 rounded",children:"P2P"})]}),(0,mn.jsxs)("div",{className:"text-xs text-gray-400 font-mono flex gap-3",children:[(0,mn.jsxs)("span",{children:[(0,mn.jsx)("span",{className:"text-gray-600",children:"AUTH:"})," ",e.author]}),(0,mn.jsxs)("span",{children:[(0,mn.jsx)("span",{className:"text-gray-600",children:"VER:"})," ",e.semver]})]})]})]})},{header:"SUPPORTED_ARCH",className:"hidden lg:table-cell",cell:e=>{var t;return(0,mn.jsx)("div",{className:"flex flex-wrap gap-1 max-w-[200px]",children:null===(t=e.payloadtypec2profiles)||void 0===t?void 0:t.map((e=>(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-white/5 border border-gray-700 text-[10px] font-mono text-gray-300",children:e.payloadtype.name},e.payloadtype.name)))})}},{header:"DESCRIPTION",accessorKey:"description",className:"hidden md:table-cell text-gray-400 italic text-sm max-w-md truncate"},{header:"STATUS_CHECKS",cell:e=>(0,mn.jsxs)("div",{className:"flex flex-col gap-2 text-xs font-mono",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(mm,{size:14,className:e.container_running?"text-green-500":"text-red-500"}),(0,mn.jsxs)("span",{className:e.container_running?"text-green-500":"text-red-500",children:["CONTAINER: ",e.container_running?"UP":"DOWN"]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(um,{size:14,className:e.running?"text-green-500":"text-red-500"}),(0,mn.jsxs)("span",{className:e.running?"text-green-500":"text-red-500",children:["SERVER: ",e.running?"LISTENING":"STOPPED"]})]})]})},{header:"ACTIONS",cell:e=>{const t=l===e.id;return(0,mn.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,mn.jsxs)("button",{onClick:t=>{t.stopPropagation(),u(e.id,e.running)},disabled:t,className:Wx("flex items-center gap-2 px-4 py-1.5 border transition-all duration-300 font-mono text-xs font-bold min-w-[150px] justify-center rounded",e.running?"border-red-500/50 text-red-400 hover:bg-red-500/10 hover:border-red-500":"border-green-500/50 text-green-400 hover:bg-green-500/10 hover:border-green-500",t&&"opacity-70 cursor-wait border-yellow-500 text-yellow-500"),children:[t?(0,mn.jsx)(Fd,{size:14,className:"animate-spin"}):(0,mn.jsx)(vB,{size:14}),t?"PROCESSING...":e.running?"STOP_PROFILE":"START_PROFILE"]}),(0,mn.jsx)("button",{onClick:t=>{t.stopPropagation(),s(e)},className:"p-1.5 border border-gray-700 text-gray-400 hover:text-signal hover:border-signal transition-colors rounded",children:(0,mn.jsx)(Vd,{size:16})})]})}}]),[l,u]);return(0,mn.jsxs)("div",{className:"h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void overflow-hidden flex",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)("div",{className:Wx("flex-1 h-full overflow-hidden flex flex-col transition-all duration-300 relative",t?"ml-16":"ml-64"),children:[(0,mn.jsxs)("div",{className:"flex-1 overflow-y-auto cyber-scrollbar p-6 lg:p-12",children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(yB,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"C2 PROFILES"}),(0,mn.jsxs)("p",{className:"text-xs text-gray-400 font-mono",children:["/root/network/profiles \u2022 ",(null===n||void 0===n||null===(e=n.c2profile)||void 0===e?void 0:e.length)||0," CHANNELS_DETECTED"]})]})]}),(0,mn.jsx)("button",{onClick:()=>o(),className:"p-2 border border-gray-700 hover:border-signal text-gray-400 hover:text-signal transition-colors rounded-full",children:(0,mn.jsx)(Fd,{size:20,className:r?"animate-spin":""})})]}),(0,mn.jsx)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"will-change-transform",children:(0,mn.jsx)(qT,{data:(null===n||void 0===n?void 0:n.c2profile)||[],columns:h,isLoading:r,onRowClick:e=>s(e)})})]}),(0,mn.jsx)(bB,{profile:i,isOpen:!!i,onClose:()=>s(null)})]})]})}function kB(){const{isSidebarCollapsed:e}=Zg(),[t,n]=(0,a.useState)(null),[r,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[f,m]=(0,a.useState)({top:0,left:0}),{data:g,loading:v,error:y,refetch:x}=Jf(kx,{pollInterval:5e3,fetchPolicy:"network-only"}),[b]=UT(Cx),w=e=>{n(e),s(!0),p(null)};a.useEffect((()=>{const e=()=>p(null);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[]);const k=[{header:"STATUS",className:"w-24",cell:e=>(0,mn.jsx)("div",{className:"flex items-center gap-2",children:e.complete?(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-gray-500 text-xs border border-gray-600 px-2 py-0.5 rounded-full bg-black/50",children:[(0,mn.jsx)(NF,{size:10})," COMPLETE"]}):(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-green-500 text-xs border border-green-500/50 px-2 py-0.5 rounded-full bg-green-900/10 animate-pulse",children:[(0,mn.jsx)(NB,{})," ACTIVE"]})})},{header:"NAME",accessorKey:"name",className:"font-bold text-signal",cell:e=>(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-signal",children:e.name}),e.banner_text&&(0,mn.jsx)("div",{className:"text-[10px] px-1 bg-white/10 text-white inline-block mt-1 rounded",style:{backgroundColor:e.banner_color},children:e.banner_text})]})},{header:"ADMIN",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-gray-400",children:[(0,mn.jsx)(bm,{size:14,className:"text-yellow-500"}),(0,mn.jsx)("span",{children:e.admin.username})]})},{header:"MEMBERS",cell:e=>(0,mn.jsxs)("div",{className:"flex -space-x-2",children:[e.operatoroperations.map(((e,t)=>(0,mn.jsxs)("div",{className:"w-6 h-6 rounded-full bg-gray-800 border border-gray-600 flex items-center justify-center text-[10px] text-gray-300 relative group",title:e.operator.username,children:[e.operator.username.charAt(0).toUpperCase(),"lead"===e.view_mode&&(0,mn.jsx)("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-yellow-500 rounded-full border border-black"})]},e.id))),0===e.operatoroperations.length&&(0,mn.jsx)("span",{className:"text-gray-600 text-xs italic",children:"None"})]})},{header:"",className:"w-10",cell:e=>(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();m({top:n.bottom+5,left:n.right-150}),p(h===t?null:t)})(t,e.id),className:"p-1 hover:text-signal text-gray-500 transition-colors",children:(0,mn.jsx)(ZT,{size:16})}),h===e.id&&(0,sj.createPortal)((0,mn.jsx)("div",{className:"fixed z-50 bg-black border border-signal/30 shadow-lg shadow-signal/10 w-40 backdrop-blur-md",style:{top:f.top,left:f.left},children:(0,mn.jsxs)("div",{className:"p-1 flex flex-col",children:[(0,mn.jsxs)("button",{onClick:()=>w(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[(0,mn.jsx)(JT,{size:14})," Edit Config"]}),(0,mn.jsxs)("button",{onClick:()=>(e=>{n(e),c(!0),p(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[(0,mn.jsx)(wm,{size:14})," Manage Members"]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>(e=>{n(e),u(!0),p(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-red-900/30 text-xs text-left text-red-400 hover:text-red-300 transition-colors",children:[(0,mn.jsx)(_F,{size:14})," Delete"]})]})}),document.body)]})}];return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("flex-1 transition-all duration-300 flex flex-col h-screen overflow-hidden",e?"ml-16":"ml-64"),children:(0,mn.jsxs)("div",{className:"p-6 lg:p-12 flex-1 flex flex-col",children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(fm,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest text-white uppercase",children:"OPERATIONS MANAGER"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/operations/list"})]})]}),(0,mn.jsxs)("button",{onClick:()=>{o(!0)},className:"flex items-center gap-2 px-6 py-3 bg-signal text-void font-bold font-mono text-sm hover:bg-white hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all rounded group",children:[(0,mn.jsx)(Tz,{size:18,className:"group-hover:rotate-90 transition-transform"})," NEW OPERATION"]})]}),(0,mn.jsx)("main",{className:"flex-1 overflow-y-auto",children:(0,mn.jsx)(qT,{data:(null===g||void 0===g?void 0:g.operation)||[],columns:k,isLoading:v,onRowClick:e=>w(e)})})]})}),(0,mn.jsxs)(On,{children:[r&&(0,mn.jsx)(SB,{onClose:()=>o(!1),onSuccess:()=>{o(!1),x()}}),i&&t&&(0,mn.jsx)(CB,{operation:t,onClose:()=>s(!1),onSuccess:()=>{s(!1),x()}}),l&&t&&(0,mn.jsx)(jB,{operation:t,onClose:()=>c(!1),onSuccess:()=>{c(!1),x()},operators:(null===g||void 0===g?void 0:g.operator)||[]}),d&&t&&(0,mn.jsx)(EB,{title:"DELETE_OPERATION",message:'Are you sure you want to delete operation "'.concat(t.name,'"? This action cannot be undone.'),onConfirm:async()=>{if(t){try{await b({variables:{operation_id:t.id,deleted:!0}}),sT.success("Operation deleted"),x()}catch(zQ){sT.error("Failed to delete operation: "+zQ.message)}u(!1)}},onCancel:()=>u(!1),confirmText:"DELETE",isDestructive:!0})]})]})}function NB(){return(0,mn.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,mn.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})}function _B(e){let{children:t,onClose:n}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-void border border-signal/30 w-full max-w-lg shadow-[0_0_30px_rgba(34,211,238,0.1)] relative overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-signal to-transparent opacity-50"}),t]})})}function SB(e){let{onClose:t,onSuccess:n}=e;const[r,o]=(0,a.useState)(""),[i,{loading:s}]=UT(Nx);return(0,mn.jsx)(_B,{onClose:t,children:(0,mn.jsxs)("div",{className:"p-6",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,mn.jsx)(Tz,{className:"text-signal"})," CREATE_NEW_OPERATION"]}),(0,mn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await i({variables:{name:r}}),sT.success("Operation created successfully"),n()}catch(e){sT.error("Failed to create operation: "+e.message)}},className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"OPERATION_NAME"}),(0,mn.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",placeholder:"MyOperation",autoFocus:!0})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,mn.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{type:"submit",disabled:s||!r,className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors",children:s?"CREATING...":"INITIALIZE"})]})]})]})})}function CB(e){let{operation:t,onClose:n,onSuccess:r}=e;const[o,i]=(0,a.useState)(t.name),[s,l]=(0,a.useState)(t.complete),[c,{loading:d}]=UT(_x);return(0,mn.jsx)(_B,{onClose:n,children:(0,mn.jsxs)("div",{className:"p-6",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,mn.jsx)(JT,{className:"text-signal"})," EDIT_CONFIG: ",t.name]}),(0,mn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await c({variables:{operation_id:t.id,name:o,complete:s}}),sT.success("Operation updated"),r()}catch(e){sT.error("Update failed: "+e.message)}},className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"OPERATION_NAME"}),(0,mn.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono"})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-3 border border-gray-800 p-3 bg-black/30",children:[(0,mn.jsx)("button",{type:"button",onClick:()=>l(!s),className:Wx("w-10 h-5 rounded-full relative transition-colors",s?"bg-gray-600":"bg-green-500"),children:(0,mn.jsx)("span",{className:Wx("absolute top-0.5 left-0.5 w-4 h-4 bg-white rounded-full transition-transform",s?"translate-x-5":"translate-x-0")})}),(0,mn.jsx)("span",{className:"font-mono text-sm",children:s?"STATUS: COMPLETE (Archived)":"STATUS: ACTIVE"})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,mn.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors",children:d?"UPDATING...":"SAVE_CHANGES"})]})]})]})})}function jB(e){let{operation:t,operators:n,onClose:r,onSuccess:o}=e;const[i,s]=(0,a.useState)(new Set(t.operatoroperations.map((e=>e.operator.id)))),[l,{loading:c}]=UT(Sx);return(0,mn.jsx)(_B,{onClose:r,children:(0,mn.jsxs)("div",{className:"p-6 h-[500px] flex flex-col",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 shrink-0",children:[(0,mn.jsx)(wm,{className:"text-signal"})," MANAGE_MEMBERS"]}),(0,mn.jsx)("div",{className:"flex-1 overflow-y-auto cyber-scrollbar border border-gray-800 bg-black/30 p-2 space-y-1",children:n.map((e=>{const n=i.has(e.id),r=e.id===t.admin.id;return(0,mn.jsxs)("div",{onClick:()=>!r&&(e=>{const t=new Set(i);t.has(e)?t.delete(e):t.add(e),s(t)})(e.id),className:Wx("flex items-center justify-between p-3 border border-transparent hover:bg-white/5 cursor-pointer transition-colors",n?"bg-signal/5 border-signal/20":"",r?"opacity-50 cursor-not-allowed":""),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)("div",{className:Wx("w-4 h-4 border flex items-center justify-center transition-colors",n?"bg-signal border-signal":"border-gray-600"),children:n&&(0,mn.jsx)(NF,{size:12,className:"text-void"})}),(0,mn.jsx)("span",{className:"font-mono text-sm text-gray-300",children:e.username})]}),r&&(0,mn.jsx)("span",{className:"text-[10px] text-yellow-500 font-mono",children:"ADMIN (LEAD)"}),!r&&n&&(0,mn.jsx)("span",{className:"text-[10px] text-signal font-mono",children:"MEMBER"})]},e.id)}))}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 mt-6 shrink-0",children:[(0,mn.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{type:"button",onClick:async()=>{const e=new Set(t.operatoroperations.map((e=>e.operator.id))),n=i,r=[...n].filter((t=>!e.has(t))),s=[...e].filter((e=>!n.has(e))),a=r;try{await l({variables:{operation_id:t.id,add_users:r,remove_users:s,view_mode_operators:a}}),sT.success("Members updated"),o()}catch(zQ){sT.error("Failed to update members: "+zQ.message)}},disabled:c,className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors",children:c?"UPDATING...":"CONFIRM_ACCESS"})]})]})})}function EB(e){let{title:t,message:n,onConfirm:r,onCancel:o,confirmText:i="CONFIRM",isDestructive:s=!1}=e;return(0,mn.jsx)(_B,{onClose:o,children:(0,mn.jsxs)("div",{className:"p-6 max-w-sm",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-signal",children:[(0,mn.jsx)(RT,{className:s?"text-red-500":"text-signal"})," ",t]}),(0,mn.jsx)("p",{className:"text-sm text-gray-300 mb-6 font-mono",children:n}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mn.jsx)("button",{onClick:o,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:r,className:Wx("px-6 py-2 font-bold font-mono text-sm hover:opacity-80 transition-opacity",s?"bg-red-600 text-white":"bg-signal text-void"),children:i})]})]})})}const TB=zd("shield-off",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]),AB=zd("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);function MB(e){let t=document.createElement("textarea");try{var n,r;t.value=e,""===t.value&&(t.value=" "),t.setAttribute("readonly",""),t.style={position:"absolute",left:"-9999px"},document.body.appendChild(t),t.select();let o=document.execCommand("copy");return o||console.log("failed to copy data"),o=document.execCommand("cut"),o||console.log("failed to cut data"),null===(n=navigator)||void 0===n||null===(r=n.clipboard)||void 0===r||r.writeText(t.value),document.body.removeChild(t),!0}catch(o){return document.body.removeChild(t),console.log("warning","Failed to copy to clipboard: "+o.toString()),!1}}function RB(){const{isSidebarCollapsed:e}=Zg(),[t,n]=(0,a.useState)("users"),[r,o]=(0,a.useState)(null),[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(null),[g,v]=(0,a.useState)({top:0,left:0}),{data:y,loading:x,error:b,refetch:w}=Jf(jx,{pollInterval:1e4,fetchPolicy:"network-only"}),[k]=UT(Tx),N=e=>{o(e),c(!0),m(null)};a.useEffect((()=>{const e=()=>m(null);return window.addEventListener("click",e),()=>window.removeEventListener("click",e)}),[]);const _=[{header:"ID",accessorKey:"id",className:"w-16 font-mono text-gray-500"},{header:"USERNAME",accessorKey:"username",className:"font-bold text-signal",cell:e=>(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-signal",children:e.username}),e.admin&&(0,mn.jsx)(bm,{size:12,className:"text-yellow-500"})]})},{header:"STATUS",cell:e=>(0,mn.jsx)("div",{className:"flex items-center gap-2",children:e.active?(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-green-500 text-xs border border-green-500/50 px-2 py-0.5 rounded-full bg-green-900/10 animate-pulse",children:[(0,mn.jsx)(NF,{size:10})," ACTIVE"]}):(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-red-500 text-xs border border-red-500/50 px-2 py-0.5 rounded-full bg-red-900/10",children:[(0,mn.jsx)(nF,{size:10})," INACTIVE"]})})},{header:"LAST LOGIN",accessorKey:"last_login",className:"font-mono text-xs text-gray-400",cell:e=>e.last_login?new Date(e.last_login).toLocaleString():"NEVER"},{header:"",className:"w-10",cell:e=>(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)("button",{onClick:t=>((e,t)=>{e.stopPropagation();const n=e.currentTarget.getBoundingClientRect();v({top:n.bottom+5,left:n.right-160}),m(f===t?null:t)})(t,e.id),className:"p-1 hover:text-signal text-gray-500 transition-colors",children:(0,mn.jsx)(ZT,{size:16})}),f===e.id&&(0,sj.createPortal)((0,mn.jsx)("div",{className:"fixed z-50 bg-black border border-signal/30 shadow-lg shadow-signal/10 w-40 backdrop-blur-md",style:{top:g.top,left:g.left},children:(0,mn.jsxs)("div",{className:"p-1 flex flex-col",children:[(0,mn.jsxs)("button",{onClick:()=>N(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[(0,mn.jsx)(JT,{size:14})," Edit Profile"]}),(0,mn.jsxs)("button",{onClick:()=>(e=>{o(e),u(!0),m(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[(0,mn.jsx)(KT,{size:14})," Change Password"]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{await k({variables:{operator_id:e.id,active:!e.active}}),sT.success("User ".concat(e.active?"deactivated":"activated")),w()}catch(zQ){sT.error("Failed to update status: "+zQ.message)}m(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[e.active?(0,mn.jsx)(nF,{size:14,className:"text-red-400"}):(0,mn.jsx)(NF,{size:14,className:"text-green-400"}),e.active?"Deactivate":"Activate"]}),(0,mn.jsxs)("button",{onClick:()=>(async e=>{try{await k({variables:{operator_id:e.id,admin:!e.admin}}),sT.success("User admin privileges ".concat(e.admin?"revoked":"granted")),w()}catch(zQ){sT.error("Failed to update admin status: "+zQ.message)}m(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-white/10 text-xs text-left text-gray-300 hover:text-signal transition-colors",children:[e.admin?(0,mn.jsx)(TB,{size:14,className:"text-yellow-500"}):(0,mn.jsx)(bm,{size:14,className:"text-yellow-500"}),e.admin?"Revoke Admin":"Make Admin"]}),(0,mn.jsx)("div",{className:"h-px bg-white/10 my-1"}),(0,mn.jsxs)("button",{onClick:()=>(e=>{o(e),p(!0),m(null)})(e),className:"flex items-center gap-2 px-3 py-2 hover:bg-red-900/30 text-xs text-left text-red-400 hover:text-red-300 transition-colors",children:[(0,mn.jsx)(_F,{size:14})," Delete"]})]})}),document.body)]})}];return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("transition-all duration-300 p-6 lg:p-12 h-screen flex flex-col overflow-hidden",e?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(wm,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"USER MANAGEMENT"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/users/admin"})]})]}),"users"===t&&(0,mn.jsxs)("button",{onClick:()=>{s(!0)},className:"flex items-center gap-2 px-6 py-3 bg-signal text-void font-bold font-mono text-sm hover:bg-white hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all rounded",children:[(0,mn.jsx)(AB,{size:18})," NEW OPERATOR"]})]}),(0,mn.jsxs)("div",{className:"flex gap-1 mb-6 border-b border-signal/20",children:[(0,mn.jsxs)("button",{onClick:()=>n("users"),className:Wx("flex items-center gap-2 px-6 py-3 text-sm font-medium uppercase tracking-wider transition-colors border-b-2 -mb-px","users"===t?"text-signal border-signal":"text-gray-500 border-transparent hover:text-gray-300"),children:[(0,mn.jsx)(wm,{size:16}),"Operators"]}),(0,mn.jsxs)("button",{onClick:()=>n("invites"),className:Wx("flex items-center gap-2 px-6 py-3 text-sm font-medium uppercase tracking-wider transition-colors border-b-2 -mb-px","invites"===t?"text-signal border-signal":"text-gray-500 border-transparent hover:text-gray-300"),children:[(0,mn.jsx)(tF,{size:16}),"Invite Links"]})]}),(0,mn.jsxs)("main",{className:"",children:["users"===t&&(0,mn.jsx)(qT,{data:[...(null===y||void 0===y?void 0:y.operator)||[]].sort(((e,t)=>e.id-t.id)),columns:_,isLoading:x,onRowClick:e=>N(e)}),"invites"===t&&(0,mn.jsx)($B,{})]})]}),(0,mn.jsxs)(On,{children:[i&&(0,mn.jsx)(IB,{onClose:()=>s(!1),onSuccess:()=>{s(!1),w()}}),l&&r&&(0,mn.jsx)(LB,{user:r,onClose:()=>c(!1),onSuccess:()=>{c(!1),w()}}),d&&r&&(0,mn.jsx)(DB,{user:r,onClose:()=>u(!1),onSuccess:()=>{u(!1),w()}}),h&&r&&(0,mn.jsx)(PB,{title:"DELETE_USER",message:'Are you sure you want to delete user "'.concat(r.username,'"? This action cannot be undone.'),onConfirm:async()=>{if(r){try{await k({variables:{operator_id:r.id,deleted:!0}}),sT.success("User deleted"),w()}catch(zQ){sT.error("Failed to delete user: "+zQ.message)}p(!1)}},onCancel:()=>p(!1),confirmText:"DELETE",isDestructive:!0})]})]})}function OB(e){let{children:t,onClose:n}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:e=>e.stopPropagation(),className:"bg-void border border-signal/30 w-full max-w-md shadow-[0_0_30px_rgba(34,211,238,0.1)] relative overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-signal to-transparent opacity-50"}),t]})})}function IB(e){let{onClose:t,onSuccess:n}=e;const[r,o]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(""),[h,{loading:p}]=UT(Ex);return(0,mn.jsx)(OB,{onClose:t,children:(0,mn.jsxs)("div",{className:"p-6",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,mn.jsx)(AB,{className:"text-signal"})," NEW_OPERATOR"]}),(0,mn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i===l)try{var t;const e={username:r,password:i,email:d||"",bot:!1};console.log("Creating operator with variables:",e);const{data:s}=await h({variables:e});var o;if(console.log("Create operator response:",s),"success"===(null===s||void 0===s||null===(t=s.createOperator)||void 0===t?void 0:t.status))sT.success("Operator created successfully"),n();else sT.error("Failed to create operator: "+((null===s||void 0===s||null===(o=s.createOperator)||void 0===o?void 0:o.error)||"Unknown error"))}catch(e){console.error("Create operator error:",e),sT.error("Failed to create operator: "+e.message)}else sT.error("Passwords do not match")},className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"USERNAME"}),(0,mn.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",required:!0})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"PASSWORD"}),(0,mn.jsx)("input",{type:"password",value:i,onChange:e=>s(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",required:!0})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"CONFIRM PASSWORD"}),(0,mn.jsx)("input",{type:"password",value:l,onChange:e=>c(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",required:!0})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"EMAIL (Optional)"}),(0,mn.jsx)("input",{type:"email",value:d,onChange:e=>u(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono"})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,mn.jsx)("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{type:"submit",disabled:p||!r||!i||!l,className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors",children:p?"CREATING...":"CREATE"})]})]})]})})}function LB(e){let{user:t,onClose:n,onSuccess:r}=e;const[o,i]=(0,a.useState)(t.username),[s,{loading:l}]=UT(Mx);return(0,mn.jsx)(OB,{onClose:n,children:(0,mn.jsxs)("div",{className:"p-6",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,mn.jsx)(JT,{className:"text-signal"})," EDIT_PROFILE"]}),(0,mn.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await s({variables:{id:t.id,username:o}}),sT.success("Profile updated"),r()}catch(e){sT.error("Update failed: "+e.message)}},className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"USERNAME"}),(0,mn.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",required:!0})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,mn.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{type:"submit",disabled:l,className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors",children:l?"SAVING...":"SAVE_CHANGES"})]})]})]})})}function DB(e){let{user:t,onClose:n,onSuccess:r}=e;const[o,i]=(0,a.useState)(""),[s,l]=(0,a.useState)(""),[c,d]=(0,a.useState)(t.email||""),[u,{loading:h}]=UT(Ax);return(0,mn.jsx)(OB,{onClose:n,children:(0,mn.jsxs)("div",{className:"p-6",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[(0,mn.jsx)(KT,{className:"text-signal"})," UPDATE_CREDENTIALS"]}),(0,mn.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o===s)try{await u({variables:{user_id:t.id,new_password:o,email:c}}),sT.success("Credentials updated"),r()}catch(e){sT.error("Update failed: "+e.message)}else sT.error("Passwords do not match")},className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"NEW_PASSWORD"}),(0,mn.jsx)("input",{type:"password",value:o,onChange:e=>i(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",required:!0})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"CONFIRM_PASSWORD"}),(0,mn.jsx)("input",{type:"password",value:s,onChange:e=>l(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono",required:!0})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-500 mb-1",children:"EMAIL"}),(0,mn.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal focus:border-signal outline-none font-mono"})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,mn.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{type:"submit",disabled:h||!o||!s,className:"px-6 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors",children:h?"UPDATING...":"UPDATE"})]})]})]})})}function PB(e){let{title:t,message:n,onConfirm:r,onCancel:o,confirmText:i="CONFIRM",isDestructive:s=!1}=e;return(0,mn.jsx)(OB,{onClose:o,children:(0,mn.jsxs)("div",{className:"p-6 max-w-sm",children:[(0,mn.jsxs)("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-signal",children:[(0,mn.jsx)(RT,{className:s?"text-red-500":"text-signal"})," ",t]}),(0,mn.jsx)("p",{className:"text-sm text-gray-300 mb-6 font-mono",children:n}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mn.jsx)("button",{onClick:o,className:"px-4 py-2 text-gray-400 hover:text-white font-mono text-sm",children:"CANCEL"}),(0,mn.jsx)("button",{onClick:r,className:Wx("px-6 py-2 font-bold font-mono text-sm hover:opacity-80 transition-opacity",s?"bg-red-600 text-white":"bg-signal text-void"),children:i})]})]})})}const $B=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)([]),[c,{loading:d}]=Yz(zx,{fetchPolicy:"no-cache",onCompleted:e=>{var n,r;if("error"===(null===(n=e.getInviteLinks)||void 0===n?void 0:n.status))return void sT.error(e.getInviteLinks.error);const o=[...(null===(r=e.getInviteLinks)||void 0===r?void 0:r.links)||[]];o.sort(((e,t)=>e.valid?-1:t.valid?1:0)),t(o)}});Jf(Vx,{onCompleted:e=>{var t;const n=(null===(t=e.operation)||void 0===t?void 0:t.filter((e=>!e.deleted&&!e.complete)))||[];n.sort(((e,t)=>e.name.localeCompare(t.name))),l(n)}}),(0,a.useEffect)((()=>{c()}),[]);return(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mn.jsx)("p",{className:"text-sm text-gray-400",children:"Generate invite links for new operators to register"}),(0,mn.jsxs)("div",{className:"flex gap-2",children:[(0,mn.jsx)("button",{onClick:()=>{c()},className:"p-2 border border-signal/30 text-signal hover:bg-signal/10 transition-colors",children:(0,mn.jsx)(Fd,{size:16,className:d?"animate-spin":""})}),(0,mn.jsxs)("button",{onClick:()=>{i(null),r(!0)},className:"flex items-center gap-2 px-4 py-2 bg-signal text-black text-sm font-medium uppercase tracking-wider hover:bg-signal/80 transition-colors",children:[(0,mn.jsx)(Tz,{size:16}),"Generate Link"]})]})]}),(0,mn.jsx)("div",{className:"border border-signal/20 overflow-hidden",children:(0,mn.jsxs)("table",{className:"w-full",children:[(0,mn.jsx)("thead",{children:(0,mn.jsxs)("tr",{className:"bg-signal/10 border-b border-signal/20",children:[(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-signal uppercase tracking-wider",children:"Code"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-signal uppercase tracking-wider",children:"Name"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-signal uppercase tracking-wider",children:"Creator"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-signal uppercase tracking-wider",children:"Assignment"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-signal uppercase tracking-wider",children:"Usage"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-signal uppercase tracking-wider",children:"Actions"})]})}),(0,mn.jsx)("tbody",{children:0===e.length?(0,mn.jsx)("tr",{children:(0,mn.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500 text-sm",children:"No invite links generated yet"})}):e.map((e=>(0,mn.jsxs)("tr",{className:"border-b border-signal/10 hover:bg-signal/5 transition-colors ".concat(e.valid?"":"opacity-50"),children:[(0,mn.jsx)("td",{className:"px-4 py-3",children:(0,mn.jsx)("span",{className:"text-sm font-mono ".concat(e.valid?"text-white":"line-through text-gray-500"),children:e.code})}),(0,mn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.name||"-"}),(0,mn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.operator}),(0,mn.jsx)("td",{className:"px-4 py-3 text-sm text-gray-300",children:e.operation_id>0?(0,mn.jsx)("span",{className:"text-signal",children:e.operation_role}):"-"}),(0,mn.jsxs)("td",{className:"px-4 py-3",children:[(0,mn.jsx)("span",{className:"text-sm font-medium ".concat(e.used>=e.total?"text-red-400":"text-green-400"),children:e.used}),(0,mn.jsxs)("span",{className:"text-gray-500",children:[" / ",e.total]})]}),(0,mn.jsx)("td",{className:"px-4 py-3",children:(0,mn.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[e.valid&&(0,mn.jsx)("button",{onClick:()=>(e=>{MB(e),sT.success("Link copied to clipboard")})(e.link),className:"p-1.5 text-gray-400 hover:text-signal hover:bg-signal/10 transition-colors",title:"Copy Link",children:(0,mn.jsx)(rF,{size:14})}),(0,mn.jsx)("button",{onClick:()=>{i(e),r(!0)},className:"p-1.5 text-gray-400 hover:text-blue-400 hover:bg-blue-400/10 transition-colors",title:"Edit",children:(0,mn.jsx)(HF,{size:14})})]})})]},e.code)))})]})}),(0,mn.jsx)(On,{children:n&&(0,mn.jsx)(zB,{onClose:()=>{r(!1),i(null),c()},existingLink:o,operations:s})})]})},zB=e=>{let{onClose:t,existingLink:n,operations:r}=e;const o=!n,[i,l]=(0,a.useState)({name:(null===n||void 0===n?void 0:n.name)||"",short_code:(null===n||void 0===n?void 0:n.code)||"",operation_id:(null===n||void 0===n?void 0:n.operation_id)||0,operation_role:(null===n||void 0===n?void 0:n.operation_role)||"spectator",total:(null===n||void 0===n?void 0:n.total)||1}),[c]=UT(Fx,{onCompleted:e=>{"success"===e.createInviteLink.status?(MB(e.createInviteLink.link),sT.success("Invite link created and copied to clipboard"),t()):sT.error(e.createInviteLink.error)},onError:()=>{sT.error("Failed to create invite link")}}),[d]=UT(Bx,{onCompleted:e=>{"success"===e.updateInviteLink.status?(sT.success("Invite link updated"),t()):sT.error(e.updateInviteLink.error)},onError:()=>{sT.error("Failed to update invite link")}});return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:t,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-black border border-signal/40 w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-signal/20",children:[(0,mn.jsxs)("h2",{className:"text-lg font-medium text-white uppercase tracking-wider",children:[o?"Create":"Edit"," Invite Link"]}),(0,mn.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white",children:(0,mn.jsx)(nA,{size:20})})]}),(0,mn.jsxs)("div",{className:"p-6 space-y-4",children:[(0,mn.jsxs)("div",{className:"text-xs text-yellow-500/80 flex items-center gap-2 mb-4",children:[(0,mn.jsx)(RT,{size:14}),(0,mn.jsx)("span",{children:"Note: Invite links are deleted if Mythic restarts"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Invite Code Name"}),(0,mn.jsx)("input",{type:"text",value:i.name,onChange:e=>l(s(s({},i),{},{name:e.target.value})),disabled:!o,className:"w-full bg-black/60 border border-signal/30 px-3 py-2 text-sm text-white focus:outline-none focus:border-signal disabled:opacity-50",placeholder:"Descriptive name for link..."})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Custom Invite Code"}),(0,mn.jsx)("input",{type:"text",value:i.short_code,onChange:e=>l(s(s({},i),{},{short_code:e.target.value})),disabled:!o,className:"w-full bg-black/60 border border-signal/30 px-3 py-2 text-sm text-white focus:outline-none focus:border-signal disabled:opacity-50",placeholder:"Custom code (optional)..."})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Assign to Operation"}),(0,mn.jsxs)("select",{value:i.operation_id,onChange:e=>l(s(s({},i),{},{operation_id:parseInt(e.target.value)})),disabled:!o,className:"w-full bg-black/60 border border-signal/30 px-3 py-2 text-sm text-white focus:outline-none focus:border-signal disabled:opacity-50",children:[(0,mn.jsx)("option",{value:0,children:"No operation assignment"}),r.map((e=>(0,mn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),i.operation_id>0&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Operation Role"}),(0,mn.jsxs)("select",{value:i.operation_role,onChange:e=>l(s(s({},i),{},{operation_role:e.target.value})),disabled:!o,className:"w-full bg-black/60 border border-signal/30 px-3 py-2 text-sm text-white focus:outline-none focus:border-signal disabled:opacity-50",children:[(0,mn.jsx)("option",{value:"spectator",children:"Spectator"}),(0,mn.jsx)("option",{value:"operator",children:"Operator"})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-xs text-gray-400 uppercase tracking-wider mb-2",children:"Total Uses Allowed"}),(0,mn.jsx)("input",{type:"number",min:1,value:i.total,onChange:e=>l(s(s({},i),{},{total:Math.max(1,parseInt(e.target.value)||1)})),className:"w-full bg-black/60 border border-signal/30 px-3 py-2 text-sm text-white focus:outline-none focus:border-signal"})]})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-signal/20",children:[(0,mn.jsx)("button",{onClick:t,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,mn.jsx)("button",{onClick:()=>{o?c({variables:i}):d({variables:{code:i.short_code,total:i.total}})},className:"px-6 py-2 bg-signal text-black text-sm font-medium uppercase tracking-wider hover:bg-signal/80 transition-colors",children:o?"Create":"Update"})]})]})})},FB=zd("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),BB=e=>{var t;let{task:n}=e,r="---";try{r=new Date(n.timestamp).toLocaleTimeString()}catch(zQ){}let o="text-yellow-500",i="border-yellow-500/50";const s=(n.status||"").toLowerCase();s.includes("error")?(o="text-red-500",i="border-red-500/50"):"completed"!==s&&"success"!==s||(o="text-signal",i="border-signal/50");const a=e=>{if(!e||e<0)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,t)).toFixed(1)," ").concat(["B","KB","MB","GB","TB"][t])};return(0,mn.jsxs)("div",{className:Wx("mb-4 border-l-2 pl-4 py-2 bg-white/5 rounded-r transition-all group hover:bg-white/10",i),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-[10px] font-mono mb-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,mn.jsx)("span",{className:"text-blue-400 font-bold",children:(null===(t=n.operator)||void 0===t?void 0:t.username)||"Unknown"}),(0,mn.jsx)("span",{children:"@"}),(0,mn.jsxs)("span",{children:["CALLBACK ",n.display_id]}),(0,mn.jsx)("span",{className:"mx-1",children:"|"}),(0,mn.jsx)("span",{children:r})]}),(0,mn.jsxs)("div",{className:"font-mono text-sm text-white font-bold mb-3 flex items-start gap-2",children:[(0,mn.jsx)("span",{className:"text-signal mt-0.5",children:"$"}),(0,mn.jsxs)("div",{className:"break-all",children:[(0,mn.jsx)("span",{className:"text-yellow-200",children:n.command_name}),(0,mn.jsx)("span",{className:"ml-2 text-gray-300",children:n.display_params})]})]}),(0,mn.jsxs)("div",{className:Wx("text-[10px] uppercase tracking-wider font-bold mb-2 flex items-center gap-2",o),children:[s,"completed"!==s&&"success"!==s&&!s.includes("error")&&(0,mn.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-current animate-pulse"})]}),(0,mn.jsxs)("div",{className:"font-mono text-xs text-gray-200 whitespace-pre-wrap break-words bg-black/40 p-3 rounded border border-white/5 shadow-inner select-text space-y-2",children:[(e=>{const t=new Map,r=[];return null===(e=n.responses)||void 0===e||e.forEach((e=>{let n=e.response;try{const e=n.replace(/\s/g,"");if(e.length>0&&e.length%4===0&&/^[A-Za-z0-9+/=]+$/.test(e)){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);n=new TextDecoder("utf-8").decode(r)}}catch(zQ){}const o=(e=>{try{return JSON.parse(e)}catch(FQ){return null}})(n);if(o&&o.files&&Array.isArray(o.files)){const e="".concat(o.directory||o.name||o.parent_path||"Unknown","|").concat(o.host||"");t.has(e)||t.set(e,{directory:o.directory||o.name||o.parent_path||"Unknown",host:o.host||"",files:new Map});const n=t.get(e);o.files.forEach((e=>{const t=e.full_name||e.name||"".concat(e.name,"-").concat(e.size);n.files.has(t)||n.files.set(t,e)}))}else r.push({id:e.id,content:n,parsed:o})})),(0,mn.jsxs)(mn.Fragment,{children:[Array.from(t.entries()).map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{className:"space-y-2",children:[(0,mn.jsxs)("div",{className:"text-signal font-bold text-xs",children:["Directory: ",n.directory," (",n.host,")"]}),(0,mn.jsx)("div",{className:"space-y-1",children:Array.from(n.files.values()).map(((e,n)=>(0,mn.jsxs)("div",{className:"grid grid-cols-6 gap-2 bg-white/5 border border-white/10 p-2 rounded",children:[(0,mn.jsxs)("div",{className:"col-span-2 text-white truncate",title:e.full_name||e.name,children:[e.is_file?"\ud83d\udcc4":"\ud83d\udcc1"," ",e.name]}),(0,mn.jsx)("div",{className:"text-gray-400 truncate",title:e.full_name,children:e.full_name}),(0,mn.jsx)("div",{className:"text-gray-400",children:e.is_file?a(e.size):"-"}),(0,mn.jsx)("div",{className:"text-gray-500 truncate",title:e.extended_attributes,children:e.extended_attributes||"-"}),(0,mn.jsx)("div",{className:"text-gray-500 truncate",title:e.owner,children:e.owner||"-"})]},"".concat(t,"-").concat(n))))})]},t)})),r.map((e=>{var t;const{id:n,content:r,parsed:o}=e;return Array.isArray(o)&&o.length>0&&void 0!==(null===(t=o[0])||void 0===t?void 0:t.process_id)?(0,mn.jsx)("div",{className:"space-y-1",children:o.map(((e,t)=>{var r,o,i,s;return(0,mn.jsxs)("details",{className:"bg-white/5 border border-white/10 rounded px-2 py-1",children:[(0,mn.jsxs)("summary",{className:"flex items-center gap-3 cursor-pointer text-white",children:[(0,mn.jsxs)("span",{className:"font-bold truncate",children:[e.name||"(unknown)"," (PID ",e.process_id,") ",e.window_title?"- ".concat(e.window_title):""]}),(0,mn.jsx)("span",{className:"text-xs text-gray-400 truncate",children:e.user||""}),(0,mn.jsxs)("span",{className:"text-xs text-gray-500",children:["PPID ",null!==(r=e.parent_process_id)&&void 0!==r?r:"-"]}),(0,mn.jsxs)("span",{className:"text-xs text-gray-500",children:["IL ",null!==(o=e.integrity_level)&&void 0!==o?o:"-"]}),(0,mn.jsx)("span",{className:"text-xs text-gray-500",children:e.architecture||""})]}),(0,mn.jsxs)("div",{className:"mt-2 text-xs text-gray-200 space-y-1 break-all",children:[e.description&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Desc:"})," ",e.description]}),e.company_name&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Company:"})," ",e.company_name]}),e.signer&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Signer:"})," ",e.signer]}),e.bin_path&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Bin:"})," ",e.bin_path]}),e.command_line&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Cmd:"})," ",e.command_line]}),(0,mn.jsxs)("div",{className:"flex gap-4 text-gray-500",children:[(0,mn.jsxs)("span",{children:["Session: ",null!==(i=e.session_id)&&void 0!==i?i:"-"]}),(0,mn.jsxs)("span",{children:["Start: ",null!==(s=e.start_time)&&void 0!==s?s:"-"]})]})]})]},"".concat(n,"-proc-").concat(t))}))},n):(0,mn.jsx)("div",{className:"mb-1",children:r},n)}))]})})(),(!n.responses||0===n.responses.length)&&(0,mn.jsx)("span",{className:"text-gray-600 italic opacity-50",children:"Waiting for output..."})]})]})},VB=e=>{let{callbackId:t,callbackUUID:n}=e;const r=(0,a.useRef)(null),o=(0,a.useRef)(null),[i,s]=(0,a.useState)(""),[l,{loading:c}]=UT(fx),{data:d,loading:u,startPolling:h,stopPolling:p}=Jf(px,{variables:{callback_display_id:t},pollInterval:2e3,fetchPolicy:"network-only"});(0,a.useEffect)((()=>(h(2e3),()=>p())),[h,p]),(0,a.useEffect)((()=>{var e;null===(e=r.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[d,u]),(0,a.useEffect)((()=>{var e;null===(e=o.current)||void 0===e||e.focus()}),[]);const f=async()=>{if(i.trim()&&!c){const r=i.trim(),a=r.indexOf(" ");let c=r,d="";-1!==a&&(c=r.substring(0,a),d=r.substring(a+1));try{var e;await l({variables:{callback_id:t,command:c,params:d}}),s(""),null===(e=o.current)||void 0===e||e.focus()}catch(n){console.error("Tasking failed:",n)}}},m=(null===d||void 0===d?void 0:d.task)||[];return(0,mn.jsxs)("div",{className:"flex flex-col h-full bg-black/80 border border-signal/30 font-mono text-sm shadow-[0_0_20px_rgba(34,197,94,0.1)] relative overflow-hidden transition-colors duration-500",children:[(0,mn.jsx)("div",{className:"absolute inset-0 pointer-events-none opacity-5 bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.5)_50%)] bg-[length:100%_4px]"}),(0,mn.jsxs)("div",{className:"bg-signal/10 p-2 border-b border-signal/20 flex items-center justify-between z-10 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:14,className:"text-signal"}),(0,mn.jsx)("span",{className:"text-signal font-bold tracking-wider text-xs",children:"TERMINAL_UPLINK"})]}),(0,mn.jsx)("div",{className:"flex gap-1",children:(0,mn.jsx)("div",{className:"w-2 h-2 rounded-full bg-signal animate-pulse"})})]}),(0,mn.jsxs)("div",{className:"flex-1 overflow-auto p-4 space-y-4 cyber-scrollbar z-10",children:[m.map((e=>(0,mn.jsx)(BB,{task:e},e.id))),0===m.length&&!u&&(0,mn.jsx)("div",{className:"text-gray-500 italic opacity-50 text-center mt-10",children:"Session initialized. Ready for input."}),(0,mn.jsx)("div",{ref:r})]}),(0,mn.jsxs)("div",{className:"p-3 bg-black border-t border-signal/20 flex items-center gap-2 z-10 shrink-0",children:[(0,mn.jsx)("span",{className:"text-signal animate-pulse font-bold",children:"$"}),(0,mn.jsx)("input",{ref:o,type:"text",value:i,onChange:e=>s(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f())},disabled:c,className:"flex-1 bg-transparent border-none outline-none text-white placeholder-gray-600 font-mono disabled:opacity-50",placeholder:c?"Transmitting...":"Enter command...",autoFocus:!0}),(0,mn.jsx)("button",{onClick:f,disabled:c,className:"p-1 hover:bg-white/10 rounded text-signal transition-colors disabled:opacity-50",children:c?(0,mn.jsx)(um,{size:16,className:"animate-spin"}):(0,mn.jsx)(FB,{size:16})})]})]})},WB=()=>(0,mn.jsx)("svg",{viewBox:"0 0 88 88",className:"w-full h-full",fill:"currentColor",children:(0,mn.jsx)("path",{d:"M0 12.402l35.687-4.86.016 34.423-35.67.203L0 12.402zm35.67 33.529l.028 34.453L.028 75.48.001 46.096l35.67-.165zm4.275-38.35l47.96-6.791.139 38.65-48.067.264-.031-32.123zm.062 36.333l47.996.227-.123 38.835-47.906-6.666.033-32.396z"})}),HB=()=>(0,mn.jsxs)("svg",{viewBox:"0 0 24 24",className:"w-full h-full",fill:"currentColor",children:[(0,mn.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm0 2.5c2.5 0 4.5 2 4.5 4.5S14.5 11.5 12 11.5 7.5 9.5 7.5 7 9.5 2.5 12 2.5zm0 19c-3.5 0-6.5-2-6.5-5.5S8.5 10.5 12 10.5s6.5 2 6.5 5.5-3 12-6.5 12z"}),(0,mn.jsx)("path",{d:"M20.057 16.518c.245.545.215 1.17-.082 1.688-.296.518-.832.846-1.428.875-1.127.054-2.185.346-3.136.815-.93.458-1.76.994-2.505 1.583-.346.273-.77.42-1.205.42-.42 0-.83-.138-1.173-.395-.73-.55-1.543-1.05-2.45-1.474-.937-.44-1.98-.71-3.093-.76-.596-.026-1.133-.355-1.43-.873-.298-.518-.328-1.143-.083-1.69.873-1.95 2.38-3.56 4.318-4.57 1.056-.55 2.222-.84 3.408-.84 1.258 0 2.484.324 3.58.945 1.86.99 3.42 2.52 4.28 4.27zM12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2z",opacity:"0.5"})]}),UB=()=>(0,mn.jsx)("svg",{viewBox:"0 0 24 24",className:"w-full h-full",fill:"currentColor",children:(0,mn.jsx)("path",{d:"M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.21-1.98 1.07-3.11-1.04.05-2.29.69-3.02 1.55-.65.75-1.21 1.95-1.06 3.04 1.15.09 2.33-.63 3.01-1.48"})}),GB=e=>{var t,n;let{callback:r}=e;return(0,mn.jsxs)("div",{className:"mt-auto pt-6 border-t border-white/10 flex flex-col items-center pb-4",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-4",children:"NODE_TOPOLOGY_PREVIEW"}),(0,mn.jsxs)("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[(0,mn.jsx)("div",{className:"absolute inset-0 border border-signal/30 bg-signal/5",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"}}),(0,mn.jsx)("div",{className:"absolute inset-2 border border-signal/10",style:{clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)"}}),(0,mn.jsx)("div",{className:"absolute inset-0 bg-signal/10 blur-xl rounded-full animate-pulse"}),(0,mn.jsx)("div",{className:"w-12 h-12 text-signal relative z-10 drop-shadow-[0_0_5px_rgba(34,197,94,0.8)]",children:((e,t)=>{const n=(null===e||void 0===e?void 0:e.toLowerCase())||"",r=(null===t||void 0===t?void 0:t.toLowerCase())||"";return n.includes("windows")||r.includes("apollo")?(0,mn.jsx)(WB,{}):n.includes("linux")||r.includes("poseidon")?(0,mn.jsx)(HB,{}):n.includes("mac")||n.includes("darwin")?(0,mn.jsx)(UB,{}):(0,mn.jsx)(Cz,{size:24})})(r.os,null===(t=r.payload)||void 0===t||null===(n=t.payloadtype)||void 0===n?void 0:n.name)}),(0,mn.jsx)("div",{className:"absolute -bottom-4 bg-black/90 border border-signal/50 px-3 py-1 text-[10px] font-mono text-signal shadow-[0_0_10px_rgba(34,197,94,0.3)] whitespace-nowrap z-20",children:r.host})]})]})},qB=e=>{const t=new Map,n=[];e.forEach((e=>{const r=(e=>{var t,n,r,o,i,s;let a={};try{"string"===typeof e.metadata?a=JSON.parse(e.metadata):"object"===typeof e.metadata&&null!==e.metadata&&(a=e.metadata)}catch(zQ){}return{pid:null!==(t=null!==(n=a.process_id)&&void 0!==n?n:a.pid)&&void 0!==t?t:0,ppid:null!==(r=null!==(o=a.parent_process_id)&&void 0!==o?o:a.ppid)&&void 0!==r?r:0,user:a.user||"Unknown",arch:a.architecture||a.arch||"",integrityLevel:null!==(i=a.integrity_level)&&void 0!==i?i:"-",sessionId:null!==(s=a.session_id)&&void 0!==s?s:"-",binPath:a.bin_path||a.path||"-",cmdLine:a.command_line||a.cmd||"-",description:a.description||"",signer:a.signer||"",companyName:a.company_name||"",windowTitle:a.window_title||""}})(e),o={proc:e,details:r,children:[],depth:0};t.set(r.pid,o),n.push(o)}));const r=[];n.forEach((e=>{const n=t.get(e.details.ppid);n&&n!==e?n.children.push(e):r.push(e)}));const o=(e,t)=>{e.sort(((e,t)=>e.details.pid-t.details.pid)),e.forEach((e=>{e.depth=t,o(e.children,t+1)}))};o(r,0);const i=e=>{const t=[];return e.forEach((e=>{t.push(e),t.push(...i(e.children))})),t};return i(r)},KB=e=>{let{host:t}=e;const[n,r]=(0,a.useState)(new Set),{data:o,loading:i,error:s,refetch:l}=Jf(Dx,{variables:{host:t},pollInterval:1e4});if(i)return(0,mn.jsx)("div",{className:"p-4 text-gray-500 animate-pulse font-mono text-xs flex items-center justify-center h-full",children:"SCANNING_PROCESS_MEMORY..."});if(s)return(0,mn.jsxs)("div",{className:"p-4 text-red-500 font-mono text-xs",children:["PROC_ERROR: ",s.message]});const c=(null===o||void 0===o?void 0:o.mythictree)||[],d=new Map;c.forEach((e=>{const t=e.full_path_text||e.name_text||e.id;d.has(t)||d.set(t,e)}));const u=Array.from(d.values()),h=qB(u);return 0===h.length?(0,mn.jsxs)("div",{className:"h-full p-4 text-gray-400 font-mono text-xs flex flex-col items-center justify-center border border-dashed border-gray-700 bg-black/20",children:[(0,mn.jsx)(um,{size:32,className:"mb-2 opacity-50 text-red-500"}),(0,mn.jsx)("p",{className:"text-lg text-signal",children:"NO_PROCESS_DATA"}),(0,mn.jsxs)("p",{className:"text-[10px] text-gray-500 mt-2 text-center max-w-xs",children:["Process list is empty. Execute ",(0,mn.jsx)("span",{className:"text-white font-bold",children:"ps"})," command in the terminal to capture running processes."]}),(0,mn.jsxs)("button",{onClick:()=>l(),className:"mt-6 px-4 py-2 bg-signal/10 hover:bg-signal/20 border border-signal/30 text-signal rounded transition-all flex items-center gap-2 text-xs",children:[(0,mn.jsx)(um,{size:12}),"REFRESH_DATA"]})]}):(0,mn.jsx)("div",{className:"h-full overflow-auto cyber-scrollbar",children:(0,mn.jsxs)("table",{className:"w-full text-xs font-mono text-left border-collapse",children:[(0,mn.jsx)("thead",{className:"bg-black/40 text-gray-500 sticky top-0 z-10 backdrop-blur-sm",children:(0,mn.jsxs)("tr",{children:[(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 w-20",children:"PID"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10",children:"NAME"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 hidden sm:table-cell",children:"USER"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 hidden md:table-cell w-20",children:"ARCH"})]})}),(0,mn.jsx)("tbody",{className:"divide-y divide-white/5",children:h.map((e=>{const{proc:t,details:o,children:i,depth:s}=e,{pid:l,ppid:c,user:d,arch:u,integrityLevel:h,sessionId:p,binPath:f,cmdLine:m,description:g,signer:v,companyName:y}=o,x=n.has(l),b=i.length>0,w=16*s;return(0,mn.jsxs)(a.Fragment,{children:[(0,mn.jsxs)("tr",{className:Wx("hover:bg-white/5 transition-colors group cursor-pointer",x?"bg-white/10":""),onClick:()=>(e=>{r((t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n}))})(l),children:[(0,mn.jsx)("td",{className:"p-2 text-signal font-bold",children:l||"---"}),(0,mn.jsx)("td",{className:"p-2",children:(0,mn.jsxs)("div",{className:"flex items-center",style:{paddingLeft:"".concat(w,"px")},children:[s>0&&(0,mn.jsx)("span",{className:"text-gray-600 mr-1",children:"\u2514\u2500"}),b&&(0,mn.jsx)("span",{className:"text-signal mr-1",children:x?"\u25bc":"\u25b6"}),(0,mn.jsx)("span",{className:"text-white group-hover:text-yellow-400 transition-colors truncate",title:t.name_text,children:t.name_text})]})}),(0,mn.jsx)("td",{className:"p-2 text-gray-400 hidden sm:table-cell truncate max-w-[100px]",title:d,children:d}),(0,mn.jsx)("td",{className:"p-2 text-gray-500 hidden md:table-cell",children:u})]}),x&&(0,mn.jsx)("tr",{className:"bg-black/50",children:(0,mn.jsx)("td",{colSpan:4,className:"p-3",children:(0,mn.jsxs)("div",{className:"text-xs text-gray-200 space-y-1 break-all",style:{marginLeft:"".concat(w+16,"px")},children:[(0,mn.jsx)("div",{className:"text-signal font-bold mb-2",children:"Process Detail"}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Name:"})," ",(0,mn.jsx)("span",{className:"text-white",children:t.name_text})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"PID:"})," ",(0,mn.jsx)("span",{className:"text-signal",children:l})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"PPID:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:c})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"User:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:d})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Arch:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:u})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Integrity:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:h})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Session:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:p})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Children:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:i.length})]})]}),(0,mn.jsxs)("div",{className:"mt-2 pt-2 border-t border-white/10",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Bin:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:f})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Cmd:"})," ",(0,mn.jsx)("span",{className:"text-gray-300",children:m})]}),g&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Desc:"})," ",(0,mn.jsx)("span",{className:"text-gray-400",children:g})]}),y&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Company:"})," ",(0,mn.jsx)("span",{className:"text-gray-400",children:y})]}),v&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Signer:"})," ",(0,mn.jsx)("span",{className:"text-gray-400",children:v})]})]})]})})})]},t.id)}))})]})})},YB=e=>{var t,n;let{callback:r}=e;if(!r)return null;const o=e=>{let{label:t,value:n,icon:r}=e;return(0,mn.jsxs)("div",{className:"flex flex-col gap-1 mb-4",children:[(0,mn.jsxs)("span",{className:"text-[10px] text-gray-500 uppercase tracking-widest flex items-center gap-2 border-b border-white/5 pb-1 mb-1",children:[r&&(0,mn.jsx)(r,{size:14,className:"text-signal"}),t]}),(0,mn.jsx)("span",{className:"text-sm font-mono text-white break-all pl-6",children:n||(0,mn.jsx)("span",{className:"text-gray-600",children:"N/A"})})]})};return(0,mn.jsxs)("div",{className:"h-full flex flex-col",children:[(0,mn.jsxs)("div",{className:"overflow-auto pr-2 flex-1 cyber-scrollbar",children:[(0,mn.jsx)(o,{label:"Callback ID",value:r.display_id,icon:bm}),(0,mn.jsx)(o,{label:"User",value:r.user,icon:QT}),(0,mn.jsx)(o,{label:"Host",value:r.host,icon:mm}),(0,mn.jsx)(o,{label:"Domain",value:r.domain,icon:wF}),(0,mn.jsx)(o,{label:"IP Address",value:(()=>{try{return JSON.parse(r.ip)[0]}catch(zQ){return r.ip}})(),icon:wF}),(0,mn.jsx)(o,{label:"OS / Arch",value:"".concat(r.os," (").concat(r.architecture,")"),icon:XT}),(0,mn.jsx)(o,{label:"Process ID",value:r.pid,icon:um}),(0,mn.jsx)(o,{label:"Agent Type",value:null===(t=r.payload)||void 0===t||null===(n=t.payloadtype)||void 0===n?void 0:n.name,icon:Wd}),(0,mn.jsx)(o,{label:"Last Checkin",value:r.last_checkin,icon:km}),(0,mn.jsx)(o,{label:"Description",value:r.description,icon:tA})]}),(0,mn.jsx)(GB,{callback:r})]})};function QB(){var e;const{id:t}=function(){let{matches:e}=a.useContext(le),t=e[e.length-1];return t?t.params:{}}(),{isSidebarCollapsed:n}=Zg(),[r,o]=(0,a.useState)("info"),{data:i,loading:s,error:l}=Jf(Xy,{variables:{display_id:parseInt(t||"0")},pollInterval:5e3}),c=null===i||void 0===i||null===(e=i.callback)||void 0===e?void 0:e[0];return s&&!c?(0,mn.jsx)("div",{className:"bg-black text-signal p-10 font-mono",children:"INITIALIZING_CONSOLE..."}):l?(0,mn.jsxs)("div",{className:"bg-black text-red-500 p-10 font-mono",children:["CONNECTION_ERROR: ",l.message]}):c?(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void overflow-hidden",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("flex-1 transition-all duration-300 flex flex-col h-screen overflow-hidden",n?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"h-16 bg-black/50 border-b border-signal/20 flex items-center px-6 justify-between backdrop-blur-sm shrink-0 transition-colors duration-1000",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 border border-signal bg-signal/10 flex items-center justify-center transition-colors duration-1000",children:(0,mn.jsx)(Wd,{size:20,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("h1",{className:"text-lg font-bold tracking-widest flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:"text-signal",children:["CALLBACK_",c.display_id]}),(0,mn.jsx)("span",{className:"text-gray-500 text-xs",children:"/"}),(0,mn.jsxs)("span",{className:"text-white text-sm",children:[c.user,"@",c.host]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500 font-mono",children:[(0,mn.jsx)("span",{className:"w-2 h-2 bg-signal rounded-full animate-pulse"}),"ONLINE - AES256 ENCRYPTED"]})]})]}),(0,mn.jsx)("div",{className:"flex items-center gap-4",children:(0,mn.jsxs)("div",{className:"text-right hidden md:block",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 uppercase",children:"Last Seen"}),(0,mn.jsx)("div",{className:"text-signal font-mono transition-colors duration-1000",children:new Date(c.last_checkin).toLocaleTimeString()})]})})]}),(0,mn.jsxs)("div",{className:"flex-1 p-4 grid grid-cols-1 lg:grid-cols-3 gap-4 min-h-0 overflow-hidden",children:[(0,mn.jsx)("div",{className:"lg:col-span-2 flex flex-col gap-4 min-h-0",children:(0,mn.jsx)(VB,{callbackId:c.display_id,callbackUUID:c.agent_callback_id})}),(0,mn.jsxs)("div",{className:"flex flex-col bg-black/40 border border-white/10 min-h-0 transition-colors duration-1000",children:[(0,mn.jsx)("div",{className:"flex border-b border-white/10 transition-colors duration-1000",children:[{id:"info",label:"INFO",icon:bm},{id:"files",label:"FILES",icon:pT},{id:"processes",label:"PROCS",icon:um}].map((e=>(0,mn.jsxs)("button",{onClick:()=>o(e.id),className:Wx("flex-1 py-3 text-xs font-bold tracking-wider flex items-center justify-center gap-2 transition-colors duration-300",r===e.id?"bg-signal text-black":"text-gray-500 hover:text-white hover:bg-white/5"),children:[(0,mn.jsx)(e.icon,{size:14}),e.label]},e.id)))}),(0,mn.jsx)("div",{className:"flex-1 p-4 overflow-auto relative",children:(0,mn.jsxs)("div",{className:"absolute inset-0 p-4",children:["info"===r&&(0,mn.jsx)(YB,{callback:c}),"files"===r&&(0,mn.jsx)(mF,{host:c.host,callbackId:c.display_id}),"processes"===r&&(0,mn.jsx)(KB,{host:c.host})]})})]})]})]})]}):(0,mn.jsx)("div",{className:"bg-black text-red-500 p-10 font-mono",children:"ERROR: CALLBACK_NOT_FOUND"})}const XB=(e,t)=>{const n="warn"===t?"bg-amber-500/20 text-amber-300 border-amber-400/50":"ok"===t?"bg-green-500/20 text-green-300 border-green-400/50":"bg-sky-500/20 text-sky-300 border-sky-400/50";return(0,mn.jsx)("span",{className:Wx("px-2 py-1 rounded text-[10px] uppercase tracking-wider border",n),children:e})},ZB=()=>{var e,t,n,r;const{data:o,loading:i,error:s,refetch:l}=Jf(mx,{pollInterval:5e3}),[c]=UT(gx,{onCompleted:()=>l()}),[d,u]=(0,a.useState)(null),{isSidebarCollapsed:h}=Zg(),p=(null===o||void 0===o?void 0:o.task)||[];return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("transition-all duration-300 p-6 lg:p-12 h-screen flex flex-col overflow-hidden",h?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8 transition-colors duration-1000",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded transition-colors duration-1000",children:(0,mn.jsx)(bm,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest text-white uppercase",children:"OPSEC REVIEW QUEUE"}),(0,mn.jsxs)("p",{className:"text-xs text-gray-400 font-mono flex items-center gap-2 uppercase tracking-[0.2em]",children:[(0,mn.jsx)("span",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),"PENDING / BYPASS REQUESTS"]})]})]}),(0,mn.jsxs)("button",{onClick:()=>l(),className:"flex items-center gap-2 text-xs px-6 py-3 border border-signal/40 hover:bg-signal/10 rounded transition-colors duration-1000",children:[(0,mn.jsx)(Fd,{size:12})," REFRESH"]})]}),(0,mn.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-4 overflow-auto",children:[(0,mn.jsx)("div",{className:"bg-black/40 border border-white/10 rounded overflow-auto cyber-scrollbar transition-colors duration-1000",children:(0,mn.jsxs)("table",{className:"w-full text-xs font-mono text-left border-collapse",children:[(0,mn.jsx)("thead",{className:"bg-white/5 text-gray-500 sticky top-0 z-10 backdrop-blur-sm transition-colors duration-1000",children:(0,mn.jsxs)("tr",{children:[(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 w-14 transition-colors duration-1000",children:"ID"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 transition-colors duration-1000",children:"CMD"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 transition-colors duration-1000",children:"CALLBACK"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 transition-colors duration-1000",children:"OPERATOR"}),(0,mn.jsx)("th",{className:"p-2 font-normal border-b border-white/10 w-24 transition-colors duration-1000",children:"STATUS"})]})}),(0,mn.jsxs)("tbody",{className:"divide-y divide-white/5",children:[i&&(0,mn.jsx)("tr",{children:(0,mn.jsx)("td",{colSpan:5,className:"p-3 text-gray-500",children:"Loading..."})}),s&&(0,mn.jsx)("tr",{children:(0,mn.jsxs)("td",{colSpan:5,className:"p-3 text-red-500",children:["Error: ",s.message]})}),!i&&0===p.length&&(0,mn.jsx)("tr",{children:(0,mn.jsx)("td",{colSpan:5,className:"p-3 text-gray-500",children:"No pending opsec tasks."})}),p.map((e=>{var t,n,r,o;const i=e.opsec_pre_blocked&&!e.opsec_pre_bypassed,s=e.opsec_post_blocked&&!e.opsec_post_bypassed;return(0,mn.jsxs)("tr",{className:Wx("hover:bg-white/5 cursor-pointer",(null===d||void 0===d?void 0:d.id)===e.id?"bg-white/10":""),onClick:()=>u(e),children:[(0,mn.jsx)("td",{className:"p-2 text-signal font-bold transition-colors duration-1000",children:e.display_id}),(0,mn.jsxs)("td",{className:"p-2 text-white truncate",title:e.display_params,children:[e.command_name," ",e.display_params]}),(0,mn.jsxs)("td",{className:"p-2 text-gray-300",children:["#",null===(t=e.callback)||void 0===t?void 0:t.display_id," ",null===(n=e.callback)||void 0===n?void 0:n.user,"@",null===(r=e.callback)||void 0===r?void 0:r.host]}),(0,mn.jsx)("td",{className:"p-2 text-gray-400",children:(null===(o=e.operator)||void 0===o?void 0:o.username)||"-"}),(0,mn.jsxs)("td",{className:"p-2",children:[i&&XB("pre-blocked","warn"),s&&!i&&XB("post-blocked","warn"),!i&&!s&&XB("ok","ok")]})]},e.id)}))]})]})}),(0,mn.jsxs)("div",{className:"bg-black/40 border border-white/10 rounded p-4 text-xs text-gray-200 space-y-3 overflow-auto transition-colors duration-1000",children:[(0,mn.jsxs)("div",{className:"text-signal font-bold text-sm flex items-center gap-2 transition-colors duration-1000",children:[(0,mn.jsx)(RT,{size:14})," DETAIL"]}),!d&&(0,mn.jsx)("div",{className:"text-gray-500",children:"Select a task from the list."}),d&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Task:"})," #",d.display_id," ",d.command_name," ",d.display_params]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Callback:"})," #",null===(e=d.callback)||void 0===e?void 0:e.display_id," ",null===(t=d.callback)||void 0===t?void 0:t.user,"@",null===(n=d.callback)||void 0===n?void 0:n.host]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Operator:"})," ",(null===(r=d.operator)||void 0===r?void 0:r.username)||"-"]}),(0,mn.jsxs)("div",{className:"space-y-2",children:[d.opsec_pre_blocked&&!d.opsec_pre_bypassed&&(0,mn.jsxs)("div",{className:"p-2 bg-amber-500/10 border border-amber-400/30 rounded",children:[(0,mn.jsx)("div",{className:"text-amber-300 font-bold",children:"Pre-Check Blocked"}),(0,mn.jsx)("div",{className:"whitespace-pre-wrap text-gray-200",children:d.opsec_pre_message||"No message"})]}),d.opsec_post_blocked&&!d.opsec_post_bypassed&&(0,mn.jsxs)("div",{className:"p-2 bg-amber-500/10 border border-amber-400/30 rounded",children:[(0,mn.jsx)("div",{className:"text-amber-300 font-bold",children:"Post-Check Blocked"}),(0,mn.jsx)("div",{className:"whitespace-pre-wrap text-gray-200",children:d.opsec_post_message||"No message"})]})]}),(0,mn.jsxs)("div",{className:"flex gap-2",children:[(0,mn.jsx)("button",{onClick:()=>c({variables:{task_id:d.id}}),className:"px-3 py-2 bg-signal/20 border border-signal/40 rounded text-signal hover:bg-signal/30 transition-colors duration-1000",children:"Request Bypass / Approve"}),(0,mn.jsx)("button",{onClick:()=>l(),className:"px-3 py-2 bg-white/5 border border-white/20 rounded text-gray-200 hover:bg-white/10 transition-colors",children:"Refresh"})]})]})]})]})]})]})},JB=()=>{const[e,t]=(0,a.useState)({serverName:"",debugAgentMessage:!1,allowInviteLinks:!1,allowWebhooksOnNewCallbacks:!0}),[n,r]=(0,a.useState)("{}"),[o,i]=(0,a.useState)(!1),{loading:l,refetch:c}=Jf(Px,{fetchPolicy:"no-cache",onCompleted:e=>{var n,o,s,a,l;const c=(null===(n=e.getGlobalSettings)||void 0===n||null===(o=n.settings)||void 0===o?void 0:o.server_config)||{};t({serverName:c.name||"",debugAgentMessage:c.debug_agent_message||!1,allowInviteLinks:c.allow_invite_links||!1,allowWebhooksOnNewCallbacks:null===(s=c.allow_webhooks_on_new_callbacks)||void 0===s||s}),r(JSON.stringify((null===(a=e.getGlobalSettings)||void 0===a||null===(l=a.settings)||void 0===l?void 0:l.preferences)||{},null,2)),i(!1)},onError:e=>{sT.error("Failed to load global settings")}}),[d,{loading:u}]=UT($x,{onCompleted:e=>{"success"===e.updateGlobalSettings.status?(sT.success("Settings updated successfully"),i(!1)):sT.error(e.updateGlobalSettings.error)},onError:()=>{sT.error("Failed to update settings - Admin permission required")}}),h=[{key:"serverName",icon:mm,title:"Server Name",description:"Local server name sent as part of webhooks",type:"text"},{key:"debugAgentMessage",icon:RT,title:"Debug Agent Messages",description:"Emit detailed agent message parsing to event logs (noisy, can slow server)",type:"toggle"},{key:"allowInviteLinks",icon:tF,title:"Allow Invite Links",description:"Allow admin users to create invite links for new user registration",type:"toggle"},{key:"allowWebhooksOnNewCallbacks",icon:Bd,title:"Webhook Notifications",description:"Send webhook notifications when new callbacks are received",type:"toggle"}];return l?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)(Fd,{size:24,className:"animate-spin text-signal/50"})}):(0,mn.jsxs)("div",{className:"space-y-4",children:[h.map((n=>(0,mn.jsxs)("div",{className:"bg-black/40 border border-signal/20 p-4 flex items-center justify-between gap-4 hover:border-signal/40 transition-colors",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 bg-signal/10 flex items-center justify-center",children:(0,mn.jsx)(n.icon,{size:20,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm font-medium text-white",children:n.title}),(0,mn.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:n.description})]})]}),"toggle"===n.type?(0,mn.jsx)("button",{onClick:()=>{return e=n.key,t((t=>s(s({},t),{},{[e]:!t[e]}))),void i(!0);var e},className:"relative w-12 h-6 rounded-sm transition-colors ".concat(e[n.key]?"bg-signal/30":"bg-gray-700"),children:(0,mn.jsx)("div",{className:"absolute top-1 w-4 h-4 bg-white transition-all ".concat(e[n.key]?"left-7":"left-1")})}):(0,mn.jsx)("input",{type:"text",value:e.serverName,onChange:e=>{t((t=>s(s({},t),{},{serverName:e.target.value}))),i(!0)},className:"bg-black/60 border border-signal/30 px-3 py-1.5 text-sm text-white focus:outline-none focus:border-signal w-64",placeholder:"Enter server name..."})]},n.key))),(0,mn.jsxs)("div",{className:"bg-black/40 border border-signal/20 p-4",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,mn.jsx)("div",{className:"w-10 h-10 bg-signal/10 flex items-center justify-center",children:(0,mn.jsx)(wm,{size:20,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm font-medium text-white",children:"Default User Preferences"}),(0,mn.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:"JSON configuration applied to new users only"})]})]}),(0,mn.jsx)("textarea",{value:n,onChange:e=>{r(e.target.value),i(!0)},className:"w-full h-32 bg-black/60 border border-signal/30 p-3 text-xs font-mono text-gray-300 focus:outline-none focus:border-signal resize-none",placeholder:"{}"})]}),(0,mn.jsx)("div",{className:"flex justify-end pt-4",children:(0,mn.jsx)("button",{onClick:()=>{try{const t=JSON.parse(n);d({variables:{settings:{server_config:{name:e.serverName,debug_agent_message:e.debugAgentMessage,allow_invite_links:e.allowInviteLinks,allow_webhooks_on_new_callbacks:e.allowWebhooksOnNewCallbacks},preferences:t}}})}catch(zQ){sT.error("Invalid JSON in user preferences")}},disabled:!o||u,className:"px-6 py-2 text-sm font-medium uppercase tracking-wider transition-all ".concat(o&&!u?"bg-signal text-black hover:bg-signal/80":"bg-gray-700 text-gray-500 cursor-not-allowed"),children:u?"Saving...":"Save Changes"})})]})},eV=()=>{const{isSidebarCollapsed:e}=Zg();return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("flex-1 flex flex-col transition-all duration-300 p-6 lg:p-12",e?"ml-16":"ml-64"),children:[(0,mn.jsx)("header",{className:"flex justify-between items-center mb-8 shrink-0",children:(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(bm,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"MYTHIC SETTINGS"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/system/config"})]})]})}),(0,mn.jsx)("div",{className:"max-w-4xl flex-1 overflow-y-auto",children:(0,mn.jsx)(JB,{})})]})]})},tV=zd("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),nV=zd("laptop",[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]]);function rV(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Pg(Ct(t))}const oV=[{id:"dns",label:"RESOLVING_HOST",status:"PENDING"},{id:"handshake",label:"TLS_HANDSHAKE",status:"PENDING"},{id:"auth",label:"VERIFYING_CREDENTIALS",status:"PENDING"},{id:"integrity",label:"INTEGRITY_CHECK",status:"PENDING"},{id:"session",label:"ESTABLISHING_SESSION",status:"PENDING"}],iV=["INIT_SEQUENCE_STARTED...","LOADING_MODULES... [OK]","ESTABLISHING_SECURE_LINK... [OK]","CHECKING_INTEGRITY... [VERIFIED]","WAITING_FOR_OPERATOR_AUTH..."],sV=[{icon:(0,mn.jsx)(um,{size:14}),text:"SYNCING_CALLBACKS..."},{icon:(0,mn.jsx)(pm,{size:14}),text:"LOADING_PAYLOADS..."},{icon:(0,mn.jsx)(fm,{size:14}),text:"FETCHING_OPERATIONS..."},{icon:(0,mn.jsx)(hm,{size:14}),text:"UPDATING_ARTIFACTS..."}],aV=e=>{let{onComplete:t}=e;const[n,r]=(0,a.useState)(0),[o,i]=(0,a.useState)([]),s=["INIT: Loading kernel modules...","0x00000000: BIOS_ROM_CHECK ................ OK","0x00010000: MEM_ALLOCATION 4096KB ......... OK","SCAN: Searching targets 0x00000000 to 0x77FFFFFF","0x00180808: DEVICE_ENUM ................... OK","0x00240000: NET_INTERFACE eth0 ............ UP","0x00340000: CRYPTO_MODULE AES-256 ......... READY","LINK: Establishing secure tunnel...","0x00400000: TLS_HANDSHAKE v1.3 ............ OK","0x00480000: CERT_VERIFY SHA256 ............ PASS","0x00500000: KEY_EXCHANGE ECDHE ............ OK","PROF: Loading user profile...","0x00600000: AUTH_MODULE ................... READY","0x00700000: SESSION_TOKEN ................. GEN","0x00800000: BIOMETRIC_SCAN ................ INIT","0x00900000: NEURAL_LINK ................... SYNC","0x00A00000: IMPLANT_CHECK ................. OK","0x00B00000: CYBERWARE_DIAG ................ PASS","DATA: Synchronizing remote assets...","0x00C00000: CACHE_PRELOAD 2048KB .......... OK","0x00D00000: BUFFER_INIT ................... OK","0x00E00000: STREAM_READY .................. OK","SYS: Finalizing boot sequence...","0x00F00000: WATCHDOG_TIMER ................ SET","0x01000000: INTERRUPT_VECTOR .............. OK","BOOT: All systems nominal. Ready."];return(0,a.useEffect)((()=>{const e=setInterval((()=>{r((t=>{if(t>=100)return clearInterval(e),100;const n=t<50?3:t<80?2:1;return Math.min(t+n,100)}))}),40);let n=0;const o=setInterval((()=>{n<s.length&&(i((e=>[...e,s[n]].slice(-4))),n++)}),80),a=setTimeout(t,3e3);return()=>{clearInterval(e),clearInterval(o),clearTimeout(a)}}),[]),(0,mn.jsxs)("div",{className:"fixed inset-0 z-50 bg-black text-white font-mono flex flex-col overflow-hidden",children:[(0,mn.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-8",children:[(0,mn.jsx)(Md.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6",children:(0,mn.jsxs)("svg",{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",className:"text-white",children:[(0,mn.jsx)("path",{d:"M28 4 L52 48 L4 48 Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none",strokeLinejoin:"miter"}),(0,mn.jsx)("path",{d:"M28 12 L46 44 L10 44 Z",stroke:"currentColor",strokeWidth:"0.5",fill:"none",strokeLinejoin:"miter",opacity:"0.4"}),(0,mn.jsx)("path",{d:"M28 22 L28 34",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"square"}),(0,mn.jsx)("path",{d:"M28 38 L30 40 L28 42 L26 40 Z",fill:"currentColor"})]})}),(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-[10px] tracking-[0.4em] font-bold mb-8",children:"ATTENTION"}),(0,mn.jsxs)(Md.div,{initial:{opacity:0,scaleY:.8},animate:{opacity:1,scaleY:1},transition:{delay:.3,duration:.3},className:"w-full max-w-lg",children:[(0,mn.jsx)("div",{className:"border border-white/60 inline-block px-3 py-1 text-[9px] tracking-wider font-bold mb-3",children:"PERSONAL LINK CONNECTED"}),(0,mn.jsx)("div",{className:"text-[8px] text-gray-400 mb-4 h-16 overflow-hidden font-mono bg-black/50 border border-white/10 p-2",children:o.map(((e,t)=>(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.05},className:"truncate leading-tight",children:[(0,mn.jsx)("span",{className:"text-gray-600",children:">"})," ",e]},"".concat(t,"-").concat(e))))}),(0,mn.jsxs)("div",{className:"border border-white flex items-stretch h-8 relative bg-black",children:[(0,mn.jsxs)("div",{className:"border-r border-white px-2 flex items-center gap-2 text-[8px] bg-black z-10",children:[(0,mn.jsx)("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"}),(0,mn.jsx)("span",{className:"text-gray-400",children:"SYS:ACTIVE"})]}),(0,mn.jsxs)("div",{className:"flex-1 relative overflow-hidden",children:[(0,mn.jsx)(Md.div,{className:"absolute inset-0 bg-white origin-left",initial:{scaleX:0},animate:{scaleX:n/100},transition:{ease:"linear"}}),(0,mn.jsx)("div",{className:"absolute inset-0 flex items-center justify-center mix-blend-difference z-10",children:(0,mn.jsxs)("span",{className:"text-xs font-bold tracking-[0.3em]",children:["LOADING ",n,"%"]})})]}),(0,mn.jsxs)("div",{className:"border-l border-white px-3 flex flex-col justify-center text-[8px] bg-black z-10 text-right",children:[(0,mn.jsx)("div",{children:"BUILD 92.4"}),(0,mn.jsx)("div",{className:"text-gray-500",children:"REV 2.0"})]})]})]})]}),(0,mn.jsxs)("div",{className:"p-6 w-full flex justify-between items-end text-[10px] font-bold tracking-widest uppercase",children:[(0,mn.jsx)("div",{className:"text-gray-500",children:"RIPPERDOC SURGICAL SOFTWARE V2"}),(0,mn.jsx)("div",{className:"text-white",children:"BOOTING SEQUENCE"}),(0,mn.jsxs)("div",{className:"text-right text-gray-500",children:[(0,mn.jsx)("span",{children:"FIR SK 4.0 MFS"}),(0,mn.jsx)("span",{className:"ml-8",children:"FLAIR TRS SMMP"})]})]})]})};function lV(){const e=fe(),{setAppState:t,appState:n,isLoggingOut:r,reset:o}=Zg(),[i,l]=(0,a.useState)(r?"HANDSHAKE":"INTRO"),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(null),[m,g]=(0,a.useState)(oV),[v,y]=(0,a.useState)("127.0.0.1"),[x,b]=(0,a.useState)("CONNECTING"),[w,k]=(0,a.useState)([]);(0,a.useEffect)((()=>{y(window.location.hostname||"127.0.0.1"),r?(b("GRANTED"),N()):t("LOGIN")}),[r]);const N=async()=>{await new Promise((e=>setTimeout(e,500))),b("VERIFYING"),await new Promise((e=>setTimeout(e,800))),b("CONNECTING"),await new Promise((e=>setTimeout(e,1500))),l("LOGIN"),o()};return(0,mn.jsx)("div",{className:"min-h-screen w-full bg-void relative overflow-hidden text-signal font-mono",children:(0,mn.jsxs)(On,{mode:"wait",children:["INTRO"===i&&(0,mn.jsx)(aV,{onComplete:()=>l("LOGIN")},"intro"),"LOGIN"===i&&(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95,filter:"blur(10px)"},transition:{duration:.5},className:"flex w-full h-screen",children:[(0,mn.jsxs)("div",{className:"hidden lg:flex flex-col justify-between w-1/2 p-12 border-r border-ghost/30 relative bg-void",children:[(0,mn.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10 pointer-events-none"}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,mn.jsx)("div",{className:"w-3 h-3 bg-signal animate-pulse"}),(0,mn.jsx)("span",{className:"font-mono text-signal tracking-[0.3em] text-sm",children:"MYTHIC_SERVER_STATUS"})]}),(0,mn.jsxs)("h2",{className:"text-6xl font-bold text-gray-100 opacity-20 select-none tracking-tighter",children:["MINERVA",(0,mn.jsx)("br",{}),"SYSTEM"]})]}),(0,mn.jsxs)("div",{className:"flex-1 flex flex-col justify-center gap-8",children:[(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mn.jsxs)("div",{className:"border border-ghost/50 p-4 relative overflow-hidden group",children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 p-2 text-gray-400 group-hover:text-signal transition-colors",children:(0,mn.jsx)(mm,{size:20})}),(0,mn.jsx)("div",{className:"text-gray-400 text-xs font-mono mb-1",children:"CORE_UPTIME"}),(0,mn.jsx)("div",{className:"text-2xl text-signal font-mono",children:"99.98%"}),(0,mn.jsx)("div",{className:"h-0.5 w-full bg-ghost/30 mt-3 overflow-hidden",children:(0,mn.jsx)("div",{className:"h-full bg-signal w-[99%]"})})]}),(0,mn.jsxs)("div",{className:"border border-ghost/50 p-4 relative overflow-hidden group",children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 p-2 text-gray-400 group-hover:text-signal transition-colors",children:(0,mn.jsx)(XT,{size:20})}),(0,mn.jsx)("div",{className:"text-gray-400 text-xs font-mono mb-1",children:"CPU_LOAD"}),(0,mn.jsx)("div",{className:"text-2xl text-signal font-mono",children:"12.4%"}),(0,mn.jsx)("div",{className:"h-0.5 w-full bg-ghost/30 mt-3 overflow-hidden",children:(0,mn.jsx)("div",{className:"h-full bg-signal w-[12%] animate-pulse"})})]}),(0,mn.jsxs)("div",{className:"border border-ghost/50 p-4 relative overflow-hidden group",children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 p-2 text-gray-400 group-hover:text-signal transition-colors",children:(0,mn.jsx)(wF,{size:20})}),(0,mn.jsx)("div",{className:"text-gray-400 text-xs font-mono mb-1",children:"LATENCY"}),(0,mn.jsx)("div",{className:"text-2xl text-signal font-mono",children:"24ms"})]}),(0,mn.jsxs)("div",{className:"border border-ghost/50 p-4 relative overflow-hidden group",children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 p-2 text-gray-400 group-hover:text-signal transition-colors",children:(0,mn.jsx)(bm,{size:20})}),(0,mn.jsx)("div",{className:"text-gray-400 text-xs font-mono mb-1",children:"ENCRYPTION"}),(0,mn.jsx)("div",{className:"text-2xl text-signal font-mono",children:"AES-256"})]})]}),(0,mn.jsx)("div",{className:"font-mono text-xs text-gray-400 space-y-1 pl-2 border-l border-ghost/30",children:iV.map(((e,t)=>(0,mn.jsx)(Md.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.1*t+.5},className:"text-gray-400",children:"> ".concat(e)},t)))})]}),(0,mn.jsxs)("div",{className:"font-mono text-[10px] text-gray-400 flex justify-between uppercase",children:[(0,mn.jsx)("span",{children:"Secure Connection"}),(0,mn.jsx)("span",{children:"Port: 7443"})]})]}),(0,mn.jsx)("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 relative",children:(0,mn.jsxs)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,ease:"easeOut",delay:.2},className:"w-full max-w-md",children:[(0,mn.jsxs)("div",{className:"mb-12",children:[(0,mn.jsx)("div",{className:"inline-block p-3 border border-signal rounded-full mb-6",children:(0,mn.jsx)(Wd,{size:32,className:"text-signal"})}),(0,mn.jsx)("h1",{className:"text-4xl font-bold tracking-[0.2em] text-signal mb-2",children:"IDENTIFY"}),(0,mn.jsx)("p",{className:"text-gray-400 font-mono text-sm tracking-widest",children:"PLEASE AUTHENTICATE"})]}),p&&(0,mn.jsx)("div",{className:"mb-6 p-3 border border-red-500 bg-red-500/10 text-red-500 text-xs font-mono",children:"> ERROR: ".concat(p)}),(0,mn.jsxs)("form",{onSubmit:async n=>{n.preventDefault(),f(null),l("HANDSHAKE"),b("CONNECTING"),t("HANDSHAKE"),await new Promise((e=>setTimeout(e,1e3))),b("VERIFYING");const r=setInterval((()=>{k((e=>e.length<sV.length?[...e,e.length]:e))}),800);for(let e=0;e<2;e++)g((t=>t.map(((t,n)=>n===e?s(s({},t),{},{status:"CHECKING"}):t)))),await new Promise((e=>setTimeout(e,400))),g((t=>t.map(((t,n)=>n===e?s(s({},t),{},{status:"OK"}):t))));g((e=>e.map(((e,t)=>2===t?s(s({},e),{},{status:"CHECKING"}):e))));try{const o=await async function(e,t){const n=await fetch("/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t,scripting_version:"3"})});if(!n.ok)throw new Error("Login failed");return await n.json()}(c,u);if(!o||!o.access_token)throw new Error("Invalid Credentials");g((e=>e.map(((e,t)=>2===t?s(s({},e),{},{status:"OK"}):e))));for(let e=3;e<oV.length;e++)g((t=>t.map(((t,n)=>n===e?s(s({},t),{},{status:"CHECKING"}):t)))),await new Promise((e=>setTimeout(e,300))),g((t=>t.map(((t,n)=>n===e?s(s({},t),{},{status:"OK"}):t))));clearInterval(r),b("GRANTED");try{dT(o)}catch(n){console.error("Failed to update global state",n)}localStorage.setItem("access_token",o.access_token),o.user_id&&localStorage.setItem("user_id",String(o.user_id)),setTimeout((()=>{t("DASHBOARD"),e("/dashboard")}),800)}catch(o){clearInterval(r),g((e=>e.map(((e,t)=>2===t?s(s({},e),{},{status:"FAIL"}):e)))),b("FAILED"),f("AUTHENTICATION FAILED: INVALID CREDENTIALS"),setTimeout((()=>{l("LOGIN"),g(oV)}),2e3)}},className:"space-y-8",children:[(0,mn.jsxs)("div",{className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"relative group/input",children:[(0,mn.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),required:!0,className:"w-full bg-transparent border-b border-ghost py-3 text-signal focus:border-signal focus:outline-none transition-colors font-mono tracking-wider pl-8 text-lg",placeholder:"OPERATOR_ID"}),(0,mn.jsx)("span",{className:"absolute left-0 top-3 text-gray-400 group-focus-within/input:text-signal transition-colors",children:">"})]}),(0,mn.jsxs)("div",{className:"relative group/input",children:[(0,mn.jsx)("input",{type:"password",value:u,onChange:e=>h(e.target.value),required:!0,className:"w-full bg-transparent border-b border-ghost py-3 text-signal focus:border-signal focus:outline-none transition-colors font-mono tracking-wider pl-8 text-lg",placeholder:"PASSPHRASE"}),(0,mn.jsx)(KT,{size:16,className:"absolute left-0 top-4 text-gray-400 group-focus-within/input:text-signal transition-colors"})]})]}),(0,mn.jsxs)("button",{type:"submit",className:"w-full bg-signal text-void font-bold py-4 hover:bg-void hover:text-signal border border-transparent hover:border-signal transition-all duration-300 font-mono tracking-widest relative overflow-hidden group/btn text-sm",children:[(0,mn.jsx)("span",{className:"relative z-10 flex items-center justify-center gap-2",children:"INITIALIZE_SESSION"}),(0,mn.jsx)("div",{className:"absolute inset-0 bg-white transform translate-y-full group-hover/btn:translate-y-0 transition-transform duration-300 z-0"})]})]})]})})]},"login-view"),"HANDSHAKE"===i&&(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1},className:"flex w-full h-screen relative",children:[(0,mn.jsx)("div",{className:"hidden lg:flex flex-col justify-center items-center w-1/2 relative z-10",children:(0,mn.jsxs)(Md.div,{animate:{y:"VERIFYING"===x||"GRANTED"===x||"FAILED"===x?-60:0},transition:{duration:.8,ease:"easeInOut"},className:"relative z-20 flex flex-col items-center gap-6",children:[(0,mn.jsxs)(Md.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,ease:"easeOut"},className:rV("w-24 h-24 border rounded-full flex items-center justify-center bg-void relative transition-colors duration-500","FAILED"===x?"border-red-500":"border-ghost/50"),children:[(0,mn.jsx)(mm,{size:40,className:"FAILED"===x?"text-red-500":"text-signal"}),"VERIFYING"===x&&(0,mn.jsx)(Md.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{repeat:1/0,duration:2},className:"absolute inset-0 border border-signal rounded-full"})]}),(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold tracking-widest",children:"MYTHIC_CORE"}),(0,mn.jsx)("p",{className:rV("text-xs mt-1 transition-colors duration-300",r&&"CONNECTING"===x?"text-red-500 animate-pulse":"FAILED"===x?"text-red-500":"text-green-500"),children:r&&"CONNECTING"===x?"STATUS: TERMINATING SESSION":"FAILED"===x?"STATUS: ACCESS DENIED":"STATUS: ONLINE"})]}),(0,mn.jsx)(On,{children:("VERIFYING"===x||"GRANTED"===x||"FAILED"===x)&&!r&&(0,mn.jsx)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.5,delay:.2},className:"absolute top-full mt-8 w-64 space-y-3 bg-void/90 p-4 border border-ghost/30 backdrop-blur-md",children:m.map((e=>(0,mn.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,mn.jsx)("span",{className:rV("OK"===e.status?"text-signal":"text-gray-400","CHECKING"===e.status&&"animate-pulse text-signal","FAIL"===e.status&&"text-red-500 font-bold"),children:e.label}),"CHECKING"===e.status&&(0,mn.jsx)(um,{size:12,className:"animate-spin text-signal"}),"OK"===e.status&&(0,mn.jsx)(tV,{size:12,className:"text-green-500"}),"FAIL"===e.status&&(0,mn.jsx)("span",{className:"text-red-500",children:"FAILED"})]},e.id)))})})]})}),(0,mn.jsxs)("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[2px] z-0 pointer-events-none hidden lg:block",children:[(0,mn.jsx)("div",{className:"w-full h-full bg-ghost/20"}),(0,mn.jsx)(Md.div,{initial:{width:0,right:0,left:"auto"},animate:{width:"GRANTED"!==x||r?"CONNECTING"===x&&r?0:"FAILED"===x?"50%":"100%":0,right:0,left:"auto",opacity:"GRANTED"!==x||r?"FAILED"===x?.5:1:0},transition:{duration:1.5,ease:"easeInOut"},className:rV("absolute top-0 h-full shadow-[0_0_10px_rgba(255,255,255,0.8)]","FAILED"===x?"bg-red-500":"bg-signal")}),(0,mn.jsx)(On,{children:"VERIFYING"===x&&w.map((e=>{const t=sV[e]||sV[0],n=(e%2===0?-40:40)+(20*Math.random()-10);return(0,mn.jsxs)(Md.div,{initial:{opacity:0,x:"100%",y:n},animate:{opacity:[0,1,1,0],x:"0%"},transition:{duration:2,ease:"linear"},className:"absolute top-0 right-0 flex items-center gap-2 text-[10px] text-signal font-mono bg-void/80 px-2 py-1 border border-ghost/50 whitespace-nowrap",style:{top:"50%",marginTop:-15},children:[t.icon,t.text]},e)}))})]}),(0,mn.jsxs)("div",{className:"w-full lg:w-1/2 flex flex-col items-center justify-center p-8 relative z-10",children:[(0,mn.jsx)(Md.div,{initial:{scale:0},animate:{scale:1},transition:{duration:.5,ease:"easeOut"},className:"w-24 h-24 border border-ghost/50 rounded-full flex items-center justify-center bg-void mb-6",children:(0,mn.jsx)(nV,{size:40,className:"text-signal"})}),(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold tracking-widest",children:"OPERATOR_NODE"}),(0,mn.jsxs)("div",{className:"text-xs text-gray-400 mt-2 space-y-1",children:[(0,mn.jsxs)("p",{children:["IP: ",v]}),(0,mn.jsxs)("p",{children:["USER: ",c.toUpperCase()||"UNKNOWN"]})]})]}),(0,mn.jsxs)("div",{className:"mt-12 font-mono text-sm text-signal animate-pulse",children:["CONNECTING"===x&&!r&&"ESTABLISHING UP-LINK...","CONNECTING"===x&&r&&"TERMINATING SESSION...","VERIFYING"===x&&"PERFORMING SECURITY CHECKS...","GRANTED"===x&&!r&&"ACCESS GRANTED","FAILED"===x&&(0,mn.jsx)("span",{className:"text-red-500",children:"ACCESS DENIED"})]})]})]},"handshake-view")]})})}var cV,dV,uV,hV,pV,fV,mV,gV,vV,yV,xV,bV,wV,kV,NV,_V,SV,CV,jV,EV;const TV=Kv(cV||(cV=Jg(['\nquery getPayloadTypesQuery {\n  payloadtype(where: {deleted: {_eq: false}, wrapper: {_eq: false}, agent_type: {_in: ["agent", "service"]}}) {\n    id\n    supported_os\n    name\n    note\n    semver\n    payloadtypec2profiles{\n        c2profile{\n            name\n        }\n    }\n  }\n}\n']))),AV=Kv(dV||(dV=Jg(["\nfragment payloadData on payload {\n    id\n    uuid\n    description\n    deleted\n    auto_generated\n    build_phase\n    build_message\n    build_stderr\n    build_stdout\n    creation_time\n    callback_allowed\n    callback_alert\n    wrapped_payload_id\n    operator {\n      username\n    }\n    payload_type_semver\n    payloadtype {\n      id\n      name\n      semver\n    }\n    filemetum {\n      agent_file_id\n      filename_text\n      id\n      size\n      md5\n      sha1\n    }\n    payloadc2profiles {\n      c2profile {\n        running\n        name\n        is_p2p\n        container_running\n      }\n    }\n    buildparameterinstances {\n        value\n        buildparameter {\n            name\n            description\n        }\n    }\n    payloadcommands {\n      command {\n        cmd\n      }\n    }\n    payload_build_steps(order_by: {step_number: asc}) {\n      step_name\n      step_number\n      step_success\n      step_stdout\n      step_stderr\n      step_skip\n      start_time\n      end_time\n    }\n    os\n}\n"]))),MV=Kv(uV||(uV=Jg(["\n","\nsubscription SubPayloadsQuery($now: timestamp!) {\n  payload_stream(batch_size: 10, cursor: {initial_value: {timestamp: $now}, ordering: ASC}) {\n    ...payloadData\n  }\n}\n"])),AV),RV=Kv(hV||(hV=Jg(["\n","\nquery PayloadsQuery($offset: Int!, $limit: Int!, $showDeleted: Boolean!, $showAutogenerated: Boolean!) {\n  payload(order_by: {id: desc}, offset: $offset, limit: $limit, where: {auto_generated: {_eq: $showAutogenerated}, deleted: {_eq: $showDeleted}}) {\n    ...payloadData\n  }\n  payload_aggregate(where: {auto_generated: {_eq: $showAutogenerated}, deleted: {_eq: $showDeleted}}) {\n    aggregate {\n      count\n    }\n  }\n}\n"])),AV),OV=Kv(pV||(pV=Jg(["\nquery getPayloadTypesBuildParametersQuery($payloadtype: String!) {\n  payloadtype(where: {name: {_eq: $payloadtype}}) {\n    name\n    id\n    file_extension\n    agent_type\n    note\n    supports_dynamic_loading\n    supports_multiple_c2_in_build\n    supports_multiple_c2_instances_in_build\n    c2_parameter_deviations\n    semver\n    buildparameters(where: {deleted: {_eq: false} }, order_by: {description: asc}) {\n        default_value\n        description\n        format_string\n        id\n        name\n        parameter_type\n        randomize\n        required\n        verifier_regex\n        choices\n        group_name\n        supported_os\n        hide_conditions\n        ui_position\n        dynamic_query_function\n    }\n  }\n}\n"]))),IV=Kv(fV||(fV=Jg(["\nquery getCommands($payloadType: String!) {\n  command(where: {payloadtype: {name: {_eq: $payloadType}}, deleted: {_eq: false}}, order_by: {cmd: asc}) {\n    cmd\n    attributes\n    id\n    supported_ui_features\n    help_cmd\n    description\n    needs_admin\n  }\n}\n"]))),LV=Kv(mV||(mV=Jg(["\nquery getPayloadTypesC2ProfilesQuery($payloadType: String!, $operation_id: Int!) {\n  c2profile(where: {payloadtypec2profiles: {payloadtype: {name: {_eq: $payloadType}}}, deleted: {_eq: false}}) {\n    name\n    is_p2p\n    description\n    id\n    c2profileparameters(where: {deleted: {_eq: false}}) {\n      default_value\n      description\n      format_string\n      id\n      name\n      parameter_type\n      randomize\n      required\n      verifier_regex\n      choices\n    }\n    c2profileparametersinstances(where: {instance_name: {_is_null: false}, operation_id: {_eq: $operation_id}}, distinct_on: instance_name, order_by: {instance_name: asc}){\n        instance_name\n        id\n    }\n  }\n}\n"]))),DV=Kv(gV||(gV=Jg(["\n mutation createPayloadMutation($payload: String!) {\n  createPayload(payloadDefinition: $payload) {\n    error\n    status\n    uuid\n  }\n}\n"]))),PV=Kv(vV||(vV=Jg(["\nmutation getDynamicBuildParamsMutation($payload_type: String!, $parameter_name: String!, $selected_os: String!){\n    dynamicQueryBuildParameterFunction(payload_type: $payload_type, parameter_name: $parameter_name, selected_os: $selected_os){\n        status\n        error\n        choices\n        parameter_name\n    }\n}\n"]))),$V=Kv(yV||(yV=Jg(["\nmutation triggerRebuildMutation($uuid: String!) {\n  rebuild_payload(uuid: $uuid) {\n      status\n      error\n      uuid\n  }\n}\n"]))),zV=Kv(xV||(xV=Jg(["\nmutation togglePayloadDeleteStatus($payload_uuid: String!, $deleted: Boolean!) {\n  updatePayload(payload_uuid: $payload_uuid, deleted: $deleted) {\n    status\n    error\n    id\n    deleted\n  }\n}\n"]))),FV=Kv(bV||(bV=Jg(["\nmutation updateFilename($file_id: Int!, $filename: String!) {\n  update_filemeta(where: {id: {_eq: $file_id}}, _set: {filename_text: $filename}) {\n    returning {\n        id\n        filename_text\n    }\n  }\n}\n"]))),BV=Kv(wV||(wV=Jg(["\nquery exportPayloadConfigQuery($uuid: String!) {\n  exportPayloadConfig(uuid: $uuid) {\n      status\n      error\n      config\n  }\n}\n"]))),VV=Kv(kV||(kV=Jg(["\nmutation updatePayloadDescription($payload_uuid: String!, $description: String!) {\n  updatePayload(payload_uuid: $payload_uuid, description: $description) {\n    status\n    error\n    id\n    description\n  }\n}\n"]))),WV=Kv(NV||(NV=Jg(["\nmutation updatePayloadAlerts($payload_uuid: String!, $callback_alert: Boolean!) {\n  updatePayload(payload_uuid: $payload_uuid, callback_alert: $callback_alert) {\n    status\n    error\n    id\n    callback_alert\n  }\n}\n"]))),HV=Kv(_V||(_V=Jg(["\nmutation updatePayloadAllowed($payload_uuid: String!, $callback_allowed: Boolean!) {\n  updatePayload(payload_uuid: $payload_uuid, callback_allowed: $callback_allowed) {\n    status\n    error\n    id\n    callback_allowed\n  }\n}\n"]))),UV=Kv(SV||(SV=Jg(["\nquery generateRedirectRules($uuid: String!) {\n  redirect_rules(uuid: $uuid) {\n    status\n    error\n    output\n  }\n}\n"]))),GV=Kv(CV||(CV=Jg(["\nquery checkPayloadConfiguration($uuid: String!) {\n  config_check(uuid: $uuid) {\n    status\n    error\n    output\n  }\n}\n"]))),qV=Kv(jV||(jV=Jg(["\nquery generateIOC($uuid: String!) {\n  c2GetIOC(uuid: $uuid) {\n    status\n    error\n    output\n  }\n}\n"]))),KV=Kv(EV||(EV=Jg(["\nquery generateSampleMessage($uuid: String!) {\n  c2SampleMessage(uuid: $uuid) {\n    status\n    error\n    output\n  }\n}\n"]))),YV=zd("command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),QV=zd("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),XV=zd("disc",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),ZV=zd("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]),JV=zd("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),eW=zd("phone-missed",[["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"m22 2-6 6",key:"6f0sa0"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),tW=zd("badge-check",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),nW=zd("fingerprint-pattern",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]),rW=zd("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),oW=zd("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),iW=zd("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),sW=zd("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);function aW(e){var t,n,r,o,i,s,l,c,d,u;let{payload:h,onClose:p,isOpen:f,initialTab:m="overview"}=e;const[g,v]=(0,a.useState)(m);if((0,a.useEffect)((()=>{f&&v(m)}),[f,m]),!h)return null;const y=null!==(t=h.filemetum)&&void 0!==t&&t.filename_text?Hx(h.filemetum.filename_text):h.uuid||"UNKNOWN_FILE";return(0,mn.jsx)(On,{children:f&&(0,mn.jsx)(mn.Fragment,{children:(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p,className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-40 flex items-center justify-center p-4",children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",stiffness:300,damping:25},onClick:e=>e.stopPropagation(),className:"w-full max-w-6xl h-[90vh] bg-void border border-signal/50 shadow-[0_0_50px_rgba(34,197,94,0.2)] flex flex-col relative overflow-hidden rounded-lg",children:[(0,mn.jsx)("div",{className:"absolute top-0 left-0 w-16 h-16 border-t-2 border-l-2 border-signal rounded-tl-lg pointer-events-none"}),(0,mn.jsx)("div",{className:"absolute bottom-0 right-0 w-16 h-16 border-b-2 border-r-2 border-signal rounded-br-lg pointer-events-none"}),(0,mn.jsxs)("div",{className:"p-8 border-b border-ghost/30 bg-black/40 shrink-0 flex justify-between items-start relative z-10",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,mn.jsx)("div",{className:Wx("p-4 border rounded-xl","success"===h.build_phase?"border-green-500 bg-green-500/10 text-green-400":"error"===h.build_phase?"border-red-500 bg-red-500/10 text-red-400":"border-yellow-500 bg-yellow-500/10 text-yellow-400 animate-pulse"),children:(0,mn.jsx)(XV,{size:32})}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"text-sm font-mono text-gray-500 mb-1 flex items-center gap-3",children:[(0,mn.jsxs)("span",{children:["UUID: ",h.uuid]}),(0,mn.jsx)("span",{className:"text-gray-700",children:"|"}),(0,mn.jsx)("span",{className:"text-signal",children:"PAYLOAD_ARTIFACT"})]}),(0,mn.jsx)("h2",{className:"text-3xl font-bold font-mono text-signal tracking-wide break-all line-clamp-1",title:y,children:y})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-6",children:[(0,mn.jsx)("div",{className:"flex flex-col items-end gap-2 text-sm font-mono",children:(0,mn.jsxs)("div",{className:Wx("flex items-center gap-2 px-3 py-1 rounded bg-black/50 border border-gray-800","success"===h.build_phase?"text-green-400 border-green-900":"error"===h.build_phase?"text-red-400 border-red-900":"text-yellow-400 border-yellow-900"),children:[(0,mn.jsx)(um,{size:14})," BUILD_",h.build_phase.toUpperCase()]})}),(0,mn.jsx)("button",{onClick:p,className:"p-3 hover:bg-red-500/20 hover:text-red-500 text-gray-500 transition-all rounded-full border border-transparent hover:border-red-500/50",children:(0,mn.jsx)(nA,{size:28})})]})]}),(0,mn.jsxs)("div",{className:"flex border-b border-ghost/30 bg-black/60 text-sm font-mono shrink-0 px-8 pt-2 gap-2",children:[(0,mn.jsx)("button",{onClick:()=>v("overview"),className:Wx("px-8 py-4 transition-colors border-t-2 border-x border-b-0 rounded-t-lg relative top-[1px]","overview"===g?"border-signal bg-void text-signal font-bold":"border-transparent bg-transparent text-gray-500 hover:text-gray-300"),children:"OVERVIEW"}),(0,mn.jsx)("button",{onClick:()=>v("config"),className:Wx("px-8 py-4 transition-colors border-t-2 border-x border-b-0 rounded-t-lg relative top-[1px]","config"===g?"border-signal bg-void text-signal font-bold":"border-transparent bg-transparent text-gray-500 hover:text-gray-300"),children:"CONFIGURATION"}),(0,mn.jsx)("button",{onClick:()=>v("build"),className:Wx("px-8 py-4 transition-colors border-t-2 border-x border-b-0 rounded-t-lg relative top-[1px]","build"===g?"border-signal bg-void text-signal font-bold":"border-transparent bg-transparent text-gray-500 hover:text-gray-300"),children:"BUILD_LOGS"})]}),(0,mn.jsxs)("div",{className:"flex-1 overflow-hidden relative bg-void/50 p-8 flex flex-col",children:["overview"===g&&(0,mn.jsx)("div",{className:"space-y-8 animate-in fade-in zoom-in-95 duration-300 h-full overflow-y-auto cyber-scrollbar pr-2",children:(0,mn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,mn.jsxs)("div",{className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"space-y-3",children:[(0,mn.jsxs)("label",{className:"text-sm font-mono text-gray-400 flex items-center gap-2 font-bold tracking-wider",children:[(0,mn.jsx)(vT,{size:16})," DESCRIPTION"]}),(0,mn.jsx)("div",{className:"p-4 border border-gray-800 bg-black/40 text-base text-gray-300 leading-relaxed font-mono rounded-lg",children:h.description||"No description provided."})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsxs)("label",{className:"text-xs font-mono text-gray-500 block mb-1 flex items-center gap-2",children:[(0,mn.jsx)(XT,{size:12})," AGENT_TYPE"]}),(0,mn.jsx)("div",{className:"text-signal font-mono font-bold text-lg",children:null===(n=h.payloadtype)||void 0===n?void 0:n.name})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsxs)("label",{className:"text-xs font-mono text-gray-500 block mb-1 flex items-center gap-2",children:[(0,mn.jsx)(fm,{size:12})," OS_TARGET"]}),(0,mn.jsx)("div",{className:"text-signal font-mono font-bold text-lg",children:h.os})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsxs)("label",{className:"text-xs font-mono text-gray-500 block mb-1 flex items-center gap-2",children:[(0,mn.jsx)(sW,{size:12})," CREATED_AT"]}),(0,mn.jsx)("div",{className:"text-gray-300 font-mono text-xs",children:new Date(h.creation_time).toLocaleString()})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsxs)("label",{className:"text-xs font-mono text-gray-500 block mb-1 flex items-center gap-2",children:[(0,mn.jsx)(BF,{size:12})," FILE_SIZE"]}),(0,mn.jsx)("div",{className:"text-gray-300 font-mono text-xs",children:null!==(r=h.filemetum)&&void 0!==r&&r.size?"".concat((h.filemetum.size/1024).toFixed(2)," KB"):"N/A"})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsxs)("label",{className:"text-xs font-mono text-gray-500 block mb-1 flex items-center gap-2",children:[(0,mn.jsx)(QT,{size:12})," CREATOR"]}),(0,mn.jsx)("div",{className:"text-gray-300 font-mono text-xs",children:(null===(o=h.operator)||void 0===o?void 0:o.username)||"Unknown"})]}),(0,mn.jsxs)("div",{className:"p-4 bg-black/30 border border-gray-800 rounded-lg",children:[(0,mn.jsxs)("label",{className:"text-xs font-mono text-gray-500 block mb-1 flex items-center gap-2",children:[(0,mn.jsx)(um,{size:12})," CALLBACKS"]}),(0,mn.jsx)("div",{className:"text-gray-300 font-mono text-xs",children:h.callback_allowed?"ALLOWED":"DISALLOWED"})]})]})]}),(0,mn.jsxs)("div",{className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"space-y-3",children:[(0,mn.jsxs)("label",{className:"text-sm font-mono text-gray-400 flex items-center gap-2 font-bold tracking-wider",children:[(0,mn.jsx)(BF,{size:16})," INTEGRITY_HASHES"]}),(0,mn.jsxs)("div",{className:"space-y-2",children:[(0,mn.jsxs)("div",{className:"p-3 bg-black/30 border border-gray-800 rounded group",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1",children:"MD5"}),(0,mn.jsx)("div",{className:"font-mono text-xs text-signal break-all select-all",children:(null===(i=h.filemetum)||void 0===i?void 0:i.md5)||"PENDING"})]}),(0,mn.jsxs)("div",{className:"p-3 bg-black/30 border border-gray-800 rounded group",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1",children:"SHA1"}),(0,mn.jsx)("div",{className:"font-mono text-xs text-signal break-all select-all",children:(null===(s=h.filemetum)||void 0===s?void 0:s.sha1)||"PENDING"})]})]})]}),(0,mn.jsxs)("div",{className:"space-y-3",children:[(0,mn.jsxs)("label",{className:"text-sm font-mono text-gray-400 flex items-center gap-2 font-bold tracking-wider",children:[(0,mn.jsx)(mm,{size:16})," C2_PROFILES"]}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(l=h.payloadc2profiles)||void 0===l?void 0:l.map((e=>(0,mn.jsxs)("div",{className:Wx("px-3 py-2 rounded border flex items-center gap-2 text-xs font-mono",e.c2profile.running?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"),children:[(0,mn.jsx)("div",{className:Wx("w-2 h-2 rounded-full",e.c2profile.running?"bg-green-500":"bg-red-500")}),e.c2profile.name]},e.c2profile.name)))})]}),(0,mn.jsxs)("div",{className:"space-y-3",children:[(0,mn.jsxs)("label",{className:"text-sm font-mono text-gray-400 flex items-center gap-2 font-bold tracking-wider",children:[(0,mn.jsx)(YV,{size:16})," INCLUDED_COMMANDS (",(null===(c=h.payloadcommands)||void 0===c?void 0:c.length)||0,")"]}),(0,mn.jsxs)("div",{className:"flex flex-wrap gap-1 max-h-[150px] overflow-y-auto cyber-scrollbar p-2 border border-gray-800 bg-black/20 rounded",children:[null===(d=h.payloadcommands)||void 0===d?void 0:d.map((e=>(0,mn.jsx)("span",{className:"px-2 py-1 bg-white/5 border border-gray-700 text-[10px] font-mono text-gray-300 rounded",children:e.command.cmd},e.command.cmd))),(!h.payloadcommands||0===h.payloadcommands.length)&&(0,mn.jsx)("span",{className:"text-gray-500 text-xs italic",children:"NO_COMMANDS_FOUND"})]})]})]})]})}),"config"===g&&(0,mn.jsx)("div",{className:"h-full flex flex-col animate-in fade-in zoom-in-95 duration-300 overflow-y-auto cyber-scrollbar",children:(0,mn.jsxs)("table",{className:"w-full text-left border-collapse",children:[(0,mn.jsx)("thead",{children:(0,mn.jsxs)("tr",{className:"border-b border-gray-700 bg-white/5",children:[(0,mn.jsx)("th",{className:"p-4 text-xs font-mono text-gray-400 w-1/3",children:"PARAMETER"}),(0,mn.jsx)("th",{className:"p-4 text-xs font-mono text-gray-400",children:"VALUE"})]})}),(0,mn.jsxs)("tbody",{children:[null===(u=h.buildparameterinstances)||void 0===u?void 0:u.map(((e,t)=>(0,mn.jsxs)("tr",{className:"border-b border-gray-800 hover:bg-white/5 transition-colors",children:[(0,mn.jsxs)("td",{className:"p-4",children:[(0,mn.jsx)("div",{className:"text-sm font-mono text-signal font-bold",children:e.buildparameter.name}),(0,mn.jsx)("div",{className:"text-xs text-gray-500",children:e.buildparameter.description})]}),(0,mn.jsx)("td",{className:"p-4 font-mono text-sm text-gray-300 break-all",children:String(e.value)})]},t))),(!h.buildparameterinstances||0===h.buildparameterinstances.length)&&(0,mn.jsx)("tr",{children:(0,mn.jsx)("td",{colSpan:2,className:"p-8 text-center text-gray-500 font-mono text-sm italic",children:"NO_BUILD_PARAMETERS_CONFIGURED"})})]})]})}),"build"===g&&(0,mn.jsxs)("div",{className:"h-full flex flex-col animate-in fade-in zoom-in-95 duration-300",children:[h.payload_build_steps&&h.payload_build_steps.length>0?(0,mn.jsx)("div",{className:"mb-6 space-y-2 max-h-[300px] overflow-y-auto cyber-scrollbar border-b border-gray-800 pb-4",children:h.payload_build_steps.map((e=>(0,mn.jsxs)("div",{className:"flex items-start gap-4 p-2 hover:bg-white/5 rounded",children:[(0,mn.jsx)("div",{className:Wx("mt-1 w-2 h-2 rounded-full shrink-0",e.step_success?"bg-green-500":e.step_skip?"bg-gray-500":"bg-red-500")}),(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,mn.jsx)("span",{className:Wx("font-bold font-mono text-sm",e.step_success?"text-green-400":e.step_skip?"text-gray-400":"text-red-400"),children:e.step_name}),(0,mn.jsxs)("span",{className:"text-[10px] text-gray-500 font-mono flex items-center gap-1",children:[(0,mn.jsx)(km,{size:10})," ",new Date(e.start_time).toLocaleTimeString()]})]}),(e.step_stdout||e.step_stderr)&&(0,mn.jsxs)("div",{className:"bg-black/50 p-2 rounded border border-gray-800 font-mono text-[10px] text-gray-400 whitespace-pre-wrap",children:[e.step_stdout,e.step_stderr&&(0,mn.jsx)("span",{className:"text-red-400 block mt-1",children:e.step_stderr})]})]})]},e.step_number)))}):(0,mn.jsx)("div",{className:"p-4 text-center text-gray-500 font-mono text-sm border-b border-gray-800 mb-4",children:"NO_DETAILED_BUILD_STEPS_RECORDED"}),(0,mn.jsxs)("div",{className:"flex-1 bg-black border border-gray-800 p-6 font-mono text-xs text-gray-300 overflow-y-auto cyber-scrollbar whitespace-pre-wrap rounded-lg shadow-inner",children:[(0,mn.jsx)("div",{className:"mb-2 text-gray-500 font-bold border-b border-gray-800 pb-1",children:"RAW_OUTPUT_STREAM"}),h.build_message,h.build_stdout&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("br",{}),(0,mn.jsx)("br",{}),(0,mn.jsx)("span",{className:"text-green-500",children:"=== STDOUT ==="}),(0,mn.jsx)("br",{}),h.build_stdout]}),h.build_stderr&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("br",{}),(0,mn.jsx)("br",{}),(0,mn.jsx)("span",{className:"text-red-500",children:"=== STDERR ==="}),(0,mn.jsx)("br",{}),h.build_stderr]}),!h.build_message&&!h.build_stdout&&!h.build_stderr&&(0,mn.jsx)("span",{className:"text-gray-600 italic",children:"No raw output available."})]})]})]})]})})})})}var lW=n(869);n(589),n(698);const cW=e=>{let{payload:t,isOpen:n,onClose:r,onRename:o}=e;const[i,s]=(0,a.useState)("");(0,a.useEffect)((()=>{var e;t&&s(null!==(e=t.filemetum)&&void 0!==e&&e.filename_text?Hx(t.filemetum.filename_text):"")}),[t]);return(0,mn.jsx)(On,{children:n&&(0,mn.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-void border border-signal p-6 rounded-lg w-full max-w-md shadow-[0_0_30px_rgba(34,197,94,0.2)]",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mn.jsxs)("h3",{className:"text-xl font-bold text-signal flex items-center gap-2",children:[(0,mn.jsx)(JT,{size:20})," RENAME PAYLOAD"]}),(0,mn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-signal",children:(0,mn.jsx)(nA,{size:20})})]}),(0,mn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(t.filemetum.id,i),r()},children:[(0,mn.jsxs)("div",{className:"mb-4",children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"NEW FILENAME"}),(0,mn.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),className:"w-full bg-black/30 border border-gray-700 p-2 text-signal font-mono focus:border-signal outline-none",autoFocus:!0})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,mn.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-xs font-mono text-gray-400 hover:text-white border border-transparent hover:border-gray-600",children:"CANCEL"}),(0,mn.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-signal/20 border border-signal text-signal hover:bg-signal/30 text-xs font-bold font-mono flex items-center gap-2",children:[(0,mn.jsx)(xB,{size:14})," SAVE"]})]})]})]})})})},dW=e=>{let{payload:t,isOpen:n,onClose:r,onSave:o}=e;const[i,s]=(0,a.useState)("");(0,a.useEffect)((()=>{t&&s(t.description||"")}),[t]);return(0,mn.jsx)(On,{children:n&&(0,mn.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-void border border-signal p-6 rounded-lg w-full max-w-md shadow-[0_0_30px_rgba(34,197,94,0.2)]",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mn.jsxs)("h3",{className:"text-xl font-bold text-signal flex items-center gap-2",children:[(0,mn.jsx)(vT,{size:20})," EDIT DESCRIPTION"]}),(0,mn.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-signal",children:(0,mn.jsx)(nA,{size:20})})]}),(0,mn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o(t.uuid,i),r()},children:[(0,mn.jsxs)("div",{className:"mb-4",children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("textarea",{value:i,onChange:e=>s(e.target.value),className:"w-full bg-black/30 border border-gray-700 p-2 text-signal font-mono focus:border-signal outline-none h-32 resize-none",autoFocus:!0})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,mn.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-xs font-mono text-gray-400 hover:text-white border border-transparent hover:border-gray-600",children:"CANCEL"}),(0,mn.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-signal/20 border border-signal text-signal hover:bg-signal/30 text-xs font-bold font-mono flex items-center gap-2",children:[(0,mn.jsx)(xB,{size:14})," SAVE"]})]})]})]})})})},uW=e=>{let{title:t,content:n,isOpen:r,onClose:o,isLoading:i}=e;return(0,mn.jsx)(On,{children:r&&(0,mn.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-void border border-signal p-0 rounded-lg w-full max-w-4xl shadow-[0_0_30px_rgba(34,197,94,0.2)] h-[80vh] flex flex-col",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-800",children:[(0,mn.jsxs)("h3",{className:"text-xl font-bold text-signal flex items-center gap-2 uppercase",children:[(0,mn.jsx)(OT,{size:20})," ",t]}),(0,mn.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-signal",children:(0,mn.jsx)(nA,{size:20})})]}),(0,mn.jsx)("div",{className:"flex-1 relative bg-black/50",children:i?(0,mn.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-signal gap-2",children:[(0,mn.jsx)(Fd,{className:"animate-spin"})," PROCESSING..."]}):(0,mn.jsx)(lW.Ay,{mode:"text",theme:"monokai",width:"100%",height:"100%",value:n,readOnly:!0,fontSize:14,showPrintMargin:!1,setOptions:{useWorker:!1,showLineNumbers:!1}})}),(0,mn.jsx)("div",{className:"p-4 border-t border-gray-800 flex justify-end",children:(0,mn.jsx)("button",{onClick:o,className:"px-4 py-2 bg-white/5 border border-gray-700 text-gray-300 hover:bg-white/10 text-xs font-mono uppercase",children:"CLOSE"})})]})})})};function hW(){const e=fe(),[t,n]=(0,a.useState)(null),[r,o]=(0,a.useState)("overview"),[i,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,y]=(0,a.useState)(!1),[x,b]=a.useState({totalCount:0,fetchLimit:20,showDeleted:!1,showAutogenerated:!1}),{data:w,loading:k,error:N,refetch:_,subscribeToMore:S}=Jf(RV,{variables:{offset:0,limit:x.fetchLimit,showDeleted:x.showDeleted,showAutogenerated:x.showAutogenerated},fetchPolicy:"network-only"});(0,a.useEffect)((()=>{const e=S({document:MV,variables:{now:(new Date).toISOString()},updateQuery:(e,t)=>{let{subscriptionData:n}=t;if(!n.data)return e;const r=n.data.payload_stream;let o=[...e.payload||[]];return r.forEach((e=>{const t=e.deleted===x.showDeleted,n=e.auto_generated===x.showAutogenerated,r=t&&n,i=o.findIndex((t=>t.id===e.id));i>-1?r?o[i]=e:o.splice(i,1):r&&o.unshift(e)})),o.sort(((e,t)=>t.id-e.id)),s(s({},e),{},{payload:o,payload_aggregate:s(s({},e.payload_aggregate),{},{aggregate:s(s({},e.payload_aggregate.aggregate),{},{count:o.length})})})}});return()=>e()}),[S,x.showDeleted,x.showAutogenerated]);const[C]=UT($V,{onCompleted:e=>{e.rebuild_payload.status}}),[j]=UT(zV,{onCompleted:()=>{}}),[E]=UT(FV,{onCompleted:()=>{}}),[T]=UT(VV,{onCompleted:()=>{}}),[A]=UT(WV),[M]=UT(HV),[R]=Yz(BV,{onCompleted:e=>{if("success"===e.exportPayloadConfig.status)try{const t=new Blob([e.exportPayloadConfig.config],{type:"application/json"}),n=window.URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.setAttribute("download","payload_config.json"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)}catch(zQ){console.error("Download failed",zQ)}}}),[O]=Yz(UV,{fetchPolicy:"network-only",onCompleted:e=>{var t,n;y(!1),g((null===(t=e.redirect_rules)||void 0===t?void 0:t.output)||(null===(n=e.redirect_rules)||void 0===n?void 0:n.error)||"No output")},onError:e=>{y(!1),g("Error: ".concat(e.message))}}),[I]=Yz(GV,{fetchPolicy:"network-only",onCompleted:e=>{var t,n;y(!1),g((null===(t=e.config_check)||void 0===t?void 0:t.output)||(null===(n=e.config_check)||void 0===n?void 0:n.error)||"No output")},onError:e=>{y(!1),g("Error: ".concat(e.message))}}),[L]=Yz(qV,{fetchPolicy:"network-only",onCompleted:e=>{var t,n;y(!1),g((null===(t=e.c2GetIOC)||void 0===t?void 0:t.output)||(null===(n=e.c2GetIOC)||void 0===n?void 0:n.error)||"No output")},onError:e=>{y(!1),g("Error: ".concat(e.message))}}),[D]=Yz(KV,{fetchPolicy:"network-only",onCompleted:e=>{var t,n;y(!1),g((null===(t=e.c2SampleMessage)||void 0===t?void 0:t.output)||(null===(n=e.c2SampleMessage)||void 0===n?void 0:n.error)||"No output")},onError:e=>{y(!1),g("Error: ".concat(e.message))}}),P=(0,a.useMemo)((()=>(null===w||void 0===w?void 0:w.payload)||[]),[w]),$=(0,a.useMemo)((()=>t?P.find((e=>e.id===t.id))||t:null),[P,t]),z=(e,t)=>{f(e),g(""),y(!0),h(!0),t()},F=t=>{let{row:r}=t;const[i,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),[h,p]=(0,a.useState)({top:0,left:0});return(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)("button",{ref:u,onClick:e=>{if(e.stopPropagation(),!i&&u.current){const e=u.current.getBoundingClientRect();p({top:e.bottom+window.scrollY+5,left:e.right+window.scrollX-250})}c(!i)},className:"p-1 text-gray-400 hover:text-signal transition-colors",children:(0,mn.jsx)(ZT,{size:16})}),i&&(0,sj.createPortal)((0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:e=>{e.stopPropagation(),c(!1)}}),(0,mn.jsx)(On,{children:(0,mn.jsx)(Md.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.1},className:"fixed z-[9999] w-64 bg-void border border-signal/50 shadow-[0_0_20px_rgba(0,0,0,0.8)] rounded overflow-hidden max-h-[400px] overflow-y-auto cyber-scrollbar",style:{top:h.top,left:h.left},onClick:e=>e.stopPropagation(),children:(0,mn.jsxs)("div",{className:"py-1",children:[(0,mn.jsxs)("button",{onClick:()=>{c(!1),l(r)},className:"action-item",disabled:!r.filemetum,children:[(0,mn.jsx)(JT,{size:14})," Rename File"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),d(r)},className:"action-item",children:[(0,mn.jsx)(vT,{size:14})," Edit Description"]}),(0,mn.jsx)("div",{className:"separator"}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),n(r),o("config")},className:"action-item",children:[(0,mn.jsx)(OT,{size:14})," View Payload Configuration"]}),(0,mn.jsxs)("button",{disabled:!0,className:"action-item opacity-50 cursor-not-allowed",children:[(0,mn.jsx)(xT,{size:14})," Compare Payload Configuration"]}),(0,mn.jsx)("div",{className:"separator"}),(0,mn.jsxs)("button",{onClick:()=>{var e,t;e=r.uuid,t=r.callback_alert,A({variables:{payload_uuid:e,callback_alert:!t}})},className:"action-item",children:[r.callback_alert?(0,mn.jsx)(NT,{size:14,className:"text-green-400"}):(0,mn.jsx)(YT,{size:14,className:"text-red-400"}),r.callback_alert?"Alerting to New Callbacks":"Not Alerting to New Callbacks"]}),(0,mn.jsxs)("button",{onClick:()=>{var e,t;e=r.uuid,t=r.callback_allowed,M({variables:{payload_uuid:e,callback_allowed:!t}})},className:"action-item",children:[r.callback_allowed?(0,mn.jsx)(NT,{size:14,className:"text-green-400"}):(0,mn.jsx)(YT,{size:14,className:"text-red-400"}),r.callback_allowed?"Allow New Callbacks":"Prevent New Callbacks"]}),(0,mn.jsx)("div",{className:"separator"}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),n(r),o("build")},className:"action-item",children:[(0,mn.jsx)(ZV,{size:14})," View Build Message/Stdout"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),n(r),o("build")},className:"action-item",children:[(0,mn.jsx)(RT,{size:14,className:"text-yellow-500"})," View Build Errors"]}),(0,mn.jsx)("div",{className:"separator"}),(0,mn.jsxs)("button",{onClick:()=>{var e;c(!1),e=r.uuid,C({variables:{uuid:e}})},className:"action-item",children:[(0,mn.jsx)(Fd,{size:14})," Trigger New Build"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),e("/payloads/new")},className:"action-item",children:[(0,mn.jsx)(Fd,{size:14})," Trigger New Build With Edits"]}),(0,mn.jsx)("div",{className:"separator"}),(0,mn.jsxs)("button",{onClick:()=>{var e;c(!1),e=r.uuid,R({variables:{uuid:e}})},className:"action-item",children:[(0,mn.jsx)(JV,{size:14})," Export Payload Config"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),z("Redirect Rules",(()=>O({variables:{uuid:r.uuid}})))},className:"action-item",children:[(0,mn.jsx)(eW,{size:14})," Generate Redirect Rules"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),z("Agent C2 Config",(()=>I({variables:{uuid:r.uuid}})))},className:"action-item",children:[(0,mn.jsx)(tW,{size:14})," Check Agent C2 Configuration"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),z("IOCs",(()=>L({variables:{uuid:r.uuid}})))},className:"action-item",children:[(0,mn.jsx)(nW,{size:14})," Generate IOCs"]}),(0,mn.jsxs)("button",{onClick:()=>{c(!1),z("Sample Message",(()=>D({variables:{uuid:r.uuid}})))},className:"action-item",children:[(0,mn.jsx)(um,{size:14})," Generate Sample Message"]}),(0,mn.jsxs)("button",{disabled:!0,className:"action-item opacity-50 cursor-not-allowed",children:[(0,mn.jsx)(rW,{size:14})," Generate Fake Callback"]}),(0,mn.jsx)("div",{className:"separator"}),(0,mn.jsxs)("button",{onClick:()=>{var e;c(!1),e=r.uuid,j({variables:{payload_uuid:e,deleted:!0},update:(t,n)=>{var r;let{data:o}=n;if("success"===(null===o||void 0===o||null===(r=o.updatePayload)||void 0===r?void 0:r.status)){const n={offset:0,limit:x.fetchLimit,showDeleted:x.showDeleted,showAutogenerated:x.showAutogenerated};try{const r=t.readQuery({query:RV,variables:n});if(r&&r.payload){const o=r.payload.filter((t=>t.uuid!==e));t.writeQuery({query:RV,variables:n,data:s(s({},r),{},{payload:o,payload_aggregate:s(s({},r.payload_aggregate),{},{aggregate:s(s({},r.payload_aggregate.aggregate),{},{count:o.length})})})})}}catch(zQ){console.error("Error updating cache for delete",zQ)}}}})},className:"action-item text-red-400 hover:bg-red-900/20",children:[(0,mn.jsx)(_F,{size:14})," Delete from Disk"]})]})})})]}),document.body)]})},B=[{header:"ID",cell:e=>(0,mn.jsxs)("span",{className:"text-gray-400 font-mono text-xs",children:["#",e.id]})},{header:"FILE ARTIFACT",cell:e=>{var t,n;const r=null!==(t=e.filemetum)&&void 0!==t&&t.filename_text?Hx(e.filemetum.filename_text):e.uuid;return(0,mn.jsxs)("div",{className:"flex items-center gap-3 group cursor-pointer",children:[(0,mn.jsx)("div",{className:Wx("p-2 rounded border transition-colors","success"===e.build_phase?"border-green-500/30 bg-green-900/10 text-green-400":"error"===e.build_phase?"border-red-500/30 bg-red-900/10 text-red-400":"border-yellow-500/30 bg-yellow-900/10 text-yellow-400"),children:"error"===e.build_phase?(0,mn.jsx)(RT,{size:16}):(0,mn.jsx)(vT,{size:16})}),(0,mn.jsxs)("div",{className:"flex flex-col",children:[(0,mn.jsx)("span",{className:"text-signal font-bold text-sm hover:underline hover:text-white transition-colors truncate max-w-[200px]",title:r,children:r}),(0,mn.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:null!==(n=e.filemetum)&&void 0!==n&&n.size?"".concat((e.filemetum.size/1024).toFixed(1)," KB"):"SIZE_UNKNOWN"})]})]})}},{header:"DESCRIPTION",cell:e=>(0,mn.jsx)("span",{className:"text-gray-400 italic text-xs truncate max-w-[200px] block",title:e.description,children:e.description||"No description"})},{header:"AGENT ARCH",cell:e=>{var t;return(0,mn.jsxs)("div",{className:"flex flex-col",children:[(0,mn.jsx)("span",{className:"uppercase text-xs font-bold text-gray-300",children:null===(t=e.payloadtype)||void 0===t?void 0:t.name}),(0,mn.jsx)("span",{className:"text-[10px] text-gray-500 font-mono",children:e.os})]})}},{header:"C2 CHANNELS",cell:e=>(0,mn.jsx)("div",{className:"flex flex-wrap gap-1",children:e.payloadc2profiles.map((e=>(0,mn.jsx)("span",{className:Wx("text-[10px] px-2 py-0.5 rounded border font-mono",e.c2profile.running?"bg-green-900/20 border-green-500/30 text-green-400":"bg-red-900/20 border-red-500/30 text-red-400"),children:e.c2profile.name},e.c2profile.name)))})},{header:"BUILD STATUS",cell:e=>(0,mn.jsx)("span",{className:Wx("uppercase text-xs font-bold font-mono px-2 py-1 rounded","success"===e.build_phase&&"text-green-400 bg-green-900/10","building"===e.build_phase&&"text-yellow-400 bg-yellow-900/10 animate-pulse","error"===e.build_phase&&"text-red-400 bg-red-900/10"),children:e.build_phase})},{header:"ACTIONS",cell:e=>{var t,n;return(0,mn.jsxs)("div",{className:"flex items-center gap-2 justify-end",children:[(0,mn.jsx)("button",{onClick:t=>{var n;if(t.stopPropagation(),null!==(n=e.filemetum)&&void 0!==n&&n.agent_file_id){const t="".concat(window.location.origin,"/direct/download/").concat(e.filemetum.agent_file_id);navigator.clipboard.writeText(t).then((()=>{sT.success("Public download link copied")})).catch((e=>{sT.error("Failed to copy link")}))}},className:"p-2 text-gray-400 hover:text-signal hover:bg-white/10 rounded transition-all disabled:opacity-30 disabled:cursor-not-allowed",disabled:"success"!==e.build_phase||!(null!==(t=e.filemetum)&&void 0!==t&&t.agent_file_id),title:"Copy Public Download Link",children:(0,mn.jsx)(oW,{size:18})}),(0,mn.jsx)("button",{onClick:t=>{var n;t.stopPropagation(),null!==(n=e.filemetum)&&void 0!==n&&n.agent_file_id&&(window.location.href="/direct/download/".concat(e.filemetum.agent_file_id))},className:"p-2 text-gray-400 hover:text-signal hover:bg-white/10 rounded transition-all disabled:opacity-30 disabled:cursor-not-allowed",disabled:"success"!==e.build_phase||!(null!==(n=e.filemetum)&&void 0!==n&&n.agent_file_id),title:"Download Artifact",children:(0,mn.jsx)(vm,{size:18})}),(0,mn.jsx)(F,{row:e})]})}}];return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans p-6 lg:p-12",children:[(0,mn.jsx)("style",{children:"\n    .action-item {\n        width: 100%;\n        text-align: left;\n        padding: 8px 16px;\n        font-size: 12px;\n        font-family: monospace;\n        color: #d1d5db;\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        transition: all 0.2s;\n    }\n    .action-item:hover:not(:disabled) {\n        background-color: rgba(255, 255, 255, 0.1);\n        color: #22c55e;\n    }\n    .separator {\n        height: 1px;\n        background-color: #374151;\n        margin: 4px 0;\n    }\n  "}),(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(pm,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"PAYLOADS OVERVIEW"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/payloads/list"})]})]}),(0,mn.jsxs)("button",{onClick:()=>{e("/payloads/new")},className:"flex items-center gap-2 px-6 py-3 bg-signal text-void font-bold font-mono text-sm hover:bg-white hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] transition-all rounded",children:[(0,mn.jsx)(iW,{size:18})," GENERATE PAYLOAD"]})]}),(0,mn.jsx)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,mn.jsx)(qT,{data:P,columns:B,isLoading:k,onRowClick:e=>{n(e),o("overview")}})}),(0,mn.jsx)(aW,{payload:$,isOpen:!!$,onClose:()=>n(null),initialTab:r}),(0,mn.jsx)(cW,{payload:i,isOpen:!!i,onClose:()=>l(null),onRename:(e,t)=>{E({variables:{file_id:e,filename:t}})}}),(0,mn.jsx)(dW,{payload:c,isOpen:!!c,onClose:()=>d(null),onSave:(e,t)=>{T({variables:{payload_uuid:e,description:t}})}}),(0,mn.jsx)(uW,{title:p,content:m,isOpen:u,onClose:()=>h(!1),isLoading:v})]})}function pW(e){let{options:t,value:n,onChange:r,placeholder:o="SELECT...",className:i,disabled:s,size:l="md"}=e;const[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)({top:0,left:0,width:0}),p=(0,a.useRef)(null),f=(0,a.useRef)(null),m=(0,a.useRef)(null),g=t.map((e=>"object"===typeof e?e:{label:String(e),value:e})),v=g.find((e=>e.value===n)),y=(0,a.useCallback)((()=>{if(m.current){const e=m.current.getBoundingClientRect();h({top:e.bottom+4,left:e.left,width:e.width})}}),[]);(0,a.useEffect)((()=>{if(!c)return;const e=e=>{const t=e.target,n=p.current&&!p.current.contains(t),r=f.current&&!f.current.contains(t);n&&r&&d(!1)},t=setTimeout((()=>{document.addEventListener("mousedown",e)}),0);return()=>{clearTimeout(t),document.removeEventListener("mousedown",e)}}),[c]),(0,a.useEffect)((()=>{if(c)return y(),window.addEventListener("scroll",y,!0),window.addEventListener("resize",y),()=>{window.removeEventListener("scroll",y,!0),window.removeEventListener("resize",y)}}),[c,y]);const x=c&&(0,mn.jsxs)(Md.div,{ref:f,initial:{opacity:0,y:-8,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-8,scale:.95},transition:{duration:.15,ease:"easeOut"},style:{position:"fixed",top:u.top,left:u.left,width:u.width,zIndex:99999},className:"border border-signal bg-void/98 backdrop-blur-xl shadow-[0_0_30px_rgba(0,255,255,0.2),0_8px_32px_rgba(0,0,0,0.8)] overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute inset-0 pointer-events-none bg-[linear-gradient(transparent_50%,rgba(0,0,0,0.1)_50%)] bg-[length:100%_4px] opacity-20"}),(0,mn.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[1px] bg-gradient-to-r from-transparent via-signal to-transparent"}),(0,mn.jsx)("div",{className:"max-h-[240px] overflow-y-auto cyber-scrollbar relative",children:0===g.length?(0,mn.jsx)("div",{className:"p-4 text-gray-500 text-xs font-mono text-center",children:(0,mn.jsx)("span",{className:"animate-pulse",children:"NO_OPTIONS_AVAILABLE"})}):g.map(((e,t)=>(0,mn.jsxs)("button",{type:"button",onClick:t=>((e,t)=>{t.preventDefault(),t.stopPropagation(),r(e),d(!1)})(e.value,t),className:Wx("w-full text-left px-3 py-2 font-mono text-xs transition-all duration-150 flex items-center gap-3 relative group","hover:bg-signal/15 hover:text-signal",e.value===n?"text-signal bg-signal/10 font-bold":"text-gray-400",t!==g.length-1&&"border-b border-gray-800/50"),children:[(0,mn.jsx)("div",{className:Wx("absolute left-0 top-0 bottom-0 w-[2px] transition-all duration-150",e.value===n?"bg-signal shadow-[0_0_8px_rgba(255,255,255,0.5)]":"bg-transparent group-hover:bg-signal/50")}),e.icon&&(0,mn.jsx)("span",{className:"flex-shrink-0",children:e.icon}),(0,mn.jsx)("span",{className:"flex-1 truncate",children:e.label}),e.value===n&&(0,mn.jsx)(tV,{size:12,className:"flex-shrink-0 text-signal"})]},String(e.value))))}),(0,mn.jsx)("div",{className:"h-[2px] bg-gradient-to-r from-signal/30 via-signal to-signal/30"})]});return(0,mn.jsxs)("div",{ref:p,className:Wx("relative font-mono",i),children:[(0,mn.jsxs)("button",{ref:m,type:"button",onClick:()=>{s||(y(),d(!c))},disabled:s,className:Wx("w-full flex items-center justify-between border transition-all duration-200 relative overflow-hidden group",{sm:"px-2 py-1 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"}[l],c?"border-signal bg-signal/10 text-signal shadow-[0_0_15px_rgba(255,255,255,0.2),inset_0_0_15px_rgba(255,255,255,0.05)]":"border-gray-700 bg-void/60 text-gray-300 hover:border-signal/50 hover:bg-void/80",s&&"opacity-40 cursor-not-allowed grayscale"),children:[!s&&(0,mn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-signal/10 to-transparent translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500 pointer-events-none"}),(0,mn.jsx)("div",{className:Wx("absolute top-0 left-0 w-2 h-2 border-t border-l transition-colors duration-200",c?"border-signal":"border-gray-600 group-hover:border-signal/50")}),(0,mn.jsx)("div",{className:Wx("absolute top-0 right-0 w-2 h-2 border-t border-r transition-colors duration-200",c?"border-signal":"border-gray-600 group-hover:border-signal/50")}),(0,mn.jsx)("div",{className:Wx("absolute bottom-0 left-0 w-2 h-2 border-b border-l transition-colors duration-200",c?"border-signal":"border-gray-600 group-hover:border-signal/50")}),(0,mn.jsx)("div",{className:Wx("absolute bottom-0 right-0 w-2 h-2 border-b border-r transition-colors duration-200",c?"border-signal":"border-gray-600 group-hover:border-signal/50")}),(0,mn.jsx)("span",{className:"truncate relative z-10",children:v?v.label:(0,mn.jsx)("span",{className:"text-gray-500 italic",children:o})}),(0,mn.jsx)("div",{className:Wx("relative z-10 ml-2 transition-transform duration-200",c&&"rotate-180"),children:(0,mn.jsx)(Qz,{size:14,className:Wx("transition-colors duration-200",c?"text-signal":"text-gray-500 group-hover:text-signal")})})]}),(0,mn.jsx)(On,{children:c&&(0,sj.createPortal)(x,document.body)})]})}const fW=(0,a.memo)((function(e){let{onChange:t,parameter_type:n,default_value:r,name:o,required:i,verifier_regex:s,id:l,description:c,initialValue:d,choices:u,trackedValue:h,payload_type:p,selected_os:f,dynamic_query_function:m}=e;const[g,v]=(0,a.useState)(""),[y,x]=(0,a.useState)([]),[b,w]=(0,a.useState)(!1),[k]=UT(PV,{onCompleted:e=>{w(!1),"success"===e.dynamicQueryBuildParameterFunction.status&&(x(e.dynamicQueryBuildParameterFunction.choices),e.dynamicQueryBuildParameterFunction.choices.length>0&&!e.dynamicQueryBuildParameterFunction.choices.includes(g)&&(v(e.dynamicQueryBuildParameterFunction.choices[0]),t(o,e.dynamicQueryBuildParameterFunction.choices[0],!1)))},onError:()=>{w(!1)}});(0,a.useEffect)((()=>{"ChooseOne"===n||"ChooseOneCustom"===n?(x(u||[]),v(h||r)):v("Boolean"===n||void 0!==h?h:r),!m||u&&0!==u.length||N()}),[n,h,r,u]);const N=()=>{w(!0),k({variables:{parameter_name:o,payload_type:p,selected_os:f}})},_=e=>{v(e);let n=!1;if(s&&"string"===typeof e)try{new RegExp(s).test(e)||(n=!0)}catch(zQ){console.error("Invalid regex",s)}t(o,e,n)};return(0,mn.jsxs)("tr",{className:"border-b border-gray-800/50 hover:bg-white/5 transition-colors group",children:[(0,mn.jsxs)("td",{className:"p-4 align-top w-1/3 border-r border-gray-800/30",children:[(0,mn.jsx)("div",{className:"font-bold text-signal font-mono mb-1 group-hover:text-white transition-colors",children:o}),(0,mn.jsx)("div",{className:"text-xs text-gray-400 leading-relaxed",children:c}),i&&(0,mn.jsx)("div",{className:"text-[10px] text-red-400 mt-1 font-mono tracking-wider",children:"* REQUIRED"})]}),(0,mn.jsx)("td",{className:"p-4 align-top",children:(()=>{switch(n){case"String":return(0,mn.jsx)("input",{type:"text",value:g,onChange:e=>_(e.target.value),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"});case"Number":return(0,mn.jsx)("input",{type:"number",value:g,onChange:e=>_(Number(e.target.value)),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"});case"Boolean":return(0,mn.jsx)("button",{onClick:()=>_(!g),className:Wx("w-12 h-6 rounded-full p-1 transition-colors relative border",g?"bg-green-900/50 border-green-500":"bg-gray-900/50 border-gray-700"),children:(0,mn.jsx)("div",{className:Wx("w-3.5 h-3.5 rounded-full bg-white shadow-[0_0_8px_white] transition-transform duration-300",g?"translate-x-6":"translate-x-0")})});case"ChooseOne":return(0,mn.jsxs)("div",{className:"relative flex items-center gap-2",children:[(0,mn.jsx)("div",{className:"flex-1",children:(0,mn.jsx)(pW,{options:y,value:g,onChange:_})}),m&&(0,mn.jsx)("button",{onClick:N,className:"p-2 border border-gray-700 hover:border-signal hover:text-signal text-gray-500 transition-colors bg-black/40",children:(0,mn.jsx)(Fd,{size:16,className:b?"animate-spin":""})})]});case"ChooseOneCustom":return(0,mn.jsxs)("div",{className:"flex gap-2",children:[(0,mn.jsx)("div",{className:"relative flex-1",children:(0,mn.jsx)(pW,{options:y,value:y.includes(g)?g:"",onChange:_,placeholder:"Select..."})}),(0,mn.jsx)("input",{type:"text",placeholder:"Custom...",value:g,onChange:e=>_(e.target.value),className:"flex-1 bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"})]});case"Date":return(0,mn.jsx)("input",{type:"date",value:g,onChange:e=>_(e.target.value),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"});case"Dictionary":return(0,mn.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,mn.jsx)("textarea",{value:"string"===typeof g?g:JSON.stringify(g,null,2),onChange:e=>_(e.target.value),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5 min-h-[100px]",placeholder:'{"key": "value"}'}),(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono",children:"JSON_FORMAT_REQUIRED"})]});default:return(0,mn.jsxs)("div",{className:"text-red-500 text-xs border border-red-900 p-2 bg-red-900/10",children:["Unsupported Parameter Type: ",n]})}})()})]})}));function mW(e){let{payloadType:t,os:n,currentConfig:r,onUpdate:o}=e;const{data:i,loading:l,error:c}=Jf(OV,{variables:{payloadtype:t}}),[d,u]=(0,a.useState)([]);(0,a.useEffect)((()=>{var e,t;if(null!==i&&void 0!==i&&null!==(e=i.payloadtype)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.buildparameters){const e=i.payloadtype[0].buildparameters.map((e=>{const t=r.find((t=>t.name===e.name));return t?s(s({},e),t):s(s({},e),{},{value:e.default_value})}));u(e),0===r.length&&o(e)}}),[i,r,o]);const h=(e,t,n)=>{const r=d.map((r=>r.name===e?s(s({},r),{},{value:t,error:n}):r));u(r),o(r)};if(l)return(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-signal",children:[(0,mn.jsx)(XV,{className:"animate-spin"})," LOADING_PARAMETERS..."]});if(c)return(0,mn.jsxs)("div",{className:"text-red-500",children:["ERROR_LOADING_PARAMETERS: ",c.message]});const p=d.reduce(((e,t)=>{const r=t.group_name||"Basic Options";return e[r]||(e[r]=[]),t.supported_os&&t.supported_os.length>0&&!t.supported_os.includes(n)||e[r].push(t),e}),{});return(0,mn.jsx)("div",{className:"space-y-8",children:Object.entries(p).map((e=>{let[r,o]=e;return(0,mn.jsxs)("div",{className:"border border-ghost/30 bg-black/40",children:[(0,mn.jsx)("div",{className:"bg-white/5 p-2 px-4 font-mono font-bold text-signal border-b border-ghost/30 uppercase tracking-widest text-sm",children:r}),(0,mn.jsx)("table",{className:"w-full text-left border-collapse",children:(0,mn.jsx)("tbody",{children:o.map((e=>(0,mn.jsx)(fW,s(s({},e),{},{trackedValue:e.value,payload_type:t,selected_os:n,onChange:h}),e.id)))})})]},r)}))})}const gW=zd("square-check-big",[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),vW=zd("square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),yW=(0,a.memo)((e=>{let{cmd:t,isSelected:n,onToggle:r,onEnter:o,onLeave:i,onMove:s}=e;return(0,mn.jsxs)("button",{onClick:()=>r(t.cmd),onMouseEnter:e=>o(e,t),onMouseLeave:i,onMouseMove:s,className:Wx("flex items-start gap-3 p-2 text-left border transition-all duration-150 group h-full relative overflow-hidden",n?"border-signal bg-white/10":"border-transparent hover:border-gray-700 bg-transparent hover:bg-white/5"),children:[(0,mn.jsx)("div",{className:Wx("mt-0.5 shrink-0 transition-colors",n?"text-signal":"text-gray-700 group-hover:text-gray-500"),children:n?(0,mn.jsx)(gW,{size:14}):(0,mn.jsx)(vW,{size:14})}),(0,mn.jsxs)("div",{className:"overflow-hidden min-w-0 z-10",children:[(0,mn.jsx)("div",{className:Wx("font-bold font-mono text-xs truncate transition-colors",n?"text-signal":"text-gray-400 group-hover:text-gray-300"),children:t.cmd}),t.description&&(0,mn.jsx)("div",{className:"text-[10px] text-gray-600 line-clamp-1 mt-0.5 leading-tight group-hover:text-gray-500",children:t.description})]}),!n&&(0,mn.jsx)("div",{className:"absolute inset-0 bg-signal/5 translate-x-[-100%] group-hover:translate-x-0 transition-transform duration-500 pointer-events-none"})]})}));function xW(e){let{payloadType:t,currentCommands:n,onUpdate:r}=e;const{data:o,loading:i,error:s}=Jf(IV,{variables:{payloadType:t}}),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(null),[f,m]=(0,a.useState)({x:0,y:0}),[g,v]=(0,a.useState)(!1),y=(0,a.useRef)(null);(0,a.useEffect)((()=>{if(null!==o&&void 0!==o&&o.command&&(u(o.command),0===n.length)){const e=o.command.filter((e=>{var t;return null===(t=e.attributes)||void 0===t?void 0:t.suggested_command})).map((e=>e.cmd));e.length>0&&r(e)}}),[o]);const x=(0,a.useCallback)((e=>{n.includes(e)?r(n.filter((t=>t!==e))):r([...n,e])}),[n,r]),b=(0,a.useMemo)((()=>l?d.filter((e=>e.cmd.toLowerCase().includes(l.toLowerCase()))):d),[d,l]),w=e=>{const t=e.clientX+15,n=e.clientY+15,r=window.innerWidth,o=window.innerHeight;return{x:t+320>r?e.clientX-320-15:t,y:n+250>o?e.clientY-250-15:n}},k=(0,a.useCallback)(((e,t)=>{m(w(e)),y.current=setTimeout((()=>{p(t),v(!0)}),200)}),[]),N=(0,a.useCallback)((e=>{(y.current||g)&&m(w(e))}),[g]),_=(0,a.useCallback)((()=>{y.current&&clearTimeout(y.current),v(!1),p(null)}),[]);return i?(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-signal",children:[(0,mn.jsx)(XV,{className:"animate-spin"})," LOADING_COMMANDS..."]}):s?(0,mn.jsxs)("div",{className:"text-red-500",children:["ERROR_LOADING_COMMANDS: ",s.message]}):(0,mn.jsxs)("div",{className:"h-full flex flex-col relative",children:[(0,mn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4 items-center",children:[(0,mn.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,mn.jsx)(mT,{className:"absolute left-3 top-2.5 text-gray-500",size:18}),(0,mn.jsx)("input",{type:"text",placeholder:"FILTER_COMMANDS...",value:l,onChange:e=>c(e.target.value),className:"w-full bg-black/30 border border-gray-700 py-2 pl-10 pr-4 text-signal font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"})]}),(0,mn.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,mn.jsxs)("button",{onClick:()=>{const e=b.map((e=>e.cmd)).filter((e=>!n.includes(e)));r([...n,...e])},className:"flex-1 md:flex-none px-4 py-2 border border-green-900/50 bg-green-900/10 hover:bg-green-900/20 text-green-400 hover:text-green-300 text-xs font-mono font-bold transition-all flex items-center justify-center gap-2",children:[(0,mn.jsx)(tV,{size:14})," SELECT_VISIBLE"]}),(0,mn.jsxs)("button",{onClick:()=>{const e=b.map((e=>e.cmd));r(n.filter((t=>!e.includes(t))))},className:"flex-1 md:flex-none px-4 py-2 border border-red-900/50 bg-red-900/10 hover:bg-red-900/20 text-red-400 hover:text-red-300 text-xs font-mono font-bold transition-all flex items-center justify-center gap-2",children:[(0,mn.jsx)(nA,{size:14})," DESELECT_VISIBLE"]})]})]}),(0,mn.jsx)("div",{className:"flex-1 border border-ghost/30 bg-black/20 p-1 cyber-scrollbar overflow-y-auto",children:(0,mn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-1",children:b.map((e=>(0,mn.jsx)(yW,{cmd:e,isSelected:n.includes(e.cmd),onToggle:x,onEnter:k,onLeave:_,onMove:N},e.id)))})}),(0,mn.jsxs)("div",{className:"mt-2 text-[10px] font-mono text-gray-500 flex justify-between px-1",children:[(0,mn.jsxs)("span",{children:["TOTAL: ",d.length]}),(0,mn.jsxs)("span",{children:["SELECTED: ",(0,mn.jsx)("span",{className:"text-signal",children:n.length})]})]}),(0,sj.createPortal)((0,mn.jsx)(On,{children:g&&h&&(0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.1},className:"fixed z-[9999] w-80 bg-void/95 border border-signal backdrop-blur-xl shadow-[0_0_30px_rgba(34,197,94,0.3)] rounded-lg pointer-events-none overflow-hidden",style:{top:f.y,left:f.x},children:[(0,mn.jsxs)("div",{className:"bg-signal/10 p-3 border-b border-signal/30 flex items-center justify-between",children:[(0,mn.jsxs)("span",{className:"font-bold font-mono text-signal text-sm flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:14})," ",h.cmd]}),h.needs_admin&&(0,mn.jsx)("span",{className:"text-[10px] bg-red-900/50 text-red-400 px-1.5 py-0.5 border border-red-500/30 rounded",children:"ELEVATED"})]}),(0,mn.jsxs)("div",{className:"p-4 space-y-3",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1 uppercase tracking-wider",children:"Description"}),(0,mn.jsx)("p",{className:"text-xs text-gray-300 leading-relaxed font-mono",children:h.description||"No description provided."})]}),h.help_cmd&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1 uppercase tracking-wider",children:"Usage"}),(0,mn.jsx)("div",{className:"text-xs text-signal/80 font-mono bg-black/50 p-2 border border-gray-800 rounded break-all",children:h.help_cmd})]}),h.attributes&&Object.keys(h.attributes).length>0&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1 uppercase tracking-wider",children:"Attributes"}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(h.attributes).map((e=>{let[t,n]=e;return n&&(0,mn.jsx)("span",{className:"text-[10px] bg-white/5 text-gray-400 px-1.5 py-0.5 border border-gray-800 rounded",children:t},t)}))})]})]}),(0,mn.jsx)("div",{className:"absolute top-0 right-0 w-4 h-4 border-t border-r border-signal"}),(0,mn.jsx)("div",{className:"absolute bottom-0 left-0 w-4 h-4 border-b border-l border-signal"})]})}),document.body)]})}var bW=n(324);const wW=e=>{if(e.randomize&&""!==e.format_string)try{return new bW(e.format_string).gen()}catch(zQ){return console.error("RandExp error",zQ),e.default_value}switch(e.parameter_type){case"String":return e.default_value;case"Number":return""===e.default_value?0:Number(e.default_value);case"ChooseOne":case"ChooseOneCustom":return e.default_value;case"ChooseMultiple":try{return JSON.parse(e.default_value)}catch(zQ){return[]}case"Array":try{return JSON.parse(e.default_value)}catch(zQ){return[]}case"TypedArray":try{return JSON.parse(e.default_value)}catch(zQ){return[]}case"Boolean":return"true"===e.default_value;case"Dictionary":if("string"!==typeof e.choices)return e.choices.map((e=>s(s({},e),{},{value:e.default_value})));try{return JSON.parse(e.choices).map((e=>s(s({},e),{},{value:e.default_value})))}catch(zQ){return[]}case"FileMultiple":return[];case"File":return{name:e.default_value};case"Date":try{var t=new Date;return t.setDate(t.getDate()+parseInt(1*e.default_value)),t.toISOString().slice(0,10)}catch(zQ){return(new Date).toISOString().slice(0,10)}default:return e.default_value}};function kW(e){let{payloadType:t,os:n,currentC2Profiles:r,onUpdate:o}=e;const{data:i,loading:l,error:c}=Jf(LV,{variables:{payloadType:t,operation_id:0}}),[d,u]=(0,a.useState)(""),[h,p]=(0,a.useState)([]);(0,a.useEffect)((()=>{null!==i&&void 0!==i&&i.c2profile&&p(i.c2profile)}),[i]);if(l)return(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-signal",children:[(0,mn.jsx)(XV,{className:"animate-spin"})," LOADING_C2_PROFILES..."]});if(c)return(0,mn.jsxs)("div",{className:"text-red-500",children:["ERROR_LOADING_C2: ",c.message]});const f=h.map((e=>({label:"".concat(e.name," - ").concat(e.description),value:String(e.id)})));return(0,mn.jsxs)("div",{className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"flex gap-4 items-end bg-white/5 p-4 border border-ghost/30",children:[(0,mn.jsxs)("div",{className:"flex-1",children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-gray-400 mb-2",children:"AVAILABLE_PROFILES"}),(0,mn.jsx)(pW,{options:f,value:d,onChange:e=>u(e),placeholder:"SELECT_PROFILE_TO_ADD..."})]}),(0,mn.jsxs)("button",{onClick:()=>{if(!d)return;const e=h.find((e=>e.id===parseInt(d)));if(e){const t=e.c2profileparameters.map((e=>s(s({},e),{},{value:wW(e),error:!1}))),n=s(s({},e),{},{instance_id:Date.now(),c2profileparameters:t});o([...r,n]),u("")}},disabled:!d,className:"px-4 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white disabled:opacity-50 transition-colors flex items-center gap-2 h-[38px] border border-transparent",children:[(0,mn.jsx)(Tz,{size:16})," ADD_PROFILE"]})]}),(0,mn.jsxs)("div",{className:"space-y-4",children:[0===r.length&&(0,mn.jsx)("div",{className:"text-center py-12 border border-dashed border-gray-800 text-gray-500 font-mono",children:"NO_C2_PROFILES_CONFIGURED"}),r.map(((e,i)=>(0,mn.jsxs)("div",{className:"border border-ghost/30 bg-black/40",children:[(0,mn.jsxs)("div",{className:"bg-white/5 p-3 px-4 flex justify-between items-center border-b border-ghost/30",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-signal font-bold font-mono",children:e.name}),(0,mn.jsxs)("span",{className:"text-xs text-gray-400",children:["Instance #",i+1]})]}),(0,mn.jsx)("button",{onClick:()=>{return t=e.instance_id,void o(r.filter((e=>e.instance_id!==t)));var t},className:"text-gray-500 hover:text-red-500 transition-colors",children:(0,mn.jsx)(nA,{size:18})})]}),(0,mn.jsx)("div",{className:"p-4",children:(0,mn.jsx)("table",{className:"w-full text-left border-collapse",children:(0,mn.jsx)("tbody",{children:e.c2profileparameters.map((i=>(0,mn.jsx)(fW,s(s({},i),{},{trackedValue:i.value,payload_type:t,selected_os:n,onChange:(t,n,i)=>((e,t,n,i)=>{const a=r.map((r=>{if(r.instance_id===e){const e=r.c2profileparameters.map((e=>e.name===t?s(s({},e),{},{value:n,error:i}):e));return s(s({},r),{},{c2profileparameters:e})}return r}));o(a)})(e.instance_id,t,n,i)}),i.id)))})})})]},e.instance_id)))]})]})}const NW=(e,t,n)=>{if(e.supported_os&&e.supported_os.length>0&&!e.supported_os.includes(n))return!0;if(!e.hide_conditions||0===e.hide_conditions.length)return!1;for(const r of e.hide_conditions){const e=t.find((e=>e.name===r.name));if(!e)continue;const n=e.value,o=r.value;let i=!1;const s=e=>String(null!==e&&void 0!==e?e:"");switch(r.operand){case"eq":s(o)===s(n)&&(i=!0);break;case"neq":s(o)!==s(n)&&(i=!0);break;case"in":r.choices&&r.choices.map(s).includes(s(n))&&(i=!0);break;case"nin":r.choices&&!r.choices.map(s).includes(s(n))&&(i=!0);break;case"lt":try{parseFloat(n)<parseFloat(o)&&(i=!0)}catch(zQ){}break;case"gt":try{parseFloat(n)>parseFloat(o)&&(i=!0)}catch(zQ){}break;case"lte":try{parseFloat(n)<=parseFloat(o)&&(i=!0)}catch(zQ){}break;case"gte":try{parseFloat(n)>=parseFloat(o)&&(i=!0)}catch(zQ){}break;case"sw":s(n).startsWith(s(o))&&(i=!0);break;case"ew":s(n).endsWith(s(o))&&(i=!0);break;case"co":s(n).includes(s(o))&&(i=!0);break;case"nco":s(n).includes(s(o))||(i=!0)}if(i)return!0}return!1},_W=async(e,t)=>{const n=new FormData;n.append("file",e),n.append("comment",t),console.log("Uploading "+e.name+"...");try{const e=await fetch("/api/v1.4/task_upload_file_webhook",{method:"POST",body:n,headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}}),t=await e.json();return"success"===t.status||t.agent_file_id?t.agent_file_id:(console.error("Upload failed:",t),null)}catch(zQ){return console.error("Upload error:",zQ),null}},SW=async(e,t)=>{let n=e.value;if(void 0!==n&&null!==n||(n=e.default_value),void 0!==n&&null!==n||(n=""),"File"===e.parameter_type&&n instanceof File){const r=await _W(n,"Uploaded as ".concat(t," parameter: ").concat(e.name));if(r)return r;throw new Error("Failed to upload file for ".concat(e.name))}if("FileMultiple"===e.parameter_type&&Array.isArray(n)){const r=[];for(const o of n)if(o instanceof File){const n=await _W(o,"Uploaded as ".concat(t," parameter: ").concat(e.name));if(!n)throw new Error("Failed to upload file for ".concat(e.name));r.push(n)}else r.push(o);return r}if(["Array","ChooseMultiple","TypedArray","FileMultiple","Dictionary"].includes(e.parameter_type)&&"string"===typeof n)try{const e=JSON.parse(n);"object"===typeof e&&null!==e&&(n=e)}catch(zQ){}switch("Dictionary"===e.parameter_type&&Array.isArray(n)&&(n=n.reduce(((e,t)=>t.default_show?s(s({},e),{},{[t.name]:t.value}):s({},e)),{})),e.parameter_type){case"Number":return""===n&&void 0!==e.default_value?Number(e.default_value):Number(n);case"Boolean":return"false"!==String(n).toLowerCase()&&("true"===String(n).toLowerCase()||Boolean(n));case"String":case"ChooseOne":case"ChooseOneCustom":case"Date":return"object"===typeof n&&null!==n?JSON.stringify(n):String(n);default:return n}};function CW(e){let{config:t}=e;const n=fe(),[r,o]=(0,a.useState)("".concat(t.payloadType,".bin")),[i,s]=(0,a.useState)("Created via Minerva"),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h]=UT(DV);(0,a.useEffect)((()=>{const e=t.buildParameters.find((e=>"output_type"===e.name));if(e){let n=".bin";const i=e.value||e.default_value,s=String(i).toLowerCase();"winexe"===s||s.includes("exe")||"serviceexe"===s?n=".exe":"shellcode"===s?n=".bin":"reflectivedll"===s||"dll"===s||s.includes("dll")?n=".dll":("mach-o"===s||s.includes("mach")||"elf"===s||s.includes("elf"))&&(n=""),(r==="".concat(t.payloadType,".bin")||r.startsWith(t.payloadType))&&o("".concat(t.payloadType).concat(n))}}),[t.buildParameters,t.payloadType]);(0,a.useEffect)((()=>{if("success"===(null===d||void 0===d?void 0:d.status)){const e=setTimeout((()=>{n("/payloads")}),1500);return()=>clearTimeout(e)}}),[d,n]);const p=e=>"boolean"===typeof e?e?"TRUE":"FALSE":"object"===typeof e?e instanceof File?"FILE: ".concat(e.name):JSON.stringify(e):String(e),f=t.buildParameters.filter((e=>!NW(e,t.buildParameters,t.os)));return(0,mn.jsxs)("div",{className:"h-full flex flex-col gap-6 overflow-hidden",children:[(0,mn.jsxs)("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-0",children:[(0,mn.jsxs)("div",{className:"flex flex-col gap-6 overflow-hidden",children:[(0,mn.jsxs)("div",{className:"border border-ghost/30 bg-black/40 p-5 relative shrink-0",children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 p-2 text-gray-500 opacity-20",children:(0,mn.jsx)(XT,{size:40})}),(0,mn.jsxs)("h3",{className:"text-sm font-mono text-gray-400 mb-4 tracking-widest uppercase flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"w-2 h-2 bg-signal rounded-full"})," Core Configuration"]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm font-mono",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500",children:"TARGET_SYSTEM"}),(0,mn.jsx)("div",{className:"text-signal text-lg",children:t.os})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500",children:"PAYLOAD_TYPE"}),(0,mn.jsx)("div",{className:"text-signal text-lg",children:t.payloadType})]}),(0,mn.jsxs)("div",{className:"col-span-2 pt-2 border-t border-gray-800",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 mb-1",children:"FILENAME"}),(0,mn.jsx)("input",{type:"text",value:r,onChange:e=>o(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal font-mono text-xs focus:border-signal outline-none transition-colors"})]}),(0,mn.jsxs)("div",{className:"col-span-2",children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 mb-1",children:"DESCRIPTION"}),(0,mn.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),className:"w-full bg-black/50 border border-gray-700 p-2 text-signal font-mono text-xs focus:border-signal outline-none transition-colors"})]})]})]}),(0,mn.jsxs)("div",{className:"border border-ghost/30 bg-black/40 flex-1 flex flex-col min-h-0",children:[(0,mn.jsxs)("div",{className:"p-3 border-b border-ghost/30 bg-white/5 flex items-center gap-2",children:[(0,mn.jsx)(vT,{size:14,className:"text-gray-400"}),(0,mn.jsx)("span",{className:"font-mono text-xs font-bold text-signal tracking-wider",children:"BUILD_PARAMETERS"})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-y-auto p-4 cyber-scrollbar",children:(0,mn.jsx)("table",{className:"w-full text-left border-collapse",children:(0,mn.jsx)("tbody",{children:f.map((e=>(0,mn.jsxs)("tr",{className:"border-b border-gray-800 last:border-0 hover:bg-white/5 transition-colors",children:[(0,mn.jsx)("td",{className:"py-2 pr-4 text-xs font-mono text-gray-400",children:e.name}),(0,mn.jsx)("td",{className:"py-2 text-xs font-mono text-signal text-right break-all",children:p(e.value)})]},e.name)))})})})]})]}),(0,mn.jsxs)("div",{className:"flex flex-col gap-6 overflow-hidden",children:[(0,mn.jsxs)("div",{className:"border border-ghost/30 bg-black/40 flex-1 flex flex-col min-h-0",children:[(0,mn.jsxs)("div",{className:"p-3 border-b border-ghost/30 bg-white/5 flex items-center gap-2",children:[(0,mn.jsx)(yB,{size:14,className:"text-gray-400"}),(0,mn.jsxs)("span",{className:"font-mono text-xs font-bold text-signal tracking-wider",children:["C2_CHANNELS (",t.c2Profiles.length,")"]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-y-auto p-4 cyber-scrollbar space-y-4",children:t.c2Profiles.map(((e,n)=>{const r=e.c2profileparameters.filter((n=>!NW(n,e.c2profileparameters,t.os)));return(0,mn.jsxs)("div",{className:"border border-gray-800 bg-black/20 p-3",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,mn.jsx)("span",{className:"text-signal font-bold font-mono text-xs",children:e.name}),(0,mn.jsxs)("span",{className:"text-[10px] text-gray-500",children:["INST_ID: ",e.instance_id]})]}),(0,mn.jsx)("div",{className:"space-y-1",children:r.map((e=>(0,mn.jsxs)("div",{className:"flex justify-between text-[10px] border-b border-gray-800/50 last:border-0 pb-1 mb-1",children:[(0,mn.jsx)("span",{className:"text-gray-500",children:e.name}),(0,mn.jsx)("span",{className:"text-gray-300 font-mono text-right truncate max-w-[150px]",children:p(e.value)})]},e.name)))})]},n)}))})]}),(0,mn.jsxs)("div",{className:"border border-ghost/30 bg-black/40 h-1/3 flex flex-col min-h-0",children:[(0,mn.jsxs)("div",{className:"p-3 border-b border-ghost/30 bg-white/5 flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:14,className:"text-gray-400"}),(0,mn.jsxs)("span",{className:"font-mono text-xs font-bold text-signal tracking-wider",children:["COMMANDS (",t.commands.length,")"]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-y-auto p-4 cyber-scrollbar",children:(0,mn.jsx)("div",{className:"flex flex-wrap gap-1",children:t.commands.map((e=>(0,mn.jsx)("span",{className:"px-2 py-1 border border-gray-700 bg-black/50 text-[10px] font-mono text-gray-300",children:e},e)))})})]})]})]}),(0,mn.jsxs)("div",{className:"shrink-0 pt-4 border-t border-ghost/30",children:[!d&&(0,mn.jsxs)("button",{onClick:async()=>{c(!0),u(null);try{const e=[];for(const r of t.buildParameters)NW(r,t.buildParameters,t.os)||e.push({name:r.name,value:await SW(r,"build")});const n=[];for(const r of t.c2Profiles){const e=r.c2profileparameters.filter((e=>!NW(e,r.c2profileparameters,t.os))),o={};for(const t of e)o[t.name]=await SW(t,"c2 (".concat(r.name,")"));n.push({c2_profile:r.name,c2_profile_parameters:o})}const o={selected_os:t.os,payload_type:t.payloadType,filename:r,description:i,commands:t.commands,build_parameters:e,c2_profiles:n},{data:s}=await h({variables:{payload:JSON.stringify(o)}});s.createPayload.status,u(s.createPayload)}catch(zQ){console.error(zQ),u({status:"error",error:zQ.message||"Unknown error occurred"})}finally{c(!1)}},disabled:l,className:"w-full py-4 bg-signal text-void font-bold font-mono text-lg hover:bg-white disabled:opacity-50 transition-all flex items-center justify-center gap-3 relative overflow-hidden group",children:[(0,mn.jsx)("div",{className:"absolute inset-0 bg-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 z-0"}),(0,mn.jsxs)("span",{className:"relative z-10 flex items-center gap-2",children:[l?(0,mn.jsx)(XV,{className:"animate-spin"}):(0,mn.jsx)(XV,{}),l?"COMPILING_PAYLOAD...":"INITIATE_BUILD_SEQUENCE"]})]}),d&&(0,mn.jsxs)("div",{className:Wx("p-4 border font-mono text-sm relative overflow-hidden","success"===d.status?"border-green-500 bg-green-900/20 text-green-400":"border-red-500 bg-red-900/20 text-red-400"),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 font-bold text-lg",children:["success"===d.status?(0,mn.jsx)(NF,{size:24}):(0,mn.jsx)(RT,{size:24}),"success"===d.status?"PAYLOAD_BUILD_INITIATED":"COMPILATION_ERROR"]}),"success"===d.status&&(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-xs text-signal animate-pulse",children:["REDIRECTING_TO_OPERATIONS ",(0,mn.jsx)(FB,{size:14})]})]}),d.error&&(0,mn.jsx)("div",{className:"mt-2 text-xs bg-black/50 p-2 border border-red-500/50",children:d.error}),d.uuid&&(0,mn.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-xs opacity-70",children:"UUID_REFERENCE:"}),(0,mn.jsx)("span",{className:"font-mono bg-black/30 px-2 py-1",children:d.uuid})]})]})]})]})}const jW=["TARGET_SYSTEM","CONFIGURATION","COMMAND_SELECTION","C2_CHANNELS","COMPILATION"],EW=e=>{const t=e.toLowerCase();return t.includes("windows")?(0,mn.jsx)(Cz,{size:24}):t.includes("mac")||t.includes("darwin")?(0,mn.jsx)(YV,{size:24}):t.includes("linux")?(0,mn.jsx)(Wd,{size:24}):t.includes("android")||t.includes("ios")?(0,mn.jsx)(QV,{size:24}):t.includes("chrome")?(0,mn.jsx)(WF,{size:24}):(0,mn.jsx)(mm,{size:24})},TW=e=>{const t=e.toLowerCase();return t.includes("windows")?"Microsoft Windows based operating systems.":t.includes("mac")||t.includes("darwin")?"Apple macOS desktop environment.":t.includes("linux")?"Linux kernel based systems and distributions.":t.includes("android")?"Mobile operating system based on Linux kernel.":t.includes("chrome")?"Web-based operating system by Google.":"Unknown or generic operating system environment."},AW={initial:{opacity:0},animate:{opacity:1,transition:{duration:.2}},exit:{opacity:0,transition:{duration:.1}}},MW=()=>{var e;const[t,n]=(0,a.useState)(0),[r,o]=(0,a.useState)({os:"",payloadType:"",buildParameters:[],commands:[],c2Profiles:[]}),i=fe(),{data:l,loading:c}=Jf(TV),[d,u]=(0,a.useState)([]),[h,p]=(0,a.useState)({});(0,a.useEffect)((()=>{if(null!==l&&void 0!==l&&l.payloadtype){const e=l.payloadtype,t={},n=new Set;e.forEach((e=>{if(Array.isArray(e.supported_os))e.supported_os.forEach((r=>{n.add(r),t[r]||(t[r]=[]),t[r].push(e)}));else if("string"===typeof e.supported_os)try{const r=JSON.parse(e.supported_os);Array.isArray(r)&&r.forEach((r=>{n.add(r),t[r]||(t[r]=[]),t[r].push(e)}))}catch(zQ){}})),u(Array.from(n).sort()),p(t)}}),[l]);return(0,mn.jsxs)("div",{className:"h-full bg-void text-signal font-sans p-6 lg:p-12 flex flex-col overflow-hidden",children:[(0,mn.jsxs)("div",{className:"mb-8 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"p-3 border border-signal bg-signal/10 rounded",children:(0,mn.jsx)(Wd,{size:24,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"PAYLOAD GENERATOR"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/payloads/generate"})]})]}),(0,mn.jsxs)("div",{className:"text-xs font-mono text-gray-400",children:["SYSTEM_STATUS: ",(0,mn.jsx)("span",{className:"text-green-500",children:"ONLINE"})]})]}),(0,mn.jsxs)("div",{className:"flex items-center justify-between relative",children:[(0,mn.jsx)("div",{className:"absolute top-1/2 left-0 w-full h-[1px] bg-gray-800 -z-10"}),jW.map(((e,n)=>(0,mn.jsxs)("div",{className:"flex flex-col items-center gap-2 bg-void px-2",children:[(0,mn.jsx)("div",{className:Wx("w-4 h-4 rounded-full border border-current flex items-center justify-center transition-all duration-300",n<=t?"border-signal bg-signal text-void":"border-gray-600 text-gray-600",n===t&&"ring-4 ring-signal/20"),children:n<t?(0,mn.jsx)(tV,{size:10}):(0,mn.jsx)("div",{className:"w-1.5 h-1.5 bg-current rounded-full"})}),(0,mn.jsx)("span",{className:Wx("text-[10px] font-mono tracking-wider uppercase transition-colors duration-300",n<=t?"text-signal":"text-gray-600"),children:e})]},e)))]})]}),(0,mn.jsxs)("div",{className:"flex-1 border border-ghost/30 bg-black/40 backdrop-blur-sm relative overflow-hidden flex flex-col min-h-0 will-change-transform",children:[(0,mn.jsx)("div",{className:"absolute top-0 right-0 p-2 opacity-20 pointer-events-none",children:(0,mn.jsx)(XV,{size:100,className:c?"animate-spin":""})}),(0,mn.jsx)("div",{className:"p-8 flex-1 overflow-y-auto cyber-scrollbar",children:(0,mn.jsxs)(On,{mode:"wait",children:[0===t&&(0,mn.jsx)(Md.div,{variants:AW,initial:"initial",animate:"animate",exit:"exit",className:"space-y-8",children:(0,mn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("h2",{className:"text-xl font-mono text-signal flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-signal/50",children:"01."})," TARGET_SYSTEM"]}),(0,mn.jsx)("div",{className:"flex flex-col gap-3",children:d.map((e=>(0,mn.jsxs)("button",{onClick:()=>o(s(s({},r),{},{os:e,payloadType:""})),className:Wx("w-full p-4 border text-left transition-all duration-200 hover:bg-white/5 flex items-center gap-4 group",r.os===e?"border-signal text-signal bg-white/5":"border-gray-700 text-gray-400 hover:border-gray-500"),children:[(0,mn.jsx)("div",{className:Wx("p-3 rounded-full border transition-colors",r.os===e?"border-signal bg-signal text-void":"border-ghost/30 bg-white/5 group-hover:border-signal group-hover:text-signal"),children:EW(e)}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:Wx("font-mono text-lg font-bold transition-colors",r.os===e?"text-signal":"group-hover:text-signal"),children:e}),(0,mn.jsx)("div",{className:"text-xs text-gray-400 font-mono mt-1",children:TW(e)})]}),(0,mn.jsx)(wT,{className:Wx("ml-auto transition-all",r.os===e?"opacity-100 text-signal":"opacity-0 group-hover:opacity-100 text-gray-500")})]},e)))})]}),(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("h2",{className:"text-xl font-mono text-signal flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-signal/50",children:"02."})," AGENT_ARCH"]}),!r.os&&(0,mn.jsx)("div",{className:"h-full flex items-center justify-center border border-dashed border-gray-800 text-gray-600 font-mono text-sm p-8",children:"AWAITING_SYSTEM_SELECTION..."}),r.os&&(0,mn.jsx)("div",{className:"space-y-3",children:null===(e=h[r.os])||void 0===e?void 0:e.map((e=>(0,mn.jsxs)("button",{onClick:()=>o(s(s({},r),{},{payloadType:e.name})),className:Wx("w-full p-4 border text-left transition-all duration-200 group",r.payloadType===e.name?"border-signal bg-white/5":"border-gray-700 hover:border-gray-500 hover:bg-white/5"),children:[(0,mn.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,mn.jsx)("span",{className:Wx("font-bold font-mono text-lg",r.payloadType===e.name?"text-signal":"text-gray-300"),children:e.name}),(0,mn.jsxs)("span",{className:"text-xs bg-gray-800 px-2 py-1 text-gray-400 font-mono",children:["v",e.semver]})]}),(0,mn.jsx)("p",{className:"text-xs text-gray-500 font-mono line-clamp-2",children:e.note})]},e.id)))})]})]})},"step1"),1===t&&(0,mn.jsx)(Md.div,{variants:AW,initial:"initial",animate:"animate",exit:"exit",className:"h-full",children:(0,mn.jsx)(mW,{payloadType:r.payloadType,os:r.os,currentConfig:r.buildParameters,onUpdate:e=>o(s(s({},r),{},{buildParameters:e}))})},"step2"),2===t&&(0,mn.jsx)(Md.div,{variants:AW,initial:"initial",animate:"animate",exit:"exit",className:"h-full",children:(0,mn.jsx)(xW,{payloadType:r.payloadType,currentCommands:r.commands,onUpdate:e=>o(s(s({},r),{},{commands:e}))})},"step3"),3===t&&(0,mn.jsx)(Md.div,{variants:AW,initial:"initial",animate:"animate",exit:"exit",className:"h-full",children:(0,mn.jsx)(kW,{payloadType:r.payloadType,os:r.os,currentC2Profiles:r.c2Profiles,onUpdate:e=>o(s(s({},r),{},{c2Profiles:e}))})},"step4"),4===t&&(0,mn.jsx)(Md.div,{variants:AW,initial:"initial",animate:"animate",exit:"exit",className:"h-full",children:(0,mn.jsx)(CW,{config:r})},"step5")]})}),(0,mn.jsxs)("div",{className:"p-6 border-t border-ghost/30 bg-black/20 flex justify-between items-center shrink-0",children:[(0,mn.jsx)("button",{onClick:()=>{t>0?n(t-1):i("/payloads")},className:"px-6 py-2 border border-gray-700 text-gray-400 font-mono text-sm hover:text-signal hover:border-signal disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"BACK"}),t<jW.length-1&&(0,mn.jsxs)("button",{onClick:()=>{t<jW.length-1&&n(t+1)},disabled:0===t&&(!r.os||!r.payloadType),className:"px-8 py-2 bg-signal text-void font-bold font-mono text-sm hover:bg-white hover:shadow-[0_0_15px_rgba(255,255,255,0.5)] disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["NEXT_PHASE ",(0,mn.jsx)(wT,{size:16})]})]})]})]})};function RW(){const{isSidebarCollapsed:e}=Zg();return(0,mn.jsxs)("div",{className:"h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void overflow-hidden flex",children:[(0,mn.jsx)(VT,{}),(0,mn.jsx)("div",{className:Wx("transition-all duration-300 flex-1 h-full overflow-hidden",e?"ml-16":"ml-64"),children:(0,mn.jsxs)(Re,{children:[(0,mn.jsx)(Ae,{path:"/",element:(0,mn.jsx)(hW,{})}),(0,mn.jsx)(Ae,{path:"/new",element:(0,mn.jsx)(MW,{})}),(0,mn.jsx)(Ae,{path:"*",element:(0,mn.jsx)(Te,{to:"/",replace:!0})})]})})]})}const OW=zd("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),IW=zd("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]),LW=zd("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]),DW=zd("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var PW,$W,zW,FW,BW,VW,WW;const HW=Kv(PW||(PW=Jg(["\n    query GetEventFeed($offset: Int!, $limit: Int!, $search: String!, $level: String!) {\n        operationeventlog(\n            where: {\n                deleted: {_eq: false}, \n                message: {_ilike: $search}, \n                level: {_ilike: $level}\n            }, \n            order_by: {id: desc}, \n            limit: $limit, \n            offset: $offset\n        ) {\n            id\n            level\n            message\n            resolved\n            timestamp\n            count\n            source\n            warning\n            operator {\n                username\n            }\n        }\n        operationeventlog_aggregate(\n            where: {\n                deleted: {_eq: false}, \n                message: {_ilike: $search}, \n                level: {_ilike: $level}\n            }\n        ) {\n            aggregate {\n                count\n            }\n        }\n    }\n"]))),UW=Kv($W||($W=Jg(["\n    query GetEventFeedWithResolved($offset: Int!, $limit: Int!, $search: String!, $level: String!, $resolved: Boolean!) {\n        operationeventlog(\n            where: {\n                deleted: {_eq: false}, \n                message: {_ilike: $search}, \n                level: {_like: $level},\n                resolved: {_eq: $resolved},\n                warning: {_eq: true}\n            }, \n            order_by: {id: desc}, \n            limit: $limit, \n            offset: $offset\n        ) {\n            id\n            level\n            message\n            resolved\n            timestamp\n            count\n            source\n            warning\n            operator {\n                username\n            }\n        }\n        operationeventlog_aggregate(\n            where: {\n                deleted: {_eq: false}, \n                message: {_ilike: $search}, \n                level: {_like: $level},\n                resolved: {_eq: $resolved},\n                warning: {_eq: true}\n            }\n        ) {\n            aggregate {\n                count\n            }\n        }\n    }\n"]))),GW=Kv(zW||(zW=Jg(["\n    subscription SubscribeEventFeed($fromNow: timestamp!) {\n        operationeventlog_stream(\n            cursor: {initial_value: {timestamp: $fromNow}, ordering: ASC}, \n            batch_size: 10, \n            where: {deleted: {_eq: false}}\n        ) {\n            id\n            level\n            message\n            resolved\n            timestamp\n            count\n            source\n            warning\n            operator {\n                username\n            }\n        }\n    }\n"]))),qW=Kv(FW||(FW=Jg(["\n    mutation UpdateResolution($id: Int!, $resolved: Boolean!) {\n        update_operationeventlog_by_pk(pk_columns: {id: $id}, _set: {resolved: $resolved}) {\n            id\n            resolved\n        }\n    }\n"]))),KW=Kv(BW||(BW=Jg(["\n    mutation UpdateToWarning($id: Int!) {\n        update_operationeventlog_by_pk(pk_columns: {id: $id}, _set: {warning: true, resolved: false}) {\n            id\n            warning\n            resolved\n        }\n    }\n"]))),YW=Kv(VW||(VW=Jg(["\n    mutation ResolveAllViewable($ids: [Int]!) {\n        update_operationeventlog(where: {id: {_in: $ids}, warning: {_eq: true}}, _set: {resolved: true}) {\n            returning {\n                id\n                resolved\n            }\n        }\n    }\n"]))),QW=Kv(WW||(WW=Jg(["\n    mutation ResolveAllErrors {\n        update_operationeventlog(where: {resolved: {_eq: false}, warning: {_eq: true}}, _set: {resolved: true}) {\n            returning {\n                id\n                resolved\n            }\n        }\n    }\n"]))),XW=e=>{var t;let{event:n,onResolve:r,onMakeWarning:o,viewUtc:i}=e;const[s,l]=(0,a.useState)(!1);return(0,mn.jsx)(Md.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:Wx("relative bg-black/40 border border-signal/10 border-l-4 mb-2 hover:bg-signal/5 transition-colors",n.warning&&!n.resolved?"border-l-amber-500":n.warning&&n.resolved?"border-l-green-500":"border-l-cyan-500/30",n.warning&&!n.resolved&&"bg-amber-500/5"),children:(0,mn.jsxs)("div",{className:"p-4",children:[(0,mn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)("div",{className:"p-1.5 bg-signal/10 rounded",children:(()=>{if(n.warning)return n.resolved?(0,mn.jsx)(NF,{size:16,className:"text-green-500"}):(0,mn.jsx)(RT,{size:16,className:"text-amber-400"});switch(n.level){case"debug":return(0,mn.jsx)(OW,{size:16,className:"text-purple-400"});case"api":return(0,mn.jsx)(mm,{size:16,className:"text-blue-400"});case"auth":return(0,mn.jsx)(bm,{size:16,className:"text-yellow-400"});case"agent":return(0,mn.jsx)(Wd,{size:16,className:"text-cyan-400"});default:return(0,mn.jsx)(OT,{size:16,className:"text-cyan-400"})}})()}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:["#",n.id]}),(0,mn.jsx)("span",{className:"text-xs text-signal/60 uppercase tracking-wider",children:n.level}),n.count>1&&(0,mn.jsxs)("span",{className:"text-xs px-1.5 py-0.5 bg-signal/10 text-signal rounded",children:["\xd7",n.count]}),(null===(t=n.operator)||void 0===t?void 0:t.username)&&(0,mn.jsxs)("span",{className:"text-xs text-gray-400 flex items-center gap-1",children:[(0,mn.jsx)(wm,{size:10}),n.operator.username]})]}),(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mt-0.5",children:eT(n.timestamp,i)})]})]}),(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)("button",{onClick:()=>l(!s),className:"p-1 text-gray-500 hover:text-signal transition-colors",children:(0,mn.jsx)(ZT,{size:16})}),(0,mn.jsx)(On,{children:s&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>l(!1)}),(0,mn.jsx)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"absolute right-0 top-8 z-50 bg-black border border-signal/30 shadow-lg min-w-[140px]",children:n.warning?(0,mn.jsx)("button",{onClick:()=>{r(n.id,!n.resolved),l(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-signal/10 transition-colors flex items-center gap-2",children:n.resolved?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(nF,{size:14,className:"text-amber-400"}),"Unresolve"]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(NF,{size:14,className:"text-green-400"}),"Resolve"]})}):(0,mn.jsxs)("button",{onClick:()=>{o(n.id),l(!1)},className:"w-full px-3 py-2 text-left text-sm hover:bg-signal/10 transition-colors flex items-center gap-2",children:[(0,mn.jsx)(IW,{size:14,className:"text-amber-400"}),"Make Warning"]})})]})})]})]}),(0,mn.jsx)("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap break-words pl-10 overflow-x-auto",children:n.message}),n.source&&(0,mn.jsxs)("div",{className:"text-[10px] text-gray-600 font-mono mt-2 pl-10",children:["source: ",n.source]})]})})};function ZW(){var e,t,n;const{isSidebarCollapsed:r,alertCount:o}=Zg(),i=Mu(aT),l=(null===i||void 0===i||null===(e=i.user)||void 0===e?void 0:e.view_utc_time)||!1,[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(o>0?"warning_unresolved":"info"),[m,g]=(0,a.useState)(!1),[v]=(0,a.useState)((new Date).toISOString()),[y,x]=(0,a.useState)({totalCount:0,limit:100,offset:0}),b=[{value:"all",label:"All Levels",icon:(0,mn.jsx)(LW,{size:14})},{value:"warning_unresolved",label:"Warnings (Unresolved)",icon:(0,mn.jsx)(RT,{size:14,className:"text-amber-400"})},{value:"warning_resolved",label:"Warnings (Resolved)",icon:(0,mn.jsx)(NF,{size:14,className:"text-green-400"})},{value:"info",label:"Info",icon:(0,mn.jsx)(OT,{size:14,className:"text-cyan-400"})},{value:"debug",label:"Debug",icon:(0,mn.jsx)(OW,{size:14,className:"text-purple-400"})},{value:"api",label:"API",icon:(0,mn.jsx)(mm,{size:14,className:"text-blue-400"})},{value:"auth",label:"Auth",icon:(0,mn.jsx)(bm,{size:14,className:"text-yellow-400"})},{value:"agent",label:"Agent",icon:(0,mn.jsx)(Wd,{size:14,className:"text-cyan-400"})}];MT(GW,{variables:{fromNow:v},fetchPolicy:"no-cache",onData:e=>{var t;let{data:n}=e;if(null!==(t=n.data)&&void 0!==t&&t.operationeventlog_stream){const e=n.data.operationeventlog_stream;d((t=>e.reduce(((e,t)=>{const n=e.findIndex((e=>e.id===t.id));return n>-1?(e[n]=t,e):[t,...e]}),[...t]).sort(((e,t)=>t.id-e.id))))}}});const[w]=Yz(HW,{fetchPolicy:"no-cache",onCompleted:e=>{d(e.operationeventlog),x((t=>s(s({},t),{},{totalCount:e.operationeventlog_aggregate.aggregate.count})))}}),[k]=Yz(UW,{fetchPolicy:"no-cache",onCompleted:e=>{d(e.operationeventlog),x((t=>s(s({},t),{},{totalCount:e.operationeventlog_aggregate.aggregate.count})))}}),[N]=UT(qW,{onCompleted:e=>{const t=e.update_operationeventlog_by_pk;d((e=>e.map((e=>e.id===t.id?s(s({},e),{},{resolved:t.resolved}):e)))),sT.success(t.resolved?"Event resolved":"Event unresolved")}}),[_]=UT(KW,{onCompleted:e=>{const t=e.update_operationeventlog_by_pk;d((e=>e.map((e=>e.id===t.id?s(s({},e),{},{warning:!0,resolved:!1}):e)))),sT.success("Event marked as warning")}}),[S]=UT(YW,{onCompleted:e=>{const t=e.update_operationeventlog.returning.map((e=>e.id));d((e=>e.map((e=>t.includes(e.id)?s(s({},e),{},{resolved:!0}):e)))),sT.success("Resolved ".concat(t.length," events"))}}),[C]=UT(QW,{onCompleted:e=>{const t=e.update_operationeventlog.returning.map((e=>e.id));d((e=>e.map((e=>t.includes(e.id)?s(s({},e),{},{resolved:!0}):e)))),sT.success("Resolved ".concat(t.length," events"))}}),j=(0,a.useCallback)((e=>{const t=null!==e&&void 0!==e?e:p,n=u?"%".concat(u,"%"):"%_%";if("warning_unresolved"===t)k({variables:{offset:0,limit:y.limit,search:n,level:"%_%",resolved:!1}});else if("warning_resolved"===t)k({variables:{offset:0,limit:y.limit,search:n,level:"%_%",resolved:!0}});else{const e="all"===t?"%_%":"%".concat(t,"%");w({variables:{offset:0,limit:y.limit,search:n,level:e}})}}),[p,u,y.limit,w,k]);(0,a.useEffect)((()=>{j()}),[]);const E=(e,t)=>{N({variables:{id:e,resolved:t}})},T=e=>{_({variables:{id:e}})},A=()=>{j()},M=c.filter((e=>e.warning&&!e.resolved)).length;return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("transition-all duration-300 p-6 lg:p-12 min-h-screen flex flex-col",r?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-6 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsxs)("div",{className:"p-3 border border-signal bg-signal/10 rounded relative",children:[(0,mn.jsx)(Bd,{size:24,className:"text-signal"}),o>0&&(0,mn.jsx)("span",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] px-1 flex items-center justify-center text-[10px] font-bold bg-red-500 text-white rounded-full animate-pulse",children:o>99?"99+":o})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"EVENT FEED"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"/root/system/logs"})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("button",{onClick:()=>{const e=c.filter((e=>e.warning&&!e.resolved)).map((e=>e.id));0!==e.length?S({variables:{ids:e}}):sT.info("No viewable warnings to resolve")},className:"flex items-center gap-2 px-4 py-2 border border-signal/30 text-signal hover:bg-signal/10 transition-colors text-sm",children:[(0,mn.jsx)(NF,{size:16}),"Resolve Viewable (",M,")"]}),(0,mn.jsxs)("button",{onClick:()=>{C()},className:"flex items-center gap-2 px-4 py-2 bg-signal text-void font-bold text-sm hover:bg-white transition-colors",children:[(0,mn.jsx)(DW,{size:16}),"Resolve All"]})]})]}),(0,mn.jsxs)("div",{className:"flex gap-4 mb-6 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex-1 relative",children:[(0,mn.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),onKeyDown:e=>"Enter"===e.key&&A(),placeholder:"Search events...",className:"w-full bg-black/60 border border-signal/30 px-4 py-3 pr-12 text-sm text-white focus:outline-none focus:border-signal font-mono"}),(0,mn.jsx)("button",{onClick:A,className:"absolute right-2 top-1/2 -translate-y-1/2 p-2 text-signal hover:bg-signal/10 transition-colors",children:(0,mn.jsx)(mT,{size:18})})]}),(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsxs)("button",{onClick:()=>g(!m),className:"flex items-center gap-2 px-4 py-3 bg-black/60 border border-signal/30 text-sm hover:border-signal transition-colors min-w-[200px]",children:[null===(t=b.find((e=>e.value===p)))||void 0===t?void 0:t.icon,(0,mn.jsx)("span",{children:null===(n=b.find((e=>e.value===p)))||void 0===n?void 0:n.label}),(0,mn.jsx)(Qz,{size:16,className:"ml-auto"})]}),(0,mn.jsx)(On,{children:m&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>g(!1)}),(0,mn.jsx)(Md.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 z-50 mt-1 bg-black border border-signal/30 shadow-lg",children:b.map((e=>(0,mn.jsxs)("button",{onClick:()=>{return t=e.value,f(t),g(!1),void j(t);var t},className:Wx("w-full px-4 py-2 text-left text-sm flex items-center gap-2 hover:bg-signal/10 transition-colors",p===e.value&&"bg-signal/10 text-signal"),children:[e.icon,e.label]},e.value)))})]})})]}),(0,mn.jsx)("button",{onClick:()=>j(),className:"p-3 border border-signal/30 text-signal hover:bg-signal/10 transition-colors",children:(0,mn.jsx)(Fd,{size:18})})]}),(0,mn.jsxs)("div",{className:"flex gap-4 mb-6 shrink-0",children:[(0,mn.jsxs)("div",{className:"px-4 py-2 bg-black/40 border border-signal/20",children:[(0,mn.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"Total"}),(0,mn.jsx)("span",{className:"ml-2 text-signal font-mono",children:y.totalCount})]}),(0,mn.jsxs)("div",{className:"px-4 py-2 bg-black/40 border border-signal/20",children:[(0,mn.jsx)("span",{className:"text-xs text-gray-500 uppercase",children:"Viewing"}),(0,mn.jsx)("span",{className:"ml-2 text-signal font-mono",children:c.length})]}),M>0&&(0,mn.jsxs)("div",{className:"px-4 py-2 bg-amber-500/10 border border-amber-500/30",children:[(0,mn.jsx)("span",{className:"text-xs text-amber-400 uppercase",children:"Unresolved Warnings"}),(0,mn.jsx)("span",{className:"ml-2 text-amber-400 font-mono",children:M})]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-y-auto",children:0===c.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 text-gray-500",children:[(0,mn.jsx)(Bd,{size:48,className:"mb-4 opacity-30"}),(0,mn.jsx)("p",{className:"text-lg font-mono",children:"No events found"}),(0,mn.jsx)("p",{className:"text-sm",children:"Try adjusting your filters"})]}):(0,mn.jsx)(On,{mode:"popLayout",children:c.map((e=>(0,mn.jsx)(XW,{event:e,onResolve:E,onMakeWarning:T,viewUtc:l},e.id)))})})]})]})}const JW=zd("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),eH=zd("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),tH=zd("bell-off",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]]),nH=zd("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),rH=zd("arrow-left-right",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]),oH=zd("flask-conical",[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]]),iH=zd("phone-call",[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]),sH=zd("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),aH=zd("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),lH=zd("sliders-vertical",[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]]),cH=zd("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);var dH,uH,hH;const pH=Kv(dH||(dH=Jg(["\nquery GetWrapperPayloadTypes {\n    payloadtype(where: {deleted: {_eq: false}, wrapper: {_eq: true}}) {\n        id\n        name\n        supported_os\n        description\n        author\n        container_running\n        buildparameters(where: {deleted: {_eq: false}}) {\n            id\n            name\n            description\n            parameter_type\n            default_value\n            required\n            choices\n        }\n    }\n}\n"]))),fH=Kv(uH||(uH=Jg(['\nquery GetWrappablePayloads {\n    payload(where: {deleted: {_eq: false}, build_phase: {_eq: "success"}}, order_by: {id: desc}) {\n        id\n        uuid\n        description\n        build_phase\n        creation_time\n        tag\n        payloadtype {\n            id\n            name\n            supported_os\n        }\n        filemetum {\n            filename_text\n        }\n        c2profileparametersinstances {\n            c2profile {\n                name\n            }\n        }\n    }\n}\n']))),mH=Kv(hH||(hH=Jg(["\nmutation createPayload($payload: String!) {\n    createPayload(payloadDefinition: $payload) {\n        error\n        status\n        uuid\n    }\n}\n"]))),gH=e=>{let{step:t,currentStep:n,label:r}=e;const o=t===n,i=t<n;return(0,mn.jsxs)("div",{className:"flex items-center",children:[(0,mn.jsx)("div",{className:Wx("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all",i?"bg-matrix border-matrix text-void":o?"border-signal text-signal":"border-ghost/30 text-ghost"),children:i?(0,mn.jsx)(tV,{size:20}):t+1}),(0,mn.jsx)("span",{className:Wx("ml-2 text-sm hidden md:block",o?"text-signal font-bold":"text-ghost"),children:r})]})},vH=e=>{let{wrapperTypes:t,selected:n,onSelect:r}=e;return(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal mb-4",children:"SELECT WRAPPER TYPE"}),(0,mn.jsx)("p",{className:"text-ghost mb-6",children:"Choose the wrapper payload type that will contain your existing payload"}),(0,mn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e=>(0,mn.jsxs)(Md.div,{whileHover:{scale:1.02},onClick:()=>r(e),className:Wx("p-4 border rounded-lg cursor-pointer transition-all",(null===n||void 0===n?void 0:n.id)===e.id?"border-signal bg-signal/10":"border-ghost/30 hover:border-signal/50"),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,mn.jsx)("h3",{className:"font-bold text-signal",children:e.name}),!e.container_running&&(0,mn.jsx)(eH,{className:"text-alert",size:18})]}),(0,mn.jsx)("p",{className:"text-sm text-ghost mb-2 line-clamp-2",children:e.description}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-1",children:e.supported_os.map((e=>(0,mn.jsx)("span",{className:"px-2 py-0.5 bg-signal/20 text-signal text-xs rounded",children:e},e)))}),(0,mn.jsxs)("p",{className:"text-xs text-ghost mt-2",children:["by ",e.author]})]},e.id)))}),0===t.length&&(0,mn.jsxs)("div",{className:"text-center py-10 text-ghost",children:[(0,mn.jsx)(aH,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,mn.jsx)("p",{children:"No wrapper payload types available"})]})]})},yH=e=>{let{payloads:t,wrapperType:n,selected:r,onSelect:o}=e;const[i,s]=(0,a.useState)(""),l=(0,a.useMemo)((()=>n?t.filter((e=>{const t=e.payloadtype.supported_os,r=n.supported_os;if(!t.some((e=>r.includes(e))))return!1;if(i){var o,s,a,l;const t=i.toLowerCase();return e.payloadtype.name.toLowerCase().includes(t)||(null===(o=e.filemetum)||void 0===o||null===(s=o.filename_text)||void 0===s?void 0:s.toLowerCase().includes(t))||(null===(a=e.description)||void 0===a?void 0:a.toLowerCase().includes(t))||(null===(l=e.tag)||void 0===l?void 0:l.toLowerCase().includes(t))}return!0})):[]),[t,n,i]);return(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal mb-4",children:"SELECT PAYLOAD TO WRAP"}),(0,mn.jsxs)("p",{className:"text-ghost mb-6",children:["Choose an existing payload to wrap with ",null===n||void 0===n?void 0:n.name]}),(0,mn.jsx)("input",{type:"text",placeholder:"Search payloads...",value:i,onChange:e=>s(e.target.value),className:"w-full bg-void border border-ghost/30 rounded-lg px-4 py-2 text-signal placeholder:text-ghost/50 focus:border-signal outline-none mb-4"}),(0,mn.jsx)("div",{className:"space-y-2 max-h-[400px] overflow-y-auto",children:l.map((e=>{var t;return(0,mn.jsxs)(Md.div,{whileHover:{scale:1.01},onClick:()=>o(e),className:Wx("p-3 border rounded-lg cursor-pointer transition-all",(null===r||void 0===r?void 0:r.id)===e.id?"border-signal bg-signal/10":"border-ghost/30 hover:border-signal/50"),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"font-mono text-signal",children:(null===(t=e.filemetum)||void 0===t?void 0:t.filename_text)||e.uuid.slice(0,8)}),(0,mn.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-matrix/20 text-matrix text-xs rounded",children:e.payloadtype.name})]}),(0,mn.jsx)("div",{className:"flex gap-2",children:e.c2profileparametersinstances.map(((e,t)=>(0,mn.jsx)("span",{className:"px-2 py-0.5 bg-signal/20 text-signal text-xs rounded",children:e.c2profile.name},t)))})]}),e.description&&(0,mn.jsx)("p",{className:"text-sm text-ghost mt-1",children:e.description}),(0,mn.jsxs)("p",{className:"text-xs text-ghost mt-1",children:["Created: ",new Date(e.creation_time).toLocaleString()]})]},e.id)}))}),0===l.length&&(0,mn.jsxs)("div",{className:"text-center py-10 text-ghost",children:[(0,mn.jsx)(pm,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,mn.jsx)("p",{children:"No compatible payloads found"})]})]})},xH=e=>{let{wrapperType:t,parameters:n,setParameters:r,description:o,setDescription:i}=e;const a=(null===t||void 0===t?void 0:t.buildparameters)||[],l=(e,t)=>{r(s(s({},n),{},{[e]:t}))};return(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal mb-4",children:"CONFIGURE BUILD PARAMETERS"}),(0,mn.jsx)("p",{className:"text-ghost mb-6",children:"Configure the wrapper build parameters"}),(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-sm text-ghost mb-2",children:"Description"}),(0,mn.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"Wrapped payload description",className:"w-full bg-void border border-ghost/30 rounded-lg px-4 py-2 text-signal placeholder:text-ghost/50 focus:border-signal outline-none"})]}),a.map((e=>{var t,r,o,i,s,a;return(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"block text-sm text-ghost mb-2",children:[e.name,e.required&&(0,mn.jsx)("span",{className:"text-alert ml-1",children:"*"})]}),(0,mn.jsx)("p",{className:"text-xs text-ghost/70 mb-1",children:e.description}),"ChooseOne"===e.parameter_type?(0,mn.jsx)("select",{value:null!==(t=n[e.name])&&void 0!==t?t:e.default_value,onChange:t=>l(e.name,t.target.value),className:"w-full bg-void border border-ghost/30 rounded px-3 py-2 text-signal focus:border-signal outline-none",children:null===(r=e.choices)||void 0===r?void 0:r.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))}):"Boolean"===e.parameter_type?(0,mn.jsx)("button",{onClick:()=>{var t;return l(e.name,!(null!==(t=n[e.name])&&void 0!==t?t:e.default_value))},className:Wx("px-4 py-2 rounded border transition-colors",(null!==(o=n[e.name])&&void 0!==o?o:e.default_value)?"border-matrix bg-matrix/20 text-matrix":"border-ghost/30 text-ghost"),children:(null!==(i=n[e.name])&&void 0!==i?i:e.default_value)?"Enabled":"Disabled"}):(0,mn.jsx)("input",{type:"text",value:null!==(s=null!==(a=n[e.name])&&void 0!==a?a:e.default_value)&&void 0!==s?s:"",onChange:t=>l(e.name,t.target.value),className:"w-full bg-void border border-ghost/30 rounded px-3 py-2 text-signal focus:border-signal outline-none"})]},e.id)}))]})]})},bH=e=>{var t;let{wrapperType:n,wrappedPayload:r,parameters:o,description:i,onBuild:s,building:a}=e;return(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal mb-4",children:"BUILD WRAPPER"}),(0,mn.jsx)("p",{className:"text-ghost mb-6",children:"Review and build your wrapper payload"}),(0,mn.jsxs)("div",{className:"bg-black/30 border border-ghost/30 rounded-lg p-4 space-y-3",children:[(0,mn.jsxs)("div",{className:"flex justify-between",children:[(0,mn.jsx)("span",{className:"text-ghost",children:"Wrapper Type:"}),(0,mn.jsx)("span",{className:"text-signal font-mono",children:null===n||void 0===n?void 0:n.name})]}),(0,mn.jsxs)("div",{className:"flex justify-between",children:[(0,mn.jsx)("span",{className:"text-ghost",children:"Wrapped Payload:"}),(0,mn.jsx)("span",{className:"text-signal font-mono",children:(null===r||void 0===r||null===(t=r.filemetum)||void 0===t?void 0:t.filename_text)||(null===r||void 0===r?void 0:r.uuid.slice(0,8))})]}),(0,mn.jsxs)("div",{className:"flex justify-between",children:[(0,mn.jsx)("span",{className:"text-ghost",children:"Payload Type:"}),(0,mn.jsx)("span",{className:"text-matrix",children:null===r||void 0===r?void 0:r.payloadtype.name})]}),(0,mn.jsxs)("div",{className:"flex justify-between",children:[(0,mn.jsx)("span",{className:"text-ghost",children:"Description:"}),(0,mn.jsx)("span",{className:"text-signal",children:i||"No description"})]}),Object.entries(o).length>0&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("div",{className:"border-t border-ghost/20 pt-3 mt-3",children:(0,mn.jsx)("span",{className:"text-ghost text-sm",children:"Build Parameters:"})}),Object.entries(o).map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,mn.jsxs)("span",{className:"text-ghost",children:[t,":"]}),(0,mn.jsx)("span",{className:"text-signal font-mono",children:String(n)})]},t)}))]})]}),(0,mn.jsx)("button",{onClick:s,disabled:a,className:"w-full py-3 bg-signal text-void rounded-lg hover:bg-signal/80 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:a?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(cH,{className:"animate-spin",size:20}),"Building..."]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(aH,{size:20}),"Build Wrapper Payload"]})})]})};function wH(e){var t;let{embedded:n=!1,onComplete:r}=e;const o=fe(),{isSidebarCollapsed:i}=Zg(),s=Mu(aT),[l,c]=(0,a.useState)(0),[d,u]=(0,a.useState)(null),[h,p]=(0,a.useState)(null),[f,m]=(0,a.useState)({}),[g,v]=(0,a.useState)(""),[y,x]=(0,a.useState)(!1),{data:b,loading:w}=Jf(pH),k=(null===b||void 0===b?void 0:b.payloadtype)||[],{data:N,loading:_}=Jf(fH),S=(null===N||void 0===N?void 0:N.payload)||[],[C]=UT(mH,{onCompleted:e=>{x(!1),"success"===e.createPayload.status?(sT.success("Wrapper build started"),r?r():o("/payloads")):sT.error("Failed to create wrapper: "+e.createPayload.error)},onError:e=>{x(!1),sT.error("Failed to create wrapper: "+e.message)}}),j=["Select Wrapper","Select Payload","Configure","Build"],E=0===((null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.current_operation_id)||0),T=()=>{l<j.length-1&&c(l+1)},A=()=>{l>0&&c(l-1)},M=()=>{switch(l){case 0:return null!==d;case 1:return null!==h;case 2:case 3:return!0;default:return!1}},R=()=>{var e;if(!d||!h)return;x(!0);const t={selected_os:h.payloadtype.supported_os[0],payload_type:d.name,description:g||"Wrapped ".concat((null===(e=h.filemetum)||void 0===e?void 0:e.filename_text)||h.uuid),build_parameters:d.buildparameters.map((e=>{var t;return{name:e.name,value:null!==(t=f[e.name])&&void 0!==t?t:e.default_value}})),wrapped_payload:h.uuid,c2_profiles:[]};C({variables:{payload:JSON.stringify(t)}})},O=()=>{switch(l){case 0:return(0,mn.jsx)(vH,{wrapperTypes:k,selected:d,onSelect:e=>u(e)});case 1:return(0,mn.jsx)(yH,{payloads:S,wrapperType:d,selected:h,onSelect:e=>p(e)});case 2:return(0,mn.jsx)(xH,{wrapperType:d,parameters:f,setParameters:m,description:g,setDescription:v});case 3:return(0,mn.jsx)(bH,{wrapperType:d,wrappedPayload:h,parameters:f,description:g,onBuild:R,building:y});default:return null}};return E?n?(0,mn.jsx)("div",{className:"flex-1 flex items-center justify-center p-6",children:(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)(eH,{size:48,className:"mx-auto mb-4 text-alert"}),(0,mn.jsx)("h1",{className:"text-2xl font-bold text-alert mb-2",children:"No Operation Selected"}),(0,mn.jsx)("p",{className:"text-ghost",children:"Please select a current operation to create wrappers"})]})}):(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal",children:[(0,mn.jsx)(VT,{}),(0,mn.jsx)("div",{className:Wx("transition-all duration-300 p-6 flex items-center justify-center",i?"ml-16":"ml-64"),children:(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)(eH,{size:48,className:"mx-auto mb-4 text-alert"}),(0,mn.jsx)("h1",{className:"text-2xl font-bold text-alert mb-2",children:"No Operation Selected"}),(0,mn.jsx)("p",{className:"text-ghost",children:"Please select a current operation to create wrappers"})]})})]}):n?(0,mn.jsxs)("div",{className:"flex-1 flex flex-col overflow-auto p-6",children:[(0,mn.jsxs)("div",{className:"mb-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mn.jsx)(aH,{className:"text-signal",size:24}),(0,mn.jsx)("h2",{className:"text-xl font-bold tracking-wider",children:"CREATE WRAPPER"})]}),(0,mn.jsx)("p",{className:"text-ghost text-sm",children:"Wrap an existing payload with a container"})]}),(0,mn.jsx)("div",{className:"flex items-center justify-between mb-6 border-b border-ghost/30 pb-4",children:j.map(((e,t)=>(0,mn.jsxs)(a.Fragment,{children:[(0,mn.jsxs)("div",{className:Wx("flex items-center gap-2",t<=l?"text-signal":"text-ghost/50"),children:[(0,mn.jsx)("div",{className:Wx("w-6 h-6 rounded-full flex items-center justify-center text-sm font-bold border",t<l?"bg-matrix border-matrix text-void":t===l?"border-signal text-signal":"border-ghost/30"),children:t<l?(0,mn.jsx)(tV,{size:14}):t+1}),(0,mn.jsx)("span",{className:"text-xs font-medium hidden sm:inline",children:e})]}),t<j.length-1&&(0,mn.jsx)("div",{className:Wx("flex-1 h-0.5 mx-2",t<l?"bg-matrix":"bg-ghost/30")})]},e)))}),(w||_)&&(0,mn.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,mn.jsx)(cH,{className:"animate-spin text-signal",size:32}),(0,mn.jsx)("span",{className:"ml-3 text-ghost",children:"Loading..."})]}),!w&&!_&&(0,mn.jsx)(On,{mode:"wait",children:(0,mn.jsx)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"mb-8 flex-1",children:O()},l)}),!w&&!_&&l<3&&(0,mn.jsxs)("div",{className:"flex justify-between pt-4 border-t border-ghost/20",children:[(0,mn.jsxs)("button",{onClick:A,disabled:0===l,className:"px-4 py-2 border border-ghost/30 rounded text-ghost hover:text-signal hover:border-signal transition-colors disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,mn.jsx)(kT,{size:16}),"Back"]}),(0,mn.jsxs)("button",{onClick:T,disabled:!M(),className:"px-4 py-2 bg-signal text-void rounded hover:bg-signal/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Next",(0,mn.jsx)(wT,{size:16})]})]})]}):(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)("div",{className:Wx("transition-all duration-300 p-6",i?"ml-16":"ml-64"),children:[(0,mn.jsxs)("div",{className:"mb-8",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mn.jsx)(aH,{className:"text-signal",size:32}),(0,mn.jsx)("h1",{className:"text-3xl font-bold tracking-wider",children:"CREATE_WRAPPER"})]}),(0,mn.jsx)("p",{className:"text-ghost",children:"Wrap an existing payload with a container"})]}),(0,mn.jsx)("div",{className:"flex items-center justify-between mb-8 border-b border-ghost/30 pb-4",children:j.map(((e,t)=>(0,mn.jsxs)(a.Fragment,{children:[(0,mn.jsx)(gH,{step:t,currentStep:l,label:e}),t<j.length-1&&(0,mn.jsx)("div",{className:Wx("flex-1 h-0.5 mx-2",t<l?"bg-matrix":"bg-ghost/30")})]},e)))}),(w||_)&&(0,mn.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,mn.jsx)(cH,{className:"animate-spin text-signal",size:32}),(0,mn.jsx)("span",{className:"ml-3 text-ghost",children:"Loading..."})]}),!w&&!_&&(0,mn.jsx)(On,{mode:"wait",children:(0,mn.jsx)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"mb-8",children:O()},l)}),!w&&!_&&l<3&&(0,mn.jsxs)("div",{className:"flex justify-between",children:[(0,mn.jsxs)("button",{onClick:A,disabled:0===l,className:"px-6 py-2 border border-ghost/30 rounded-lg text-ghost hover:text-signal hover:border-signal transition-colors disabled:opacity-30 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,mn.jsx)(kT,{size:20}),"Back"]}),(0,mn.jsxs)("button",{onClick:T,disabled:!M(),className:"px-6 py-2 bg-signal text-void rounded-lg hover:bg-signal/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:["Next",(0,mn.jsx)(wT,{size:20})]})]})]})]})}var kH,NH,_H,SH,CH,jH,EH,TH,AH,MH,RH,OH,IH,LH,DH,PH,$H,zH;const FH=(e,t)=>t?e/2:e,BH=Kv(kH||(kH=Jg(["\nfragment payloadData on payload {\n  build_message\n  build_phase\n  build_stderr\n  callback_alert\n  callback_allowed\n  id\n  uuid\n  description\n  deleted\n  auto_generated\n  timestamp\n  payload_type_semver\n  os\n  creation_time\n  payloadtype {\n    id\n    name\n    semver\n  }\n  operator {\n    id\n    username\n  }\n  payload_build_steps(order_by: {step_number: asc}) {\n    step_name\n    step_number\n    step_success\n    step_skip\n    start_time\n    end_time\n    step_stdout\n    step_stderr\n    id\n  }\n  buildparameterinstances {\n    id\n    value\n    buildparameter {\n      id\n      name\n      description\n      parameter_type\n    }\n  }\n  payloadcommands {\n    id\n    command {\n      id\n      cmd\n    }\n  }\n  tags {\n    tagtype {\n        name\n        color\n        id\n      }\n    id\n  }\n  filemetum {\n    agent_file_id\n    filename_text\n    id\n    md5\n    sha1\n    size\n    tags {\n        tagtype {\n            name\n            color\n            id\n          }\n        id\n    }\n  }\n  payloadc2profiles {\n    c2profile {\n      running\n      name\n      is_p2p\n      container_running\n    }\n  }\n}\n"]))),VH=Kv(NH||(NH=Jg(["\n","\nsubscription SubPayloadsQuery($now: timestamp!) {\n  payload_stream(batch_size: 10, cursor: {initial_value: {timestamp: $now}, ordering: ASC}) {\n    ...payloadData\n  }\n}\n"])),BH),WH=Kv(_H||(_H=Jg(["\n","\nquery PayloadsQuery($offset: Int!, $limit: Int!, $showDeleted: Boolean!, $showAutogenerated: Boolean!) {\n  payload(order_by: {id: desc}, offset: $offset, limit: $limit, where: {auto_generated: {_eq: $showAutogenerated}, deleted: {_eq: $showDeleted}}) {\n    ...payloadData\n  }\n  payload_aggregate(where: {auto_generated: {_eq: $showAutogenerated}, deleted: {_eq: $showDeleted}}) {\n    aggregate {\n      count\n    }\n  }\n}\n"])),BH),HH=Kv(SH||(SH=Jg(["\nmutation PayloadsDeletePayloadMutation($payload_uuid: String!) {\n  updatePayload(payload_uuid: $payload_uuid, deleted: true) {\n      status\n      error\n      id\n      deleted\n  }\n}\n"]))),UH=Kv(CH||(CH=Jg(["\nmutation PayloadsCallbackAlertMutation($payload_uuid: String!, $callback_alert: Boolean!) {\n  updatePayload(callback_alert: $callback_alert, payload_uuid: $payload_uuid) {\n    id\n    callback_alert\n    status\n    error\n  }\n}\n"]))),GH=Kv(jH||(jH=Jg(["\nmutation RestorePayloadToUndeleted($payload_uuid: String!){\n  updatePayload(deleted: false, payload_uuid: $payload_uuid) {\n    id\n    deleted\n    status\n    error\n  }\n}\n"]))),qH=Kv(EH||(EH=Jg(["\nmutation PayloadsCallbackAllowedMutation($payload_uuid: String!, $callback_allowed: Boolean!) {\n  updatePayload(callback_allowed: $callback_allowed, payload_uuid: $payload_uuid) {\n    id\n    callback_allowed\n    status\n    error\n  }\n}\n"]))),KH=Kv(TH||(TH=Jg(["\nmutation triggerRebuildMutation($uuid: String!) {\n  rebuild_payload(uuid: $uuid) {\n      status\n      error\n      uuid\n  }\n}\n"]))),YH=Kv(AH||(AH=Jg(["\nquery exportPayloadConfigQuery($uuid: String!) {\n  exportPayloadConfig(uuid: $uuid) {\n      status\n      error \n      config \n  }\n}\n"]))),QH=Kv(MH||(MH=Jg(["\nmutation updateFilename($file_id: Int!, $filename: bytea!) {\n  update_filemeta_by_pk(pk_columns: {id: $file_id}, _set: {filename: $filename}) {\n    filename_text\n    id\n  }\n}\n"]))),XH=Kv(RH||(RH=Jg(["\nmutation updatePayloadDescription($payload_uuid: String!, $description: String) {\n  updatePayload(payload_uuid: $payload_uuid, description: $description) {\n    description\n    id\n  }\n}\n"]))),ZH=Kv(OH||(OH=Jg(["\nquery generateRedirectRules($uuid: String!) {\n  redirectRules(uuid: $uuid) {\n    status\n    error\n    output\n  }\n}\n"]))),JH=Kv(IH||(IH=Jg(["\nquery checkAgentConfig($uuid: String!) {\n  config_check(uuid: $uuid) {\n    status\n    error\n    output\n  }\n}\n"]))),eU=Kv(LH||(LH=Jg(["\nquery generateIOCs($uuid: String!) {\n  getIOC(uuid: $uuid) {\n    status\n    error\n    iocs\n  }\n}\n"]))),tU=Kv(DH||(DH=Jg(["\nquery generateSampleMessage($uuid: String!) {\n  getSampleMessage(uuid: $uuid) {\n    status\n    error\n    message\n  }\n}\n"]))),nU=Kv(PH||(PH=Jg(["\nmutation createFakeCallback($payloadUUID: String!) {\n    createFakeCallback(payloadUUID: $payloadUUID){\n        status\n        error\n    }\n}\n"]))),rU=e=>{let{phase:t}=e;const n=(()=>{switch(t){case"success":return{icon:NF,color:"text-green-400",bg:"bg-green-400/10",border:"border-green-400/30",label:"SUCCESS"};case"building":return{icon:JW,color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/30",label:"BUILDING",animate:!0};case"error":return{icon:nF,color:"text-red-400",bg:"bg-red-400/10",border:"border-red-400/30",label:"ERROR"};default:return{icon:km,color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/30",label:(null===t||void 0===t?void 0:t.toUpperCase())||"PENDING"}}})(),r=n.icon;return(0,mn.jsxs)("span",{className:Wx("inline-flex items-center gap-2 px-2.5 py-1 rounded text-xs font-mono border",n.color,n.bg,n.border),children:[(0,mn.jsx)(r,{size:14,className:n.animate?"animate-spin":""}),n.label]})},oU=e=>{let{c2profiles:t}=e;return t&&0!==t.length?(0,mn.jsx)("div",{className:"flex flex-wrap gap-1.5",children:t.map(((e,t)=>{const n=e.c2profile.running&&e.c2profile.container_running;return(0,mn.jsxs)("span",{className:Wx("inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-xs font-mono border",n?"text-green-400 bg-green-400/10 border-green-400/30":"text-red-400 bg-red-400/10 border-red-400/30",e.c2profile.is_p2p&&"border-dashed"),children:[(0,mn.jsx)("span",{className:Wx("w-1.5 h-1.5 rounded-full",n?"bg-green-400":"bg-red-400")}),e.c2profile.name,e.c2profile.is_p2p&&" (P2P)"]},t)}))}):(0,mn.jsx)("span",{className:"text-gray-500 text-xs font-mono",children:"\u2014"})},iU=e=>{let{tags:t}=e;return t&&0!==t.length?(0,mn.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map((e=>(0,mn.jsxs)("span",{className:"inline-flex items-center gap-1 px-1.5 py-0.5 rounded text-xs font-mono",style:{backgroundColor:"".concat(e.tagtype.color,"20"),color:e.tagtype.color,border:"1px solid ".concat(e.tagtype.color,"40")},children:[(0,mn.jsx)(yT,{size:10}),e.tagtype.name]},e.id)))}):(0,mn.jsx)("span",{className:"text-gray-500 text-xs font-mono",children:"\u2014"})},sU=e=>{let{steps:t,buildPhase:n,isCombat:r=!1}=e;if(!t||0===t.length)return null;const o=t.filter((e=>!0===e.step_success||e.step_skip)).length,i=t.length,s=o/i*100,a=t.some((e=>!1===e.step_success&&!e.step_skip)),l="building"===n,c="error"===n||a;return(0,mn.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,mn.jsx)("div",{className:"flex-1 h-1 bg-gray-700 rounded-full overflow-hidden",children:(0,mn.jsx)(Md.div,{className:Wx("h-full rounded-full",c?"bg-red-500":l?"bg-yellow-400":100===s?"bg-green-400":"bg-yellow-400"),initial:{width:0},animate:{width:"".concat(s,"%")},transition:{duration:FH(.3,r)}})}),(0,mn.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:[o,"/",i]})]})},aU=e=>{let{open:t,onClose:n,title:r,content:o,loading:i,error:s,editable:l,onSave:c}=e;const[d,u]=(0,a.useState)(o);return(0,a.useEffect)((()=>{u(o)}),[o]),t?(0,sj.createPortal)((0,mn.jsx)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/70 backdrop-blur-sm",children:(0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-void border border-signal/30 rounded-lg shadow-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden",children:[(0,mn.jsxs)("div",{className:"bg-signal/10 p-4 border-b border-signal/30 flex items-center justify-between",children:[(0,mn.jsx)("h3",{className:"font-mono font-bold text-signal tracking-widest",children:r}),(0,mn.jsx)("button",{onClick:n,className:"text-ghost hover:text-signal transition-colors",children:(0,mn.jsx)(nA,{size:20})})]}),(0,mn.jsx)("div",{className:"p-4 overflow-y-auto max-h-[60vh] cyber-scrollbar",children:i?(0,mn.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,mn.jsx)(JW,{className:"animate-spin text-signal",size:32})}):s?(0,mn.jsx)("div",{className:"text-red-400 font-mono p-4 bg-red-400/10 border border-red-400/30 rounded",children:s}):l?(0,mn.jsx)("textarea",{value:d,onChange:e=>u(e.target.value),className:"w-full h-48 bg-black/50 border border-ghost/30 text-signal p-3 font-mono text-sm focus:border-signal outline-none rounded"}):(0,mn.jsx)("pre",{className:"text-sm text-gray-300 font-mono whitespace-pre-wrap bg-black/50 p-4 rounded border border-ghost/20 overflow-x-auto",children:o||"No content available."})}),(0,mn.jsxs)("div",{className:"p-4 border-t border-ghost/30 flex justify-end gap-2",children:[l&&c&&(0,mn.jsx)("button",{onClick:()=>{c(d),n()},className:"px-4 py-2 bg-signal text-void font-mono font-bold rounded hover:bg-white transition-colors",children:"Save"}),(0,mn.jsx)("button",{onClick:n,className:"px-4 py-2 border border-ghost/30 text-ghost font-mono rounded hover:text-signal hover:border-signal transition-colors",children:l?"Cancel":"Close"})]})]})}),document.body):null},lU=e=>{var t,n,r;let{payload:o,onDelete:i,onRestore:s,onToggleAlert:l,onToggleAllowed:c,onRebuild:d,onExportConfig:u,showDeleted:h,isCombat:p=!1}=e;const[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)({top:0,left:0}),[y,x]=(0,a.useState)(!1),b=(0,a.useRef)(null),w=(0,a.useRef)(null),[k,N]=(0,a.useState)(!1),[_,S]=(0,a.useState)(!1),[C,j]=(0,a.useState)(!1),[E,T]=(0,a.useState)(!1),[A,M]=(0,a.useState)(!1),[R,O]=(0,a.useState)(!1),[I,L]=(0,a.useState)(!1),[D,P]=(0,a.useState)(!1),[$,z]=(0,a.useState)(""),[F,B]=(0,a.useState)(""),[V,W]=(0,a.useState)(""),[H,U]=(0,a.useState)(""),[G,q]=(0,a.useState)(!1),[K,Y]=(0,a.useState)(""),[Q]=UT(QH,{onCompleted:()=>sT.success("Filename updated"),onError:e=>sT.error("Failed to update filename: "+e.message)}),[X]=UT(XH,{onCompleted:()=>sT.success("Description updated"),onError:e=>sT.error("Failed to update description: "+e.message)}),[Z]=UT(nU,{onCompleted:e=>{"success"===e.createFakeCallback.status?sT.success("Fake callback created!"):sT.error(e.createFakeCallback.error)},onError:e=>sT.error("Failed to create fake callback: "+e.message)}),[J]=Yz(ZH,{fetchPolicy:"network-only",onCompleted:e=>{q(!1),"success"===e.redirectRules.status?z(e.redirectRules.output||"No redirect rules generated."):Y(e.redirectRules.error)},onError:e=>{q(!1),Y(e.message)}}),[ee]=Yz(JH,{fetchPolicy:"network-only",onCompleted:e=>{q(!1),"success"===e.config_check.status?B(e.config_check.output||"Configuration is valid."):Y(e.config_check.error)},onError:e=>{q(!1),Y(e.message)}}),[te]=Yz(eU,{fetchPolicy:"network-only",onCompleted:e=>{q(!1),"success"===e.getIOC.status?W(JSON.stringify(e.getIOC.iocs,null,2)):Y(e.getIOC.error)},onError:e=>{q(!1),Y(e.message)}}),[ne]=Yz(tU,{fetchPolicy:"network-only",onCompleted:e=>{q(!1),"success"===e.getSampleMessage.status?U(e.getSampleMessage.message||"No sample message available."):Y(e.getSampleMessage.error)},onError:e=>{q(!1),Y(e.message)}}),re=null!==(t=o.filemetum)&&void 0!==t&&t.filename_text?Hx(o.filemetum.filename_text):"N/A",oe=()=>{var e;if(null!==(e=o.filemetum)&&void 0!==e&&e.agent_file_id){const e=document.createElement("a");e.href="/api/v1.4/files/download/".concat(o.filemetum.agent_file_id),e.click()}};if((0,a.useEffect)((()=>{if(!f)return;const e=e=>{const t=e.target,n=b.current&&!b.current.contains(t),r=w.current&&!w.current.contains(t);n&&r&&m(!1)},t=setTimeout((()=>{document.addEventListener("mousedown",e)}),0);return()=>{clearTimeout(t),document.removeEventListener("mousedown",e)}}),[f]),o.deleted&&!h)return null;const ie=[...o.tags||[],...(null===(n=o.filemetum)||void 0===n?void 0:n.tags)||[]];return(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)(Md.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:-5},transition:{duration:FH(.15,p)},className:Wx("border-b border-gray-800 hover:bg-white/5 transition-colors",o.deleted&&"opacity-50"),children:[(0,mn.jsx)("td",{className:"px-3 py-4",children:(0,mn.jsxs)("div",{className:"flex items-center gap-1",children:[(0,mn.jsxs)("div",{className:"relative",children:[(0,mn.jsx)("button",{ref:b,onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=Math.min(500,window.innerHeight-40);let r=t.bottom+5;const o=window.innerHeight-t.bottom-20,i=t.top-20;o<300&&i>o?r=Math.max(10,t.top-Math.min(n,i)):r+n>window.innerHeight-10&&(r=Math.max(10,window.innerHeight-n-10));let s=t.left;s+256>window.innerWidth-10&&(s=window.innerWidth-256-10),v({top:r,left:s}),m(!f)},className:"p-1.5 rounded hover:bg-signal/10 text-gray-500 hover:text-signal transition-colors",children:(0,mn.jsx)(ZT,{size:16})}),f&&(0,sj.createPortal)((0,mn.jsxs)(Md.div,{ref:w,initial:{opacity:0,scale:.95,y:-5},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-5},style:{position:"fixed",top:g.top,left:g.left,zIndex:99999,maxHeight:"calc(100vh - ".concat(g.top+20,"px)"),minHeight:"200px"},className:"w-64 bg-void/95 backdrop-blur-md border border-signal/30 shadow-2xl shadow-signal/10 py-1 overflow-y-auto",children:[(0,mn.jsx)("div",{className:"px-3 py-1 text-xs font-mono text-signal/50 uppercase tracking-wider border-b border-signal/10 bg-signal/5",children:"File"}),(0,mn.jsxs)("button",{onClick:()=>{N(!0),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(HF,{size:14}),"Rename File"]}),(0,mn.jsxs)("button",{onClick:()=>{S(!0),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(ZV,{size:14}),"Edit Description"]}),(0,mn.jsx)("div",{className:"border-t border-signal/10 my-1"}),(0,mn.jsx)("div",{className:"px-3 py-1 text-xs font-mono text-ghost/50 uppercase tracking-wider",children:"View"}),(0,mn.jsxs)("button",{onClick:()=>{x(!0),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(OT,{size:14}),"View Payload Configuration"]}),(0,mn.jsxs)("button",{onClick:()=>{u(o.uuid),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(vT,{size:14}),"Export Payload Config"]}),(0,mn.jsx)("div",{className:"border-t border-signal/10 my-1"}),(0,mn.jsx)("div",{className:"px-3 py-1 text-xs font-mono text-ghost/50 uppercase tracking-wider",children:"Build"}),(0,mn.jsxs)("button",{onClick:()=>{j(!0),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(vT,{size:14}),"View Build Message/Stdout"]}),(0,mn.jsxs)("button",{onClick:()=>{T(!0),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(eH,{size:14}),"View Build Errors"]}),(0,mn.jsxs)("button",{onClick:()=>{d(o.uuid),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(Fd,{size:14}),"Trigger New Build"]}),(0,mn.jsx)("div",{className:"border-t border-signal/10 my-1"}),(0,mn.jsx)("div",{className:"px-3 py-1 text-xs font-mono text-ghost/50 uppercase tracking-wider",children:"Callbacks"}),(0,mn.jsxs)("button",{onClick:()=>{l(o.uuid,!o.callback_alert),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[o.callback_alert?(0,mn.jsx)(tH,{size:14}):(0,mn.jsx)(Bd,{size:14}),o.callback_alert?"Disable Callback Alerts":"Enable Callback Alerts"]}),(0,mn.jsxs)("button",{onClick:()=>{c(o.uuid,!o.callback_allowed),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[o.callback_allowed?(0,mn.jsx)(nH,{size:14}):(0,mn.jsx)(NF,{size:14}),o.callback_allowed?"Block New Callbacks":"Allow New Callbacks"]}),(0,mn.jsx)("div",{className:"border-t border-signal/10 my-1"}),(0,mn.jsx)("div",{className:"px-3 py-1 text-xs font-mono text-ghost/50 uppercase tracking-wider",children:"Generate"}),(0,mn.jsxs)("button",{onClick:()=>{q(!0),Y(""),M(!0),J({variables:{uuid:o.uuid}}),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(rH,{size:14}),"Generate Redirect Rules"]}),(0,mn.jsxs)("button",{onClick:()=>{q(!0),Y(""),O(!0),ee({variables:{uuid:o.uuid}}),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(Vd,{size:14}),"Check Agent C2 Configuration"]}),(0,mn.jsxs)("button",{onClick:()=>{q(!0),Y(""),L(!0),te({variables:{uuid:o.uuid}}),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(nW,{size:14}),"Generate IOCs"]}),(0,mn.jsxs)("button",{onClick:()=>{q(!0),Y(""),P(!0),ne({variables:{uuid:o.uuid}}),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(oH,{size:14}),"Generate Sample Message"]}),(0,mn.jsxs)("button",{onClick:()=>{window.confirm("Create a fake callback from this payload?")&&Z({variables:{uuid:o.uuid}}),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-300 hover:bg-signal/10 hover:text-signal transition-colors",children:[(0,mn.jsx)(iH,{size:14}),"Generate Fake Callback"]}),(0,mn.jsx)("div",{className:"border-t border-signal/10 my-1"}),(0,mn.jsx)("div",{className:"px-3 py-1 text-xs font-mono text-red-400/50 uppercase tracking-wider border-b border-red-400/10 bg-red-400/5",children:"Danger"}),o.deleted?(0,mn.jsxs)("button",{onClick:()=>{s(o.uuid),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-matrix hover:bg-matrix/10 transition-colors",children:[(0,mn.jsx)(sH,{size:14}),"Restore Payload"]}):(0,mn.jsxs)("button",{onClick:()=>{i(o.uuid),m(!1)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:bg-red-500/10 transition-colors",children:[(0,mn.jsx)(_F,{size:14}),"Delete Payload from Disk"]})]}),document.body)]}),"success"===o.build_phase&&o.filemetum&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("button",{onClick:()=>{var e;const t="".concat(window.location.origin,"/direct/download/").concat(null===(e=o.filemetum)||void 0===e?void 0:e.agent_file_id);navigator.clipboard.writeText(t),sT.success("Public download link copied to clipboard")},className:"p-1.5 rounded hover:bg-signal/10 text-gray-500 hover:text-signal transition-colors",title:"Copy Public Download Link",children:(0,mn.jsx)(oW,{size:16})}),(0,mn.jsx)("button",{onClick:oe,className:"p-1.5 rounded hover:bg-green-400/10 text-gray-500 hover:text-green-400 transition-colors",title:"Download Payload",children:(0,mn.jsx)(vm,{size:16})})]})]})}),(0,mn.jsx)("td",{className:"px-4 py-3",children:(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("div",{className:Wx("w-8 h-8 rounded flex items-center justify-center border","success"===o.build_phase?"bg-green-400/10 border-green-400/30":"error"===o.build_phase?"bg-red-400/10 border-red-400/30":"bg-yellow-400/10 border-yellow-400/30"),children:(0,mn.jsx)(aH,{size:16,className:Wx("success"===o.build_phase?"text-green-400":"error"===o.build_phase?"text-red-400":"text-yellow-400")})}),(0,mn.jsx)("span",{className:Wx("font-mono text-sm","success"===o.build_phase?"text-green-400":"error"===o.build_phase?"text-red-400":"text-yellow-400"),children:o.payloadtype.name})]})}),(0,mn.jsx)("td",{className:"px-4 py-3 cursor-pointer hover:bg-signal/5",onClick:()=>x(!0),children:(0,mn.jsxs)("div",{className:"flex flex-col",children:[(0,mn.jsx)("span",{className:"font-mono text-sm text-white truncate max-w-[250px] hover:text-signal transition-colors",title:re,children:re}),(0,mn.jsxs)("span",{className:"text-xs text-gray-500 font-mono",children:[o.uuid.substring(0,8),"..."]})]})}),(0,mn.jsx)("td",{className:"px-4 py-3 cursor-pointer hover:bg-signal/5",onClick:()=>x(!0),children:(0,mn.jsxs)("div",{className:"flex flex-col",children:[(0,mn.jsx)(rU,{phase:o.build_phase}),(0,mn.jsx)(sU,{steps:o.payload_build_steps,buildPhase:o.build_phase,isCombat:p})]})}),(0,mn.jsx)("td",{className:"px-4 py-3 cursor-pointer hover:bg-signal/5",onClick:()=>x(!0),children:(0,mn.jsx)("span",{className:"text-sm text-gray-400 line-clamp-2",children:o.description||"\u2014"})}),(0,mn.jsx)("td",{className:"px-4 py-3 cursor-pointer hover:bg-signal/5",onClick:()=>x(!0),children:(0,mn.jsx)(oU,{c2profiles:o.payloadc2profiles})}),(0,mn.jsx)("td",{className:"px-4 py-3 cursor-pointer hover:bg-signal/5",onClick:()=>x(!0),children:(0,mn.jsx)(iU,{tags:ie})})]}),(0,mn.jsx)(On,{children:y&&(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>x(!1),children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-void border border-signal/30 rounded-lg w-full max-w-5xl max-h-[85vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-6 border-b border-signal/30 bg-signal/5 flex items-center justify-between shrink-0",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal font-mono tracking-wider",children:"PAYLOAD DETAILS"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,mn.jsx)("span",{className:"text-sm text-gray-400 font-mono",children:o.uuid}),(0,mn.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(o.uuid),sT.success("UUID copied")},className:"text-ghost hover:text-signal transition-colors",title:"Copy UUID",children:(0,mn.jsx)(rF,{size:14})})]})]}),(0,mn.jsx)("button",{onClick:()=>x(!1),className:"text-ghost hover:text-signal transition-colors",children:(0,mn.jsx)(nA,{size:24})})]}),(0,mn.jsxs)("div",{className:"p-6 space-y-6 overflow-y-auto cyber-scrollbar flex-1",children:[(0,mn.jsxs)("div",{className:"flex flex-wrap gap-2",children:["success"===o.build_phase&&o.filemetum&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsxs)("button",{onClick:oe,className:"flex items-center gap-2 px-3 py-2 bg-matrix/20 border border-matrix/30 text-matrix rounded hover:bg-matrix/30 transition-colors font-mono text-sm",children:[(0,mn.jsx)(vm,{size:14}),"Download"]}),(0,mn.jsxs)("button",{onClick:()=>{var e;const t="".concat(window.location.origin,"/direct/download/").concat(null===(e=o.filemetum)||void 0===e?void 0:e.agent_file_id);navigator.clipboard.writeText(t),sT.success("Public download link copied")},className:"flex items-center gap-2 px-3 py-2 bg-signal/10 border border-signal/30 text-signal rounded hover:bg-signal/20 transition-colors font-mono text-sm",children:[(0,mn.jsx)(oW,{size:14}),"Copy Public Link"]})]}),(0,mn.jsxs)("button",{onClick:()=>{u(o.uuid)},className:"flex items-center gap-2 px-3 py-2 bg-ghost/10 border border-ghost/30 text-gray-300 rounded hover:bg-ghost/20 transition-colors font-mono text-sm",children:[(0,mn.jsx)(vT,{size:14}),"Export Config"]}),(0,mn.jsxs)("button",{onClick:()=>{d(o.uuid)},className:"flex items-center gap-2 px-3 py-2 bg-ghost/10 border border-ghost/30 text-gray-300 rounded hover:bg-ghost/20 transition-colors font-mono text-sm",children:[(0,mn.jsx)(Fd,{size:14}),"Rebuild"]})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-1",children:"Payload Type"}),(0,mn.jsx)("p",{className:"text-signal font-mono text-lg",children:o.payloadtype.name}),(0,mn.jsxs)("p",{className:"text-xs text-gray-500",children:["v",o.payloadtype.semver]})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-1",children:"Filename"}),(0,mn.jsx)("p",{className:"text-white font-mono truncate",title:re,children:re}),(null===(r=o.filemetum)||void 0===r?void 0:r.agent_file_id)&&(0,mn.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:["ID: ",o.filemetum.agent_file_id.substring(0,12),"..."]})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-1",children:"Created"}),(0,mn.jsx)("p",{className:"text-gray-300 font-mono",children:eT(o.timestamp,!1)})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-1",children:"Build Status"}),(0,mn.jsx)(rU,{phase:o.build_phase})]})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mn.jsxs)("div",{className:Wx("p-4 rounded border flex items-center justify-between",o.callback_alert?"bg-matrix/10 border-matrix/30":"bg-black/30 border-ghost/20"),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[o.callback_alert?(0,mn.jsx)(Bd,{size:20,className:"text-matrix"}):(0,mn.jsx)(tH,{size:20,className:"text-ghost"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("p",{className:"text-sm font-mono text-white",children:"Callback Alerts"}),(0,mn.jsx)("p",{className:"text-xs text-gray-500",children:o.callback_alert?"Notifications enabled":"Notifications disabled"})]})]}),(0,mn.jsx)("span",{className:Wx("px-2 py-1 rounded text-xs font-mono",o.callback_alert?"bg-matrix/20 text-matrix":"bg-ghost/20 text-ghost"),children:o.callback_alert?"ON":"OFF"})]}),(0,mn.jsxs)("div",{className:Wx("p-4 rounded border flex items-center justify-between",o.callback_allowed?"bg-matrix/10 border-matrix/30":"bg-red-500/10 border-red-500/30"),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[o.callback_allowed?(0,mn.jsx)(NF,{size:20,className:"text-matrix"}):(0,mn.jsx)(nH,{size:20,className:"text-red-400"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("p",{className:"text-sm font-mono text-white",children:"New Callbacks"}),(0,mn.jsx)("p",{className:"text-xs text-gray-500",children:o.callback_allowed?"New callbacks allowed":"New callbacks blocked"})]})]}),(0,mn.jsx)("span",{className:Wx("px-2 py-1 rounded text-xs font-mono",o.callback_allowed?"bg-matrix/20 text-matrix":"bg-red-500/20 text-red-400"),children:o.callback_allowed?"ALLOWED":"BLOCKED"})]})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-2",children:"Description"}),(0,mn.jsx)("p",{className:"text-gray-300",children:o.description||"No description provided"})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-3",children:"C2 Profiles"}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-2",children:o.payloadc2profiles.length>0?o.payloadc2profiles.map(((e,t)=>(0,mn.jsxs)("div",{className:Wx("flex items-center gap-2 px-3 py-2 rounded border font-mono text-sm",e.c2profile.running&&e.c2profile.container_running?"bg-matrix/10 border-matrix/30 text-matrix":"bg-red-500/10 border-red-500/30 text-red-400"),children:[(0,mn.jsx)(yB,{size:14,className:e.c2profile.running?"animate-pulse":""}),(0,mn.jsx)("span",{children:e.c2profile.name}),e.c2profile.is_p2p&&(0,mn.jsx)("span",{className:"text-xs bg-purple-500/20 text-purple-400 px-1 rounded",children:"P2P"}),(0,mn.jsx)("span",{className:Wx("text-xs px-1 rounded",e.c2profile.running?"bg-matrix/20":"bg-red-500/20"),children:e.c2profile.running?"RUNNING":"STOPPED"})]},t))):(0,mn.jsx)("span",{className:"text-gray-500 text-sm",children:"No C2 profiles configured"})})]}),ie.length>0&&(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-3",children:"Tags"}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-2",children:ie.map(((e,t)=>{var n,r,o,i;return(0,mn.jsx)("span",{className:"px-2 py-1 rounded text-xs font-mono",style:{backgroundColor:"".concat((null===(n=e.tagtype)||void 0===n?void 0:n.color)||"#666","20"),borderColor:"".concat((null===(r=e.tagtype)||void 0===r?void 0:r.color)||"#666","50"),color:(null===(o=e.tagtype)||void 0===o?void 0:o.color)||"#888",border:"1px solid"},children:(null===(i=e.tagtype)||void 0===i?void 0:i.name)||"Unknown"},t)}))})]}),o.build_message&&(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-2",children:"Build Message / Stdout"}),(0,mn.jsx)("pre",{className:"p-3 bg-black/50 rounded border border-ghost/10 text-sm text-gray-300 font-mono overflow-x-auto max-h-40 cyber-scrollbar",children:o.build_message})]}),o.build_stderr&&(0,mn.jsxs)("div",{className:"bg-red-500/5 p-4 rounded border border-red-500/30",children:[(0,mn.jsx)("label",{className:"text-xs text-red-400 uppercase tracking-wider block mb-2",children:"Build Errors"}),(0,mn.jsx)("pre",{className:"p-3 bg-black/50 rounded border border-red-500/20 text-sm text-red-400 font-mono overflow-x-auto max-h-40 cyber-scrollbar",children:o.build_stderr})]}),o.payload_build_steps&&o.payload_build_steps.length>0&&(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-3",children:"Build Steps"}),(0,mn.jsx)("div",{className:"space-y-2",children:o.payload_build_steps.map((e=>(0,mn.jsxs)("div",{className:Wx("p-3 rounded border",!0===e.step_success?"bg-matrix/5 border-matrix/20":!1===e.step_success?"bg-red-500/5 border-red-500/20":"bg-ghost/5 border-ghost/20"),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:"text-xs text-ghost bg-ghost/10 px-2 py-0.5 rounded",children:["#",e.step_number]}),(0,mn.jsx)("span",{className:"font-mono text-sm text-white",children:e.step_name})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[e.step_skip&&(0,mn.jsx)("span",{className:"text-xs text-yellow-400 bg-yellow-400/10 px-2 py-0.5 rounded",children:"SKIPPED"}),!0===e.step_success&&(0,mn.jsx)(NF,{size:16,className:"text-matrix"}),!1===e.step_success&&(0,mn.jsx)(nF,{size:16,className:"text-red-400"})]})]}),e.step_stdout&&(0,mn.jsx)("pre",{className:"mt-2 text-xs text-gray-400 overflow-x-auto bg-black/30 p-2 rounded",children:e.step_stdout}),e.step_stderr&&(0,mn.jsx)("pre",{className:"mt-2 text-xs text-red-400 overflow-x-auto bg-red-500/5 p-2 rounded",children:e.step_stderr})]},e.id)))})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-4 rounded border border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-xs text-ghost uppercase tracking-wider block mb-3",children:"Metadata"}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm font-mono",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Payload ID:"}),(0,mn.jsx)("span",{className:"text-gray-300 ml-2",children:o.id})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Auto Generated:"}),(0,mn.jsx)("span",{className:Wx("ml-2",o.auto_generated?"text-yellow-400":"text-gray-300"),children:o.auto_generated?"Yes":"No"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Deleted:"}),(0,mn.jsx)("span",{className:Wx("ml-2",o.deleted?"text-red-400":"text-gray-300"),children:o.deleted?"Yes":"No"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Type Version:"}),(0,mn.jsx)("span",{className:"text-gray-300 ml-2",children:o.payload_type_semver})]})]})]})]}),(0,mn.jsx)("div",{className:"p-4 border-t border-ghost/30 flex justify-end shrink-0 bg-void",children:(0,mn.jsx)("button",{onClick:()=>x(!1),className:"px-6 py-2 bg-ghost/20 hover:bg-ghost/30 text-white rounded transition-colors font-mono",children:"Close"})})]})})}),(0,mn.jsx)(aU,{open:k,onClose:()=>N(!1),title:"RENAME FILE",content:re,editable:!0,onSave:e=>{var t;null!==(t=o.filemetum)&&void 0!==t&&t.id&&Q({variables:{file_id:o.filemetum.id,filename:e}})}}),(0,mn.jsx)(aU,{open:_,onClose:()=>S(!1),title:"EDIT DESCRIPTION",content:o.description||"",editable:!0,onSave:e=>{X({variables:{payload_id:o.id,description:e}})}}),(0,mn.jsx)(aU,{open:C,onClose:()=>j(!1),title:"BUILD MESSAGE / STDOUT",content:o.build_message||"No build message available."}),(0,mn.jsx)(aU,{open:E,onClose:()=>T(!1),title:"BUILD ERRORS",content:o.build_stderr||"No build errors."}),(0,mn.jsx)(aU,{open:A,onClose:()=>M(!1),title:"REDIRECT RULES",content:$,loading:G,error:K}),(0,mn.jsx)(aU,{open:R,onClose:()=>O(!1),title:"AGENT C2 CONFIGURATION CHECK",content:F,loading:G,error:K}),(0,mn.jsx)(aU,{open:I,onClose:()=>L(!1),title:"INDICATORS OF COMPROMISE",content:V,loading:G,error:K}),(0,mn.jsx)(aU,{open:D,onClose:()=>P(!1),title:"SAMPLE MESSAGE",content:H,loading:G,error:K})]})},cU=e=>{let{activeTab:t,onTabChange:n,totalPayloads:r}=e;const o=[{id:"list",label:"PAYLOADS",icon:tA,count:r},{id:"create",label:"CREATE PAYLOAD",icon:Tz},{id:"wrapper",label:"CREATE WRAPPER",icon:aH}];return(0,mn.jsx)("div",{className:"flex items-center gap-1 border-b border-ghost/30",children:o.map((e=>{const r=e.icon,o=t===e.id;return(0,mn.jsxs)("button",{onClick:()=>n(e.id),className:Wx("flex items-center gap-2 px-4 py-3 border-b-2 transition-all font-mono text-sm",o?"border-signal text-signal bg-signal/5":"border-transparent text-gray-400 hover:text-signal hover:bg-signal/5"),children:[(0,mn.jsx)(r,{size:16}),e.label,void 0!==e.count&&(0,mn.jsx)("span",{className:Wx("px-1.5 py-0.5 text-xs rounded",o?"bg-signal/20":"bg-ghost/20"),children:e.count})]},e.id)}))})},dU=e=>{let{onSwitchToCreate:t,onSwitchToWrapper:n}=e;const{active:r}=ET(),[o]=(0,a.useState)(tT().toISOString()),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!0),[m,g]=(0,a.useState)({totalCount:0,fetchLimit:20,currentPage:1}),v=(0,a.useRef)(!0);MT(VH,{variables:{now:o},fetchPolicy:"no-cache",onData:e=>{let{data:t}=e;if(!v.current)return;const n=t.data.payload_stream.reduce(((e,t)=>{const n=e.findIndex((e=>e.id===t.id));return n>-1?(e[n]=s({},t),[...e]):[t,...e]}),[...i]);n.sort(((e,t)=>e.id>t.id?-1:1)),l(n)}}),Jf(WH,{variables:{offset:0,limit:m.fetchLimit,showDeleted:!1,showAutogenerated:!1},fetchPolicy:"no-cache",onCompleted:e=>{g((t=>s(s({},t),{},{totalCount:e.payload_aggregate.aggregate.count}))),l(e.payload),f(!1)}});const[y]=Yz(WH,{onCompleted:e=>{sT.dismiss(),g((t=>s(s({},t),{},{totalCount:e.payload_aggregate.aggregate.count}))),l(e.payload),f(!1)}}),[x]=UT(HH,{onCompleted:e=>{if("success"===e.updatePayload.status){const t=i.map((t=>t.id===e.updatePayload.id?s(s({},t),{},{deleted:!0}):t));l(t),sT.success("Payload deleted")}else sT.error(e.updatePayload.error)},onError:()=>sT.warning("Failed to delete payload")}),[b]=UT(GH,{onCompleted:e=>{const t=i.map((t=>t.id===e.updatePayload.id?s(s({},t),{},{deleted:!1}):t));l(t),sT.success("Payload restored")},onError:()=>sT.warning("Failed to restore payload")}),[w]=UT(UH,{onCompleted:e=>{const t=i.map((t=>t.id===e.updatePayload.id?s(s({},t),{},{callback_alert:e.updatePayload.callback_alert}):t));l(t),sT.success(e.updatePayload.callback_alert?"Callback alerts enabled":"Callback alerts disabled")},onError:()=>sT.warning("Failed to update callback alert")}),[k]=UT(qH,{onCompleted:e=>{const t=i.map((t=>t.id===e.updatePayload.id?s(s({},t),{},{callback_allowed:e.updatePayload.callback_allowed}):t));l(t),sT.success(e.updatePayload.callback_allowed?"Callbacks allowed":"Callbacks blocked")},onError:()=>sT.warning("Failed to update callback allowed")}),[N]=UT(KH,{onCompleted:e=>{"success"===e.rebuild_payload.status?sT.success("Rebuild triggered"):sT.error("Failed to rebuild: "+e.rebuild_payload.error)},onError:e=>sT.error("Failed to trigger rebuild: "+e.message)}),[_]=Yz(YH,{fetchPolicy:"no-cache",onCompleted:e=>{if("success"===e.exportPayloadConfig.status){const t=new Blob([e.exportPayloadConfig.config],{type:"text/plain"}),n=document.createElement("a");n.href=URL.createObjectURL(t),n.download="payload_config.json",document.body.appendChild(n),n.click(),document.body.removeChild(n)}else sT.error("Failed to export: "+e.exportPayloadConfig.error)},onError:e=>sT.error("Failed to export: "+e.message)}),S=e=>{f(!0),g((t=>s(s({},t),{},{currentPage:e}))),y({variables:{offset:(e-1)*m.fetchLimit,limit:m.fetchLimit,showDeleted:c,showAutogenerated:u}})};(0,a.useEffect)((()=>()=>{v.current=!1}),[]);const C=Math.ceil(m.totalCount/m.fetchLimit);return(0,mn.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsxs)("button",{onClick:()=>{d(!c),f(!0),y({variables:{offset:0,limit:m.fetchLimit,showDeleted:!c,showAutogenerated:u}})},className:Wx("flex items-center gap-2 px-3 py-1.5 text-sm rounded border transition-colors",c?"border-signal/50 text-signal bg-signal/10":"border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30"),children:[c?(0,mn.jsx)(NT,{size:14}):(0,mn.jsx)(YT,{size:14}),c?"Showing Deleted":"Hide Deleted"]}),(0,mn.jsxs)("button",{onClick:()=>{h(!u),f(!0),y({variables:{offset:0,limit:m.fetchLimit,showDeleted:c,showAutogenerated:!u}})},className:Wx("flex items-center gap-2 px-3 py-1.5 text-sm rounded border transition-colors",u?"border-signal/50 text-signal bg-signal/10":"border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30"),children:[u?(0,mn.jsx)(NT,{size:14}):(0,mn.jsx)(YT,{size:14}),u?"Showing Auto":"Hide Auto"]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 bg-signal hover:bg-signal/80 text-void font-medium rounded transition-colors text-sm",children:[(0,mn.jsx)(Tz,{size:16}),"New Payload"]}),(0,mn.jsxs)("button",{onClick:n,className:"flex items-center gap-2 px-4 py-2 bg-signal/10 hover:bg-signal/20 border border-signal/30 text-signal rounded transition-colors text-sm",children:[(0,mn.jsx)(aH,{size:16}),"Wrapper"]})]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto",children:p?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)(JW,{size:32,className:"text-signal animate-spin"})}):0===i.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,mn.jsx)(pm,{size:48,className:"mb-4"}),(0,mn.jsx)("p",{className:"text-lg",children:"No payloads found"}),(0,mn.jsxs)("button",{onClick:t,className:"mt-4 flex items-center gap-2 px-4 py-2 bg-signal/10 hover:bg-signal/20 border border-signal/30 text-signal rounded transition-colors",children:[(0,mn.jsx)(Tz,{size:16}),"Create your first payload"]})]}):(0,mn.jsx)("div",{className:"border border-gray-800 rounded-lg overflow-hidden",children:(0,mn.jsxs)("table",{className:"w-full",children:[(0,mn.jsx)("thead",{children:(0,mn.jsxs)("tr",{className:"border-b border-gray-700 bg-black/30",children:[(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider w-20"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Agent"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider",children:"File"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Progress"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Description"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider",children:"C2 Status"}),(0,mn.jsx)("th",{className:"px-4 py-3 text-left text-xs text-gray-500 font-medium uppercase tracking-wider",children:"Tags"})]})}),(0,mn.jsx)("tbody",{children:(0,mn.jsx)(On,{children:i.map((e=>(0,mn.jsx)(lU,{payload:e,onDelete:e=>x({variables:{payload_uuid:e}}),onRestore:e=>b({variables:{payload_uuid:e}}),onToggleAlert:(e,t)=>w({variables:{payload_uuid:e,callback_alert:t}}),onToggleAllowed:(e,t)=>k({variables:{payload_uuid:e,callback_allowed:t}}),onRebuild:e=>N({variables:{uuid:e}}),onExportConfig:e=>_({variables:{uuid:e}}),showDeleted:c,isCombat:r},e.id)))})})]})})}),C>1&&(0,mn.jsxs)("div",{className:"border-t border-ghost/30 pt-4 mt-4 flex items-center justify-center gap-2",children:[(0,mn.jsx)("button",{onClick:()=>S(1),disabled:1===m.currentPage,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"First"}),(0,mn.jsx)("button",{onClick:()=>S(m.currentPage-1),disabled:1===m.currentPage,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Prev"}),(0,mn.jsxs)("span",{className:"px-4 text-gray-400 font-mono text-sm",children:["Page ",m.currentPage," of ",C]}),(0,mn.jsx)("button",{onClick:()=>S(m.currentPage+1),disabled:m.currentPage===C,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"}),(0,mn.jsx)("button",{onClick:()=>S(C),disabled:m.currentPage===C,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})},uU=Kv($H||($H=Jg(['\nquery getPayloadTypesQuery {\n  payloadtype(where: {deleted: {_eq: false}, wrapper: {_eq: false}, agent_type: {_in: ["agent", "service"]}}) {\n    id\n    supported_os\n    name\n    note\n    semver\n    container_running\n    author\n    buildparameters(where: {deleted: {_eq: false}}, order_by: {ui_position: asc}) {\n        id\n        name\n        description\n        parameter_type\n        default_value\n        required\n        choices\n        group_name\n        verifier_regex\n    }\n    payloadtypec2profiles {\n        c2profile {\n            name\n            id\n            description\n            running\n            container_running\n            is_p2p\n            c2profileparameters(where: {deleted: {_eq: false}}) {\n                id\n                name\n                description\n                parameter_type\n                default_value\n                required\n                choices\n                format_string\n                randomize\n            }\n        }\n    }\n    commands(where: {deleted: {_eq: false}}, order_by: {cmd: asc}) {\n        id\n        cmd\n        description\n        help_cmd\n        needs_admin\n        attributes\n    }\n  }\n}\n']))),hU=Kv(zH||(zH=Jg(["\nmutation createPayload($payload: String!) {\n    createPayload(payloadDefinition: $payload) {\n        error\n        status\n        uuid\n    }\n}\n"]))),pU=["SELECT AGENT","CONFIGURATION","COMMANDS","C2 PROFILES","BUILD"],fU=e=>{const t=e.toLowerCase();return t.includes("windows")?(0,mn.jsx)(Cz,{size:20}):t.includes("mac")||t.includes("darwin")?(0,mn.jsx)(YV,{size:20}):t.includes("linux")?(0,mn.jsx)(Wd,{size:20}):t.includes("android")||t.includes("ios")?(0,mn.jsx)(QV,{size:20}):t.includes("chrome")?(0,mn.jsx)(WF,{size:20}):(0,mn.jsx)(mm,{size:20})},mU=e=>{let{cmd:t,position:n,isCombat:r=!1}=e;return(0,sj.createPortal)((0,mn.jsx)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:FH(.1,r)},className:"fixed z-[9999] w-80 pointer-events-none",style:{top:n.y,left:n.x},children:(0,mn.jsxs)("div",{className:"bg-void/95 border border-signal backdrop-blur-xl shadow-[0_0_30px_rgba(0,255,255,0.2)] overflow-hidden",children:[(0,mn.jsxs)("div",{className:"bg-signal/10 p-3 border-b border-signal/30 relative overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-signal/5 to-transparent animate-pulse"}),(0,mn.jsxs)("div",{className:"flex items-center justify-between relative z-10",children:[(0,mn.jsxs)("span",{className:"font-bold font-mono text-signal text-sm flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:14})," ",t.cmd]}),t.needs_admin&&(0,mn.jsx)("span",{className:"text-[10px] bg-red-900/50 text-red-400 px-1.5 py-0.5 border border-red-500/30 font-mono",children:"ELEVATED"})]})]}),(0,mn.jsxs)("div",{className:"p-4 space-y-3",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1 uppercase tracking-widest",children:"DESCRIPTION"}),(0,mn.jsx)("p",{className:"text-xs text-gray-300 leading-relaxed",children:t.description||"No description provided."})]}),t.help_cmd&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1 uppercase tracking-widest",children:"USAGE"}),(0,mn.jsx)("div",{className:"text-xs text-signal/80 font-mono bg-black/50 p-2 border border-gray-800 break-all",children:t.help_cmd})]}),t.attributes&&Object.keys(t.attributes).length>0&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"text-[10px] text-gray-500 font-mono mb-1 uppercase tracking-widest",children:"ATTRIBUTES"}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(t.attributes).map((e=>{let[t,n]=e;return n&&(0,mn.jsx)("span",{className:"text-[10px] bg-signal/10 text-signal px-1.5 py-0.5 border border-signal/30 font-mono",children:t.replace(/_/g," ").toUpperCase()},t)}))})]})]}),(0,mn.jsx)("div",{className:"absolute top-0 right-0 w-3 h-3 border-t border-r border-signal"}),(0,mn.jsx)("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b border-l border-signal"})]})}),document.body)},gU=e=>{var t;let{onComplete:n}=e;const{active:r}=ET(),[o,i]=(0,a.useState)(0),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(null),[h,p]=(0,a.useState)({}),[f,m]=(0,a.useState)([]),[g,v]=(0,a.useState)([]),[y,x]=(0,a.useState)("Created via Minerva"),[b,w]=(0,a.useState)(""),[k,N]=(0,a.useState)(!1),[_,S]=(0,a.useState)(null),[C,j]=(0,a.useState)(""),[E,T]=(0,a.useState)(""),[A,M]=(0,a.useState)(null),[R,O]=(0,a.useState)({x:0,y:0}),I=(0,a.useRef)(null),{data:L,loading:D}=Jf(uU),[P]=UT(hU),{availableOS:$,payloadTypesByOS:z}=a.useMemo((()=>{if(null===L||void 0===L||!L.payloadtype)return{availableOS:[],payloadTypesByOS:{}};const e=new Set,t={};return L.payloadtype.forEach((n=>{(Array.isArray(n.supported_os)?n.supported_os:[]).forEach((r=>{e.add(r),t[r]||(t[r]=[]),t[r].push(n)}))})),{availableOS:Array.from(e).sort(),payloadTypesByOS:t}}),[L]);(0,a.useEffect)((()=>{if(d){const e={};d.buildparameters.forEach((t=>{"Boolean"===t.parameter_type?e[t.name]="true"===t.default_value||!0===t.default_value:e[t.name]=t.default_value})),p(e),v([]),m([])}}),[d]);const F=a.useMemo((()=>d?d.buildparameters.reduce(((e,t)=>{const n=t.group_name||"BASIC OPTIONS";return e[n]||(e[n]=[]),e[n].push(t),e}),{}):{}),[d]),B=a.useMemo((()=>d?C?d.commands.filter((e=>{var t;return e.cmd.toLowerCase().includes(C.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))})):d.commands:[]),[d,C]),V=(e,t,n)=>{v(g.map((r=>r.instance_id===e?s(s({},r),{},{parameters:s(s({},r.parameters),{},{[t]:n})}):r)))},W=e=>{if(A||I.current){const t=15,n=e.clientX+t,r=e.clientY+t,o=window.innerWidth,i=window.innerHeight,s=320,a=250,l=n+s>o?e.clientX-s-t:n,c=r+a>i?e.clientY-a-t:r;O({x:l,y:c})}},H=()=>{I.current&&(clearTimeout(I.current),I.current=null),M(null)},U=()=>{switch(o){case 0:return l&&d;case 1:case 4:return!0;case 2:return f.length>0;case 3:return g.length>0||0===(null===d||void 0===d?void 0:d.payloadtypec2profiles.length);default:return!1}};return(0,mn.jsxs)("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[(0,mn.jsx)("div",{className:"flex items-center justify-center mb-8",children:pU.map(((e,t)=>(0,mn.jsxs)(a.Fragment,{children:[(0,mn.jsxs)(Md.div,{className:"flex flex-col items-center gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1*t},children:[(0,mn.jsx)(Md.div,{className:Wx("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300",t<o?"bg-matrix border-matrix text-void":t===o?"border-signal text-signal bg-signal/10":"border-ghost/30 text-ghost"),whileHover:{scale:1.1},whileTap:{scale:.95},children:t<o?(0,mn.jsx)(tV,{size:18,strokeWidth:3}):(0,mn.jsx)("span",{className:"font-mono font-bold",children:t+1})}),(0,mn.jsx)("span",{className:Wx("text-[10px] font-mono tracking-widest hidden lg:block text-center max-w-[80px]",t<=o?"text-signal":"text-ghost/50"),children:e})]}),t<pU.length-1&&(0,mn.jsx)("div",{className:Wx("w-12 xl:w-20 h-0.5 mx-2 transition-all duration-500",t<o?"bg-matrix":"bg-ghost/20")})]},e)))}),(0,mn.jsxs)("div",{className:"flex-1 border border-ghost/30 rounded-lg overflow-hidden flex flex-col min-h-0 bg-black/20",children:[(0,mn.jsx)("div",{className:"flex-1 overflow-y-auto overflow-x-hidden p-6 cyber-scrollbar",children:(0,mn.jsxs)(On,{mode:"wait",children:[0===o&&(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:FH(.3,r)},className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("h3",{className:"text-lg font-mono text-signal flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-gray-600",children:"01."})," TARGET SYSTEM"]}),(0,mn.jsx)("div",{className:"space-y-2",children:D?(0,mn.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,mn.jsx)(JW,{className:"animate-spin text-signal",size:24})}):$.map((e=>{var t;const n=(e=>{const t=e.toLowerCase();return t.includes("windows")?{desc:"Microsoft Windows operating systems including Windows 10, 11, and Server editions.",color:"text-blue-400",bg:"bg-blue-400/10",border:"border-blue-400/30"}:t.includes("mac")||t.includes("darwin")?{desc:"Apple macOS desktop environment for Intel and Apple Silicon processors.",color:"text-gray-200",bg:"bg-gray-200/10",border:"border-gray-200/30"}:t.includes("linux")?{desc:"Linux-based operating systems including Ubuntu, CentOS, Debian, and more.",color:"text-yellow-400",bg:"bg-yellow-400/10",border:"border-yellow-400/30"}:t.includes("android")?{desc:"Android mobile operating system based on the Linux kernel.",color:"text-green-400",bg:"bg-green-400/10",border:"border-green-400/30"}:t.includes("chrome")?{desc:"Chrome OS and web-based operating system environments.",color:"text-red-400",bg:"bg-red-400/10",border:"border-red-400/30"}:{desc:"Generic or custom operating system environment.",color:"text-signal",bg:"bg-signal/10",border:"border-signal/30"}})(e),r=(null===(t=z[e])||void 0===t?void 0:t.length)||0;return(0,mn.jsx)("button",{onClick:()=>{c(e),u(null)},className:Wx("w-full p-4 border text-left transition-all group",l===e?"".concat(n.border," ").concat(n.bg):"border-gray-700 hover:border-gray-500 hover:bg-white/5"),children:(0,mn.jsxs)("div",{className:"flex items-start gap-4",children:[(0,mn.jsx)("div",{className:Wx("p-3 border transition-colors",l===e?"".concat(n.border," ").concat(n.bg," ").concat(n.color):"border-gray-600 text-gray-500 group-hover:text-gray-300"),children:fU(e)}),(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,mn.jsx)("span",{className:Wx("font-mono font-bold text-lg",l===e?n.color:"text-white"),children:e}),(0,mn.jsxs)("span",{className:"text-xs bg-gray-800 px-2 py-0.5 text-gray-400 font-mono",children:[r," AGENT",1!==r?"S":""]})]}),(0,mn.jsx)("p",{className:"text-xs text-gray-500 leading-relaxed",children:n.desc})]}),(0,mn.jsx)(wT,{className:Wx("transition-all mt-2",l===e?"opacity-100 ".concat(n.color):"opacity-0 group-hover:opacity-50 text-gray-500"),size:18})]})},e)}))})]}),(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("h3",{className:"text-lg font-mono text-signal flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-gray-600",children:"02."})," AGENT TYPE"]}),(0,mn.jsx)(On,{mode:"wait",children:l?(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:FH(.3,r)},className:"space-y-2 max-h-[400px] overflow-y-auto cyber-scrollbar pr-2",children:null===(t=z[l])||void 0===t?void 0:t.map(((e,t)=>{var n,o;return(0,mn.jsxs)(Md.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:FH(.3,r),delay:FH(.05*t,r)},onClick:()=>u(e),className:Wx("w-full p-4 border text-left transition-all group",(null===d||void 0===d?void 0:d.id)===e.id?"border-signal bg-signal/10":"border-gray-700 hover:border-gray-500 hover:bg-white/5"),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:Wx("font-mono font-bold",(null===d||void 0===d?void 0:d.id)===e.id?"text-signal":"text-white"),children:e.name}),e.container_running?(0,mn.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-400 animate-pulse"}):(0,mn.jsx)("span",{className:"w-2 h-2 rounded-full bg-red-400"})]}),(0,mn.jsxs)("span",{className:"text-xs bg-gray-800 px-2 py-0.5 text-gray-400 font-mono",children:["v",e.semver]})]}),(0,mn.jsx)("p",{className:"text-xs text-gray-500 line-clamp-2 mb-2",children:e.note}),(0,mn.jsxs)("div",{className:"flex items-center gap-4 text-[10px] text-gray-600 font-mono",children:[(0,mn.jsxs)("span",{children:[(null===(n=e.commands)||void 0===n?void 0:n.length)||0," commands"]}),(0,mn.jsxs)("span",{children:[(null===(o=e.payloadtypec2profiles)||void 0===o?void 0:o.length)||0," C2 profiles"]}),e.author&&(0,mn.jsxs)("span",{children:["by ",e.author]})]}),!e.container_running&&(0,mn.jsxs)("div",{className:"mt-2 flex items-center gap-1 text-yellow-500 text-xs",children:[(0,mn.jsx)(RT,{size:12}),"Container not running"]})]},e.id)}))},"os-".concat(l)):(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:FH(.2,r)},className:"border border-dashed border-gray-700 p-8 text-center text-gray-600 font-mono h-[300px] flex items-center justify-center",children:(0,mn.jsxs)("div",{children:[(0,mn.jsx)(aH,{size:48,className:"mx-auto mb-4 opacity-30"}),(0,mn.jsx)("p",{children:"SELECT TARGET SYSTEM FIRST"})]})},"no-os")})]})]},"step0"),1===o&&d&&(0,mn.jsxs)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:FH(.3,r)},className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"border border-gray-700 bg-black/40",children:[(0,mn.jsx)("div",{className:"bg-white/5 p-2 px-4 font-mono font-bold text-signal border-b border-gray-700 uppercase tracking-widest text-sm",children:"PAYLOAD INFO"}),(0,mn.jsx)("table",{className:"w-full",children:(0,mn.jsxs)("tbody",{children:[(0,mn.jsxs)("tr",{className:"border-b border-gray-800/50 hover:bg-white/5 transition-colors",children:[(0,mn.jsxs)("td",{className:"p-4 align-top w-1/3 border-r border-gray-800/30",children:[(0,mn.jsx)("div",{className:"font-bold text-signal font-mono mb-1",children:"filename"}),(0,mn.jsx)("div",{className:"text-xs text-gray-400",children:"Output filename for the payload (e.g., agent.exe)"})]}),(0,mn.jsx)("td",{className:"p-4",children:(0,mn.jsx)("input",{type:"text",value:b,onChange:e=>w(e.target.value),placeholder:(null===d||void 0===d?void 0:d.name)||"payload",className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"})})]}),(0,mn.jsxs)("tr",{className:"border-b border-gray-800/50 hover:bg-white/5 transition-colors",children:[(0,mn.jsxs)("td",{className:"p-4 align-top w-1/3 border-r border-gray-800/30",children:[(0,mn.jsx)("div",{className:"font-bold text-signal font-mono mb-1",children:"description"}),(0,mn.jsx)("div",{className:"text-xs text-gray-400",children:"A description for this payload"})]}),(0,mn.jsx)("td",{className:"p-4",children:(0,mn.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"})})]})]})})]}),Object.entries(F).map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{className:"border border-gray-700 bg-black/40",children:[(0,mn.jsx)("div",{className:"bg-white/5 p-2 px-4 font-mono font-bold text-signal border-b border-gray-700 uppercase tracking-widest text-sm",children:t}),(0,mn.jsx)("table",{className:"w-full",children:(0,mn.jsx)("tbody",{children:n.map((e=>(0,mn.jsxs)("tr",{className:"border-b border-gray-800/50 hover:bg-white/5 transition-colors group",children:[(0,mn.jsxs)("td",{className:"p-4 align-top w-1/3 border-r border-gray-800/30",children:[(0,mn.jsx)("div",{className:"font-bold text-signal font-mono mb-1 group-hover:text-white transition-colors",children:e.name}),(0,mn.jsx)("div",{className:"text-xs text-gray-400 leading-relaxed",children:e.description}),e.required&&(0,mn.jsx)("div",{className:"text-[10px] text-red-400 mt-1 font-mono tracking-wider",children:"* REQUIRED"})]}),(0,mn.jsx)("td",{className:"p-4",children:"Boolean"===e.parameter_type?(0,mn.jsx)("button",{onClick:()=>p(s(s({},h),{},{[e.name]:!h[e.name]})),className:Wx("w-12 h-6 rounded-full p-1 transition-colors relative border",h[e.name]?"bg-green-900/50 border-green-500":"bg-gray-900/50 border-gray-700"),children:(0,mn.jsx)("div",{className:Wx("w-3.5 h-3.5 rounded-full bg-white shadow-[0_0_8px_white] transition-transform duration-300",h[e.name]?"translate-x-6":"translate-x-0")})}):"ChooseOne"===e.parameter_type&&e.choices?(0,mn.jsx)(pW,{value:h[e.name]||"",onChange:t=>p(s(s({},h),{},{[e.name]:t})),options:("string"===typeof e.choices?JSON.parse(e.choices):e.choices).map((e=>({label:e,value:e}))),size:"sm"}):"Number"===e.parameter_type?(0,mn.jsx)("input",{type:"number",value:h[e.name]||"",onChange:t=>p(s(s({},h),{},{[e.name]:Number(t.target.value)})),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"}):(0,mn.jsx)("input",{type:"text",value:h[e.name]||"",onChange:t=>p(s(s({},h),{},{[e.name]:t.target.value})),className:"w-full bg-black/30 border border-gray-700 text-signal p-2 font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5"})})]},e.id)))})})]},t)}))]},"step1"),2===o&&d&&(0,mn.jsxs)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:FH(.3,r)},className:"flex flex-col h-full",children:[(0,mn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 mb-4 items-center",children:[(0,mn.jsxs)("div",{className:"relative flex-1 w-full",children:[(0,mn.jsx)(mT,{className:"absolute left-3 top-2.5 text-ghost",size:18}),(0,mn.jsx)("input",{type:"text",placeholder:"FILTER_COMMANDS...",value:C,onChange:e=>j(e.target.value),className:"w-full bg-black/30 border border-ghost/30 py-2 pl-10 pr-4 text-signal font-mono text-sm focus:border-signal outline-none transition-colors focus:bg-white/5 rounded"})]}),(0,mn.jsxs)("div",{className:"flex gap-2 w-full md:w-auto",children:[(0,mn.jsxs)(Md.button,{onClick:()=>m(B.map((e=>e.cmd))),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 md:flex-none px-4 py-2 border border-matrix/50 bg-matrix/10 hover:bg-matrix/20 text-matrix text-xs font-mono font-bold transition-all flex items-center justify-center gap-2 rounded",children:[(0,mn.jsx)(tV,{size:14})," SELECT_VISIBLE"]}),(0,mn.jsxs)(Md.button,{onClick:()=>{const e=B.map((e=>e.cmd));m(f.filter((t=>!e.includes(t))))},whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 md:flex-none px-4 py-2 border border-red-500/50 bg-red-500/10 hover:bg-red-500/20 text-red-400 text-xs font-mono font-bold transition-all flex items-center justify-center gap-2 rounded",children:[(0,mn.jsx)(nF,{size:14})," DESELECT_VISIBLE"]})]})]}),(0,mn.jsx)("div",{className:"border border-ghost/30 bg-black/20 rounded-lg p-3 h-[400px] overflow-y-auto cyber-scrollbar",children:(0,mn.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2",children:B.map(((e,t)=>(0,mn.jsxs)(Md.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(.02*t,.5)},onClick:()=>{f.includes(e.cmd)?m(f.filter((t=>t!==e.cmd))):m([...f,e.cmd])},onMouseEnter:t=>((e,t)=>{const n=e.clientX+15,r=e.clientY+15,o=window.innerWidth,i=window.innerHeight,s=n+320>o?e.clientX-320-15:n,a=r+250>i?e.clientY-250-15:r;O({x:s,y:a}),I.current=setTimeout((()=>{M(t)}),200)})(t,e),onMouseMove:W,onMouseLeave:H,className:Wx("flex items-start gap-3 p-3 text-left border transition-all duration-150 group relative overflow-hidden rounded",f.includes(e.cmd)?"border-signal bg-signal/10":"border-ghost/20 hover:border-ghost/50 bg-black/20 hover:bg-white/5"),children:[(0,mn.jsx)("div",{className:Wx("mt-0.5 shrink-0 transition-colors",f.includes(e.cmd)?"text-signal":"text-ghost/50 group-hover:text-ghost"),children:f.includes(e.cmd)?(0,mn.jsx)(NF,{size:14}):(0,mn.jsx)(pm,{size:14})}),(0,mn.jsxs)("div",{className:"overflow-hidden min-w-0 z-10",children:[(0,mn.jsx)("div",{className:Wx("font-bold font-mono text-xs truncate transition-colors",f.includes(e.cmd)?"text-signal":"text-gray-300 group-hover:text-white"),children:e.cmd}),e.description&&(0,mn.jsx)("div",{className:"text-[10px] text-ghost/60 line-clamp-1 mt-0.5 leading-tight",children:e.description})]})]},e.id)))})}),(0,mn.jsxs)("div",{className:"mt-3 text-xs font-mono text-ghost flex justify-between px-1 border-t border-ghost/20 pt-3",children:[(0,mn.jsxs)("span",{children:["TOTAL: ",d.commands.length]}),(0,mn.jsxs)("span",{children:["SELECTED: ",(0,mn.jsx)("span",{className:"text-signal font-bold",children:f.length})]})]}),(0,mn.jsx)(On,{children:A&&(0,mn.jsx)(mU,{cmd:A,position:R,isCombat:r})})]},"step2"),3===o&&d&&(0,mn.jsxs)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:FH(.3,r)},className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"bg-black/30 border border-ghost/30 rounded-lg p-4",children:[(0,mn.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-end",children:[(0,mn.jsxs)("div",{className:"flex-1 w-full",children:[(0,mn.jsx)("label",{className:"block text-xs font-mono text-ghost mb-2 uppercase tracking-widest",children:"SELECT_C2_PROFILE"}),(0,mn.jsx)(pW,{value:E,onChange:e=>T(e),placeholder:"-- SELECT_PROFILE --",options:d.payloadtypec2profiles.map((e=>{let{c2profile:t}=e;return{label:"".concat(t.name," ").concat(t.is_p2p?"(P2P)":""," - ").concat(t.description),value:String(t.id)}}))})]}),(0,mn.jsxs)(Md.button,{onClick:()=>{if(!E||!d)return;const e=d.payloadtypec2profiles.find((e=>e.c2profile.id===parseInt(E)));e&&(e=>{const t={};e.c2profileparameters.forEach((e=>{if("Boolean"===e.parameter_type)t[e.name]="true"===e.default_value||!0===e.default_value;else if("Date"===e.parameter_type){const n=new Date;n.setDate(n.getDate()+parseInt(String(e.default_value)||"30")),t[e.name]=n.toISOString().slice(0,10)}else if("Dictionary"===e.parameter_type)if("string"===typeof e.default_value)try{t[e.name]=JSON.parse(e.default_value)}catch(zQ){t[e.name]={}}else t[e.name]=e.default_value||{};else if("Array"===e.parameter_type||"ChooseMultiple"===e.parameter_type)if("string"===typeof e.default_value)try{t[e.name]=JSON.parse(e.default_value)}catch(zQ){t[e.name]=[]}else t[e.name]=e.default_value||[];else"Number"===e.parameter_type?t[e.name]=Number(e.default_value)||0:t[e.name]=e.default_value})),v([...g,{profile:e,instance_id:Date.now(),parameters:t}]),T("")})(e.c2profile)},disabled:!E,whileHover:{scale:E?1.02:1},whileTap:{scale:E?.98:1},className:Wx("px-6 py-3 font-bold font-mono text-sm transition-all flex items-center gap-2 rounded border",E?"bg-signal text-void hover:bg-white border-transparent":"bg-ghost/20 text-ghost/50 cursor-not-allowed border-ghost/30"),children:[(0,mn.jsx)(Tz,{size:16})," ADD_PROFILE"]})]}),(0,mn.jsx)(On,{children:E&&(0,mn.jsx)(Md.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-ghost/20",children:(e=>{const t=null===(e=d.payloadtypec2profiles.find((e=>e.c2profile.id===parseInt(E))))||void 0===e?void 0:e.c2profile;return t?(0,mn.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:"text-signal font-mono font-bold",children:t.name}),t.is_p2p&&(0,mn.jsx)("span",{className:"text-[10px] bg-yellow-400/20 text-yellow-400 px-1.5 py-0.5 border border-yellow-400/30 font-mono rounded",children:"P2P"}),(0,mn.jsxs)("div",{className:Wx("flex items-center gap-1 text-xs",t.running&&t.container_running?"text-matrix":"text-red-400"),children:[(0,mn.jsx)("span",{className:Wx("w-2 h-2 rounded-full",t.running&&t.container_running?"bg-matrix animate-pulse":"bg-red-400")}),t.running&&t.container_running?"ONLINE":"OFFLINE"]})]}),(0,mn.jsx)("span",{className:"text-ghost text-xs",children:"|"}),(0,mn.jsxs)("span",{className:"text-ghost text-xs",children:[t.c2profileparameters.length," parameters"]}),(0,mn.jsx)("span",{className:"text-ghost/60 text-xs flex-1",children:t.description})]}):null})()})})]}),0===g.length?(0,mn.jsxs)("div",{className:"text-center py-16 border border-dashed border-ghost/30 rounded-lg text-ghost font-mono",children:[(0,mn.jsx)(yB,{size:48,className:"mx-auto mb-4 opacity-30"}),(0,mn.jsx)("p",{children:"NO_C2_PROFILES_CONFIGURED"}),(0,mn.jsx)("p",{className:"text-xs text-ghost/50 mt-2",children:"Select a profile above and click ADD_PROFILE"})]}):(0,mn.jsx)("div",{className:"space-y-4 max-h-[450px] overflow-y-auto cyber-scrollbar pr-2",children:g.map(((e,t)=>(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"border border-ghost/30 bg-black/30 rounded-lg overflow-hidden",children:[(0,mn.jsxs)("div",{className:"bg-signal/5 p-4 flex justify-between items-center border-b border-ghost/30",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(yB,{size:18,className:"text-signal"}),(0,mn.jsx)("span",{className:"text-signal font-bold font-mono text-lg",children:e.profile.name}),(0,mn.jsxs)("span",{className:"text-xs text-ghost font-mono bg-black/30 px-2 py-1 rounded",children:["Instance #",t+1]}),e.profile.is_p2p&&(0,mn.jsx)("span",{className:"text-[10px] bg-yellow-400/20 text-yellow-400 px-1.5 py-0.5 border border-yellow-400/30 font-mono rounded",children:"P2P"}),(0,mn.jsxs)("div",{className:Wx("flex items-center gap-1 text-xs",e.profile.running&&e.profile.container_running?"text-matrix":"text-red-400"),children:[(0,mn.jsx)("span",{className:Wx("w-2 h-2 rounded-full",e.profile.running&&e.profile.container_running?"bg-matrix animate-pulse":"bg-red-400")}),e.profile.running&&e.profile.container_running?"ONLINE":"OFFLINE"]})]}),(0,mn.jsx)(Md.button,{onClick:()=>{return t=e.instance_id,void v(g.filter((e=>e.instance_id!==t)));var t},whileHover:{scale:1.1},whileTap:{scale:.9},className:"text-ghost hover:text-red-500 transition-colors p-2",children:(0,mn.jsx)(nF,{size:20})})]}),(0,mn.jsx)("div",{className:"p-4",children:(0,mn.jsx)("table",{className:"w-full",children:(0,mn.jsx)("tbody",{children:e.profile.c2profileparameters.map((t=>(0,mn.jsxs)("tr",{className:"border-b border-ghost/10 hover:bg-white/5 transition-colors",children:[(0,mn.jsxs)("td",{className:"p-3 align-top w-1/3 border-r border-ghost/10",children:[(0,mn.jsx)("div",{className:"font-bold text-signal font-mono text-sm mb-1",children:t.name}),(0,mn.jsx)("div",{className:"text-xs text-ghost/60",children:t.description}),t.required&&(0,mn.jsx)("div",{className:"text-[10px] text-red-400 mt-1 font-mono",children:"* REQUIRED"})]}),(0,mn.jsx)("td",{className:"p-3",children:"Boolean"===t.parameter_type?(0,mn.jsx)("button",{onClick:()=>V(e.instance_id,t.name,!e.parameters[t.name]),className:Wx("w-14 h-7 rounded-full p-1 transition-colors relative border",e.parameters[t.name]?"bg-matrix/30 border-matrix":"bg-ghost/20 border-ghost/30"),children:(0,mn.jsx)("div",{className:Wx("w-4 h-4 rounded-full bg-white shadow-[0_0_10px_rgba(255,255,255,0.5)] transition-transform duration-300",e.parameters[t.name]?"translate-x-7":"translate-x-0")})}):"ChooseOne"===t.parameter_type&&t.choices?(0,mn.jsx)(pW,{value:e.parameters[t.name]||"",onChange:n=>V(e.instance_id,t.name,n),options:("string"===typeof t.choices?JSON.parse(t.choices):t.choices).map((e=>({label:e,value:e}))),size:"sm"}):"Dictionary"===t.parameter_type?(0,mn.jsx)("textarea",{value:"string"===typeof e.parameters[t.name]?e.parameters[t.name]:JSON.stringify(e.parameters[t.name],null,2),onChange:n=>V(e.instance_id,t.name,n.target.value),className:"w-full bg-black/50 border border-ghost/30 text-signal p-2 font-mono text-xs focus:border-signal outline-none min-h-[100px] rounded"}):"Date"===t.parameter_type?(0,mn.jsx)("input",{type:"date",value:e.parameters[t.name]||"",onChange:n=>V(e.instance_id,t.name,n.target.value),className:"bg-black/50 border border-ghost/30 text-signal p-2 font-mono text-sm focus:border-signal outline-none rounded"}):"Number"===t.parameter_type?(0,mn.jsx)("input",{type:"number",value:e.parameters[t.name]||"",onChange:n=>V(e.instance_id,t.name,Number(n.target.value)),className:"w-full bg-black/50 border border-ghost/30 text-signal p-2 font-mono text-sm focus:border-signal outline-none rounded"}):(0,mn.jsx)("input",{type:"text",value:e.parameters[t.name]||"",onChange:n=>V(e.instance_id,t.name,n.target.value),className:"w-full bg-black/50 border border-ghost/30 text-signal p-2 font-mono text-sm focus:border-signal outline-none rounded"})})]},t.id)))})})})]},e.instance_id)))})]},"step3"),4===o&&d&&(0,mn.jsxs)(Md.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:FH(.3,r)},className:"space-y-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,mn.jsx)("div",{className:"p-2 bg-signal/10 border border-signal/30 rounded",children:(0,mn.jsx)(vT,{size:20,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-lg font-mono text-signal font-bold tracking-widest",children:"BUILD_SUMMARY"}),(0,mn.jsx)("p",{className:"text-xs text-ghost",children:"Review configuration before initiating build sequence"})]})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"border border-ghost/30 rounded-lg overflow-hidden bg-black/30",children:[(0,mn.jsx)("div",{className:"bg-signal/5 p-3 border-b border-ghost/30",children:(0,mn.jsxs)("h4",{className:"text-sm font-mono text-signal font-bold tracking-widest flex items-center gap-2",children:[(0,mn.jsx)(Vd,{size:14})," CORE_CONFIGURATION"]})}),(0,mn.jsxs)("div",{className:"p-4 space-y-3",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-ghost/10",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost uppercase tracking-widest",children:"TARGET_OS"}),(0,mn.jsx)("span",{className:"text-signal font-mono font-bold",children:l})]}),(0,mn.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-ghost/10",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost uppercase tracking-widest",children:"PAYLOAD_TYPE"}),(0,mn.jsx)("span",{className:"text-signal font-mono font-bold",children:d.name})]}),(0,mn.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-ghost/10",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost uppercase tracking-widest",children:"VERSION"}),(0,mn.jsxs)("span",{className:"text-white font-mono",children:["v",d.semver]})]}),(0,mn.jsxs)("div",{className:"flex justify-between items-start py-2 border-b border-ghost/10",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost uppercase tracking-widest",children:"FILENAME"}),(0,mn.jsx)("span",{className:"text-white font-mono text-right max-w-[200px] truncate",children:b||h.output||h.output_type||h.filename||d.name})]}),(0,mn.jsxs)("div",{className:"flex justify-between items-start py-2",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost uppercase tracking-widest",children:"DESCRIPTION"}),(0,mn.jsx)("span",{className:"text-white/80 text-xs text-right max-w-[200px]",children:y})]})]})]}),(0,mn.jsxs)("div",{className:"border border-ghost/30 rounded-lg overflow-hidden bg-black/30",children:[(0,mn.jsx)("div",{className:"bg-signal/5 p-3 border-b border-ghost/30",children:(0,mn.jsxs)("h4",{className:"text-sm font-mono text-signal font-bold tracking-widest flex items-center gap-2",children:[(0,mn.jsx)(lH,{size:14})," BUILD_PARAMETERS"]})}),(0,mn.jsx)("div",{className:"p-4 max-h-[300px] overflow-y-auto cyber-scrollbar",children:(0,mn.jsx)("div",{className:"space-y-2",children:d.buildparameters.map((e=>{var t;return(0,mn.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-ghost/10 last:border-0",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost font-mono",children:e.name}),(0,mn.jsx)("span",{className:Wx("font-mono text-xs text-right max-w-[200px] truncate","Boolean"===e.parameter_type?h[e.name]?"text-matrix":"text-ghost/50":"text-white"),children:"Boolean"===e.parameter_type?h[e.name]?"TRUE":"FALSE":String(null!==(t=h[e.name])&&void 0!==t?t:e.default_value)})]},e.id)}))})})]})]}),(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{className:"border border-ghost/30 rounded-lg overflow-hidden bg-black/30",children:[(0,mn.jsx)("div",{className:"bg-signal/5 p-3 border-b border-ghost/30",children:(0,mn.jsxs)("h4",{className:"text-sm font-mono text-signal font-bold tracking-widest flex items-center gap-2",children:[(0,mn.jsx)(yB,{size:14})," C2_CHANNELS",(0,mn.jsxs)("span",{className:"text-xs text-ghost ml-auto font-normal",children:[g.length," configured"]})]})}),(0,mn.jsx)("div",{className:"p-4 max-h-[250px] overflow-y-auto cyber-scrollbar",children:0===g.length?(0,mn.jsx)("div",{className:"text-center text-ghost/50 font-mono text-xs py-4",children:"NO_C2_PROFILES"}):(0,mn.jsx)("div",{className:"space-y-4",children:g.map(((e,t)=>(0,mn.jsxs)("div",{className:"border-b border-ghost/10 pb-3 last:border-0 last:pb-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)("span",{className:"text-signal font-mono font-bold text-sm",children:e.profile.name}),(0,mn.jsxs)("span",{className:"text-[10px] text-ghost bg-ghost/10 px-1.5 py-0.5 rounded",children:["#",t+1]}),e.profile.is_p2p&&(0,mn.jsx)("span",{className:"text-[10px] text-yellow-400 bg-yellow-400/10 px-1.5 py-0.5 rounded",children:"P2P"})]}),(0,mn.jsxs)("div",{className:"space-y-1 pl-2 border-l-2 border-signal/30",children:[Object.entries(e.parameters).slice(0,5).map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{className:"flex justify-between text-[10px]",children:[(0,mn.jsx)("span",{className:"text-ghost font-mono",children:t}),(0,mn.jsx)("span",{className:"text-white/80 font-mono truncate max-w-[150px]",children:"boolean"===typeof n?n?"TRUE":"FALSE":String(n)})]},t)})),Object.keys(e.parameters).length>5&&(0,mn.jsxs)("div",{className:"text-[10px] text-ghost/50 font-mono",children:["+",Object.keys(e.parameters).length-5," more parameters..."]})]})]},e.instance_id)))})})]}),(0,mn.jsxs)("div",{className:"border border-ghost/30 rounded-lg overflow-hidden bg-black/30",children:[(0,mn.jsx)("div",{className:"bg-signal/5 p-3 border-b border-ghost/30",children:(0,mn.jsxs)("h4",{className:"text-sm font-mono text-signal font-bold tracking-widest flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:14})," COMMANDS",(0,mn.jsxs)("span",{className:"text-xs text-ghost ml-auto font-normal",children:[f.length," selected"]})]})}),(0,mn.jsx)("div",{className:"p-4 max-h-[200px] overflow-y-auto cyber-scrollbar",children:(0,mn.jsx)("div",{className:"flex flex-wrap gap-1.5",children:f.map((e=>(0,mn.jsx)(Md.span,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-[10px] bg-signal/10 text-signal border border-signal/30 px-2 py-1 font-mono rounded hover:bg-signal/20 transition-colors",children:e},e)))})})]})]})]}),(0,mn.jsx)(On,{children:_&&(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:Wx("p-4 border rounded-lg","success"===_.status?"bg-matrix/10 border-matrix/30 text-matrix":"bg-red-400/10 border-red-400/30 text-red-400"),children:"success"===_.status?(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(NF,{size:24}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"font-mono font-bold",children:"BUILD_INITIATED"}),(0,mn.jsxs)("div",{className:"text-xs opacity-80",children:["UUID: ",_.uuid]})]})]}):(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(nF,{size:24}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("div",{className:"font-mono font-bold",children:"BUILD_FAILED"}),(0,mn.jsx)("div",{className:"text-xs opacity-80",children:_.error})]})]})})}),(0,mn.jsx)(Md.button,{onClick:async()=>{if(d){N(!0),S(null);try{var e,t;const s=d.buildparameters.map((e=>{var t;let n=null!==(t=h[e.name])&&void 0!==t?t:e.default_value;if("Dictionary"===e.parameter_type&&"string"===typeof n)try{n=JSON.parse(n)}catch(zQ){n={}}return{name:e.name,value:n}})),a=g.map((e=>{const t={};return e.profile.c2profileparameters.forEach((n=>{var r;let o=null!==(r=e.parameters[n.name])&&void 0!==r?r:n.default_value;if("Dictionary"===n.parameter_type){if("string"===typeof o)try{o=JSON.parse(o)}catch(zQ){o={}}t[n.name]="object"===typeof o&&null!==o?o:{}}else if("Array"===n.parameter_type||"ChooseMultiple"===n.parameter_type){if("string"===typeof o)try{o=JSON.parse(o)}catch(zQ){o=[]}t[n.name]=o}else"Number"===n.parameter_type?t[n.name]=Number(o):"Boolean"===n.parameter_type?t[n.name]=!0===o||"true"===o:t[n.name]=o})),{c2_profile:e.profile.name,c2_profile_parameters:t}})),c=b||h.output||h.output_type||h.filename||d.name,u={selected_os:l,payload_type:d.name,filename:c,description:y,commands:f,build_parameters:s,c2_profiles:a};console.log("Payload definition:",JSON.stringify(u,null,2));const p=await P({variables:{payload:JSON.stringify(u)}});var n,r,o,i;if("success"===(null===(e=p.data)||void 0===e||null===(t=e.createPayload)||void 0===t?void 0:t.status))S({status:"success",uuid:p.data.createPayload.uuid}),sT.success("Payload build started!");else S({status:"error",error:(null===(n=p.data)||void 0===n||null===(r=n.createPayload)||void 0===r?void 0:r.error)||"Unknown error"}),sT.error((null===(o=p.data)||void 0===o||null===(i=o.createPayload)||void 0===i?void 0:i.error)||"Build failed")}catch(s){S({status:"error",error:s.message}),sT.error("Build failed: "+s.message)}finally{N(!1)}}},disabled:k||"success"===(null===_||void 0===_?void 0:_.status),whileHover:{scale:k||"success"===(null===_||void 0===_?void 0:_.status)?1:1.01},whileTap:{scale:k||"success"===(null===_||void 0===_?void 0:_.status)?1:.99},className:Wx("w-full py-4 font-mono font-bold transition-all flex items-center justify-center gap-3 rounded-lg text-lg tracking-widest",k||"success"===(null===_||void 0===_?void 0:_.status)?"bg-ghost/20 text-ghost/50 cursor-not-allowed border border-ghost/30":"bg-gradient-to-r from-signal to-signal/80 text-void hover:from-white hover:to-signal hover:shadow-[0_0_30px_rgba(0,255,255,0.4)] border border-transparent"),children:k?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(JW,{className:"animate-spin",size:24}),"BUILDING_PAYLOAD..."]}):"success"===(null===_||void 0===_?void 0:_.status)?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(NF,{size:24}),"BUILD_INITIATED"]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(XV,{size:24}),"INITIATE_BUILD_SEQUENCE"]})})]},"step4")]})}),(0,mn.jsxs)("div",{className:"p-4 border-t border-ghost/30 flex justify-between items-center bg-black/30",children:[(0,mn.jsxs)(Md.button,{onClick:()=>0===o?n():i(o-1),whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-6 py-2.5 border border-ghost/30 text-ghost rounded-lg font-mono text-sm hover:text-signal hover:border-signal transition-all flex items-center gap-2",children:[(0,mn.jsx)(kT,{size:16}),0===o?"CANCEL":"BACK"]}),o<pU.length-1&&(0,mn.jsxs)(Md.button,{onClick:()=>i(o+1),disabled:!U(),whileHover:{scale:U()?1.02:1},whileTap:{scale:U()?.98:1},className:"px-8 py-2.5 bg-signal text-void font-bold rounded-lg font-mono text-sm hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2",children:["NEXT ",(0,mn.jsx)(wT,{size:16})]}),o===pU.length-1&&"success"===(null===_||void 0===_?void 0:_.status)&&(0,mn.jsxs)(Md.button,{onClick:n,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-8 py-2.5 bg-matrix text-void font-bold rounded-lg font-mono text-sm hover:bg-matrix/80 transition-all flex items-center gap-2",children:[(0,mn.jsx)(NF,{size:16}),"DONE"]})]})]})]})},vU=e=>{let{onComplete:t}=e;return(0,mn.jsx)(wH,{embedded:!0,onComplete:t})},yU=()=>{var e;const{isSidebarCollapsed:t}=Zg(),[n,r]=wt(),o=Mu(aT),i=n.get("tab")||"list",[s,l]=(0,a.useState)(i),[c,d]=(0,a.useState)(0);Jf(WH,{variables:{offset:0,limit:1,showDeleted:!1,showAutogenerated:!1},fetchPolicy:"cache-and-network",onCompleted:e=>{var t,n;d((null===(t=e.payload_aggregate)||void 0===t||null===(n=t.aggregate)||void 0===n?void 0:n.count)||0)}});const u=e=>{l(e),r({tab:e})};return 0===((null===o||void 0===o||null===(e=o.user)||void 0===e?void 0:e.current_operation_id)||0)?(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsx)("div",{className:Wx("transition-all duration-300 p-6 lg:p-12 min-h-screen flex items-center justify-center",t?"ml-16":"ml-64"),children:(0,mn.jsxs)("div",{className:"text-center",children:[(0,mn.jsx)(pm,{size:48,className:"mx-auto mb-4 text-gray-500"}),(0,mn.jsx)("h1",{className:"text-xl font-bold text-gray-400 mb-2",children:"No Operation Selected"}),(0,mn.jsx)("p",{className:"text-gray-500",children:"Please select an operation to view payloads"})]})})]}):(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)("div",{className:Wx("transition-all duration-300 p-6 lg:p-12 min-h-screen flex flex-col",t?"ml-16":"ml-64"),children:[(0,mn.jsxs)("header",{className:"flex justify-between items-center mb-8 border-b border-ghost/30 pb-6",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:Wx("p-3 border rounded","list"===s?"border-signal bg-signal/10":"create"===s?"border-green-400 bg-green-400/10":"border-yellow-400 bg-yellow-400/10"),children:"list"===s?(0,mn.jsx)(pm,{size:24,className:"text-signal"}):"create"===s?(0,mn.jsx)(Tz,{size:24,className:"text-green-400"}):(0,mn.jsx)(aH,{size:24,className:"text-yellow-400"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-2xl font-bold tracking-widest",children:"list"===s?"PAYLOADS OVERVIEW":"create"===s?"CREATE PAYLOAD":"CREATE WRAPPER"}),(0,mn.jsx)("p",{className:"text-xs text-gray-400 font-mono",children:"list"===s?"/root/payloads/list":"create"===s?"/root/payloads/generate":"/root/payloads/wrapper"})]})]}),"list"===s&&(0,mn.jsx)("div",{className:"flex gap-6 text-xs font-mono items-center",children:(0,mn.jsxs)("div",{className:"text-right border-l border-ghost/20 pl-6",children:[(0,mn.jsx)("div",{className:"text-gray-400",children:"TOTAL_PAYLOADS"}),(0,mn.jsx)("div",{className:"text-xl text-signal",children:c})]})}),"list"===s&&(0,mn.jsxs)("button",{onClick:()=>u("create"),className:"flex items-center gap-2 px-4 py-2 border border-signal text-signal hover:bg-signal hover:text-void font-mono text-sm transition-colors rounded",children:[(0,mn.jsx)(Tz,{size:16}),"GENERATE PAYLOAD"]})]}),(0,mn.jsx)(cU,{activeTab:s,onTabChange:u,totalPayloads:c}),(0,mn.jsxs)(On,{mode:"wait",children:["list"===s&&(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col overflow-hidden mt-6",children:(0,mn.jsx)(dU,{onSwitchToCreate:()=>u("create"),onSwitchToWrapper:()=>u("wrapper")})},"list"),"create"===s&&(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col overflow-hidden mt-6",children:(0,mn.jsx)(gU,{onComplete:()=>u("list")})},"create"),"wrapper"===s&&(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex-1 flex flex-col overflow-hidden mt-6",children:(0,mn.jsx)(vU,{onComplete:()=>u("list")})},"wrapper")]})]})]})},xU=zd("keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);var bU,wU,kU,NU,_U,SU,CU,jU,EU;const TU=[{id:"callbacks",label:"Callbacks",icon:(0,mn.jsx)(um,{size:16}),description:"Search for callback sessions"},{id:"tasks",label:"Tasks",icon:(0,mn.jsx)(Wd,{size:16}),description:"Search task commands and output"},{id:"payloads",label:"Payloads",icon:(0,mn.jsx)(pm,{size:16}),description:"Search generated payloads"},{id:"files",label:"Files",icon:(0,mn.jsx)(vT,{size:16}),description:"Search files (uploads/downloads)"},{id:"credentials",label:"Credentials",icon:(0,mn.jsx)(gm,{size:16}),description:"Search captured credentials"},{id:"keylogs",label:"Keylogs",icon:(0,mn.jsx)(xU,{size:16}),description:"Search keylogger captures"},{id:"artifacts",label:"Artifacts",icon:(0,mn.jsx)(hm,{size:16}),description:"Search operation artifacts"},{id:"tokens",label:"Tokens",icon:(0,mn.jsx)(bm,{size:16}),description:"Search access tokens"},{id:"proxies",label:"Proxies",icon:(0,mn.jsx)(fT,{size:16}),description:"Search SOCKS proxies"},{id:"processes",label:"Processes",icon:(0,mn.jsx)(fm,{size:16}),description:"Search process listings"},{id:"tags",label:"Tags",icon:(0,mn.jsx)(yT,{size:16}),description:"Search tagged items"},{id:"browsers",label:"Browsers",icon:(0,mn.jsx)(WF,{size:16}),description:"Search custom browser data"}],AU=Kv(bU||(bU=Jg(["\nquery SearchTasks($search: String!, $offset: Int!, $limit: Int!) {\n    task(where: {\n        _or: [\n            {display_params: {_ilike: $search}},\n            {original_params: {_ilike: $search}},\n            {command_name: {_ilike: $search}},\n            {comment: {_ilike: $search}}\n        ]\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        display_params\n        original_params\n        command_name\n        comment\n        status\n        timestamp\n        callback {\n            id\n            display_id\n            host\n        }\n        operator {\n            username\n        }\n    }\n    task_aggregate(where: {\n        _or: [\n            {display_params: {_ilike: $search}},\n            {original_params: {_ilike: $search}},\n            {command_name: {_ilike: $search}},\n            {comment: {_ilike: $search}}\n        ]\n    }) {\n        aggregate { count }\n    }\n}\n"]))),MU=Kv(wU||(wU=Jg(["\nquery SearchCallbacks($search: String!, $offset: Int!, $limit: Int!) {\n    callback(where: {\n        _or: [\n            {host: {_ilike: $search}},\n            {user: {_ilike: $search}},\n            {description: {_ilike: $search}},\n            {ip: {_ilike: $search}},\n            {process_name: {_ilike: $search}}\n        ]\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        display_id\n        host\n        user\n        description\n        ip\n        pid\n        process_name\n        integrity_level\n        active\n        last_checkin\n        init_callback\n        payload {\n            payloadtype {\n                name\n            }\n        }\n    }\n    callback_aggregate(where: {\n        _or: [\n            {host: {_ilike: $search}},\n            {user: {_ilike: $search}},\n            {description: {_ilike: $search}},\n            {ip: {_ilike: $search}},\n            {process_name: {_ilike: $search}}\n        ]\n    }) {\n        aggregate { count }\n    }\n}\n"]))),RU=Kv(kU||(kU=Jg(["\nquery SearchFiles($search: String!, $offset: Int!, $limit: Int!) {\n    filemeta(where: {\n        _or: [\n            {filename_text: {_ilike: $search}},\n            {full_remote_path_text: {_ilike: $search}},\n            {comment: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        agent_file_id\n        filename_text\n        full_remote_path_text\n        comment\n        is_download_from_agent\n        is_screenshot\n        complete\n        chunks_received\n        total_chunks\n        timestamp\n        host\n        task {\n            id\n            callback {\n                display_id\n            }\n        }\n    }\n    filemeta_aggregate(where: {\n        _or: [\n            {filename_text: {_ilike: $search}},\n            {full_remote_path_text: {_ilike: $search}},\n            {comment: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }) {\n        aggregate { count }\n    }\n}\n"]))),OU=Kv(NU||(NU=Jg(["\nquery SearchCredentials($search: String!, $offset: Int!, $limit: Int!) {\n    credential(where: {\n        _or: [\n            {account: {_ilike: $search}},\n            {realm: {_ilike: $search}},\n            {credential_text: {_ilike: $search}},\n            {comment: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        account\n        realm\n        type\n        credential_text\n        comment\n        timestamp\n        task_id\n        operator {\n            username\n        }\n    }\n    credential_aggregate(where: {\n        _or: [\n            {account: {_ilike: $search}},\n            {realm: {_ilike: $search}},\n            {credential_text: {_ilike: $search}},\n            {comment: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }) {\n        aggregate { count }\n    }\n}\n"]))),IU=Kv(_U||(_U=Jg(["\nquery SearchArtifacts($search: String!, $offset: Int!, $limit: Int!) {\n    taskartifact(where: {\n        _or: [\n            {artifact_text: {_ilike: $search}},\n            {host: {_ilike: $search}}\n        ]\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        artifact_text\n        host\n        timestamp\n        base_artifact\n        task {\n            id\n            command_name\n            callback {\n                display_id\n            }\n        }\n    }\n    taskartifact_aggregate(where: {\n        _or: [\n            {artifact_text: {_ilike: $search}},\n            {host: {_ilike: $search}}\n        ]\n    }) {\n        aggregate { count }\n    }\n}\n"]))),LU=Kv(SU||(SU=Jg(["\nquery SearchKeylogs($search: String!, $offset: Int!, $limit: Int!) {\n    keylog(where: {\n        _or: [\n            {keystrokes_text: {_ilike: $search}},\n            {window: {_ilike: $search}},\n            {user: {_ilike: $search}}\n        ]\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        keystrokes_text\n        window\n        user\n        timestamp\n        task {\n            callback {\n                display_id\n                host\n            }\n        }\n    }\n    keylog_aggregate(where: {\n        _or: [\n            {keystrokes_text: {_ilike: $search}},\n            {window: {_ilike: $search}},\n            {user: {_ilike: $search}}\n        ]\n    }) {\n        aggregate { count }\n    }\n}\n"]))),DU=Kv(CU||(CU=Jg(["\nquery SearchPayloads($search: String!, $offset: Int!, $limit: Int!) {\n    payload(where: {\n        _or: [\n            {description: {_ilike: $search}},\n            {uuid: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        uuid\n        description\n        build_phase\n        timestamp\n        payloadtype {\n            name\n        }\n        filemetum {\n            filename_text\n        }\n    }\n    payload_aggregate(where: {\n        _or: [\n            {description: {_ilike: $search}},\n            {uuid: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }) {\n        aggregate { count }\n    }\n}\n"]))),PU=Kv(jU||(jU=Jg(["\nquery SearchTokens($search: String!, $offset: Int!, $limit: Int!) {\n    token(where: {\n        _or: [\n            {user: {_ilike: $search}},\n            {description: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        token_id\n        user\n        description\n        timestamp\n        task {\n            callback {\n                display_id\n                host\n            }\n        }\n    }\n    token_aggregate(where: {\n        _or: [\n            {user: {_ilike: $search}},\n            {description: {_ilike: $search}}\n        ],\n        deleted: {_eq: false}\n    }) {\n        aggregate { count }\n    }\n}\n"]))),$U=Kv(EU||(EU=Jg(['\nquery SearchProcesses($search: String!, $offset: Int!, $limit: Int!) {\n    mythictree(where: {\n        tree_type: {_eq: "process"},\n        _or: [\n            {name_text: {_ilike: $search}},\n            {full_path_text: {_ilike: $search}},\n            {host: {_ilike: $search}}\n        ]\n    }, order_by: {id: desc}, limit: $limit, offset: $offset) {\n        id\n        name_text\n        full_path_text\n        host\n        metadata\n        timestamp\n        task {\n            callback {\n                display_id\n            }\n        }\n    }\n    mythictree_aggregate(where: {\n        tree_type: {_eq: "process"},\n        _or: [\n            {name_text: {_ilike: $search}},\n            {full_path_text: {_ilike: $search}},\n            {host: {_ilike: $search}}\n        ]\n    }) {\n        aggregate { count }\n    }\n}\n']))),zU=e=>{var t,n;let{task:r}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)("span",{className:"text-signal font-mono text-sm",children:r.command_name}),(0,mn.jsx)("span",{className:Wx("px-2 py-0.5 rounded text-xs font-mono","success"===r.status?"bg-matrix/10 text-matrix":"error"===r.status?"bg-red-500/10 text-red-400":"bg-gray-500/10 text-gray-400"),children:r.status})]}),(0,mn.jsx)("p",{className:"text-gray-300 font-mono text-sm truncate",children:r.display_params||r.original_params||"(no parameters)"}),r.comment&&(0,mn.jsxs)("p",{className:"text-gray-500 text-xs mt-1 italic",children:['"',r.comment,'"']})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-1 justify-end",children:[(0,mn.jsx)(QT,{size:12}),null===(t=r.operator)||void 0===t?void 0:t.username]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Callback #",null===(n=r.callback)||void 0===n?void 0:n.display_id]}),(0,mn.jsx)("div",{className:"mt-1",children:eT(r.timestamp,!1)})]})]})})},FU=e=>{var t,n;let{callback:r}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsxs)("span",{className:"text-signal font-bold",children:["#",r.display_id]}),(0,mn.jsx)("span",{className:Wx("w-2 h-2 rounded-full",r.active?"bg-matrix":"bg-gray-500")}),(0,mn.jsx)("span",{className:"text-xs text-gray-400",children:null===(t=r.payload)||void 0===t||null===(n=t.payloadtype)||void 0===n?void 0:n.name})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Host:"}),(0,mn.jsx)("span",{className:"ml-2 text-white font-mono",children:r.host})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"User:"}),(0,mn.jsx)("span",{className:"ml-2 text-white font-mono",children:r.user})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"IP:"}),(0,mn.jsx)("span",{className:"ml-2 text-white font-mono",children:r.ip})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Process:"}),(0,mn.jsxs)("span",{className:"ml-2 text-white font-mono",children:[r.process_name," (",r.pid,")"]})]})]})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["Last: ",eT(r.last_checkin,!1)]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Init: ",eT(r.init_callback,!1)]})]})]})})},BU=e=>{var t,n;let{file:r}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(vT,{size:16,className:"text-signal"}),(0,mn.jsx)("span",{className:"text-white font-mono text-sm truncate",children:r.filename_text}),r.is_screenshot&&(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-purple-500/10 text-purple-400 text-xs rounded",children:"Screenshot"}),r.is_download_from_agent&&(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-signal/10 text-signal text-xs rounded",children:"Download"})]}),r.full_remote_path_text&&(0,mn.jsx)("p",{className:"text-gray-400 font-mono text-xs truncate",children:r.full_remote_path_text}),r.comment&&(0,mn.jsxs)("p",{className:"text-gray-500 text-xs mt-1 italic",children:['"',r.comment,'"']})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["Host: ",r.host]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Callback #",null===(t=r.task)||void 0===t||null===(n=t.callback)||void 0===n?void 0:n.display_id]}),(0,mn.jsx)("div",{className:"mt-1",children:r.complete?"Complete":"".concat(r.chunks_received,"/").concat(r.total_chunks," chunks")})]})]})})},VU=e=>{var t;let{credential:n}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(gm,{size:16,className:"text-yellow-400"}),(0,mn.jsx)("span",{className:"text-white font-mono",children:n.account}),(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-yellow-500/10 text-yellow-400 text-xs rounded",children:n.type})]}),(0,mn.jsxs)("div",{className:"text-sm",children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Realm:"}),(0,mn.jsx)("span",{className:"ml-2 text-white font-mono",children:n.realm||"N/A"})]}),(0,mn.jsxs)("div",{className:"text-sm mt-1",children:[(0,mn.jsx)("span",{className:"text-gray-500",children:"Credential:"}),(0,mn.jsx)("span",{className:"ml-2 text-matrix font-mono truncate block",children:n.credential_text})]})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["By: ",null===(t=n.operator)||void 0===t?void 0:t.username]}),(0,mn.jsx)("div",{className:"mt-1",children:eT(n.timestamp,!1)})]})]})})},WU=e=>{var t,n,r;let{artifact:o}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(hm,{size:16,className:"text-orange-400"}),(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-orange-500/10 text-orange-400 text-xs rounded",children:o.base_artifact})]}),(0,mn.jsx)("p",{className:"text-white font-mono text-sm",children:o.artifact_text})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["Host: ",o.host]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Task: ",null===(t=o.task)||void 0===t?void 0:t.command_name]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Callback #",null===(n=o.task)||void 0===n||null===(r=n.callback)||void 0===r?void 0:r.display_id]})]})]})})},HU=e=>{var t,n;let{keylog:r}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(xU,{size:16,className:"text-purple-400"}),(0,mn.jsx)("span",{className:"text-white text-sm",children:r.window})]}),(0,mn.jsx)("p",{className:"text-matrix font-mono text-sm bg-black/30 p-2 rounded",children:r.keystrokes_text})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["User: ",r.user]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Host: ",null===(t=r.task)||void 0===t||null===(n=t.callback)||void 0===n?void 0:n.host]}),(0,mn.jsx)("div",{className:"mt-1",children:eT(r.timestamp,!1)})]})]})})},UU=e=>{var t,n;let{payload:r}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(pm,{size:16,className:"text-signal"}),(0,mn.jsx)("span",{className:"text-signal font-mono",children:null===(t=r.payloadtype)||void 0===t?void 0:t.name}),(0,mn.jsx)("span",{className:Wx("px-1.5 py-0.5 text-xs rounded","success"===r.build_phase?"bg-matrix/10 text-matrix":"error"===r.build_phase?"bg-red-500/10 text-red-400":"bg-gray-500/10 text-gray-400"),children:r.build_phase})]}),(0,mn.jsx)("p",{className:"text-white font-mono text-sm",children:(null===(n=r.filemetum)||void 0===n?void 0:n.filename_text)||r.uuid}),r.description&&(0,mn.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:r.description})]}),(0,mn.jsx)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:(0,mn.jsx)("div",{children:eT(r.timestamp,!1)})})]})})},GU=e=>{var t,n,r,o;let{token:i}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(bm,{size:16,className:"text-blue-400"}),(0,mn.jsx)("span",{className:"text-white font-mono",children:i.user}),(0,mn.jsxs)("span",{className:"text-gray-500 text-xs",children:["ID: ",i.token_id]})]}),i.description&&(0,mn.jsx)("p",{className:"text-gray-400 text-sm",children:i.description})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["Host: ",null===(t=i.task)||void 0===t||null===(n=t.callback)||void 0===n?void 0:n.host]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Callback #",null===(r=i.task)||void 0===r||null===(o=r.callback)||void 0===o?void 0:o.display_id]})]})]})})},qU=e=>{var t,n;let{process:r}=e,o={};try{o="string"===typeof r.metadata?JSON.parse(r.metadata):r.metadata||{}}catch(zQ){}return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)(fm,{size:16,className:"text-cyan-400"}),(0,mn.jsx)("span",{className:"text-white font-mono",children:r.name_text}),o.process_id&&(0,mn.jsxs)("span",{className:"text-gray-500 text-xs",children:["PID: ",o.process_id]})]}),(0,mn.jsx)("p",{className:"text-gray-400 font-mono text-xs truncate",children:r.full_path_text})]}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500 shrink-0",children:[(0,mn.jsxs)("div",{children:["Host: ",r.host]}),(0,mn.jsxs)("div",{className:"mt-1",children:["Callback #",null===(t=r.task)||void 0===t||null===(n=t.callback)||void 0===n?void 0:n.display_id]})]})]})})},KU=e=>{let{item:t,tab:n}=e;return(0,mn.jsx)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-ghost/20 rounded-lg hover:border-signal/30 transition-colors bg-black/20",children:(0,mn.jsx)("pre",{className:"text-xs text-gray-400 overflow-auto",children:JSON.stringify(t,null,2)})})},YU=()=>{var e;fe();const[t,n]=wt(),[r,o]=(0,a.useState)(t.get("tab")||"callbacks"),[i,s]=(0,a.useState)(t.get("q")||""),[l,c]=(0,a.useState)(t.get("q")||""),[d,u]=(0,a.useState)([]),[h,p]=(0,a.useState)(0),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(1),y=25,[x]=Yz(AU,{fetchPolicy:"no-cache"}),[b]=Yz(MU,{fetchPolicy:"no-cache"}),[w]=Yz(RU,{fetchPolicy:"no-cache"}),[k]=Yz(OU,{fetchPolicy:"no-cache"}),[N]=Yz(IU,{fetchPolicy:"no-cache"}),[_]=Yz(LU,{fetchPolicy:"no-cache"}),[S]=Yz(DU,{fetchPolicy:"no-cache"}),[C]=Yz(PU,{fetchPolicy:"no-cache"}),[j]=Yz($U,{fetchPolicy:"no-cache"}),E=(0,a.useCallback)((async()=>{var e,t,n,o,s,a,l,c,d,h,f,v,E,T,A,M,R,O,I,L,D,P,$,z,F,B,V,W,H,U,G,q,K,Y,Q,X;if(!i)return u([]),void p(0);m(!0);const Z="%".concat(i,"%"),J=(g-1)*y;try{let i;switch(r){case"tasks":i=await x({variables:{search:Z,offset:J,limit:y}}),u((null===(e=i.data)||void 0===e?void 0:e.task)||[]),p((null===(t=i.data)||void 0===t||null===(n=t.task_aggregate)||void 0===n||null===(o=n.aggregate)||void 0===o?void 0:o.count)||0);break;case"callbacks":i=await b({variables:{search:Z,offset:J,limit:y}}),u((null===(s=i.data)||void 0===s?void 0:s.callback)||[]),p((null===(a=i.data)||void 0===a||null===(l=a.callback_aggregate)||void 0===l||null===(c=l.aggregate)||void 0===c?void 0:c.count)||0);break;case"files":i=await w({variables:{search:Z,offset:J,limit:y}}),u((null===(d=i.data)||void 0===d?void 0:d.filemeta)||[]),p((null===(h=i.data)||void 0===h||null===(f=h.filemeta_aggregate)||void 0===f||null===(v=f.aggregate)||void 0===v?void 0:v.count)||0);break;case"credentials":i=await k({variables:{search:Z,offset:J,limit:y}}),u((null===(E=i.data)||void 0===E?void 0:E.credential)||[]),p((null===(T=i.data)||void 0===T||null===(A=T.credential_aggregate)||void 0===A||null===(M=A.aggregate)||void 0===M?void 0:M.count)||0);break;case"artifacts":i=await N({variables:{search:Z,offset:J,limit:y}}),u((null===(R=i.data)||void 0===R?void 0:R.taskartifact)||[]),p((null===(O=i.data)||void 0===O||null===(I=O.taskartifact_aggregate)||void 0===I||null===(L=I.aggregate)||void 0===L?void 0:L.count)||0);break;case"keylogs":i=await _({variables:{search:Z,offset:J,limit:y}}),u((null===(D=i.data)||void 0===D?void 0:D.keylog)||[]),p((null===(P=i.data)||void 0===P||null===($=P.keylog_aggregate)||void 0===$||null===(z=$.aggregate)||void 0===z?void 0:z.count)||0);break;case"payloads":i=await S({variables:{search:Z,offset:J,limit:y}}),u((null===(F=i.data)||void 0===F?void 0:F.payload)||[]),p((null===(B=i.data)||void 0===B||null===(V=B.payload_aggregate)||void 0===V||null===(W=V.aggregate)||void 0===W?void 0:W.count)||0);break;case"tokens":i=await C({variables:{search:Z,offset:J,limit:y}}),u((null===(H=i.data)||void 0===H?void 0:H.token)||[]),p((null===(U=i.data)||void 0===U||null===(G=U.token_aggregate)||void 0===G||null===(q=G.aggregate)||void 0===q?void 0:q.count)||0);break;case"processes":i=await j({variables:{search:Z,offset:J,limit:y}}),u((null===(K=i.data)||void 0===K?void 0:K.mythictree)||[]),p((null===(Y=i.data)||void 0===Y||null===(Q=Y.mythictree_aggregate)||void 0===Q||null===(X=Q.aggregate)||void 0===X?void 0:X.count)||0);break;default:u([]),p(0)}}catch(ee){console.error("Search error:",ee),sT.error("Search failed"),u([]),p(0)}finally{m(!1)}}),[i,r,g,x,b,w,k,N,_,S,C,j]);(0,a.useEffect)((()=>{E()}),[E]);const T=Math.ceil(h/y);return(0,mn.jsxs)("div",{className:"flex h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 flex flex-col min-w-0 ml-16",children:[(0,mn.jsxs)("div",{className:"border-b border-ghost/30 bg-void/90 backdrop-blur-sm",children:[(0,mn.jsx)("div",{className:"px-6 py-4",children:(0,mn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),s(l),v(1),n({tab:r,q:l})},className:"flex items-center gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 relative",children:[(0,mn.jsx)(mT,{size:20,className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500"}),(0,mn.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value),placeholder:"Search ".concat(null===(e=TU.find((e=>e.id===r)))||void 0===e?void 0:e.label.toLowerCase(),"..."),className:"w-full h-12 pl-12 pr-4 bg-black/50 border border-ghost/30 rounded-lg text-white placeholder-gray-500 focus:border-signal/50 focus:outline-none focus:ring-1 focus:ring-signal/30 font-mono"})]}),(0,mn.jsxs)("button",{type:"submit",className:"h-12 px-6 bg-signal hover:bg-signal/80 text-void font-medium rounded-lg transition-colors flex items-center gap-2",children:[(0,mn.jsx)(mT,{size:18}),"Search"]})]})}),(0,mn.jsx)("div",{className:"px-6 flex gap-1 overflow-x-auto pb-2 cyber-scrollbar",children:TU.map((e=>(0,mn.jsxs)("button",{onClick:()=>(e=>{o(e),v(1),n({tab:e,q:i})})(e.id),className:Wx("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium whitespace-nowrap transition-colors",r===e.id?"bg-signal/10 text-signal border border-signal/30":"text-gray-400 hover:text-gray-200 hover:bg-white/5"),children:[e.icon,e.label]},e.id)))})]}),(0,mn.jsxs)("div",{className:"flex-1 overflow-auto p-6",children:[i&&!f&&(0,mn.jsxs)("div",{className:"mb-4 text-sm text-gray-500",children:["Found ",(0,mn.jsx)("span",{className:"text-signal font-mono",children:h}),' results for "',(0,mn.jsx)("span",{className:"text-white",children:i}),'"']}),(()=>{return f?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)(JW,{size:32,className:"text-signal animate-spin"})}):i?0===d.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,mn.jsx)(eH,{size:48,className:"mb-4"}),(0,mn.jsx)("p",{className:"text-lg",children:"No results found"}),(0,mn.jsx)("p",{className:"text-sm mt-2",children:"Try a different search term or tab"})]}):(0,mn.jsx)("div",{className:"space-y-3",children:d.map(((e,t)=>{switch(r){case"tasks":return(0,mn.jsx)(zU,{task:e},e.id||t);case"callbacks":return(0,mn.jsx)(FU,{callback:e},e.id||t);case"files":return(0,mn.jsx)(BU,{file:e},e.id||t);case"credentials":return(0,mn.jsx)(VU,{credential:e},e.id||t);case"artifacts":return(0,mn.jsx)(WU,{artifact:e},e.id||t);case"keylogs":return(0,mn.jsx)(HU,{keylog:e},e.id||t);case"payloads":return(0,mn.jsx)(UU,{payload:e},e.id||t);case"tokens":return(0,mn.jsx)(GU,{token:e},e.id||t);case"processes":return(0,mn.jsx)(qU,{process:e},e.id||t);default:return(0,mn.jsx)(KU,{item:e,tab:r},e.id||t)}}))}):(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,mn.jsx)(mT,{size:48,className:"mb-4"}),(0,mn.jsx)("p",{className:"text-lg",children:"Enter a search query to begin"}),(0,mn.jsxs)("p",{className:"text-sm mt-2",children:["Search across ",null===(e=TU.find((e=>e.id===r)))||void 0===e?void 0:e.label.toLowerCase()]})]});var e})()]}),T>1&&(0,mn.jsxs)("div",{className:"border-t border-ghost/30 p-4 flex items-center justify-center gap-2",children:[(0,mn.jsx)("button",{onClick:()=>v(1),disabled:1===g,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"First"}),(0,mn.jsx)("button",{onClick:()=>v((e=>e-1)),disabled:1===g,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Prev"}),(0,mn.jsxs)("span",{className:"px-4 text-gray-400 font-mono text-sm",children:["Page ",g," of ",T]}),(0,mn.jsx)("button",{onClick:()=>v((e=>e+1)),disabled:g===T,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"}),(0,mn.jsx)("button",{onClick:()=>v(T),disabled:g===T,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})]})};var QU,XU,ZU;const JU=Kv(QU||(QU=Jg(["\nquery GetArtifacts($offset: Int!, $limit: Int!, $search: String!) {\n    taskartifact(\n        where: {\n            _or: [\n                {artifact_text: {_ilike: $search}},\n                {host: {_ilike: $search}}\n            ]\n        }, \n        order_by: {id: desc}, \n        limit: $limit, \n        offset: $offset\n    ) {\n        id\n        artifact_text\n        host\n        timestamp\n        base_artifact\n        task {\n            id\n            command_name\n            display_params\n            callback {\n                display_id\n                host\n                user\n                payload {\n                    payloadtype {\n                        name\n                    }\n                }\n            }\n            operator {\n                username\n            }\n        }\n    }\n    taskartifact_aggregate(\n        where: {\n            _or: [\n                {artifact_text: {_ilike: $search}},\n                {host: {_ilike: $search}}\n            ]\n        }\n    ) {\n        aggregate {\n            count\n        }\n    }\n}\n"]))),eG=Kv(XU||(XU=Jg(["\nquery GetArtifactTypes {\n    taskartifact(distinct_on: base_artifact) {\n        base_artifact\n    }\n}\n"]))),tG=Kv(ZU||(ZU=Jg(["\nmutation CreateArtifact($artifact_text: String!, $base_artifact: String!, $host: String!) {\n    insert_taskartifact_one(object: {\n        artifact_text: $artifact_text,\n        base_artifact: $base_artifact,\n        host: $host\n    }) {\n        id\n        artifact_text\n        base_artifact\n        host\n        timestamp\n    }\n}\n"]))),nG=e=>{var t,n,r,o,i,s,l,c;let{artifact:d,onCopy:u}=e;const[h,p]=(0,a.useState)(!1),f={"Process Create":{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30"},"File Create":{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/30"},"File Write":{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/30"},"File Delete":{bg:"bg-red-500/10",text:"text-red-400",border:"border-red-500/30"},"Registry Create":{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/30"},"Registry Write":{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/30"},"Network Connection":{bg:"bg-cyan-500/10",text:"text-cyan-400",border:"border-cyan-500/30"},"Pipe Create":{bg:"bg-yellow-500/10",text:"text-yellow-400",border:"border-yellow-500/30"},"API Call":{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/30"}}[d.base_artifact]||{bg:"bg-gray-500/10",text:"text-gray-400",border:"border-gray-500/30"};return(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-ghost/20 rounded-lg overflow-hidden hover:border-ghost/40 transition-colors",children:[(0,mn.jsx)("div",{className:"p-4 cursor-pointer bg-black/20 hover:bg-black/30 transition-colors",onClick:()=>p(!h),children:(0,mn.jsxs)("div",{className:"flex items-start justify-between gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)("span",{className:Wx("px-2 py-0.5 rounded text-xs font-mono border",f.bg,f.text,f.border),children:d.base_artifact}),(0,mn.jsx)("span",{className:"text-gray-500 text-xs",children:"on"}),(0,mn.jsx)("span",{className:"text-white font-mono text-sm",children:d.host})]}),(0,mn.jsx)("p",{className:"text-gray-300 font-mono text-sm truncate",children:d.artifact_text})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-3 shrink-0",children:[(0,mn.jsx)("button",{onClick:e=>{e.stopPropagation(),u(d.artifact_text)},className:"p-1.5 rounded hover:bg-ghost/20 text-gray-400 hover:text-signal transition-colors",title:"Copy artifact",children:(0,mn.jsx)(rF,{size:14})}),(0,mn.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,mn.jsx)("div",{children:eT(d.timestamp,!1)}),d.task&&(0,mn.jsxs)("div",{className:"mt-1",children:["Callback #",null===(t=d.task.callback)||void 0===t?void 0:t.display_id]})]}),(0,mn.jsx)(Qz,{size:16,className:Wx("text-gray-500 transition-transform",h&&"rotate-180")})]})]})}),(0,mn.jsx)(On,{children:h&&(0,mn.jsx)(Md.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-ghost/20 bg-black/40",children:(0,mn.jsxs)("div",{className:"p-4 space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-xs text-gray-500 uppercase mb-1 block",children:"Artifact Details"}),(0,mn.jsx)("pre",{className:"p-3 bg-black/50 rounded border border-ghost/20 text-sm text-gray-300 font-mono whitespace-pre-wrap break-all",children:d.artifact_text})]}),d.task&&(0,mn.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-xs text-gray-500 uppercase mb-1 block",children:"Command"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:14,className:"text-signal"}),(0,mn.jsx)("span",{className:"text-signal font-mono",children:d.task.command_name})]}),d.task.display_params&&(0,mn.jsx)("p",{className:"text-gray-400 font-mono text-xs mt-1 truncate",children:d.task.display_params})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-xs text-gray-500 uppercase mb-1 block",children:"Operator"}),(0,mn.jsx)("span",{className:"text-white",children:(null===(n=d.task.operator)||void 0===n?void 0:n.username)||"Unknown"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-xs text-gray-500 uppercase mb-1 block",children:"Callback"}),(0,mn.jsxs)("div",{className:"text-white",children:["#",null===(r=d.task.callback)||void 0===r?void 0:r.display_id," - ",null===(o=d.task.callback)||void 0===o?void 0:o.user,"@",null===(i=d.task.callback)||void 0===i?void 0:i.host]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-xs text-gray-500 uppercase mb-1 block",children:"Agent Type"}),(0,mn.jsx)("span",{className:"text-signal",children:null===(s=d.task.callback)||void 0===s||null===(l=s.payload)||void 0===l||null===(c=l.payloadtype)||void 0===c?void 0:c.name})]})]})]})})})]})},rG=e=>{let{isOpen:t,onClose:n,onCreate:r,artifactTypes:o}=e;const[i,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("");return t?(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-void border border-ghost/30 rounded-lg w-full max-w-lg",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-6 border-b border-ghost/30 flex items-center justify-between",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal",children:"Create Artifact"}),(0,mn.jsx)("button",{onClick:n,className:"p-1 hover:bg-ghost/20 rounded transition-colors",children:(0,mn.jsx)(nA,{size:20,className:"text-gray-400"})})]}),(0,mn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i&&l&&d?(r({artifact_text:i,base_artifact:l,host:d}),s(""),c(""),u(""),n()):sT.warning("Please fill in all fields")},className:"p-6 space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-sm text-gray-400 block mb-2",children:"Artifact Type"}),(0,mn.jsxs)("select",{value:l,onChange:e=>c(e.target.value),className:"w-full h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white focus:border-signal/50 focus:outline-none",children:[(0,mn.jsx)("option",{value:"",children:"Select type..."}),o.map((e=>(0,mn.jsx)("option",{value:e,children:e},e))),(0,mn.jsx)("option",{value:"Custom",children:"Custom"})]})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-sm text-gray-400 block mb-2",children:"Host"}),(0,mn.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"hostname",className:"w-full h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-500 focus:border-signal/50 focus:outline-none font-mono"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"text-sm text-gray-400 block mb-2",children:"Artifact Details"}),(0,mn.jsx)("textarea",{value:i,onChange:e=>s(e.target.value),placeholder:"Enter artifact details...",rows:4,className:"w-full px-3 py-2 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-500 focus:border-signal/50 focus:outline-none font-mono resize-none"})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,mn.jsx)("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,mn.jsx)("button",{type:"submit",className:"px-4 py-2 bg-signal hover:bg-signal/80 text-void font-medium rounded transition-colors",children:"Create Artifact"})]})]})]})}):null},oG=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),[o,i]=(0,a.useState)("all"),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(0),[u,h]=(0,a.useState)(!0),[p,f]=(0,a.useState)(1),[m,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)([]);Jf(eG,{onCompleted:e=>{const t=e.taskartifact.map((e=>e.base_artifact)).filter(Boolean);y([...new Set(t)])}});const[x]=Yz(JU,{fetchPolicy:"no-cache",onCompleted:e=>{l(e.taskartifact),d(e.taskartifact_aggregate.aggregate.count),h(!1)},onError:()=>{sT.error("Failed to fetch artifacts"),h(!1)}}),[b]=UT(tG,{onCompleted:t=>{sT.success("Artifact created"),x({variables:{offset:0,limit:25,search:e?"%".concat(e,"%"):"%%"}})},onError:()=>{sT.error("Failed to create artifact")}});(0,a.useEffect)((()=>{h(!0),x({variables:{offset:25*(p-1),limit:25,search:e?"%".concat(e,"%"):"%%"}})}),[e,p,x]);const w=e=>{navigator.clipboard.writeText(e),sT.success("Copied to clipboard")},k="all"===o?s:s.filter((e=>e.base_artifact===o)),N=Math.ceil(c/25);return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 flex flex-col min-w-0 ml-16 h-screen",children:[(0,mn.jsxs)("div",{className:"h-16 border-b border-ghost/30 flex items-center justify-between px-6 bg-void/90 backdrop-blur-sm",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded bg-orange-500/10 border border-orange-500/30 flex items-center justify-center",children:(0,mn.jsx)(hm,{size:20,className:"text-orange-400"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-xl font-bold text-white tracking-wide",children:"ARTIFACTS"}),(0,mn.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:[c," total artifacts"]})]})]}),(0,mn.jsxs)("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-signal hover:bg-signal/80 text-void font-medium rounded transition-colors",children:[(0,mn.jsx)(Tz,{size:16}),"New Artifact"]})]}),(0,mn.jsxs)("div",{className:"border-b border-ghost/30 p-4 flex items-center gap-4",children:[(0,mn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t(n),f(1)},className:"flex-1 flex items-center gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1 relative",children:[(0,mn.jsx)(mT,{size:18,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),(0,mn.jsx)("input",{type:"text",value:n,onChange:e=>r(e.target.value),placeholder:"Search artifacts...",className:"w-full h-10 pl-10 pr-4 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-500 focus:border-signal/50 focus:outline-none font-mono"})]}),(0,mn.jsx)("button",{type:"submit",className:"h-10 px-4 bg-signal/10 hover:bg-signal/20 border border-signal/30 text-signal rounded transition-colors",children:"Search"})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(LW,{size:16,className:"text-gray-500"}),(0,mn.jsxs)("select",{value:o,onChange:e=>i(e.target.value),className:"h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white focus:border-signal/50 focus:outline-none",children:[(0,mn.jsx)("option",{value:"all",children:"All Types"}),v.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))]})]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto p-6",children:u?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)(JW,{size:32,className:"text-signal animate-spin"})}):0===k.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,mn.jsx)(hm,{size:48,className:"mb-4"}),(0,mn.jsx)("p",{className:"text-lg",children:"No artifacts found"}),e&&(0,mn.jsx)("p",{className:"text-sm mt-2",children:"Try a different search term"})]}):(0,mn.jsx)("div",{className:"space-y-3",children:k.map((e=>(0,mn.jsx)(nG,{artifact:e,onCopy:w},e.id)))})}),N>1&&(0,mn.jsxs)("div",{className:"border-t border-ghost/30 p-4 flex items-center justify-center gap-2",children:[(0,mn.jsx)("button",{onClick:()=>f(1),disabled:1===p,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"First"}),(0,mn.jsx)("button",{onClick:()=>f((e=>e-1)),disabled:1===p,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Prev"}),(0,mn.jsxs)("span",{className:"px-4 text-gray-400 font-mono text-sm",children:["Page ",p," of ",N]}),(0,mn.jsx)("button",{onClick:()=>f((e=>e+1)),disabled:p===N,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Next"}),(0,mn.jsx)("button",{onClick:()=>f(N),disabled:p===N,className:"px-3 py-1.5 rounded border border-ghost/30 text-gray-400 hover:text-signal hover:border-signal/30 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]}),(0,mn.jsx)(On,{children:m&&(0,mn.jsx)(rG,{isOpen:m,onClose:()=>g(!1),onCreate:e=>{b({variables:e})},artifactTypes:v})})]})},iG=zd("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),sG=zd("move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]),aG=zd("bomb",[["circle",{cx:"11",cy:"13",r:"9",key:"hd149"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95",key:"jp4j1b"}],["path",{d:"m22 2-1.5 1.5",key:"ay92ug"}]]);var lG,cG,dG;const uG=Kv(lG||(lG=Jg(["\nquery GetMitreAttack {\n  attack(order_by: {t_num: asc}){\n    id\n    name\n    t_num\n    os\n    tactic\n  }\n}\n"]))),hG=Kv(cG||(cG=Jg(["\nquery GetMitreTaskAttack($operation_id: Int!) {\n  attacktask(where: {task: {callback: {operation_id: {_eq: $operation_id}}}}) {\n    attack_id\n    task {\n      id\n      command_name\n      comment\n      display_params\n      callback {\n        id\n        display_id\n        payload {\n          payloadtype {\n            name\n          }\n        }\n      }\n    }\n  }\n}\n"]))),pG=Kv(dG||(dG=Jg(["\nquery GetMitreCommandAttack{\n  attackcommand {\n    attack_id\n    command {\n      cmd\n      payloadtype {\n        name\n      }\n    }\n  }\n}\n"]))),fG=[{id:"Reconnaissance",label:"Reconnaissance",icon:mT},{id:"Resource Development",label:"Resource Development",icon:hm},{id:"Initial Access",label:"Initial Access",icon:bT},{id:"Execution",label:"Execution",icon:Wd},{id:"Persistence",label:"Persistence",icon:um},{id:"Privilege Escalation",label:"Privilege Escalation",icon:iG},{id:"Defense Evasion",label:"Defense Evasion",icon:bm},{id:"Credential Access",label:"Credential Access",icon:KT},{id:"Discovery",label:"Discovery",icon:NT},{id:"Lateral Movement",label:"Lateral Movement",icon:sG},{id:"Collection",label:"Collection",icon:Xz},{id:"Command And Control",label:"Command & Control",icon:yB},{id:"Exfiltration",label:"Exfiltration",icon:ST},{id:"Impact",label:"Impact",icon:aG}],mG=e=>{let{technique:t,viewMode:n,onClick:r}=e;const o="tasks"===n?t.hasTask:t.hasCommand,i="tasks"===n?t.taskCount:t.commandCount;return(0,mn.jsxs)(Md.div,{whileHover:{scale:1.02},onClick:r,className:Wx("p-2 rounded border cursor-pointer transition-all text-xs",o?"bg-signal/10 border-signal/30 hover:border-signal/50":"bg-ghost/5 border-ghost/20 hover:border-ghost/40 opacity-60 hover:opacity-80"),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between gap-1 mb-1",children:[(0,mn.jsx)("span",{className:Wx("font-mono",o?"text-signal":"text-gray-500"),children:t.t_num}),o&&(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-signal/20 text-signal rounded text-[10px] font-bold",children:i})]}),(0,mn.jsx)("p",{className:Wx("line-clamp-2 leading-tight",o?"text-white":"text-gray-500"),children:t.name})]})},gG=e=>{let{technique:t,tasks:n,commands:r,viewMode:o,onClose:i}=e;if(!t)return null;const s=n.filter((e=>e.attack_id===t.id)),a=r.filter((e=>e.attack_id===t.id));return(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:i,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-void border border-ghost/30 rounded-lg w-full max-w-3xl max-h-[80vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,mn.jsx)("div",{className:"p-6 border-b border-ghost/30",children:(0,mn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,mn.jsx)("span",{className:"text-signal font-mono text-lg",children:t.t_num}),(0,mn.jsx)("a",{href:"https://attack.mitre.org/techniques/".concat(t.t_num.replace(".","/")),target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-signal transition-colors",children:(0,mn.jsx)(SF,{size:16})})]}),(0,mn.jsx)("h2",{className:"text-xl font-bold text-white",children:t.name}),(0,mn.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Tactic: ",t.tactic]})]}),(0,mn.jsx)("button",{onClick:i,className:"p-1 hover:bg-ghost/20 rounded transition-colors",children:(0,mn.jsx)(nA,{size:20,className:"text-gray-400"})})]})}),(0,mn.jsx)("div",{className:"p-6 overflow-auto max-h-[60vh]",children:"tasks"===o?(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("h3",{className:"text-sm font-medium text-gray-400 uppercase mb-3 flex items-center gap-2",children:[(0,mn.jsx)(um,{size:16}),"Executed Tasks (",s.length,")"]}),0===s.length?(0,mn.jsx)("p",{className:"text-gray-500 text-sm",children:"No tasks executed for this technique"}):(0,mn.jsx)("div",{className:"space-y-2",children:s.map(((e,t)=>{var n,r,o,i;return(0,mn.jsxs)("div",{className:"p-3 bg-black/30 border border-ghost/20 rounded",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,mn.jsx)("span",{className:"text-signal font-mono",children:e.task.command_name}),(0,mn.jsxs)("span",{className:"text-gray-500 text-xs",children:["Callback #",null===(n=e.task.callback)||void 0===n?void 0:n.display_id]}),(0,mn.jsxs)("span",{className:"text-gray-500 text-xs",children:["(",null===(r=e.task.callback)||void 0===r||null===(o=r.payload)||void 0===o||null===(i=o.payloadtype)||void 0===i?void 0:i.name,")"]})]}),e.task.display_params&&(0,mn.jsx)("p",{className:"text-gray-400 font-mono text-xs truncate",children:e.task.display_params}),e.task.comment&&(0,mn.jsxs)("p",{className:"text-gray-500 text-xs italic mt-1",children:['"',e.task.comment,'"']})]},t)}))})]}):(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("h3",{className:"text-sm font-medium text-gray-400 uppercase mb-3 flex items-center gap-2",children:[(0,mn.jsx)(YV,{size:16}),"Available Commands (",a.length,")"]}),0===a.length?(0,mn.jsx)("p",{className:"text-gray-500 text-sm",children:"No commands mapped to this technique"}):(0,mn.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.map(((e,t)=>(0,mn.jsxs)("div",{className:"p-3 bg-black/30 border border-ghost/20 rounded flex items-center justify-between",children:[(0,mn.jsx)("span",{className:"text-signal font-mono",children:e.command.cmd}),(0,mn.jsx)("span",{className:"text-gray-500 text-xs",children:e.command.payloadtype.name})]},t)))})]})})]})})},vG=()=>{const e=Mu(aT),[t,n]=(0,a.useState)("tasks"),[r,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)([]),[p,f]=(0,a.useState)(null),[m,g]=(0,a.useState)("all");Jf(uG,{onCompleted:e=>{l(e.attack)},onError:()=>{sT.error("Failed to load MITRE ATT&CK data")}});const[v]=Yz(hG,{fetchPolicy:"network-only",onCompleted:e=>{d(e.attacktask),o(!1)},onError:()=>{sT.error("Failed to load task attack mappings"),o(!1)}});Jf(pG,{onCompleted:e=>{h(e.attackcommand)}}),(0,a.useEffect)((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.user)&&void 0!==t&&t.current_operation_id&&v({variables:{operation_id:e.user.current_operation_id}})}),[e,v]);const y=(0,a.useMemo)((()=>{const e=new Set(c.map((e=>e.attack_id))),t=new Set(u.map((e=>e.attack_id))),n={},r={};return c.forEach((e=>{n[e.attack_id]=(n[e.attack_id]||0)+1})),u.forEach((e=>{"all"!==m&&e.command.payloadtype.name!==m||(r[e.attack_id]=(r[e.attack_id]||0)+1)})),fG.map((o=>{const a=i.filter((e=>e.tactic===o.id)).map((o=>s(s({},o),{},{hasTask:e.has(o.id),hasCommand:t.has(o.id),taskCount:n[o.id]||0,commandCount:r[o.id]||0})));return{tactic:o.id,techniques:a,taskCount:a.filter((e=>e.hasTask)).length,commandCount:a.filter((e=>e.hasCommand)).length}}))}),[i,c,u,m]),x=(0,a.useMemo)((()=>{const e=new Set;return u.forEach((t=>e.add(t.command.payloadtype.name))),Array.from(e).sort()}),[u]),b=(0,a.useMemo)((()=>({tasks:new Set(c.map((e=>e.attack_id))).size,commands:new Set(u.map((e=>e.attack_id))).size,totalTechniques:i.length})),[i,c,u]);return(0,mn.jsxs)("div",{className:"flex h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 flex flex-col min-w-0 ml-16",children:[(0,mn.jsxs)("div",{className:"h-16 border-b border-ghost/30 flex items-center justify-between px-6 bg-void/90 backdrop-blur-sm",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded bg-red-500/10 border border-red-500/30 flex items-center justify-center",children:(0,mn.jsx)(gT,{size:20,className:"text-red-400"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-xl font-bold text-white tracking-wide",children:"MITRE ATT&CK"}),(0,mn.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:[b.totalTechniques," techniques \u2022 ",b.tasks," executed \u2022 ",b.commands," available"]})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:["commands"===t&&(0,mn.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"h-9 px-3 bg-black/50 border border-ghost/30 rounded text-white text-sm focus:border-signal/50 focus:outline-none",children:[(0,mn.jsx)("option",{value:"all",children:"All Payload Types"}),x.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))]}),(0,mn.jsxs)("div",{className:"flex items-center bg-black/50 border border-ghost/30 rounded-lg p-1",children:[(0,mn.jsxs)("button",{onClick:()=>n("tasks"),className:Wx("px-4 py-1.5 rounded text-sm font-medium transition-colors","tasks"===t?"bg-signal/20 text-signal":"text-gray-400 hover:text-white"),children:[(0,mn.jsx)(um,{size:14,className:"inline-block mr-2"}),"Tasks Executed"]}),(0,mn.jsxs)("button",{onClick:()=>n("commands"),className:Wx("px-4 py-1.5 rounded text-sm font-medium transition-colors","commands"===t?"bg-signal/20 text-signal":"text-gray-400 hover:text-white"),children:[(0,mn.jsx)(YV,{size:14,className:"inline-block mr-2"}),"Commands Available"]})]})]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto p-6",children:r?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)(JW,{size:32,className:"text-signal animate-spin"})}):(0,mn.jsx)("div",{className:"flex gap-2 min-w-max",children:y.map((e=>{const n=fG.find((t=>t.id===e.tactic)),r=(null===n||void 0===n?void 0:n.icon)||gT,o="tasks"===t?e.taskCount:e.commandCount;return(0,mn.jsxs)("div",{className:"w-48 flex-shrink-0",children:[(0,mn.jsxs)("div",{className:"p-3 bg-black/40 border border-ghost/30 rounded-t-lg",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,mn.jsx)(r,{size:14,className:"text-signal"}),(0,mn.jsxs)("span",{className:Wx("px-1.5 py-0.5 rounded text-xs font-bold",o>0?"bg-signal/20 text-signal":"bg-ghost/20 text-gray-500"),children:[o,"/",e.techniques.length]})]}),(0,mn.jsx)("h3",{className:"text-xs font-medium text-white leading-tight",children:(null===n||void 0===n?void 0:n.label)||e.tactic})]}),(0,mn.jsx)("div",{className:"border-x border-b border-ghost/30 rounded-b-lg bg-black/20 p-2 space-y-2 max-h-[calc(100vh-200px)] overflow-y-auto cyber-scrollbar",children:e.techniques.map((e=>(0,mn.jsx)(mG,{technique:e,viewMode:t,onClick:()=>f(e)},e.id)))})]},e.tactic)}))})}),(0,mn.jsxs)("div",{className:"border-t border-ghost/30 p-4 flex items-center justify-center gap-8 text-xs text-gray-400",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("div",{className:"w-4 h-4 bg-signal/10 border border-signal/30 rounded"}),(0,mn.jsx)("span",{children:"tasks"===t?"Executed":"Available"})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("div",{className:"w-4 h-4 bg-ghost/5 border border-ghost/20 rounded opacity-60"}),(0,mn.jsxs)("span",{children:["Not ","tasks"===t?"Executed":"Available"]})]}),(0,mn.jsxs)("a",{href:"https://attack.mitre.org/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-signal hover:underline",children:[(0,mn.jsx)(OT,{size:14}),"MITRE ATT&CK Framework"]})]})]}),(0,mn.jsx)(On,{children:p&&(0,mn.jsx)(gG,{technique:p,tasks:c,commands:u,viewMode:t,onClose:()=>f(null)})})]})},yG=zd("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]);var xG,bG;const wG=Kv(xG||(xG=Jg(["\nmutation generateReportMutation(\n    $outputFormat: String!, \n    $includeMITREPerTask: Boolean!, \n    $includeMITREOverall: Boolean!, \n    $excludedUsers: String!, \n    $excludedHosts: String!, \n    $excludedIDs: String!, \n    $includeOutput: Boolean!\n){\n    generateReport(\n        outputFormat: $outputFormat, \n        includeMITREPerTask: $includeMITREPerTask, \n        includeMITREOverall: $includeMITREOverall, \n        excludedUsers: $excludedUsers, \n        excludedHosts: $excludedHosts, \n        excludedIDs: $excludedIDs, \n        includeOutput: $includeOutput\n    ){\n        status\n        error\n    }\n}\n"]))),kG=Kv(bG||(bG=Jg(['\nsubscription generatedReportEventSubscription($fromNow: timestamp!){\n    operationeventlog_stream(\n        batch_size: 1, \n        where: {source: {_eq: "generated_report"}}, \n        cursor: {initial_value: {timestamp: $fromNow}}\n    ) {\n        message\n    }\n}\n']))),NG=e=>{let{label:t,description:n,checked:r,onChange:o,disabled:i=!1}=e;return(0,mn.jsx)("div",{className:Wx("p-4 bg-black/30 border border-ghost/20 rounded-lg",i&&"opacity-50"),children:(0,mn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex-1",children:[(0,mn.jsx)("h3",{className:"text-white font-medium",children:t}),(0,mn.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:n})]}),(0,mn.jsx)("button",{onClick:o,disabled:i,className:Wx("relative w-12 h-6 rounded-full transition-colors",r?"bg-signal":"bg-ghost/30",i&&"cursor-not-allowed"),children:(0,mn.jsx)(Md.div,{className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow",animate:{left:r?28:4},transition:{type:"spring",stiffness:500,damping:30}})})]})})},_G=()=>{const e=(0,a.useRef)(tT().toISOString()),[t,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)(null),[i,s]=(0,a.useState)("html"),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(""),[g,v]=(0,a.useState)(""),[y,x]=(0,a.useState)(""),[b]=UT(wG,{onCompleted:e=>{"success"===e.generateReport.status?sT.info("Generating report... This may take a moment."):(sT.error(e.generateReport.error),n(!1))},onError:e=>{sT.error("Failed to generate report: "+e.message),n(!1)}});MT(kG,{variables:{fromNow:e.current},fetchPolicy:"no-cache",onData:e=>{var t,r;let{data:i}=e;if((null===(t=i.data)||void 0===t||null===(r=t.operationeventlog_stream)||void 0===r?void 0:r.length)>0){var s;const e=null===(s=i.data.operationeventlog_stream[0].message.split(":").pop())||void 0===s?void 0:s.trim();e&&(o({id:e,timestamp:new Date}),n(!1),sT.success("Report generated successfully!"))}},onError:()=>{sT.warning("Failed to receive report notifications")}});const w=()=>{null!==r&&void 0!==r&&r.id&&window.open("/api/v1.4/files/download/".concat(r.id),"_blank")};return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 flex flex-col min-w-0 ml-16 h-screen",children:[(0,mn.jsxs)("div",{className:"h-16 border-b border-ghost/30 flex items-center justify-between px-6 bg-void/90 backdrop-blur-sm",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded bg-purple-500/10 border border-purple-500/30 flex items-center justify-center",children:(0,mn.jsx)(vT,{size:20,className:"text-purple-400"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-xl font-bold text-white tracking-wide",children:"REPORTING"}),(0,mn.jsx)("p",{className:"text-xs text-gray-500 font-mono",children:"Generate operation reports"})]})]}),r&&(0,mn.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-matrix/10 hover:bg-matrix/20 border border-matrix/30 text-matrix rounded transition-colors",children:[(0,mn.jsx)(vm,{size:16}),"Download Last Report"]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,mn.jsxs)("div",{className:"max-w-3xl mx-auto space-y-6",children:[(0,mn.jsxs)("div",{className:"p-6 bg-black/30 border border-ghost/20 rounded-lg",children:[(0,mn.jsxs)("h2",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[(0,mn.jsx)(yG,{size:20,className:"text-signal"}),"Output Format"]}),(0,mn.jsxs)("div",{className:"flex gap-4",children:[(0,mn.jsxs)("button",{onClick:()=>s("html"),className:Wx("flex-1 p-4 rounded-lg border-2 transition-all","html"===i?"border-signal bg-signal/10":"border-ghost/30 hover:border-ghost/50"),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mn.jsx)(yG,{size:24,className:"html"===i?"text-signal":"text-gray-400"}),(0,mn.jsx)("span",{className:Wx("font-medium text-lg","html"===i?"text-signal":"text-gray-300"),children:"HTML"})]}),(0,mn.jsx)("p",{className:"text-sm text-gray-500",children:"Human-readable report with formatting"})]}),(0,mn.jsxs)("button",{onClick:()=>s("json"),className:Wx("flex-1 p-4 rounded-lg border-2 transition-all","json"===i?"border-signal bg-signal/10":"border-ghost/30 hover:border-ghost/50"),children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mn.jsx)(JV,{size:24,className:"json"===i?"text-signal":"text-gray-400"}),(0,mn.jsx)("span",{className:Wx("font-medium text-lg","json"===i?"text-signal":"text-gray-300"),children:"JSON"})]}),(0,mn.jsx)("p",{className:"text-sm text-gray-500",children:"Machine-readable structured data"})]})]})]}),(0,mn.jsxs)("div",{className:"p-6 bg-black/30 border border-ghost/20 rounded-lg",children:[(0,mn.jsxs)("h2",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[(0,mn.jsx)(gT,{size:20,className:"text-red-400"}),"MITRE ATT&CK Options"]}),(0,mn.jsxs)("div",{className:"space-y-3",children:[(0,mn.jsx)(NG,{label:"Include MITRE ATT&CK Coverage Per Task",description:"Add ATT&CK technique mappings to each individual task",checked:l,onChange:()=>c(!l)}),(0,mn.jsx)(NG,{label:"Include MITRE ATT&CK Coverage Overview",description:"Add an overall summary of ATT&CK coverage for the operation",checked:d,onChange:()=>u(!d)})]})]}),"json"===i&&(0,mn.jsxs)("div",{className:"p-6 bg-black/30 border border-ghost/20 rounded-lg",children:[(0,mn.jsxs)("h2",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[(0,mn.jsx)(Wd,{size:20,className:"text-signal"}),"Output Options"]}),(0,mn.jsx)(NG,{label:"Include Command Output",description:"Include the full output from each command (can significantly increase file size)",checked:h,onChange:()=>p(!h)})]}),(0,mn.jsxs)("div",{className:"p-6 bg-black/30 border border-ghost/20 rounded-lg",children:[(0,mn.jsxs)("h2",{className:"text-lg font-medium text-white mb-4 flex items-center gap-2",children:[(0,mn.jsx)(LW,{size:20,className:"text-yellow-400"}),"Exclusion Filters"]}),(0,mn.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Exclude callbacks matching these values (comma-separated)"}),(0,mn.jsxs)("div",{className:"space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"text-sm text-gray-400 flex items-center gap-2 mb-2",children:[(0,mn.jsx)(QT,{size:14}),"Exclude Users"]}),(0,mn.jsx)("input",{type:"text",value:f,onChange:e=>m(e.target.value),placeholder:"admin, SYSTEM, ...",className:"w-full h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-600 focus:border-signal/50 focus:outline-none font-mono"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"text-sm text-gray-400 flex items-center gap-2 mb-2",children:[(0,mn.jsx)(mm,{size:14}),"Exclude Hosts"]}),(0,mn.jsx)("input",{type:"text",value:g,onChange:e=>v(e.target.value),placeholder:"DESKTOP-TEST, ...",className:"w-full h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-600 focus:border-signal/50 focus:outline-none font-mono"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"text-sm text-gray-400 flex items-center gap-2 mb-2",children:[(0,mn.jsx)(BF,{size:14}),"Exclude Callback IDs"]}),(0,mn.jsx)("input",{type:"text",value:y,onChange:e=>x(e.target.value),placeholder:"1, 5, 10, ...",className:"w-full h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-600 focus:border-signal/50 focus:outline-none font-mono"})]})]})]}),(0,mn.jsxs)("div",{className:"p-4 bg-signal/5 border border-signal/20 rounded-lg flex items-start gap-3",children:[(0,mn.jsx)(OT,{size:20,className:"text-signal shrink-0 mt-0.5"}),(0,mn.jsxs)("div",{className:"text-sm text-gray-400",children:[(0,mn.jsxs)("p",{children:["Generated reports are also available in the ",(0,mn.jsx)("span",{className:"text-signal",children:"Search"})," page under the ",(0,mn.jsx)("span",{className:"text-signal",children:"Files"})," tab."]}),(0,mn.jsx)("p",{className:"mt-1",children:"Reports include all tasks and metadata from the current operation."})]})]}),(0,mn.jsx)("button",{onClick:()=>{n(!0),b({variables:{outputFormat:i,includeMITREPerTask:l,includeMITREOverall:d,includeOutput:"json"===i&&h,excludedUsers:f,excludedHosts:g,excludedIDs:y}})},disabled:t,className:Wx("w-full h-14 rounded-lg font-medium text-lg transition-all flex items-center justify-center gap-3",t?"bg-ghost/20 text-gray-500 cursor-not-allowed":"bg-signal hover:bg-signal/80 text-void"),children:t?(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(JW,{size:20,className:"animate-spin"}),"Generating Report..."]}):(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(vT,{size:20}),"Generate Report"]})}),r&&(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 bg-matrix/10 border border-matrix/30 rounded-lg flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(NF,{size:20,className:"text-matrix"}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("p",{className:"text-white font-medium",children:"Report Generated Successfully"}),(0,mn.jsx)("p",{className:"text-gray-400 text-sm",children:r.timestamp.toLocaleTimeString()})]})]}),(0,mn.jsxs)("button",{onClick:w,className:"flex items-center gap-2 px-4 py-2 bg-matrix/20 hover:bg-matrix/30 text-matrix rounded transition-colors",children:[(0,mn.jsx)(vm,{size:16}),"Download"]})]})]})})]})]})},SG=zd("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),CG=zd("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);var jG,EG,TG,AG;const MG=Kv(jG||(jG=Jg(["\nquery getOperationTags {\n  tagtype(order_by: {name: asc}) {\n    id\n    color\n    description\n    name\n    tags_aggregate {\n      aggregate {\n        count\n      }\n    }\n  }\n}\n"]))),RG=Kv(EG||(EG=Jg(["\nmutation createTagtype($name: String!, $description: String!, $color: String!) {\n  createTagtype(name: $name, description: $description, color: $color) {\n    status\n    error\n    id\n    name\n    description\n    color\n  }\n}\n"]))),OG=Kv(TG||(TG=Jg(["\nmutation updateTagtype($id: Int!, $name: String!, $description: String!, $color: String!) {\n  updateTagtype(id: $id, name: $name, description: $description, color: $color) {\n    status\n    error\n    id\n    name\n    description\n    color\n  }\n}\n"]))),IG=Kv(AG||(AG=Jg(["\nmutation tagtypeDeleteMutation($id: Int!) {\n  deleteTagtype(id: $id) {\n      status\n      error\n      tagtype_id\n  }\n}\n"]))),LG=["#22d3ee","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#3b82f6","#f97316","#14b8a6","#6366f1"],DG=e=>{let{tagtype:t,onEdit:n,onDelete:r}=e;const[o,i]=(0,a.useState)(!1);return(0,mn.jsxs)(Md.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"p-4 bg-black/30 border border-ghost/20 rounded-lg hover:border-ghost/40 transition-colors",children:[(0,mn.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:"".concat(t.color,"20"),borderColor:"".concat(t.color,"50"),border:"1px solid ".concat(t.color,"50")},children:(0,mn.jsx)(yT,{size:20,style:{color:t.color}})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-white font-medium",children:t.name}),(0,mn.jsx)("p",{className:"text-gray-500 text-sm",children:t.description||"No description"})]})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsxs)("span",{className:"px-2 py-1 rounded text-xs font-mono",style:{backgroundColor:"".concat(t.color,"20"),color:t.color},children:[t.tags_aggregate.aggregate.count," items"]}),(0,mn.jsx)("button",{onClick:n,className:"p-1.5 rounded hover:bg-ghost/20 text-gray-400 hover:text-signal transition-colors",children:(0,mn.jsx)(SG,{size:16})}),(0,mn.jsx)("button",{onClick:()=>i(!0),className:"p-1.5 rounded hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-colors",children:(0,mn.jsx)(_F,{size:16})})]})]}),(0,mn.jsx)(On,{children:o&&(0,mn.jsx)(Md.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-ghost/20",children:(0,mn.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2 text-red-400",children:[(0,mn.jsx)(eH,{size:16}),(0,mn.jsx)("span",{className:"text-sm",children:"Delete this tag type and all associated tags?"})]}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("button",{onClick:()=>i(!1),className:"px-3 py-1.5 text-sm text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,mn.jsx)("button",{onClick:()=>{r(),i(!1)},className:"px-3 py-1.5 text-sm bg-red-500/20 text-red-400 hover:bg-red-500/30 rounded transition-colors",children:"Delete"})]})]})})})]})},PG=e=>{let{tagtype:t,isOpen:n,onClose:r,onSave:o}=e;const[i,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(LG[0]);(0,a.useEffect)((()=>{t?(s(t.name),c(t.description),u(t.color)):(s(""),c(""),u(LG[0]))}),[t,n]);return n?(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:r,children:(0,mn.jsxs)(Md.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-void border border-ghost/30 rounded-lg w-full max-w-md",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"p-6 border-b border-ghost/30 flex items-center justify-between",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal",children:t?"Edit Tag Type":"Create Tag Type"}),(0,mn.jsx)("button",{onClick:r,className:"p-1 hover:bg-ghost/20 rounded transition-colors",children:(0,mn.jsx)(nA,{size:20,className:"text-gray-400"})})]}),(0,mn.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i.trim()?o({name:i.trim(),description:l.trim(),color:d}):sT.warning("Name is required")},className:"p-6 space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"text-sm text-gray-400 flex items-center gap-2 mb-2",children:[(0,mn.jsx)(BF,{size:14}),"Name"]}),(0,mn.jsx)("input",{type:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Tag type name",className:"w-full h-10 px-3 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-600 focus:border-signal/50 focus:outline-none"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"text-sm text-gray-400 flex items-center gap-2 mb-2",children:[(0,mn.jsx)(vT,{size:14}),"Description"]}),(0,mn.jsx)("textarea",{value:l,onChange:e=>c(e.target.value),placeholder:"Optional description",rows:3,className:"w-full px-3 py-2 bg-black/50 border border-ghost/30 rounded text-white placeholder-gray-600 focus:border-signal/50 focus:outline-none resize-none"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("label",{className:"text-sm text-gray-400 flex items-center gap-2 mb-2",children:[(0,mn.jsx)(CG,{size:14}),"Color"]}),(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)("div",{className:"flex flex-wrap gap-2",children:LG.map((e=>(0,mn.jsx)("button",{type:"button",onClick:()=>u(e),className:Wx("w-8 h-8 rounded-lg transition-transform",d===e&&"ring-2 ring-white ring-offset-2 ring-offset-void scale-110"),style:{backgroundColor:e}},e)))}),(0,mn.jsx)("input",{type:"color",value:d,onChange:e=>u(e.target.value),className:"w-10 h-10 rounded cursor-pointer"})]})]}),(0,mn.jsxs)("div",{className:"pt-4 border-t border-ghost/20",children:[(0,mn.jsx)("label",{className:"text-sm text-gray-500 mb-2 block",children:"Preview"}),(0,mn.jsx)("div",{className:"flex items-center gap-3",children:(0,mn.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded text-sm",style:{backgroundColor:"".concat(d,"20"),borderColor:"".concat(d,"50"),color:d,border:"1px solid ".concat(d,"50")},children:[(0,mn.jsx)(yT,{size:14}),i||"Tag Name"]})})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 pt-4",children:[(0,mn.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel"}),(0,mn.jsxs)("button",{type:"submit",className:"flex items-center gap-2 px-4 py-2 bg-signal hover:bg-signal/80 text-void font-medium rounded transition-colors",children:[(0,mn.jsx)(xB,{size:16}),t?"Update":"Create"]})]})]})]})}):null},$G=()=>{const[e,t]=(0,a.useState)([]),[n,r]=(0,a.useState)(!0),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(null),d=(0,a.useRef)(!0);Jf(MG,{fetchPolicy:"no-cache",onCompleted:e=>{d.current&&(t(e.tagtype),r(!1))},onError:()=>{sT.error("Failed to load tag types"),r(!1)}});const[u]=UT(RG,{onCompleted:n=>{if("success"===n.createTagtype.status){const r={id:n.createTagtype.id,name:n.createTagtype.name,description:n.createTagtype.description,color:n.createTagtype.color,tags_aggregate:{aggregate:{count:0}}};t([...e,r]),sT.success("Tag type created"),i(!1)}else sT.error(n.createTagtype.error)},onError:()=>{sT.error("Failed to create tag type")}}),[h]=UT(OG,{onCompleted:n=>{"success"===n.updateTagtype.status?(t(e.map((e=>e.id===n.updateTagtype.id?s(s({},e),{},{name:n.updateTagtype.name,description:n.updateTagtype.description,color:n.updateTagtype.color}):e))),sT.success("Tag type updated"),i(!1),c(null)):sT.error(n.updateTagtype.error)},onError:()=>{sT.error("Failed to update tag type")}}),[p]=UT(IG,{onCompleted:n=>{"success"===n.deleteTagtype.status?(t(e.filter((e=>e.id!==n.deleteTagtype.tagtype_id))),sT.success("Tag type deleted")):sT.error(n.deleteTagtype.error)},onError:()=>{sT.error("Failed to delete tag type")}});(0,a.useEffect)((()=>()=>{d.current=!1}),[]);const f=()=>{c(null),i(!0)};return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"flex-1 flex flex-col min-w-0 ml-16 h-screen",children:[(0,mn.jsxs)("div",{className:"h-16 border-b border-ghost/30 flex items-center justify-between px-6 bg-void/90 backdrop-blur-sm",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded bg-signal/10 border border-signal/30 flex items-center justify-center",children:(0,mn.jsx)(yT,{size:20,className:"text-signal"})}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h1",{className:"text-xl font-bold text-white tracking-wide",children:"TAGS"}),(0,mn.jsxs)("p",{className:"text-xs text-gray-500 font-mono",children:[e.length," tag types"]})]})]}),(0,mn.jsxs)("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-signal hover:bg-signal/80 text-void font-medium rounded transition-colors",children:[(0,mn.jsx)(Tz,{size:16}),"New Tag Type"]})]}),(0,mn.jsx)("div",{className:"flex-1 overflow-auto p-6",children:n?(0,mn.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mn.jsx)(JW,{size:32,className:"text-signal animate-spin"})}):0===e.length?(0,mn.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[(0,mn.jsx)(yT,{size:48,className:"mb-4"}),(0,mn.jsx)("p",{className:"text-lg",children:"No tag types found"}),(0,mn.jsxs)("button",{onClick:f,className:"mt-4 flex items-center gap-2 px-4 py-2 bg-signal/10 hover:bg-signal/20 border border-signal/30 text-signal rounded transition-colors",children:[(0,mn.jsx)(Tz,{size:16}),"Create your first tag type"]})]}):(0,mn.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 max-w-4xl",children:(0,mn.jsx)(On,{children:e.map((e=>(0,mn.jsx)(DG,{tagtype:e,onEdit:()=>(e=>{c(e),i(!0)})(e),onDelete:()=>p({variables:{id:e.id}})},e.id)))})})})]}),(0,mn.jsx)(On,{children:o&&(0,mn.jsx)(PG,{tagtype:l,isOpen:o,onClose:()=>{i(!1),c(null)},onSave:e=>{l?h({variables:s({id:l.id},e)}):u({variables:e})}})})]})},zG=zd("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]]),FG=zd("pause",[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]]);var BG,VG,WG,HG,UG,GG;const qG=Kv(BG||(BG=Jg(["\nsubscription SubscribeBrowserScripts($operator_id: Int!) {\n  browserscript(where: {operator_id: {_eq: $operator_id}, for_new_ui: {_eq: true}}, order_by: {payloadtype: {name: asc}}) {\n    active\n    author\n    user_modified\n    script\n    payloadtype {\n      name\n      id\n    }\n    id\n    creation_time\n    container_version_author\n    container_version\n    command {\n      cmd\n      id\n    }\n  }\n}\n"]))),KG=Kv(VG||(VG=Jg(["\nquery GetPayloadTypes {\n    payloadtype(where: {deleted: {_eq: false}}) {\n        id\n        name\n        commands {\n            id\n            cmd\n        }\n    }\n}\n"]))),YG=Kv(WG||(WG=Jg(["\nmutation updateBrowserScriptActive($browserscript_id: Int!, $active: Boolean!) {\n  update_browserscript_by_pk(pk_columns: {id: $browserscript_id}, _set: {active: $active}) {\n    id\n  }\n}\n"]))),QG=Kv(HG||(HG=Jg(["\nmutation updateBrowserScriptScript($browserscript_id: Int!, $script: String!, $command_id: Int!, $payload_type_id: Int!) {\n  update_browserscript_by_pk(pk_columns: {id: $browserscript_id}, _set: {script: $script, user_modified: true, command_id: $command_id, payload_type_id: $payload_type_id}) {\n    id\n  }\n}\n"]))),XG=Kv(UG||(UG=Jg(["\nmutation updateBrowserScriptRevert($browserscript_id: Int!, $script: String!) {\n  update_browserscript_by_pk(pk_columns: {id: $browserscript_id}, _set: {script: $script, user_modified: false}) {\n    id\n  }\n}\n"]))),ZG=Kv(GG||(GG=Jg(["\nmutation insertNewBrowserScript($script: String!, $payload_type_id: Int!, $command_id: Int!, $author: String!){\n  insert_browserscript_one(object: {script: $script, payload_type_id: $payload_type_id, command_id: $command_id, author: $author}){\n    id\n  }\n}\n"]))),JG=e=>{var t,n;let{isOpen:r,onClose:o,script:i,payloadTypes:s,onSubmit:l,mode:c,username:d}=e;const[u,h]=(0,a.useState)((null===i||void 0===i?void 0:i.script)||"// Custom browser script\nfunction(task, responses){\n  return JSON.stringify(responses, null, 2);\n}"),[p,f]=(0,a.useState)((null===i||void 0===i||null===(t=i.payloadtype)||void 0===t?void 0:t.id)||0),[m,g]=(0,a.useState)((null===i||void 0===i||null===(n=i.command)||void 0===n?void 0:n.id)||0),v=(0,a.useMemo)((()=>{const e=s.find((e=>e.id===p));return(null===e||void 0===e?void 0:e.commands)||[]}),[p,s]);a.useEffect((()=>{var e;i?(h(i.script),f(i.payloadtype.id),g(i.command.id)):(h("// Custom browser script\nfunction(task, responses){\n  return JSON.stringify(responses, null, 2);\n}"),f((null===(e=s[0])||void 0===e?void 0:e.id)||0),g(0))}),[i,s]);return r?(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",onClick:o,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-ghost/30 rounded-lg w-[90vw] max-w-6xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-ghost/30",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal",children:"edit"===c?"EDIT BROWSER SCRIPT":"CREATE BROWSER SCRIPT"}),(0,mn.jsx)("button",{onClick:o,className:"text-ghost hover:text-signal",children:(0,mn.jsx)(nA,{size:24})})]}),(0,mn.jsxs)("div",{className:"p-4 space-y-4",children:[(0,mn.jsxs)("div",{className:"flex gap-4",children:[(0,mn.jsxs)("div",{className:"flex-1",children:[(0,mn.jsx)("label",{className:"block text-sm text-ghost mb-2",children:"Payload Type"}),(0,mn.jsxs)("select",{value:p,onChange:e=>{f(Number(e.target.value)),g(0)},className:"w-full bg-void border border-ghost/30 rounded px-3 py-2 text-signal focus:border-signal outline-none",children:[(0,mn.jsx)("option",{value:0,children:"Select Payload Type"}),s.map((e=>(0,mn.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,mn.jsxs)("div",{className:"flex-1",children:[(0,mn.jsx)("label",{className:"block text-sm text-ghost mb-2",children:"Command"}),(0,mn.jsxs)("select",{value:m,onChange:e=>g(Number(e.target.value)),className:"w-full bg-void border border-ghost/30 rounded px-3 py-2 text-signal focus:border-signal outline-none",children:[(0,mn.jsx)("option",{value:0,children:"Select Command"}),v.map((e=>(0,mn.jsx)("option",{value:e.id,children:e.cmd},e.id)))]})]})]}),(0,mn.jsx)("div",{className:"border border-ghost/30 rounded overflow-hidden",children:(0,mn.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full h-[400px] bg-black/50 text-signal font-mono text-sm p-4 resize-none focus:outline-none",placeholder:"// Enter your browser script here...",spellCheck:!1})})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 p-4 border-t border-ghost/30",children:[(0,mn.jsx)("button",{onClick:o,className:"px-4 py-2 border border-ghost/30 rounded text-ghost hover:text-signal hover:border-signal transition-colors",children:"Cancel"}),(0,mn.jsxs)("button",{onClick:()=>{p&&m&&(l({script:u,command_id:m,payload_type_id:p}),o())},disabled:!p||!m,className:"px-4 py-2 bg-signal text-void rounded hover:bg-signal/80 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[(0,mn.jsx)(tV,{size:16}),"edit"===c?"Save Changes":"Create Script"]})]})]})}):null},eq=e=>{let{script:t,onToggleActive:n,onEdit:r,onRevert:o}=e;const[i,s]=(0,a.useState)(!1),[l,c]=(0,a.useState)(!1);return(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-ghost/30 rounded-lg overflow-hidden mb-2",children:[(0,mn.jsxs)("div",{className:Wx("flex items-center gap-4 p-3 cursor-pointer transition-colors",t.active?"bg-void":"bg-void/50 opacity-60"),onClick:()=>s(!i),children:[(0,mn.jsx)("button",{className:"text-ghost hover:text-signal",children:i?(0,mn.jsx)(Qz,{size:20}):(0,mn.jsx)(wT,{size:20})}),(0,mn.jsx)("div",{className:"w-32",children:(0,mn.jsx)("span",{className:"px-2 py-1 bg-signal/20 text-signal rounded text-xs font-mono",children:t.payloadtype.name})}),(0,mn.jsx)("div",{className:"flex-1",children:(0,mn.jsx)("span",{className:"text-signal font-mono",children:t.command.cmd})}),(0,mn.jsx)("div",{className:"w-32 text-ghost text-sm",children:t.author}),t.user_modified&&(0,mn.jsx)("span",{className:"px-2 py-1 bg-matrix/20 text-matrix rounded text-xs",children:"Modified"}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",onClick:e=>e.stopPropagation(),children:[(0,mn.jsx)("button",{onClick:()=>n(t.id,!t.active),className:Wx("p-1.5 rounded transition-colors",t.active?"text-matrix hover:bg-matrix/20":"text-ghost hover:bg-ghost/20"),title:t.active?"Deactivate":"Activate",children:t.active?(0,mn.jsx)(zG,{size:16}):(0,mn.jsx)(FG,{size:16})}),(0,mn.jsx)("button",{onClick:()=>r(t),className:"p-1.5 text-ghost hover:text-signal hover:bg-signal/20 rounded transition-colors",title:"Edit Script",children:(0,mn.jsx)(JT,{size:16})}),t.user_modified&&(0,mn.jsx)("button",{onClick:()=>o(t.id,t.container_version),className:"p-1.5 text-ghost hover:text-alert hover:bg-alert/20 rounded transition-colors",title:"Revert to Original",children:(0,mn.jsx)(sH,{size:16})})]})]}),(0,mn.jsx)(On,{children:i&&(0,mn.jsx)(Md.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-ghost/30 bg-black/30",children:(0,mn.jsxs)("div",{className:"p-4",children:[(0,mn.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,mn.jsx)("span",{className:"text-xs text-ghost",children:"Script Code"}),(0,mn.jsxs)("button",{onClick:async()=>{await navigator.clipboard.writeText(t.script),c(!0),setTimeout((()=>c(!1)),2e3)},className:"flex items-center gap-1 text-xs text-ghost hover:text-signal",children:[l?(0,mn.jsx)(tV,{size:14}):(0,mn.jsx)(rF,{size:14}),l?"Copied!":"Copy"]})]}),(0,mn.jsx)("pre",{className:"bg-void p-3 rounded border border-ghost/30 overflow-x-auto text-sm font-mono text-signal max-h-64 overflow-y-auto",children:t.script}),(0,mn.jsxs)("div",{className:"flex gap-4 mt-3 text-xs text-ghost",children:[(0,mn.jsxs)("span",{children:["Container Version: ",t.container_version||"N/A"]}),(0,mn.jsxs)("span",{children:["Container Author: ",t.container_version_author||"N/A"]})]})]})})})]})};function tq(){var e,t;const{isSidebarCollapsed:n}=Zg(),r=Mu(aT),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)([]),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1),[v,y]=(0,a.useState)(),[x,b]=(0,a.useState)("create"),[w,k]=(0,a.useState)(!0);Jf(KG,{onCompleted:e=>{l(e.payloadtype)}}),MT(qG,{variables:{operator_id:(null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.id)||0},fetchPolicy:"no-cache",onData:e=>{var t;let{data:n}=e;if(null!==n&&void 0!==n&&null!==(t=n.data)&&void 0!==t&&t.browserscript){const e=[...n.data.browserscript].sort(((e,t)=>e.payloadtype.name===t.payloadtype.name?e.command.cmd.localeCompare(t.command.cmd):e.payloadtype.name.localeCompare(t.payloadtype.name)));i(e),k(!1)}}});const[N]=UT(YG,{onCompleted:()=>sT.success("Script status updated"),onError:e=>sT.error("Failed to update script: "+e.message)}),[_]=UT(QG,{onCompleted:()=>sT.success("Script updated"),onError:e=>sT.error("Failed to update script: "+e.message)}),[S]=UT(XG,{onCompleted:()=>sT.success("Script reverted"),onError:e=>sT.error("Failed to revert script: "+e.message)}),[C]=UT(ZG,{onCompleted:()=>sT.success("Script created"),onError:e=>sT.error("Failed to create script: "+e.message)}),j=(0,a.useMemo)((()=>o.filter((e=>{if(p&&!e.active)return!1;if(u&&e.payloadtype.name!==u)return!1;if(c){const t=c.toLowerCase();return e.command.cmd.toLowerCase().includes(t)||e.payloadtype.name.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)}return!0}))),[o,c,u,p]),E=(0,a.useMemo)((()=>{const e={};return j.forEach((t=>{const n=t.payloadtype.name;e[n]||(e[n]=[]),e[n].push(t)})),e}),[j]),T=(e,t)=>{N({variables:{browserscript_id:e,active:t}})},A=e=>{y(e),b("edit"),g(!0)},M=(e,t)=>{S({variables:{browserscript_id:e,script:t}})},R=(0,a.useMemo)((()=>[...new Set(o.map((e=>e.payloadtype.name)))]),[o]);return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal font-sans selection:bg-signal selection:text-void",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:Wx("transition-all duration-300 p-6",n?"ml-16":"ml-64"),children:[(0,mn.jsxs)("div",{className:"mb-8",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mn.jsx)(xT,{className:"text-signal",size:32}),(0,mn.jsx)("h1",{className:"text-3xl font-bold tracking-wider",children:"BROWSER_SCRIPTS"})]}),(0,mn.jsx)("p",{className:"text-ghost",children:"Manage browser scripts for transforming task output in the UI"})]}),(0,mn.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,mn.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,mn.jsx)(mT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-ghost",size:18}),(0,mn.jsx)("input",{type:"text",placeholder:"Search scripts...",value:c,onChange:e=>d(e.target.value),className:"w-full bg-void border border-ghost/30 rounded-lg pl-10 pr-4 py-2 text-signal placeholder:text-ghost/50 focus:border-signal outline-none"})]}),(0,mn.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"bg-void border border-ghost/30 rounded-lg px-4 py-2 text-signal focus:border-signal outline-none min-w-[150px]",children:[(0,mn.jsx)("option",{value:"",children:"All Payload Types"}),R.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))]}),(0,mn.jsxs)("button",{onClick:()=>f(!p),className:Wx("px-4 py-2 border rounded-lg transition-colors flex items-center gap-2",p?"border-matrix text-matrix bg-matrix/20":"border-ghost/30 text-ghost hover:text-signal hover:border-signal"),children:[p?(0,mn.jsx)(zG,{size:16}):(0,mn.jsx)(eH,{size:16}),p?"Active Only":"Show All"]}),(0,mn.jsxs)("button",{onClick:()=>{y(void 0),b("create"),g(!0)},className:"px-4 py-2 bg-signal text-void rounded-lg hover:bg-signal/80 transition-colors flex items-center gap-2",children:[(0,mn.jsx)(Tz,{size:18}),"New Script"]})]}),w&&(0,mn.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,mn.jsx)(cH,{className:"animate-spin text-signal",size:32}),(0,mn.jsx)("span",{className:"ml-3 text-ghost",children:"Loading scripts..."})]}),!w&&(0,mn.jsxs)("div",{className:"space-y-6",children:[Object.entries(E).map((e=>{let[t,n]=e;return(0,mn.jsxs)("div",{children:[(0,mn.jsxs)("h2",{className:"text-lg font-bold text-matrix mb-3 flex items-center gap-2",children:[(0,mn.jsx)(xT,{size:18}),t,(0,mn.jsxs)("span",{className:"text-ghost font-normal text-sm",children:["(",n.length," scripts)"]})]}),n.map((e=>(0,mn.jsx)(eq,{script:e,onToggleActive:T,onEdit:A,onRevert:M},e.id)))]},t)})),0===Object.keys(E).length&&(0,mn.jsxs)("div",{className:"text-center py-20 text-ghost",children:[(0,mn.jsx)(xT,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,mn.jsx)("p",{children:"No browser scripts found"})]})]}),(0,mn.jsxs)("div",{className:"mt-8 pt-4 border-t border-ghost/30 flex gap-6 text-sm text-ghost",children:[(0,mn.jsxs)("span",{children:["Total: ",o.length]}),(0,mn.jsxs)("span",{children:["Active: ",o.filter((e=>e.active)).length]}),(0,mn.jsxs)("span",{children:["Modified: ",o.filter((e=>e.user_modified)).length]})]})]}),(0,mn.jsx)(On,{children:m&&(0,mn.jsx)(JG,{isOpen:m,onClose:()=>g(!1),script:v,payloadTypes:s,onSubmit:e=>{var t;"edit"===x&&v?_({variables:{browserscript_id:v.id,script:e.script,command_id:e.command_id,payload_type_id:e.payload_type_id}}):C({variables:{author:(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.username)||"",script:e.script,payload_type_id:e.payload_type_id,command_id:e.command_id}})},mode:x,username:(null===r||void 0===r||null===(t=r.user)||void 0===t?void 0:t.username)||""})})]})}var nq,rq,oq,iq,sq,aq,lq;const cq=Kv(nq||(nq=Jg(["\nquery GetEventGroups {\n  eventgroup(limit: 50, order_by: {id: desc}) {\n    id\n    operator {\n        username\n    }\n    filemetum {\n        agent_file_id\n        id\n        filename_text\n    }\n    filemeta(where: {deleted: {_eq: false}}) {\n        agent_file_id\n        id\n        filename_text\n        deleted\n    }\n    name\n    description\n    trigger\n    trigger_data\n    next_scheduled_run\n    keywords\n    environment\n    active\n    deleted\n    created_at\n    run_as\n    approved_to_run\n    eventgroupapprovals(order_by: {id: asc}) {\n      id\n      operator {\n        id\n        username\n      }\n      approved\n      created_at\n      updated_at\n    }\n    eventgroupconsumingcontainers {\n        id\n        consuming_container_name\n        all_functions_available\n        function_names\n        consuming_container {\n            container_running\n            subscriptions\n        }\n    }\n  }\n}\n"]))),dq=Kv(rq||(rq=Jg(['\nsubscription GetEventGroups {\n  eventgroup_stream(cursor: {initial_value: {updated_at: "1970-01-01"}, ordering: ASC}, batch_size: 50, where: {}) {\n    id\n    operator {\n        username\n    }\n    filemetum {\n        agent_file_id\n        id\n        filename_text\n    }\n    filemeta(where: {deleted: {_eq: false}}) {\n        agent_file_id\n        id\n        filename_text\n        deleted\n    }\n    name\n    description\n    trigger\n    trigger_data\n    next_scheduled_run\n    keywords\n    environment\n    active\n    deleted\n    created_at\n    run_as\n    approved_to_run\n    eventgroupapprovals(order_by: {id: asc}) {\n      id\n      operator {\n        id\n        username\n      }\n      approved\n      created_at\n      updated_at\n    }\n    eventgroupconsumingcontainers {\n        id\n        consuming_container_name\n        all_functions_available\n        function_names\n        consuming_container {\n            container_running\n            subscriptions\n        }\n    }\n  }\n}\n']))),uq=Kv(oq||(oq=Jg(["\nmutation ToggleEventGroupActive($id: Int!, $active: Boolean!) {\n    update_eventgroup_by_pk(pk_columns: {id: $id}, _set: {active: $active}) {\n        id\n        active\n    }\n}\n"]))),hq=Kv(iq||(iq=Jg(["\nmutation DeleteEventGroup($id: Int!) {\n    update_eventgroup_by_pk(pk_columns: {id: $id}, _set: {deleted: true}) {\n        id\n    }\n}\n"]))),pq=(Kv(sq||(sq=Jg(["\nmutation RestoreEventGroup($id: Int!) {\n    update_eventgroup_by_pk(pk_columns: {id: $id}, _set: {deleted: false}) {\n        id\n    }\n}\n"]))),Kv(aq||(aq=Jg(["\nmutation CreateEventGroupFromFile($file: String!, $filename: String!) {\n    uploadEventFile(file: $file, filename: $filename) {\n        status\n        error\n        file_id\n    }\n}\n"])))),fq=Kv(lq||(lq=Jg(["\nmutation ApproveEventGroup($eventgroup_id: Int!, $approved: Boolean!) {\n    approveEventGroup(eventgroup_id: $eventgroup_id, approved: $approved) {\n        status\n        error\n    }\n}\n"]))),mq=e=>{switch(e){case"callback_new":return"text-matrix bg-matrix/20";case"task_new":return"text-signal bg-signal/20";case"scheduled":return"text-amber-400 bg-amber-400/20";case"manual":return"text-purple-400 bg-purple-400/20";case"file_new":return"text-cyan-400 bg-cyan-400/20";case"response_new":return"text-pink-400 bg-pink-400/20";default:return"text-ghost bg-ghost/20"}},gq=e=>{let{isOpen:t,onClose:n,onCreate:r}=e;const[o,i]=(0,a.useState)('name: "New Eventing Workflow"\ndescription: "automatically do something based on a new callback"\ntrigger: callback_new\ntrigger_data:\n  payload_types:\n    - apollo\nkeywords:\n  - apollo_callback\nenvironment:\nsteps:\n  - name: "run command 1"\n    inputs:\n      CALLBACK_ID: env.display_id\n    action: task_create\n    action_data:\n      callback_display_id: CALLBACK_ID\n      params: string params here\n      command_name: shell\n  - name: "run command 2"\n    description: "do something specific for the second command"\n    inputs:\n      CALLBACK_ID: env.display_id\n    action: task_create\n    action_data:\n      callback_display_id: CALLBACK_ID\n      params_dictionary:\n        filename: a named parameter here\n        code: another named parameter \n      command_name: command_with_named_params\n    depends_on:\n      - run command 1\n    outputs:\n      SCRIPT_TASK_ID: id\n'),[s,l]=(0,a.useState)("workflow.yaml");return t?(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",onClick:n,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-ghost/30 rounded-lg w-[90vw] max-w-5xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-ghost/30",children:[(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal",children:"CREATE EVENTING WORKFLOW"}),(0,mn.jsx)("button",{onClick:n,className:"text-ghost hover:text-signal",children:(0,mn.jsx)(nA,{size:24})})]}),(0,mn.jsxs)("div",{className:"p-4 space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-sm text-ghost mb-2",children:"Workflow Filename"}),(0,mn.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),className:"w-full bg-void border border-ghost/30 rounded px-3 py-2 text-signal focus:border-signal outline-none",placeholder:"workflow.yaml"})]}),(0,mn.jsxs)("div",{children:[(0,mn.jsx)("label",{className:"block text-sm text-ghost mb-2",children:"Workflow Definition (YAML)"}),(0,mn.jsx)("div",{className:"border border-ghost/30 rounded overflow-hidden",children:(0,mn.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),className:"w-full h-[400px] bg-black/50 text-signal font-mono text-sm p-4 resize-none focus:outline-none",placeholder:"# Enter your workflow YAML here...",spellCheck:!1})})]})]}),(0,mn.jsxs)("div",{className:"flex justify-end gap-3 p-4 border-t border-ghost/30",children:[(0,mn.jsx)("button",{onClick:n,className:"px-4 py-2 border border-ghost/30 rounded text-ghost hover:text-signal hover:border-signal transition-colors",children:"Cancel"}),(0,mn.jsxs)("button",{onClick:()=>{r(o,s),n()},className:"px-4 py-2 bg-signal text-void rounded hover:bg-signal/80 transition-colors flex items-center gap-2",children:[(0,mn.jsx)(tV,{size:16}),"Create Workflow"]})]})]})}):null},vq=e=>{var t;let{isOpen:n,onClose:r,eventGroup:o,onToggleActive:i,onApprove:s,onDelete:a}=e;return n&&o?(0,mn.jsx)(Md.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",onClick:r,children:(0,mn.jsxs)(Md.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-void border border-ghost/30 rounded-lg w-[90vw] max-w-4xl max-h-[90vh] overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,mn.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-ghost/30",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mn.jsx)(bT,{className:"text-signal",size:24}),(0,mn.jsx)("h2",{className:"text-xl font-bold text-signal",children:o.name}),(0,mn.jsx)("span",{className:Wx("px-2 py-0.5 rounded text-xs font-mono",mq(o.trigger)),children:o.trigger})]}),(0,mn.jsx)("button",{onClick:r,className:"text-ghost hover:text-signal",children:(0,mn.jsx)(nA,{size:24})})]}),(0,mn.jsxs)("div",{className:"p-4 overflow-y-auto max-h-[60vh] space-y-4",children:[(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm text-ghost mb-1",children:"Description"}),(0,mn.jsx)("p",{className:"text-signal",children:o.description||"No description"})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,mn.jsxs)("div",{className:"bg-black/30 p-3 rounded border border-ghost/20",children:[(0,mn.jsx)("h4",{className:"text-xs text-ghost",children:"Status"}),(0,mn.jsx)("p",{className:Wx("font-bold",o.active?"text-matrix":"text-alert"),children:o.active?"Active":"Inactive"})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-3 rounded border border-ghost/20",children:[(0,mn.jsx)("h4",{className:"text-xs text-ghost",children:"Approved"}),(0,mn.jsx)("p",{className:Wx("font-bold",o.approved_to_run?"text-matrix":"text-alert"),children:o.approved_to_run?"Yes":"No"})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-3 rounded border border-ghost/20",children:[(0,mn.jsx)("h4",{className:"text-xs text-ghost",children:"Created By"}),(0,mn.jsx)("p",{className:"text-signal font-mono",children:(null===(t=o.operator)||void 0===t?void 0:t.username)||"Unknown"})]}),(0,mn.jsxs)("div",{className:"bg-black/30 p-3 rounded border border-ghost/20",children:[(0,mn.jsx)("h4",{className:"text-xs text-ghost",children:"Run As"}),(0,mn.jsx)("p",{className:"text-signal font-mono",children:o.run_as||"Default"})]})]}),o.keywords&&o.keywords.length>0&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm text-ghost mb-2",children:"Keywords"}),(0,mn.jsx)("div",{className:"flex flex-wrap gap-2",children:o.keywords.map(((e,t)=>(0,mn.jsx)("span",{className:"px-2 py-1 bg-signal/20 text-signal rounded text-xs font-mono",children:e},t)))})]}),o.next_scheduled_run&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm text-ghost mb-1",children:"Next Scheduled Run"}),(0,mn.jsxs)("p",{className:"text-signal flex items-center gap-2",children:[(0,mn.jsx)(km,{size:16}),new Date(o.next_scheduled_run).toLocaleString()]})]}),o.eventgroupconsumingcontainers&&o.eventgroupconsumingcontainers.length>0&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm text-ghost mb-2",children:"Consuming Containers"}),(0,mn.jsx)("div",{className:"space-y-2",children:o.eventgroupconsumingcontainers.map((e=>{var t;return(0,mn.jsxs)("div",{className:"bg-black/30 p-2 rounded border border-ghost/20 flex items-center justify-between",children:[(0,mn.jsx)("span",{className:"text-signal font-mono",children:e.consuming_container_name}),(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)("span",{className:Wx("w-2 h-2 rounded-full",null!==(t=e.consuming_container)&&void 0!==t&&t.container_running?"bg-matrix":"bg-alert")}),(0,mn.jsx)("span",{className:Wx("text-xs",e.all_functions_available?"text-matrix":"text-alert"),children:e.all_functions_available?"All Functions Available":"Missing Functions"})]})]},e.id)}))})]}),o.eventgroupapprovals&&o.eventgroupapprovals.length>0&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm text-ghost mb-2",children:"Approvals"}),(0,mn.jsx)("div",{className:"space-y-2",children:o.eventgroupapprovals.map((e=>{var t;return(0,mn.jsxs)("div",{className:"bg-black/30 p-2 rounded border border-ghost/20 flex items-center justify-between",children:[(0,mn.jsx)("span",{className:"text-signal",children:null===(t=e.operator)||void 0===t?void 0:t.username}),(0,mn.jsx)("span",{className:Wx("px-2 py-0.5 rounded text-xs",e.approved?"bg-matrix/20 text-matrix":"bg-alert/20 text-alert"),children:e.approved?"Approved":"Pending"})]},e.id)}))})]}),o.trigger_data&&(0,mn.jsxs)("div",{children:[(0,mn.jsx)("h3",{className:"text-sm text-ghost mb-2",children:"Trigger Data"}),(0,mn.jsx)("pre",{className:"bg-black/30 p-3 rounded border border-ghost/20 text-xs font-mono text-signal overflow-x-auto",children:JSON.stringify(o.trigger_data,null,2)})]})]}),(0,mn.jsxs)("div",{className:"flex justify-between gap-3 p-4 border-t border-ghost/30",children:[(0,mn.jsxs)("div",{className:"flex gap-2",children:[!o.approved_to_run&&(0,mn.jsxs)("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-matrix text-void rounded hover:bg-matrix/80 transition-colors flex items-center gap-2",children:[(0,mn.jsx)(tV,{size:16}),"Approve"]}),(0,mn.jsxs)("button",{onClick:a,className:"px-4 py-2 bg-alert text-void rounded hover:bg-alert/80 transition-colors flex items-center gap-2",children:[(0,mn.jsx)(_F,{size:16}),"Delete"]})]}),(0,mn.jsxs)("div",{className:"flex gap-2",children:[(0,mn.jsxs)("button",{onClick:i,className:Wx("px-4 py-2 rounded transition-colors flex items-center gap-2",o.active?"bg-alert/20 text-alert hover:bg-alert/30":"bg-matrix/20 text-matrix hover:bg-matrix/30"),children:[o.active?(0,mn.jsx)(FG,{size:16}):(0,mn.jsx)(zG,{size:16}),o.active?"Deactivate":"Activate"]}),(0,mn.jsx)("button",{onClick:r,className:"px-4 py-2 border border-ghost/30 rounded text-ghost hover:text-signal hover:border-signal transition-colors",children:"Close"})]})]})]})}):null},yq=e=>{var t;let{eventGroup:n,onClick:r}=e;return(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:1.02},onClick:r,className:Wx("p-4 border rounded-lg cursor-pointer transition-all",n.deleted?"border-alert/30 bg-alert/5 opacity-60":n.active?"border-ghost/30 bg-void hover:border-signal":"border-ghost/20 bg-void/50 opacity-70 hover:border-ghost/50"),children:[(0,mn.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(bT,{className:n.active?"text-signal":"text-ghost",size:18}),(0,mn.jsx)("h3",{className:"font-bold text-signal",children:n.name})]}),(0,mn.jsx)("span",{className:Wx("px-2 py-0.5 rounded text-xs font-mono",mq(n.trigger)),children:n.trigger})]}),(0,mn.jsx)("p",{className:"text-ghost text-sm mb-3 line-clamp-2",children:n.description||"No description"}),(0,mn.jsxs)("div",{className:"flex items-center justify-between text-xs text-ghost",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mn.jsx)(wm,{size:14}),(null===(t=n.operator)||void 0===t?void 0:t.username)||"Unknown"]}),(0,mn.jsx)("div",{className:"flex items-center gap-2",children:n.approved_to_run?(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-matrix",children:[(0,mn.jsx)(tV,{size:14}),"Approved"]}):(0,mn.jsxs)("span",{className:"flex items-center gap-1 text-alert",children:[(0,mn.jsx)(eH,{size:14}),"Pending"]})})]}),n.keywords&&n.keywords.length>0&&(0,mn.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[n.keywords.slice(0,3).map(((e,t)=>(0,mn.jsx)("span",{className:"px-1.5 py-0.5 bg-signal/10 text-signal/70 rounded text-xs",children:e},t))),n.keywords.length>3&&(0,mn.jsxs)("span",{className:"text-ghost text-xs",children:["+",n.keywords.length-3," more"]})]})]})};function xq(){const{isSidebarCollapsed:e}=Zg(),[t,n]=(0,a.useState)([]),[r,o]=(0,a.useState)(""),[i,s]=(0,a.useState)(""),[l,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),[f,m]=(0,a.useState)(!1),[g,v]=(0,a.useState)(!0);Jf(cq,{fetchPolicy:"no-cache",onCompleted:e=>{const t=e.eventgroup.reduce(((e,t)=>{const n=e.findIndex((e=>e.id===t.id));if(n>-1){const r=[...e];return r[n]=t,r}return[...e,t]}),[]);t.sort(((e,t)=>t.id-e.id)),n(t),v(!1)},onError:e=>{console.error(e),sT.error("Failed to load event groups"),v(!1)}}),MT(dq,{fetchPolicy:"no-cache",onData:e=>{var t;let{data:r}=e;null!==r&&void 0!==r&&null!==(t=r.data)&&void 0!==t&&t.eventgroup_stream&&n((e=>{const t=r.data.eventgroup_stream.reduce(((e,t)=>{const n=e.findIndex((e=>e.id===t.id));if(n>-1){const r=[...e];return r[n]=t,r}return[...e,t]}),[...e]);return t.sort(((e,t)=>t.id-e.id)),t}))}});const[y]=UT(uq,{onCompleted:()=>sT.success("Event group status updated"),onError:e=>sT.error("Failed to update: "+e.message)}),[x]=UT(hq,{onCompleted:()=>{sT.success("Event group deleted"),m(!1)},onError:e=>sT.error("Failed to delete: "+e.message)}),[b]=UT(pq,{onCompleted:e=>{"success"===e.uploadEventFile.status?sT.success("Workflow created successfully"):sT.error("Failed to create: "+e.uploadEventFile.error)},onError:e=>sT.error("Failed to create: "+e.message)}),[w]=UT(fq,{onCompleted:e=>{"success"===e.approveEventGroup.status?sT.success("Event group approved"):sT.error("Failed to approve: "+e.approveEventGroup.error)},onError:e=>sT.error("Failed to approve: "+e.message)}),k=(0,a.useMemo)((()=>t.filter((e=>{if(!l&&e.deleted)return!1;if(i&&e.trigger!==i)return!1;if(r){var t,n;const o=r.toLowerCase();return e.name.toLowerCase().includes(o)||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(o))||e.trigger.toLowerCase().includes(o)||(null===(n=e.keywords)||void 0===n?void 0:n.some((e=>e.toLowerCase().includes(o))))}return!0}))),[t,r,i,l]),N=(0,a.useMemo)((()=>[...new Set(t.map((e=>e.trigger)))]),[t]),_=(0,a.useMemo)((()=>({total:t.filter((e=>!e.deleted)).length,active:t.filter((e=>e.active&&!e.deleted)).length,pending:t.filter((e=>!e.approved_to_run&&!e.deleted)).length,deleted:t.filter((e=>e.deleted)).length})),[t]);return(0,mn.jsxs)("div",{className:"min-h-screen bg-void text-signal",children:[(0,mn.jsx)(VT,{}),(0,mn.jsxs)(Md.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:Wx("transition-all duration-300 p-6",e?"ml-16":"ml-64"),children:[(0,mn.jsxs)("div",{className:"mb-8",children:[(0,mn.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mn.jsx)(bT,{className:"text-signal",size:32}),(0,mn.jsx)("h1",{className:"text-3xl font-bold tracking-wider",children:"EVENTING"})]}),(0,mn.jsx)("p",{className:"text-ghost",children:"Manage automated workflows and event-driven actions"})]}),(0,mn.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,mn.jsxs)("div",{className:"bg-void border border-ghost/30 rounded-lg p-4",children:[(0,mn.jsx)("h3",{className:"text-ghost text-sm",children:"Total Workflows"}),(0,mn.jsx)("p",{className:"text-2xl font-bold text-signal",children:_.total})]}),(0,mn.jsxs)("div",{className:"bg-void border border-ghost/30 rounded-lg p-4",children:[(0,mn.jsx)("h3",{className:"text-ghost text-sm",children:"Active"}),(0,mn.jsx)("p",{className:"text-2xl font-bold text-matrix",children:_.active})]}),(0,mn.jsxs)("div",{className:"bg-void border border-ghost/30 rounded-lg p-4",children:[(0,mn.jsx)("h3",{className:"text-ghost text-sm",children:"Pending Approval"}),(0,mn.jsx)("p",{className:"text-2xl font-bold text-amber-400",children:_.pending})]}),(0,mn.jsxs)("div",{className:"bg-void border border-ghost/30 rounded-lg p-4",children:[(0,mn.jsx)("h3",{className:"text-ghost text-sm",children:"Deleted"}),(0,mn.jsx)("p",{className:"text-2xl font-bold text-alert",children:_.deleted})]})]}),(0,mn.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[(0,mn.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,mn.jsx)(mT,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-ghost",size:18}),(0,mn.jsx)("input",{type:"text",placeholder:"Search workflows...",value:r,onChange:e=>o(e.target.value),className:"w-full bg-void border border-ghost/30 rounded-lg pl-10 pr-4 py-2 text-signal placeholder:text-ghost/50 focus:border-signal outline-none"})]}),(0,mn.jsxs)("select",{value:i,onChange:e=>s(e.target.value),className:"bg-void border border-ghost/30 rounded-lg px-4 py-2 text-signal focus:border-signal outline-none min-w-[150px]",children:[(0,mn.jsx)("option",{value:"",children:"All Triggers"}),N.map((e=>(0,mn.jsx)("option",{value:e,children:e},e)))]}),(0,mn.jsxs)("button",{onClick:()=>c(!l),className:Wx("px-4 py-2 border rounded-lg transition-colors flex items-center gap-2",l?"border-alert text-alert bg-alert/20":"border-ghost/30 text-ghost hover:text-signal hover:border-signal"),children:[l?(0,mn.jsx)(NT,{size:16}):(0,mn.jsx)(YT,{size:16}),l?"Showing Deleted":"Hide Deleted"]}),(0,mn.jsxs)("label",{className:"px-4 py-2 border border-signal/50 text-signal rounded-lg hover:bg-signal/10 transition-colors flex items-center gap-2 cursor-pointer",children:[(0,mn.jsx)(ym,{size:18}),"Upload",(0,mn.jsx)("input",{type:"file",accept:".yaml,.yml",multiple:!0,className:"hidden",onChange:async e=>{const t=e.target.files;if(t){for(let e=0;e<t.length;e++){const n=t[e],r=new FileReader;r.onload=e=>{var t;const r=null===(t=e.target)||void 0===t?void 0:t.result,o=btoa(r);b({variables:{file:o,filename:n.name}})},r.readAsText(n)}e.target.value=""}}})]}),(0,mn.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-signal text-void rounded-lg hover:bg-signal/80 transition-colors flex items-center gap-2",children:[(0,mn.jsx)(Tz,{size:18}),"New Workflow"]})]}),g&&(0,mn.jsxs)("div",{className:"flex items-center justify-center py-20",children:[(0,mn.jsx)(cH,{className:"animate-spin text-signal",size:32}),(0,mn.jsx)("span",{className:"ml-3 text-ghost",children:"Loading workflows..."})]}),!g&&(0,mn.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[k.map((e=>(0,mn.jsx)(yq,{eventGroup:e,onClick:()=>{p(e),m(!0)}},e.id))),0===k.length&&(0,mn.jsxs)("div",{className:"col-span-full text-center py-20 text-ghost",children:[(0,mn.jsx)(bT,{size:48,className:"mx-auto mb-4 opacity-50"}),(0,mn.jsx)("p",{children:"No workflows found"})]})]})]}),(0,mn.jsx)(On,{children:d&&(0,mn.jsx)(gq,{isOpen:d,onClose:()=>u(!1),onCreate:(e,t)=>{const n=btoa(e);b({variables:{file:n,filename:t}})}})}),(0,mn.jsx)(On,{children:f&&(0,mn.jsx)(vq,{isOpen:f,onClose:()=>m(!1),eventGroup:h,onToggleActive:()=>{h&&y({variables:{id:h.id,active:!h.active}})},onApprove:e=>{h&&w({variables:{eventgroup_id:h.id,approved:e}})},onDelete:()=>{h&&x({variables:{id:h.id}})}})})]})}const bq=zd("volume-x",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),wq=zd("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),kq=n.p+"static/media/PRAGMATA.9e3a88cbdda43a60f382.mp3";function Nq(){const e=(0,a.useRef)(null),[t,n]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1),l=(0,a.useRef)(!1),c=(0,a.useRef)(!1),d=(0,a.useCallback)((async()=>{if(e.current)try{if(e.current.volume=.3,!e.current.paused)return void n(!0);await e.current.play(),n(!0),c.current=!0}catch(t){n(!1),c.current=!0}}),[]);(0,a.useEffect)((()=>{const e=setTimeout((()=>{d()}),100);return()=>clearTimeout(e)}),[d]),(0,a.useEffect)((()=>{const e=async()=>{l.current||(l.current=!0,await d())},t=["click","keydown","mousemove","scroll","touchstart"];return t.forEach((t=>{window.addEventListener(t,e,{passive:!0})})),()=>{t.forEach((t=>{window.removeEventListener(t,e)}))}}),[d]),(0,a.useEffect)((()=>{const t=e.current;if(!t)return;const r=()=>n(!0),o=()=>n(!1),i=()=>{l.current&&d()},s=e=>{console.error("Audio error:",e),n(!1)};return t.addEventListener("play",r),t.addEventListener("pause",o),t.addEventListener("ended",i),t.addEventListener("error",s),()=>{t.removeEventListener("play",r),t.removeEventListener("pause",o),t.removeEventListener("ended",i),t.removeEventListener("error",s)}}),[d]),(0,a.useEffect)((()=>{const t=t=>{var o;const i=null===(o=t.detail)||void 0===o?void 0:o.mode;var a;"recon"===i||"combat"===i?(null===(a=e.current)||void 0===a||a.pause(),s(!0),n(!1)):(s(!1),r||d())};return window.addEventListener("mode-change",t),()=>window.removeEventListener("mode-change",t)}),[r,d]),(0,a.useEffect)((()=>{const t=setInterval((()=>{const t=e.current;t&&l.current&&t.paused&&!r&&!i&&d()}),2e3);return()=>clearInterval(t)}),[r,d,i]);return(0,mn.jsxs)("div",{className:"fixed bottom-4 right-4 z-[9999] flex items-center gap-2",children:[(0,mn.jsx)("audio",{ref:e,src:kq,loop:!0,preload:"auto",autoPlay:!0}),(0,mn.jsx)("button",{onClick:()=>{if(e.current){const t=!r;e.current.muted=t,o(t),!t&&l.current&&e.current.paused&&d()}},className:"p-2 border border-ghost/30 bg-void/80 text-gray-400 hover:text-signal hover:border-signal transition-all rounded-full backdrop-blur-sm group",children:r?(0,mn.jsx)(bq,{size:16}):(0,mn.jsx)(wq,{size:16,className:t?"animate-pulse":""})}),t&&!r&&(0,mn.jsxs)("div",{className:"flex gap-1 h-3 items-end",children:[(0,mn.jsx)("div",{className:"w-1 bg-signal animate-[pulse_1s_ease-in-out_infinite] h-full"}),(0,mn.jsx)("div",{className:"w-1 bg-signal animate-[pulse_1.5s_ease-in-out_infinite] h-2/3"}),(0,mn.jsx)("div",{className:"w-1 bg-signal animate-[pulse_0.8s_ease-in-out_infinite] h-1/2"})]})]})}const _q=zd("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]),Sq=n.p+"static/media/NCPD.d613aaac3a3a5a187f1e.m4a",Cq=n.p+"static/media/valentinos.adc0b0c64a8d05a99658.m4a",jq=[255,255,255],Eq=[34,197,94],Tq=[255,54,94],Aq=[255,54,94],Mq=[250,204,21],Rq=[250,204,21];function Oq(e,t){const n=document.documentElement;n.style.setProperty("--color-signal","".concat(e[0]," ").concat(e[1]," ").concat(e[2])),n.style.setProperty("--color-accent","".concat(t[0]," ").concat(t[1]," ").concat(t[2]))}const Iq=()=>{const e=(0,a.useRef)(null),t=(0,a.useRef)(null),{mode:n}=TT(),[r,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),l=(0,a.useRef)(null),c=(0,a.useRef)(null),d=(0,a.useRef)("normal"),u=(0,a.useRef)([...jq]),h=(0,a.useRef)([...Eq]);return(0,a.useEffect)((()=>{Oq(jq,Eq),u.current=[...jq],h.current=[...Eq]}),[]),(0,a.useEffect)((()=>{const o=e.current,i=t.current;o&&(o.loop=!0,o.volume=.4),i&&(i.loop=!0,i.volume=.4),o&&(o.pause(),o.currentTime=0),i&&(i.pause(),i.currentTime=0),r||("combat"===n&&o?o.play().catch((()=>{})):"recon"===n&&i&&i.play().catch((()=>{})))}),[n,r]),(0,a.useEffect)((()=>{const{signal:e,accent:t}=function(e){switch(e){case"combat":return{signal:Tq,accent:Aq};case"recon":return{signal:Mq,accent:Rq};default:return{signal:jq,accent:Eq}}}(n),r=[...u.current],o=[...h.current],i=Date.now();c.current&&cancelAnimationFrame(c.current);const a=()=>{const n=Date.now()-i,s=Math.min(n/800,1),l=1-Math.pow(1-s,3),d=[Math.round(r[0]+(e[0]-r[0])*l),Math.round(r[1]+(e[1]-r[1])*l),Math.round(r[2]+(e[2]-r[2])*l)],p=[Math.round(o[0]+(t[0]-o[0])*l),Math.round(o[1]+(t[1]-o[1])*l),Math.round(o[2]+(t[2]-o[2])*l)];Oq(d,p),u.current=d,h.current=p,s<1&&(c.current=requestAnimationFrame(a))};return c.current=requestAnimationFrame(a),document.body.classList.remove("combat-mode","recon-mode"),"normal"!==n&&n!==d.current?(document.body.classList.add("".concat(n,"-mode")),s(n),l.current&&clearTimeout(l.current),l.current=setTimeout((()=>s(null)),2500)):"normal"===n?s(null):document.body.classList.add("".concat(n,"-mode")),d.current=n,()=>{c.current&&cancelAnimationFrame(c.current)}}),[n]),(0,a.useEffect)((()=>()=>{document.body.classList.remove("combat-mode","recon-mode"),Oq(jq,Eq)}),[]),(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)("audio",{ref:e,src:Sq,preload:"auto"}),(0,mn.jsx)("audio",{ref:t,src:Cq,preload:"auto"}),(0,mn.jsx)(On,{children:"combat"===i&&(0,mn.jsx)(Md.div,{initial:{opacity:0,y:-10,scale:.94},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.9},transition:{duration:.35,ease:"easeOut"},className:"pointer-events-none fixed top-6 right-6 z-[9997] flex justify-end",children:(0,mn.jsxs)("div",{className:"relative px-6 py-4 bg-black/85 backdrop-blur-md border border-[#ff365e]/70 shadow-[0_0_30px_rgba(255,54,94,0.45)] rounded-lg overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute inset-0 opacity-15 bg-[radial-gradient(circle_at_10%_20%,rgba(255,54,94,0.35),transparent_25%),radial-gradient(circle_at_80%_0%,rgba(255,114,94,0.25),transparent_30%)]"}),(0,mn.jsx)("div",{className:"absolute inset-0 border border-[#ff365e]/40 rounded-lg pointer-events-none"}),(0,mn.jsx)("div",{className:"absolute -left-2 top-1 w-5 h-1 bg-[#ff365e]"}),(0,mn.jsx)("div",{className:"absolute -right-2 top-1 w-5 h-1 bg-[#ff365e]"}),(0,mn.jsx)("div",{className:"absolute -left-2 bottom-1 w-5 h-1 bg-[#ff365e]"}),(0,mn.jsx)("div",{className:"absolute -right-2 bottom-1 w-5 h-1 bg-[#ff365e]"}),(0,mn.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded-full border border-[#ff365e]/70 bg-[#ff365e]/15 flex items-center justify-center shadow-[0_0_16px_rgba(255,54,94,0.6)]",children:(0,mn.jsx)(bT,{className:"text-[#ff365e]",size:18})}),(0,mn.jsxs)("div",{className:"flex flex-col",children:[(0,mn.jsxs)("div",{className:"text-[11px] text-[#ff5f7e] font-mono tracking-[0.3em] uppercase flex items-center gap-1",children:[(0,mn.jsx)(_q,{className:"animate-pulse",size:12})," Combat Protocol"]}),(0,mn.jsx)("div",{className:"text-lg font-black tracking-[0.3em] text-white drop-shadow-[0_0_14px_rgba(255,54,94,0.7)] uppercase",children:"ENGAGEMENT LOCK"}),(0,mn.jsx)("div",{className:"font-mono text-[10px] text-[#ff8fa5]/80 tracking-[0.2em]",children:"NCPD // MaxTac"})]})]})]})},"combat-overlay")}),(0,mn.jsx)(On,{children:"recon"===i&&(0,mn.jsx)(Md.div,{initial:{opacity:0,y:-10,scale:.94},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.9},transition:{duration:.35,ease:"easeOut"},className:"pointer-events-none fixed top-6 right-6 z-[9997] flex justify-end",children:(0,mn.jsxs)("div",{className:"relative px-6 py-4 bg-black/85 backdrop-blur-md border border-[#facc15]/70 shadow-[0_0_30px_rgba(250,204,21,0.45)] rounded-lg overflow-hidden",children:[(0,mn.jsx)("div",{className:"absolute inset-0 opacity-15 bg-[radial-gradient(circle_at_10%_20%,rgba(250,204,21,0.35),transparent_25%),radial-gradient(circle_at_80%_0%,rgba(250,204,21,0.25),transparent_30%)]"}),(0,mn.jsx)("div",{className:"absolute inset-0 border border-[#facc15]/40 rounded-lg pointer-events-none"}),(0,mn.jsx)("div",{className:"absolute -left-2 top-1 w-5 h-1 bg-[#facc15]"}),(0,mn.jsx)("div",{className:"absolute -right-2 top-1 w-5 h-1 bg-[#facc15]"}),(0,mn.jsx)("div",{className:"absolute -left-2 bottom-1 w-5 h-1 bg-[#facc15]"}),(0,mn.jsx)("div",{className:"absolute -right-2 bottom-1 w-5 h-1 bg-[#facc15]"}),(0,mn.jsxs)("div",{className:"flex items-center gap-3 relative z-10",children:[(0,mn.jsx)("div",{className:"w-10 h-10 rounded-full border border-[#facc15]/70 bg-[#facc15]/15 flex items-center justify-center shadow-[0_0_16px_rgba(250,204,21,0.6)]",children:(0,mn.jsx)(NT,{className:"text-[#facc15]",size:18})}),(0,mn.jsxs)("div",{className:"flex flex-col",children:[(0,mn.jsxs)("div",{className:"text-[11px] text-[#fde047] font-mono tracking-[0.3em] uppercase flex items-center gap-1",children:[(0,mn.jsx)(_q,{className:"animate-pulse",size:12})," Recon Protocol"]}),(0,mn.jsx)("div",{className:"text-lg font-black tracking-[0.3em] text-white drop-shadow-[0_0_14px_rgba(250,204,21,0.7)] uppercase",children:"SURVEILLANCE MODE"}),(0,mn.jsx)("div",{className:"font-mono text-[10px] text-[#fef08a]/80 tracking-[0.2em]",children:"Valentinos // Heywood"})]})]})]})},"recon-overlay")}),(0,mn.jsx)("style",{children:"\n        body.combat-mode {\n          background-image: radial-gradient(circle at 20% 20%, rgba(255,54,94,0.08), transparent 32%), radial-gradient(circle at 80% 10%, rgba(255,114,94,0.08), transparent 35%), radial-gradient(circle at 60% 60%, rgba(255,0,122,0.06), transparent 45%);\n        }\n        body.combat-mode .minerva-root {\n          filter: drop-shadow(0 0 12px rgba(255,54,94,0.25));\n        }\n        body.recon-mode {\n          background-image: radial-gradient(circle at 20% 20%, rgba(250,204,21,0.06), transparent 32%), radial-gradient(circle at 80% 10%, rgba(250,204,21,0.05), transparent 35%), radial-gradient(circle at 60% 60%, rgba(234,179,8,0.04), transparent 45%);\n        }\n        body.recon-mode .minerva-root {\n          filter: drop-shadow(0 0 12px rgba(250,204,21,0.2));\n        }\n      "})]})},Lq=()=>{const{isLoggingOut:e}=Zg(),t=fe(),n="/login"===ue().pathname;return(0,a.useEffect)((()=>{e&&t("/login")}),[e,t]),(0,mn.jsx)(jT,{children:(0,mn.jsxs)("div",{className:"minerva-root font-sans text-white h-full w-full",children:[(0,mn.jsx)(Nq,{}),(0,mn.jsx)(Iq,{}),!n&&(0,mn.jsxs)(mn.Fragment,{children:[(0,mn.jsx)(zT,{}),(0,mn.jsx)(FT,{})]}),(0,mn.jsx)(fn,{position:"bottom-left",theme:"dark",autoClose:5e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:!1,closeButton:!1,transition:hn,toastClassName:"cyber-toast",bodyClassName:"cyber-toast-body",progressClassName:"cyber-toast-progress",icon:!1,limit:5}),(0,mn.jsxs)(Re,{children:[(0,mn.jsx)(Ae,{path:"login",element:(0,mn.jsx)(lV,{})}),(0,mn.jsx)(Ae,{path:"dashboard",element:(0,mn.jsx)(HT,{})}),(0,mn.jsx)(Ae,{path:"callbacks",element:(0,mn.jsx)(qz,{})}),(0,mn.jsx)(Ae,{path:"files",element:(0,mn.jsx)(DF,{})}),(0,mn.jsx)(Ae,{path:"operations",element:(0,mn.jsx)(kB,{})}),(0,mn.jsx)(Ae,{path:"users",element:(0,mn.jsx)(RB,{})}),(0,mn.jsx)(Ae,{path:"c2-profiles",element:(0,mn.jsx)(wB,{})}),(0,mn.jsx)(Ae,{path:"create-payload/*",element:(0,mn.jsx)(RW,{})}),(0,mn.jsx)(Ae,{path:"payloads/*",element:(0,mn.jsx)(RW,{})}),(0,mn.jsx)(Ae,{path:"console/:id",element:(0,mn.jsx)(QB,{})}),(0,mn.jsx)(Ae,{path:"opsec",element:(0,mn.jsx)(ZB,{})}),(0,mn.jsx)(Ae,{path:"credentials",element:(0,mn.jsx)(hB,{})}),(0,mn.jsx)(Ae,{path:"settings",element:(0,mn.jsx)(eV,{})}),(0,mn.jsx)(Ae,{path:"events",element:(0,mn.jsx)(ZW,{})}),(0,mn.jsx)(Ae,{path:"payloads",element:(0,mn.jsx)(yU,{})}),(0,mn.jsx)(Ae,{path:"search",element:(0,mn.jsx)(YU,{})}),(0,mn.jsx)(Ae,{path:"artifacts",element:(0,mn.jsx)(oG,{})}),(0,mn.jsx)(Ae,{path:"mitre",element:(0,mn.jsx)(vG,{})}),(0,mn.jsx)(Ae,{path:"reporting",element:(0,mn.jsx)(_G,{})}),(0,mn.jsx)(Ae,{path:"tags",element:(0,mn.jsx)($G,{})}),(0,mn.jsx)(Ae,{path:"browser-scripts",element:(0,mn.jsx)(tq,{})}),(0,mn.jsx)(Ae,{path:"eventing",element:(0,mn.jsx)(xq,{})}),(0,mn.jsx)(Ae,{path:"create-wrapper",element:(0,mn.jsx)(Te,{to:"/payloads?tab=wrapper",replace:!0})}),(0,mn.jsx)(Ae,{path:"/",element:(0,mn.jsx)(Te,{to:"/dashboard",replace:!0})}),(0,mn.jsx)(Ae,{path:"*",element:(0,mn.jsx)(Te,{to:"/dashboard",replace:!0})})]})]})})};var Dq=Object.prototype.hasOwnProperty;function Pq(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return $q(e)}function $q(e){var t=e[0]||{},n=e.length;if(n>1)for(var r=new Fq,o=1;o<n;++o)t=r.merge(t,e[o]);return t}var zq=function(e,t,n){return this.merge(e[n],t[n])},Fq=function(){function e(e){void 0===e&&(e=zq),this.reconciler=e,this.isObject=qu,this.pastCopies=new Set}return e.prototype.merge=function(e,t){for(var n=this,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return qu(t)&&qu(e)?(Object.keys(t).forEach((function(o){if(Dq.call(e,o)){var i=e[o];if(t[o]!==i){var s=n.reconciler.apply(n,Zd([e,t,o],r,!1));s!==i&&((e=n.shallowCopyForMerge(e))[o]=s)}}else(e=n.shallowCopyForMerge(e))[o]=t[o]})),e):t},e.prototype.shallowCopyForMerge=function(e){return qu(e)&&(this.pastCopies.has(e)||(e=Array.isArray(e)?e.slice(0):Kd({__proto__:Object.getPrototypeOf(e)},e),this.pastCopies.add(e))),e},e}(),Bq=wu?WeakMap:Map,Vq=ku?WeakSet:Set,Wq=new nf,Hq=!1;function Uq(){Hq||(Hq=!0,!1!==globalThis.__DEV__&&fu.warn(52))}function Gq(e,t,n){return Wq.withValue(!0,(function(){var r=qq(e,t,n,!1);return Object.isFrozen(e)&&Kf(r),r}))}function qq(e,t,n,r,o){var i,s=n.knownChanged,a=function(e,t){if(t.has(e))return t.get(e);var n=Array.isArray(e)?[]:Object.create(null);return t.set(e,n),n}(e,n.mutableTargets);if(Array.isArray(e)){for(var l=0,c=Array.from(e.entries());l<c.length;l++){var d=c[l],u=d[0],h=d[1];if(null!==h){var p=qq(h,t,n,r,!1!==globalThis.__DEV__?"".concat(o||"","[").concat(u,"]"):void 0);s.has(p)&&s.add(a),a[u]=p}else a[u]=null}return s.has(a)?a:e}for(var f=0,m=t.selections;f<m.length;f++){var g=m[f],v=void 0;if(r&&s.add(a),g.kind===ch.FIELD){var y=Jh(g),x=g.selectionSet;if(void 0===(v=a[y]||e[y]))continue;if(x&&null!==v){p=qq(e[y],x,n,r,!1!==globalThis.__DEV__?"".concat(o||"",".").concat(y):void 0);s.has(p)&&(v=p)}!1===globalThis.__DEV__&&(a[y]=v),!1!==globalThis.__DEV__&&(r&&"__typename"!==y&&!(null===(i=Object.getOwnPropertyDescriptor(a,y))||void 0===i?void 0:i.value)?Object.defineProperty(a,y,Kq(y,v,o||"",n.operationName,n.operationType)):(delete a[y],a[y]=v))}if(g.kind!==ch.INLINE_FRAGMENT||g.typeCondition&&!n.cache.fragmentMatches(g,e.__typename)||(v=qq(e,g.selectionSet,n,r,o)),g.kind===ch.FRAGMENT_SPREAD){var b=g.name.value,w=n.fragmentMap[b]||(n.fragmentMap[b]=n.cache.lookupFragment(b));fu(w,47,b);var k=Fp(g);"mask"!==k&&(v=qq(e,w.selectionSet,n,"migrate"===k,o))}s.has(v)&&s.add(a)}return"__typename"in e&&!("__typename"in a)&&(a.__typename=e.__typename),Object.keys(a).length!==Object.keys(e).length&&s.add(a),s.has(a)?a:e}function Kq(e,t,n,r,o){var i=function(){return Wq.getValue()||(!1!==globalThis.__DEV__&&fu.warn(48,r?"".concat(o," '").concat(r,"'"):"anonymous ".concat(o),"".concat(n,".").concat(e).replace(/^\./,"")),i=function(){return t}),t};return{get:function(){return i()},set:function(e){i=function(){return e}},enumerable:!0,configurable:!0}}function Yq(e,t,n,r){if(!n.fragmentMatches)return!1!==globalThis.__DEV__&&Uq(),e;var o=t.definitions.filter((function(e){return e.kind===ch.FRAGMENT_DEFINITION}));"undefined"===typeof r&&(fu(1===o.length,49,o.length),r=o[0].name.value);var i=o.find((function(e){return e.name.value===r}));return fu(!!i,50,r),null==e||Pu(e,{})?e:Gq(e,i.selectionSet,{operationType:"fragment",operationName:i.name.value,fragmentMap:fh(ip(t)),cache:n,mutableTargets:new Bq,knownChanged:new Vq})}var Qq=function(){function e(){this.assumeImmutableResults=!1,this.getFragmentDoc=Rf(ph,{max:Th["cache.fragmentQueryDocuments"]||1e3,cache:wh})}return e.prototype.lookupFragment=function(e){return null},e.prototype.batch=function(e){var t,n=this,r="string"===typeof e.optimistic?e.optimistic:!1===e.optimistic?null:void 0;return this.performTransaction((function(){return t=e.update(n)}),r),t},e.prototype.recordOptimisticTransaction=function(e,t){this.performTransaction(e,t)},e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.identify=function(e){},e.prototype.gc=function(){return[]},e.prototype.modify=function(e){return!1},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Kd(Kd({},e),{rootId:e.id||"ROOT_QUERY",optimistic:t}))},e.prototype.watchFragment=function(e){var t=this,n=e.fragment,r=e.fragmentName,o=e.from,i=e.optimistic,s=void 0===i||i,a=Yd(e,["fragment","fragmentName","from","optimistic"]),l=this.getFragmentDoc(n,r),c="undefined"===typeof o||"string"===typeof o?o:this.identify(o),d=!!e[Symbol.for("apollo.dataMasking")];if(!1!==globalThis.__DEV__){var u=r||ap(n).name.value;c||!1!==globalThis.__DEV__&&fu.warn(1,u)}var h,p=Kd(Kd({},a),{returnPartialData:!0,id:c,query:l,optimistic:s});return new Lp((function(o){return t.watch(Kd(Kd({},p),{immediate:!0,callback:function(i){var s=d?Yq(i.result,n,t,r):i.result;if(!h||!Bp(l,{data:h.result},{data:s},e.variables)){var a={data:s,complete:!!i.complete};i.missing&&(a.missing=$q(i.missing.map((function(e){return e.missing})))),h=Kd(Kd({},i),{result:s}),o.next(a)}}}))}))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!!e.optimistic),this.read(Kd(Kd({},e),{query:this.getFragmentDoc(e.fragment,e.fragmentName),rootId:e.id,optimistic:t}))},e.prototype.writeQuery=function(e){var t=e.id,n=e.data,r=Yd(e,["id","data"]);return this.write(Object.assign(r,{dataId:t||"ROOT_QUERY",result:n}))},e.prototype.writeFragment=function(e){var t=e.id,n=e.data,r=e.fragment,o=e.fragmentName,i=Yd(e,["id","data","fragment","fragmentName"]);return this.write(Object.assign(i,{query:this.getFragmentDoc(r,o),dataId:t,result:n}))},e.prototype.updateQuery=function(e,t){return this.batch({update:function(n){var r=n.readQuery(e),o=t(r);return void 0===o||null===o?r:(n.writeQuery(Kd(Kd({},e),{data:o})),o)}})},e.prototype.updateFragment=function(e,t){return this.batch({update:function(n){var r=n.readFragment(e),o=t(r);return void 0===o||null===o?r:(n.writeFragment(Kd(Kd({},e),{data:o})),o)}})},e}();!1!==globalThis.__DEV__&&(Qq.prototype.getMemoryInternals=Ih);var Xq=function(e){function t(n,r,o,i){var s,a=e.call(this,n)||this;if(a.message=n,a.path=r,a.query=o,a.variables=i,Array.isArray(a.path)){a.missing=a.message;for(var l=a.path.length-1;l>=0;--l)a.missing=((s={})[a.path[l]]=a.missing,s)}else a.missing=a.path;return a.__proto__=t.prototype,a}return qd(t,e),t}(Error);function Zq(e){return e}var Jq=function(){function e(e,t){void 0===t&&(t=Object.create(null)),this.resultCache=ku?new WeakSet:new Set,this.transform=e,t.getCacheKey&&(this.getCacheKey=t.getCacheKey),this.cached=!1!==t.cache,this.resetCache()}return e.prototype.getCacheKey=function(e){return[e]},e.identity=function(){return new e(Zq,{cache:!1})},e.split=function(t,n,r){return void 0===r&&(r=e.identity()),Object.assign(new e((function(e){return(t(e)?n:r).transformDocument(e)}),{cache:!1}),{left:n,right:r})},e.prototype.resetCache=function(){var t=this;if(this.cached){var n=new Yp(wu);this.performWork=Rf(e.prototype.performWork.bind(this),{makeCacheKey:function(e){var r=t.getCacheKey(e);if(r)return fu(Array.isArray(r),77),n.lookupArray(r)},max:Th["documentTransform.cache"],cache:wh})}},e.prototype.performWork=function(e){return np(e),this.transform(e)},e.prototype.transformDocument=function(e){if(this.resultCache.has(e))return e;var t=this.performWork(e);return this.resultCache.add(t),t},e.prototype.concat=function(t){var n=this;return Object.assign(new e((function(e){return t.transformDocument(n.transformDocument(e))}),{cache:!1}),{left:this,right:t})},e}(),eK={kind:ch.FIELD,name:{kind:ch.NAME,value:"__typename"}};function tK(e,t){return!e||e.selectionSet.selections.every((function(e){return e.kind===ch.FRAGMENT_SPREAD&&tK(t[e.name.value],t)}))}function nK(e){return tK(rp(e)||ap(e),fh(ip(e)))?null:e}function rK(e){var t=new Map,n=new Map;return e.forEach((function(e){e&&(e.name?t.set(e.name,e):e.test&&n.set(e.test,e))})),function(e){var r=t.get(e.name.value);return!r&&n.size&&n.forEach((function(t,n){n(e)&&(r=t)})),r}}function oK(e){var t=new Map;return function(n){void 0===n&&(n=e);var r=t.get(n);return r||t.set(n,r={variables:new Set,fragmentSpreads:new Set}),r}}function iK(e,t){np(t);for(var n=oK(""),r=oK(""),o=function(e){for(var t=0,o=void 0;t<e.length&&(o=e[t]);++t)if(!Uf(o)){if(o.kind===ch.OPERATION_DEFINITION)return n(o.name&&o.name.value);if(o.kind===ch.FRAGMENT_DEFINITION)return r(o.name.value)}return!1!==globalThis.__DEV__&&fu.error(97),null},i=0,s=t.definitions.length-1;s>=0;--s)t.definitions[s].kind===ch.OPERATION_DEFINITION&&++i;var a=rK(e),l=function(e){return Gf(e)&&e.map(a).some((function(e){return e&&e.remove}))},c=new Map,d=!1,u={enter:function(e){if(l(e.directives))return d=!0,null}},h=uh(t,{Field:u,InlineFragment:u,VariableDefinition:{enter:function(){return!1}},Variable:{enter:function(e,t,n,r,i){var s=o(i);s&&s.variables.add(e.name.value)}},FragmentSpread:{enter:function(e,t,n,r,i){if(l(e.directives))return d=!0,null;var s=o(i);s&&s.fragmentSpreads.add(e.name.value)}},FragmentDefinition:{enter:function(e,t,n,r){c.set(JSON.stringify(r),e)},leave:function(e,t,n,o){return e===c.get(JSON.stringify(o))?e:i>0&&e.selectionSet.selections.every((function(e){return e.kind===ch.FIELD&&"__typename"===e.name.value}))?(r(e.name.value).removed=!0,d=!0,null):void 0}},Directive:{leave:function(e){if(a(e))return d=!0,null}}});if(!d)return t;var p=function(e){return e.transitiveVars||(e.transitiveVars=new Set(e.variables),e.removed||e.fragmentSpreads.forEach((function(t){p(r(t)).transitiveVars.forEach((function(t){e.transitiveVars.add(t)}))}))),e},f=new Set;h.definitions.forEach((function(e){e.kind===ch.OPERATION_DEFINITION?p(n(e.name&&e.name.value)).fragmentSpreads.forEach((function(e){f.add(e)})):e.kind!==ch.FRAGMENT_DEFINITION||0!==i||r(e.name.value).removed||f.add(e.name.value)})),f.forEach((function(e){p(r(e)).fragmentSpreads.forEach((function(e){f.add(e)}))}));var m={enter:function(e){if(t=e.name.value,!f.has(t)||r(t).removed)return null;var t}};return nK(uh(h,{FragmentSpread:m,FragmentDefinition:m,OperationDefinition:{leave:function(e){if(e.variableDefinitions){var t=p(n(e.name&&e.name.value)).transitiveVars;if(t.size<e.variableDefinitions.length)return Kd(Kd({},e),{variableDefinitions:e.variableDefinitions.filter((function(e){return t.has(e.variable.name.value)}))})}}}}))}var sK=Object.assign((function(e){return uh(e,{SelectionSet:{enter:function(e,t,n){if(!n||n.kind!==ch.OPERATION_DEFINITION){var r=e.selections;if(r){var o=r.some((function(e){return tp(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))}));if(!o){var i=n;if(!(tp(i)&&i.directives&&i.directives.some((function(e){return"export"===e.name.value}))))return Kd(Kd({},e),{selections:Zd(Zd([],r,!0),[eK],!1)})}}}}}})}),{added:function(e){return e===eK}});function aK(e){if("query"===lp(e).operation)return e;var t=uh(e,{OperationDefinition:{enter:function(e){return Kd(Kd({},e),{operation:"query"})}}});return t}function lK(e){return np(e),iK([{test:function(e){return"client"===e.name.value},remove:!0}],e)}function cK(e){return np(e),uh(e,{FragmentSpread:function(e){var t;if(!(null===(t=e.directives)||void 0===t?void 0:t.some((function(e){return"unmask"===e.name.value}))))return Kd(Kd({},e),{directives:Zd(Zd([],e.directives||[],!0),[{kind:ch.DIRECTIVE,name:{kind:ch.NAME,value:"nonreactive"}}],!1)})}})}const dK=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function uK(e){return hK[e.charCodeAt(0)]}const hK=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];const pK={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>fK(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=gK("(",fK(e.variableDefinitions,", "),")"),n=fK([e.operation,fK([e.name,t]),fK(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:e=>{let{variable:t,type:n,defaultValue:r,directives:o}=e;return t+": "+n+gK(" = ",r)+gK(" ",fK(o," "))}},SelectionSet:{leave:e=>{let{selections:t}=e;return mK(t)}},Field:{leave(e){let{alias:t,name:n,arguments:r,directives:o,selectionSet:i}=e;const s=gK("",t,": ")+n;let a=s+gK("(",fK(r,", "),")");return a.length>80&&(a=s+gK("(\n",vK(fK(r,"\n")),"\n)")),fK([a,fK(o," "),i]," ")}},Argument:{leave:e=>{let{name:t,value:n}=e;return t+": "+n}},FragmentSpread:{leave:e=>{let{name:t,directives:n}=e;return"..."+t+gK(" ",fK(n," "))}},InlineFragment:{leave:e=>{let{typeCondition:t,directives:n,selectionSet:r}=e;return fK(["...",gK("on ",t),fK(n," "),r]," ")}},FragmentDefinition:{leave:e=>{let{name:t,typeCondition:n,variableDefinitions:r,directives:o,selectionSet:i}=e;return"fragment ".concat(t).concat(gK("(",fK(r,", "),")")," ")+"on ".concat(n," ").concat(gK("",fK(o," ")," "))+i}},IntValue:{leave:e=>{let{value:t}=e;return t}},FloatValue:{leave:e=>{let{value:t}=e;return t}},StringValue:{leave:e=>{let{value:t,block:n}=e;return n?function(e,t){const n=e.replace(/"""/g,'\\"""'),r=n.split(/\r\n|[\n\r]/g),o=1===r.length,i=r.length>1&&r.slice(1).every((e=>0===e.length||dv(e.charCodeAt(0)))),s=n.endsWith('\\"""'),a=e.endsWith('"')&&!s,l=e.endsWith("\\"),c=a||l,d=!(null!==t&&void 0!==t&&t.minimize)&&(!o||e.length>70||c||i||s);let u="";const h=o&&dv(e.charCodeAt(0));return(d&&!h||i)&&(u+="\n"),u+=n,(d||c)&&(u+="\n"),'"""'+u+'"""'}(t):'"'.concat(t.replace(dK,uK),'"')}},BooleanValue:{leave:e=>{let{value:t}=e;return t?"true":"false"}},NullValue:{leave:()=>"null"},EnumValue:{leave:e=>{let{value:t}=e;return t}},ListValue:{leave:e=>{let{values:t}=e;return"["+fK(t,", ")+"]"}},ObjectValue:{leave:e=>{let{fields:t}=e;return"{"+fK(t,", ")+"}"}},ObjectField:{leave:e=>{let{name:t,value:n}=e;return t+": "+n}},Directive:{leave:e=>{let{name:t,arguments:n}=e;return"@"+t+gK("(",fK(n,", "),")")}},NamedType:{leave:e=>{let{name:t}=e;return t}},ListType:{leave:e=>{let{type:t}=e;return"["+t+"]"}},NonNullType:{leave:e=>{let{type:t}=e;return t+"!"}},SchemaDefinition:{leave:e=>{let{description:t,directives:n,operationTypes:r}=e;return gK("",t,"\n")+fK(["schema",fK(n," "),mK(r)]," ")}},OperationTypeDefinition:{leave:e=>{let{operation:t,type:n}=e;return t+": "+n}},ScalarTypeDefinition:{leave:e=>{let{description:t,name:n,directives:r}=e;return gK("",t,"\n")+fK(["scalar",n,fK(r," ")]," ")}},ObjectTypeDefinition:{leave:e=>{let{description:t,name:n,interfaces:r,directives:o,fields:i}=e;return gK("",t,"\n")+fK(["type",n,gK("implements ",fK(r," & ")),fK(o," "),mK(i)]," ")}},FieldDefinition:{leave:e=>{let{description:t,name:n,arguments:r,type:o,directives:i}=e;return gK("",t,"\n")+n+(yK(r)?gK("(\n",vK(fK(r,"\n")),"\n)"):gK("(",fK(r,", "),")"))+": "+o+gK(" ",fK(i," "))}},InputValueDefinition:{leave:e=>{let{description:t,name:n,type:r,defaultValue:o,directives:i}=e;return gK("",t,"\n")+fK([n+": "+r,gK("= ",o),fK(i," ")]," ")}},InterfaceTypeDefinition:{leave:e=>{let{description:t,name:n,interfaces:r,directives:o,fields:i}=e;return gK("",t,"\n")+fK(["interface",n,gK("implements ",fK(r," & ")),fK(o," "),mK(i)]," ")}},UnionTypeDefinition:{leave:e=>{let{description:t,name:n,directives:r,types:o}=e;return gK("",t,"\n")+fK(["union",n,fK(r," "),gK("= ",fK(o," | "))]," ")}},EnumTypeDefinition:{leave:e=>{let{description:t,name:n,directives:r,values:o}=e;return gK("",t,"\n")+fK(["enum",n,fK(r," "),mK(o)]," ")}},EnumValueDefinition:{leave:e=>{let{description:t,name:n,directives:r}=e;return gK("",t,"\n")+fK([n,fK(r," ")]," ")}},InputObjectTypeDefinition:{leave:e=>{let{description:t,name:n,directives:r,fields:o}=e;return gK("",t,"\n")+fK(["input",n,fK(r," "),mK(o)]," ")}},DirectiveDefinition:{leave:e=>{let{description:t,name:n,arguments:r,repeatable:o,locations:i}=e;return gK("",t,"\n")+"directive @"+n+(yK(r)?gK("(\n",vK(fK(r,"\n")),"\n)"):gK("(",fK(r,", "),")"))+(o?" repeatable":"")+" on "+fK(i," | ")}},SchemaExtension:{leave:e=>{let{directives:t,operationTypes:n}=e;return fK(["extend schema",fK(t," "),mK(n)]," ")}},ScalarTypeExtension:{leave:e=>{let{name:t,directives:n}=e;return fK(["extend scalar",t,fK(n," ")]," ")}},ObjectTypeExtension:{leave:e=>{let{name:t,interfaces:n,directives:r,fields:o}=e;return fK(["extend type",t,gK("implements ",fK(n," & ")),fK(r," "),mK(o)]," ")}},InterfaceTypeExtension:{leave:e=>{let{name:t,interfaces:n,directives:r,fields:o}=e;return fK(["extend interface",t,gK("implements ",fK(n," & ")),fK(r," "),mK(o)]," ")}},UnionTypeExtension:{leave:e=>{let{name:t,directives:n,types:r}=e;return fK(["extend union",t,fK(n," "),gK("= ",fK(r," | "))]," ")}},EnumTypeExtension:{leave:e=>{let{name:t,directives:n,values:r}=e;return fK(["extend enum",t,fK(n," "),mK(r)]," ")}},InputObjectTypeExtension:{leave:e=>{let{name:t,directives:n,fields:r}=e;return fK(["extend input",t,fK(n," "),mK(r)]," ")}}};function fK(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var n;return null!==(n=null===e||void 0===e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function mK(e){return gK("{\n",vK(fK(e,"\n")),"\n}")}function gK(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function vK(e){return gK("  ",e.replace(/\n/g,"\n  "))}function yK(e){var t;return null!==(t=null===e||void 0===e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}var xK,bK=Object.assign((function(e){var t=xK.get(e);return t||(t=function(e){return uh(e,pK)}(e),xK.set(e,t)),t}),{reset:function(){xK=new Ch(Th.print||2e3)}});bK.reset(),!1!==globalThis.__DEV__&&Mh("print",(function(){return xK?xK.size:0}));var wK=Object.prototype.hasOwnProperty;function kK(e){return null===e||void 0===e}function NK(e,t){var n=e.__typename,r=e.id,o=e._id;if("string"===typeof n&&(t&&(t.keyObject=kK(r)?kK(o)?void 0:{_id:o}:{id:r}),kK(r)&&!kK(o)&&(r=o),!kK(r)))return"".concat(n,":").concat("number"===typeof r||"string"===typeof r?r:JSON.stringify(r))}var _K={dataIdFromObject:NK,addTypename:!0,resultCaching:!0,canonizeResults:!1};function SK(e){var t=e.canonizeResults;return void 0===t?_K.canonizeResults:t}var CK=/^[_a-z][_0-9a-z]*/i;function jK(e){var t=e.match(CK);return t?t[0]:e}function EK(e,t,n){return!!qu(t)&&(Uf(t)?t.every((function(t){return EK(e,t,n)})):e.selections.every((function(e){if(tp(e)&&Pp(e,n)){var r=Jh(e);return wK.call(t,r)&&(!e.selectionSet||EK(e.selectionSet,t[r],n))}return!0})))}function TK(e){return qu(e)&&!qh(e)&&!Uf(e)}function AK(e,t){var n=fh(ip(e));return{fragmentMap:n,lookupFragment:function(e){var r=n[e];return!r&&t&&(r=t.lookup(e)),r||null}}}var MK=Object.create(null),RK=function(){return MK},OK=Object.create(null),IK=function(){function e(e,t){var n=this;this.policies=e,this.group=t,this.data=Object.create(null),this.rootIds=Object.create(null),this.refs=Object.create(null),this.getFieldValue=function(e,t){return Kf(qh(e)?n.get(e.__ref,t):e&&e[t])},this.canRead=function(e){return qh(e)?n.has(e.__ref):"object"===typeof e},this.toReference=function(e,t){if("string"===typeof e)return Gh(e);if(qh(e))return e;var r=n.policies.identify(e)[0];if(r){var o=Gh(r);return t&&n.merge(r,e),o}}}return e.prototype.toObject=function(){return Kd({},this.data)},e.prototype.has=function(e){return void 0!==this.lookup(e,!0)},e.prototype.get=function(e,t){if(this.group.depend(e,t),wK.call(this.data,e)){var n=this.data[e];if(n&&wK.call(n,t))return n[t]}return"__typename"===t&&wK.call(this.policies.rootTypenamesById,e)?this.policies.rootTypenamesById[e]:this instanceof $K?this.parent.get(e,t):void 0},e.prototype.lookup=function(e,t){return t&&this.group.depend(e,"__exists"),wK.call(this.data,e)?this.data[e]:this instanceof $K?this.parent.lookup(e,t):this.policies.rootTypenamesById[e]?Object.create(null):void 0},e.prototype.merge=function(e,t){var n,r=this;qh(e)&&(e=e.__ref),qh(t)&&(t=t.__ref);var o="string"===typeof e?this.lookup(n=e):e,i="string"===typeof t?this.lookup(n=t):t;if(i){fu("string"===typeof n,2);var s=new Fq(FK).merge(o,i);if(this.data[n]=s,s!==o&&(delete this.refs[n],this.group.caching)){var a=Object.create(null);o||(a.__exists=1),Object.keys(i).forEach((function(e){if(!o||o[e]!==s[e]){a[e]=1;var t=jK(e);t===e||r.policies.hasKeyArgs(s.__typename,t)||(a[t]=1),void 0!==s[e]||r instanceof $K||delete s[e]}})),!a.__typename||o&&o.__typename||this.policies.rootTypenamesById[n]!==s.__typename||delete a.__typename,Object.keys(a).forEach((function(e){return r.group.dirty(n,e)}))}}},e.prototype.modify=function(e,t){var n=this,r=this.lookup(e);if(r){var o=Object.create(null),i=!1,s=!0,a={DELETE:MK,INVALIDATE:OK,isReference:qh,toReference:this.toReference,canRead:this.canRead,readField:function(t,r){return n.policies.readField("string"===typeof t?{fieldName:t,from:r||Gh(e)}:t,{store:n})}};if(Object.keys(r).forEach((function(l){var c=jK(l),d=r[l];if(void 0!==d){var u="function"===typeof t?t:t[l]||t[c];if(u){var h=u===RK?MK:u(Kf(d),Kd(Kd({},a),{fieldName:c,storeFieldName:l,storage:n.getStorage(e,l)}));if(h===OK)n.group.dirty(e,l);else if(h===MK&&(h=void 0),h!==d&&(o[l]=h,i=!0,d=h,!1!==globalThis.__DEV__)){var p=function(e){if(void 0===n.lookup(e.__ref))return!1!==globalThis.__DEV__&&fu.warn(3,e),!0};if(qh(h))p(h);else if(Array.isArray(h))for(var f=!1,m=void 0,g=0,v=h;g<v.length;g++){var y=v[g];if(qh(y)){if(f=!0,p(y))break}else if("object"===typeof y&&y)n.policies.identify(y)[0]&&(m=y);if(f&&void 0!==m){!1!==globalThis.__DEV__&&fu.warn(4,m);break}}}}void 0!==d&&(s=!1)}})),i)return this.merge(e,o),s&&(this instanceof $K?this.data[e]=void 0:delete this.data[e],this.group.dirty(e,"__exists")),!0}return!1},e.prototype.delete=function(e,t,n){var r,o=this.lookup(e);if(o){var i=this.getFieldValue(o,"__typename"),s=t&&n?this.policies.getStoreFieldName({typename:i,fieldName:t,args:n}):t;return this.modify(e,s?((r={})[s]=RK,r):RK)}return!1},e.prototype.evict=function(e,t){var n=!1;return e.id&&(wK.call(this.data,e.id)&&(n=this.delete(e.id,e.fieldName,e.args)),this instanceof $K&&this!==t&&(n=this.parent.evict(e,t)||n),(e.fieldName||n)&&this.group.dirty(e.id,e.fieldName||"__exists")),n},e.prototype.clear=function(){this.replace(null)},e.prototype.extract=function(){var e=this,t=this.toObject(),n=[];return this.getRootIdSet().forEach((function(t){wK.call(e.policies.rootTypenamesById,t)||n.push(t)})),n.length&&(t.__META={extraRootIds:n.sort()}),t},e.prototype.replace=function(e){var t=this;if(Object.keys(this.data).forEach((function(n){e&&wK.call(e,n)||t.delete(n)})),e){var n=e.__META,r=Yd(e,["__META"]);Object.keys(r).forEach((function(e){t.merge(e,r[e])})),n&&n.extraRootIds.forEach(this.retain,this)}},e.prototype.retain=function(e){return this.rootIds[e]=(this.rootIds[e]||0)+1},e.prototype.release=function(e){if(this.rootIds[e]>0){var t=--this.rootIds[e];return t||delete this.rootIds[e],t}return 0},e.prototype.getRootIdSet=function(e){return void 0===e&&(e=new Set),Object.keys(this.rootIds).forEach(e.add,e),this instanceof $K?this.parent.getRootIdSet(e):Object.keys(this.policies.rootTypenamesById).forEach(e.add,e),e},e.prototype.gc=function(){var e=this,t=this.getRootIdSet(),n=this.toObject();t.forEach((function(r){wK.call(n,r)&&(Object.keys(e.findChildRefIds(r)).forEach(t.add,t),delete n[r])}));var r=Object.keys(n);if(r.length){for(var o=this;o instanceof $K;)o=o.parent;r.forEach((function(e){return o.delete(e)}))}return r},e.prototype.findChildRefIds=function(e){if(!wK.call(this.refs,e)){var t=this.refs[e]=Object.create(null),n=this.data[e];if(!n)return t;var r=new Set([n]);r.forEach((function(e){qh(e)&&(t[e.__ref]=!0),qu(e)&&Object.keys(e).forEach((function(t){var n=e[t];qu(n)&&r.add(n)}))}))}return this.refs[e]},e.prototype.makeCacheKey=function(){return this.group.keyMaker.lookupArray(arguments)},e}(),LK=function(){function e(e,t){void 0===t&&(t=null),this.caching=e,this.parent=t,this.d=null,this.resetCaching()}return e.prototype.resetCaching=function(){this.d=this.caching?Ef():null,this.keyMaker=new Yp(wu)},e.prototype.depend=function(e,t){if(this.d){this.d(DK(e,t));var n=jK(t);n!==t&&this.d(DK(e,n)),this.parent&&this.parent.depend(e,t)}},e.prototype.dirty=function(e,t){this.d&&this.d.dirty(DK(e,t),"__exists"===t?"forget":"setDirty")},e}();function DK(e,t){return t+"#"+e}function PK(e,t){BK(e)&&e.group.depend(t,"__exists")}!function(e){var t=function(e){function t(t){var n=t.policies,r=t.resultCaching,o=void 0===r||r,i=t.seed,s=e.call(this,n,new LK(o))||this;return s.stump=new zK(s),s.storageTrie=new Yp(wu),i&&s.replace(i),s}return qd(t,e),t.prototype.addLayer=function(e,t){return this.stump.addLayer(e,t)},t.prototype.removeLayer=function(){return this},t.prototype.getStorage=function(){return this.storageTrie.lookupArray(arguments)},t}(e);e.Root=t}(IK||(IK={}));var $K=function(e){function t(t,n,r,o){var i=e.call(this,n.policies,o)||this;return i.id=t,i.parent=n,i.replay=r,i.group=o,r(i),i}return qd(t,e),t.prototype.addLayer=function(e,n){return new t(e,this,n,this.group)},t.prototype.removeLayer=function(e){var t=this,n=this.parent.removeLayer(e);return e===this.id?(this.group.caching&&Object.keys(this.data).forEach((function(e){var r=t.data[e],o=n.lookup(e);o?r?r!==o&&Object.keys(r).forEach((function(n){Du(r[n],o[n])||t.group.dirty(e,n)})):(t.group.dirty(e,"__exists"),Object.keys(o).forEach((function(n){t.group.dirty(e,n)}))):t.delete(e)})),n):n===this.parent?this:n.addLayer(this.id,this.replay)},t.prototype.toObject=function(){return Kd(Kd({},this.parent.toObject()),this.data)},t.prototype.findChildRefIds=function(t){var n=this.parent.findChildRefIds(t);return wK.call(this.data,t)?Kd(Kd({},n),e.prototype.findChildRefIds.call(this,t)):n},t.prototype.getStorage=function(){for(var e=this.parent;e.parent;)e=e.parent;return e.getStorage.apply(e,arguments)},t}(IK),zK=function(e){function t(t){return e.call(this,"EntityStore.Stump",t,(function(){}),new LK(t.group.caching,t.group))||this}return qd(t,e),t.prototype.removeLayer=function(){return this},t.prototype.merge=function(e,t){return this.parent.merge(e,t)},t}($K);function FK(e,t,n){var r=e[n],o=t[n];return Du(r,o)?r:o}function BK(e){return!!(e instanceof IK&&e.group.caching)}var VK=function(){function e(){this.known=new(ku?WeakSet:Set),this.pool=new Yp(wu),this.passes=new WeakMap,this.keysByJSON=new Map,this.empty=this.admit({})}return e.prototype.isKnown=function(e){return qu(e)&&this.known.has(e)},e.prototype.pass=function(e){if(qu(e)){var t=function(e){return qu(e)?Uf(e)?e.slice(0):Kd({__proto__:Object.getPrototypeOf(e)},e):e}(e);return this.passes.set(t,e),t}return e},e.prototype.admit=function(e){var t=this;if(qu(e)){var n=this.passes.get(e);if(n)return n;switch(Object.getPrototypeOf(e)){case Array.prototype:if(this.known.has(e))return e;var r=e.map(this.admit,this);return(a=this.pool.lookupArray(r)).array||(this.known.add(a.array=r),!1!==globalThis.__DEV__&&Object.freeze(r)),a.array;case null:case Object.prototype:if(this.known.has(e))return e;var o=Object.getPrototypeOf(e),i=[o],s=this.sortedKeys(e);i.push(s.json);var a,l=i.length;if(s.sorted.forEach((function(n){i.push(t.admit(e[n]))})),!(a=this.pool.lookupArray(i)).object){var c=a.object=Object.create(o);this.known.add(c),s.sorted.forEach((function(e,t){c[e]=i[l+t]})),!1!==globalThis.__DEV__&&Object.freeze(c)}return a.object}}return e},e.prototype.sortedKeys=function(e){var t=Object.keys(e),n=this.pool.lookupArray(t);if(!n.keys){t.sort();var r=JSON.stringify(t);(n.keys=this.keysByJSON.get(r))||this.keysByJSON.set(r,n.keys={sorted:t,json:r})}return n.keys},e}();function WK(e){return[e.selectionSet,e.objectOrReference,e.context,e.context.canonizeResults]}var HK=function(){function e(e){var t=this;this.knownResults=new(wu?WeakMap:Map),this.config=Wu(e,{addTypename:!1!==e.addTypename,canonizeResults:SK(e)}),this.canon=e.canon||new VK,this.executeSelectionSet=Rf((function(e){var n,r=e.context.canonizeResults,o=WK(e);o[3]=!r;var i=(n=t.executeSelectionSet).peek.apply(n,o);return i?r?Kd(Kd({},i),{result:t.canon.admit(i.result)}):i:(PK(e.context.store,e.enclosingRef.__ref),t.execSelectionSetImpl(e))}),{max:this.config.resultCacheMaxSize||Th["inMemoryCache.executeSelectionSet"]||5e4,keyArgs:WK,makeCacheKey:function(e,t,n,r){if(BK(n.store))return n.store.makeCacheKey(e,qh(t)?t.__ref:t,n.varString,r)}}),this.executeSubSelectedArray=Rf((function(e){return PK(e.context.store,e.enclosingRef.__ref),t.execSubSelectedArrayImpl(e)}),{max:this.config.resultCacheMaxSize||Th["inMemoryCache.executeSubSelectedArray"]||1e4,makeCacheKey:function(e){var t=e.field,n=e.array,r=e.context;if(BK(r.store))return r.store.makeCacheKey(t,n,r.varString)}})}return e.prototype.resetCanon=function(){this.canon=new VK},e.prototype.diffQueryAgainstStore=function(e){var t=e.store,n=e.query,r=e.rootId,o=void 0===r?"ROOT_QUERY":r,i=e.variables,s=e.returnPartialData,a=void 0===s||s,l=e.canonizeResults,c=void 0===l?this.config.canonizeResults:l,d=this.config.cache.policies;i=Kd(Kd({},cp(sp(n))),i);var u,h=Gh(o),p=this.executeSelectionSet({selectionSet:lp(n).selectionSet,objectOrReference:h,enclosingRef:h,context:Kd({store:t,query:n,policies:d,variables:i,varString:Wh(i),canonizeResults:c},AK(n,this.config.fragments))});if(p.missing&&(u=[new Xq(UK(p.missing),p.missing,n,i)],!a))throw u[0];return{result:p.result,complete:!u,missing:u}},e.prototype.isFresh=function(e,t,n,r){if(BK(r.store)&&this.knownResults.get(e)===n){var o=this.executeSelectionSet.peek(n,t,r,this.canon.isKnown(e));if(o&&e===o.result)return!0}return!1},e.prototype.execSelectionSetImpl=function(e){var t=this,n=e.selectionSet,r=e.objectOrReference,o=e.enclosingRef,i=e.context;if(qh(r)&&!i.policies.rootTypenamesById[r.__ref]&&!i.store.has(r.__ref))return{result:this.canon.empty,missing:"Dangling reference to missing ".concat(r.__ref," object")};var s,a=i.variables,l=i.policies,c=i.store.getFieldValue(r,"__typename"),d=[],u=new Fq;function h(e,t){var n;return e.missing&&(s=u.merge(s,((n={})[t]=e.missing,n))),e.result}this.config.addTypename&&"string"===typeof c&&!l.rootIdsByTypename[c]&&d.push({__typename:c});var p=new Set(n.selections);p.forEach((function(e){var n,f;if(Pp(e,a))if(tp(e)){var m=l.readField({fieldName:e.name.value,field:e,variables:i.variables,from:r},i),g=Jh(e);void 0===m?sK.added(e)||(s=u.merge(s,((n={})[g]="Can't find field '".concat(e.name.value,"' on ").concat(qh(r)?r.__ref+" object":"object "+JSON.stringify(r,null,2)),n))):Uf(m)?m.length>0&&(m=h(t.executeSubSelectedArray({field:e,array:m,enclosingRef:o,context:i}),g)):e.selectionSet?null!=m&&(m=h(t.executeSelectionSet({selectionSet:e.selectionSet,objectOrReference:m,enclosingRef:qh(m)?m:o,context:i}),g)):i.canonizeResults&&(m=t.canon.pass(m)),void 0!==m&&d.push(((f={})[g]=m,f))}else{var v=mh(e,i.lookupFragment);if(!v&&e.kind===ch.FRAGMENT_SPREAD)throw mu(10,e.name.value);v&&l.fragmentMatches(v,c)&&v.selectionSet.selections.forEach(p.add,p)}}));var f={result:$q(d),missing:s},m=i.canonizeResults?this.canon.admit(f):Kf(f);return m.result&&this.knownResults.set(m.result,n),m},e.prototype.execSubSelectedArrayImpl=function(e){var t,n=this,r=e.field,o=e.array,i=e.enclosingRef,s=e.context,a=new Fq;function l(e,n){var r;return e.missing&&(t=a.merge(t,((r={})[n]=e.missing,r))),e.result}return r.selectionSet&&(o=o.filter(s.store.canRead)),o=o.map((function(e,t){return null===e?null:Uf(e)?l(n.executeSubSelectedArray({field:r,array:e,enclosingRef:i,context:s}),t):r.selectionSet?l(n.executeSelectionSet({selectionSet:r.selectionSet,objectOrReference:e,enclosingRef:qh(e)?e:i,context:s}),t):(!1!==globalThis.__DEV__&&function(e,t,n){if(!t.selectionSet){var r=new Set([n]);r.forEach((function(n){qu(n)&&(fu(!qh(n),11,function(e,t){return qh(t)?e.get(t.__ref,"__typename"):t&&t.__typename}(e,n),t.name.value),Object.values(n).forEach(r.add,r))}))}}(s.store,r,e),e)})),{result:s.canonizeResults?this.canon.admit(o):o,missing:t}},e}();function UK(e){try{JSON.stringify(e,(function(e,t){if("string"===typeof t)throw t;return t}))}catch(t){return t}}var GK=Object.create(null);function qK(e){var t=JSON.stringify(e);return GK[t]||(GK[t]=Object.create(null))}function KK(e){var t=qK(e);return t.keyFieldsFn||(t.keyFieldsFn=function(t,n){var r=function(e,t){return n.readField(t,e)},o=n.keyObject=QK(e,(function(e){var o=JK(n.storeObject,e,r);return void 0===o&&t!==n.storeObject&&wK.call(t,e[0])&&(o=JK(t,e,ZK)),fu(void 0!==o,5,e.join("."),t),o}));return"".concat(n.typename,":").concat(JSON.stringify(o))})}function YK(e){var t=qK(e);return t.keyArgsFn||(t.keyArgsFn=function(t,n){var r=n.field,o=n.variables,i=n.fieldName,s=QK(e,(function(e){var n=e[0],i=n.charAt(0);if("@"!==i)if("$"!==i){if(t)return JK(t,e)}else{var s=n.slice(1);if(o&&wK.call(o,s)){var a=e.slice(0);return a[0]=s,JK(o,a)}}else if(r&&Gf(r.directives)){var l=n.slice(1),c=r.directives.find((function(e){return e.name.value===l})),d=c&&Zh(c,o);return d&&JK(d,e.slice(1))}})),a=JSON.stringify(s);return(t||"{}"!==a)&&(i+=":"+a),i})}function QK(e,t){var n=new Fq;return XK(e).reduce((function(e,r){var o,i=t(r);if(void 0!==i){for(var s=r.length-1;s>=0;--s)(o={})[r[s]]=i,i=o;e=n.merge(e,i)}return e}),Object.create(null))}function XK(e){var t=qK(e);if(!t.paths){var n=t.paths=[],r=[];e.forEach((function(t,o){Uf(t)?(XK(t).forEach((function(e){return n.push(r.concat(e))})),r.length=0):(r.push(t),Uf(e[o+1])||(n.push(r.slice(0)),r.length=0))}))}return t.paths}function ZK(e,t){return e[t]}function JK(e,t,n){return n=n||ZK,eY(t.reduce((function e(t,r){return Uf(t)?t.map((function(t){return e(t,r)})):t&&n(t,r)}),e))}function eY(e){return qu(e)?Uf(e)?e.map(eY):QK(Object.keys(e).sort(),(function(t){return JK(e,t)})):e}function tY(e){return void 0!==e.args?e.args:e.field?Zh(e.field,e.variables):null}var nY=function(){},rY=function(e,t){return t.fieldName},oY=function(e,t,n){return(0,n.mergeObjects)(e,t)},iY=function(e,t){return t},sY=function(){function e(e){this.config=e,this.typePolicies=Object.create(null),this.toBeAdded=Object.create(null),this.supertypeMap=new Map,this.fuzzySubtypes=new Map,this.rootIdsByTypename=Object.create(null),this.rootTypenamesById=Object.create(null),this.usingPossibleTypes=!1,this.config=Kd({dataIdFromObject:NK},e),this.cache=this.config.cache,this.setRootTypename("Query"),this.setRootTypename("Mutation"),this.setRootTypename("Subscription"),e.possibleTypes&&this.addPossibleTypes(e.possibleTypes),e.typePolicies&&this.addTypePolicies(e.typePolicies)}return e.prototype.identify=function(e,t){var n,r=this,o=t&&(t.typename||(null===(n=t.storeObject)||void 0===n?void 0:n.__typename))||e.__typename;if(o===this.rootTypenamesById.ROOT_QUERY)return["ROOT_QUERY"];var i,s=t&&t.storeObject||e,a=Kd(Kd({},t),{typename:o,storeObject:s,readField:t&&t.readField||function(){var e=lY(arguments,s);return r.readField(e,{store:r.cache.data,variables:e.variables})}}),l=o&&this.getTypePolicy(o),c=l&&l.keyFn||this.config.dataIdFromObject;return Wq.withValue(!0,(function(){for(;c;){var t=c(Kd(Kd({},e),s),a);if(!Uf(t)){i=t;break}c=KK(t)}})),i=i?String(i):void 0,a.keyObject?[i,a.keyObject]:[i]},e.prototype.addTypePolicies=function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],o=r.queryType,i=r.mutationType,s=r.subscriptionType,a=Yd(r,["queryType","mutationType","subscriptionType"]);o&&t.setRootTypename("Query",n),i&&t.setRootTypename("Mutation",n),s&&t.setRootTypename("Subscription",n),wK.call(t.toBeAdded,n)?t.toBeAdded[n].push(a):t.toBeAdded[n]=[a]}))},e.prototype.updateTypePolicy=function(e,t){var n=this,r=this.getTypePolicy(e),o=t.keyFields,i=t.fields;function s(e,t){e.merge="function"===typeof t?t:!0===t?oY:!1===t?iY:e.merge}s(r,t.merge),r.keyFn=!1===o?nY:Uf(o)?KK(o):"function"===typeof o?o:r.keyFn,i&&Object.keys(i).forEach((function(t){var r=n.getFieldPolicy(e,t,!0),o=i[t];if("function"===typeof o)r.read=o;else{var a=o.keyArgs,l=o.read,c=o.merge;r.keyFn=!1===a?rY:Uf(a)?YK(a):"function"===typeof a?a:r.keyFn,"function"===typeof l&&(r.read=l),s(r,c)}r.read&&r.merge&&(r.keyFn=r.keyFn||rY)}))},e.prototype.setRootTypename=function(e,t){void 0===t&&(t=e);var n="ROOT_"+e.toUpperCase(),r=this.rootTypenamesById[n];t!==r&&(fu(!r||r===e,6,e),r&&delete this.rootIdsByTypename[r],this.rootIdsByTypename[t]=n,this.rootTypenamesById[n]=t)},e.prototype.addPossibleTypes=function(e){var t=this;this.usingPossibleTypes=!0,Object.keys(e).forEach((function(n){t.getSupertypeSet(n,!0),e[n].forEach((function(e){t.getSupertypeSet(e,!0).add(n);var r=e.match(CK);r&&r[0]===e||t.fuzzySubtypes.set(e,new RegExp(e))}))}))},e.prototype.getTypePolicy=function(e){var t=this;if(!wK.call(this.typePolicies,e)){var n=this.typePolicies[e]=Object.create(null);n.fields=Object.create(null);var r=this.supertypeMap.get(e);!r&&this.fuzzySubtypes.size&&(r=this.getSupertypeSet(e,!0),this.fuzzySubtypes.forEach((function(n,o){if(n.test(e)){var i=t.supertypeMap.get(o);i&&i.forEach((function(e){return r.add(e)}))}}))),r&&r.size&&r.forEach((function(e){var r=t.getTypePolicy(e),o=r.fields,i=Yd(r,["fields"]);Object.assign(n,i),Object.assign(n.fields,o)}))}var o=this.toBeAdded[e];return o&&o.length&&o.splice(0).forEach((function(n){t.updateTypePolicy(e,n)})),this.typePolicies[e]},e.prototype.getFieldPolicy=function(e,t,n){if(e){var r=this.getTypePolicy(e).fields;return r[t]||n&&(r[t]=Object.create(null))}},e.prototype.getSupertypeSet=function(e,t){var n=this.supertypeMap.get(e);return!n&&t&&this.supertypeMap.set(e,n=new Set),n},e.prototype.fragmentMatches=function(e,t,n,r){var o=this;if(!e.typeCondition)return!0;if(!t)return!1;var i=e.typeCondition.name.value;if(t===i)return!0;if(this.usingPossibleTypes&&this.supertypeMap.has(i))for(var s=this.getSupertypeSet(t,!0),a=[s],l=function(e){var t=o.getSupertypeSet(e,!1);t&&t.size&&a.indexOf(t)<0&&a.push(t)},c=!(!n||!this.fuzzySubtypes.size),d=!1,u=0;u<a.length;++u){var h=a[u];if(h.has(i))return s.has(i)||(d&&!1!==globalThis.__DEV__&&fu.warn(7,t,i),s.add(i)),!0;h.forEach(l),c&&u===a.length-1&&EK(e.selectionSet,n,r)&&(c=!1,d=!0,this.fuzzySubtypes.forEach((function(e,n){var r=t.match(e);r&&r[0]===t&&l(n)})))}return!1},e.prototype.hasKeyArgs=function(e,t){var n=this.getFieldPolicy(e,t,!1);return!(!n||!n.keyFn)},e.prototype.getStoreFieldName=function(e){var t,n=e.typename,r=e.fieldName,o=this.getFieldPolicy(n,r,!1),i=o&&o.keyFn;if(i&&n)for(var s={typename:n,fieldName:r,field:e.field||null,variables:e.variables},a=tY(e);i;){var l=i(a,s);if(!Uf(l)){t=l||r;break}i=YK(l)}return void 0===t&&(t=e.field?function(e,t){var n=null;e.directives&&(n={},e.directives.forEach((function(e){n[e.name.value]={},e.arguments&&e.arguments.forEach((function(r){var o=r.name,i=r.value;return Kh(n[e.name.value],o,i,t)}))})));var r=null;return e.arguments&&e.arguments.length&&(r={},e.arguments.forEach((function(e){var n=e.name,o=e.value;return Kh(r,n,o,t)}))),Xh(e.name.value,r,n)}(e.field,e.variables):Xh(r,tY(e))),!1===t?r:r===jK(t)?t:r+":"+t},e.prototype.readField=function(e,t){var n=e.from;if(n&&(e.field||e.fieldName)){if(void 0===e.typename){var r=t.store.getFieldValue(n,"__typename");r&&(e.typename=r)}var o=this.getStoreFieldName(e),i=jK(o),s=t.store.getFieldValue(n,o),a=this.getFieldPolicy(e.typename,i,!1),l=a&&a.read;if(l){var c=aY(this,n,e,t,t.store.getStorage(qh(n)?n.__ref:n,o));return Ux.withValue(this.cache,l,[s,c])}return s}},e.prototype.getReadFunction=function(e,t){var n=this.getFieldPolicy(e,t,!1);return n&&n.read},e.prototype.getMergeFunction=function(e,t,n){var r=this.getFieldPolicy(e,t,!1),o=r&&r.merge;return!o&&n&&(o=(r=this.getTypePolicy(n))&&r.merge),o},e.prototype.runMergeFunction=function(e,t,n,r,o){var i=n.field,s=n.typename,a=n.merge;return a===oY?cY(r.store)(e,t):a===iY?t:(r.overwrite&&(e=void 0),a(e,t,aY(this,void 0,{typename:s,fieldName:i.name.value,field:i,variables:r.variables},r,o||Object.create(null))))},e}();function aY(e,t,n,r,o){var i=e.getStoreFieldName(n),s=jK(i),a=n.variables||r.variables,l=r.store,c=l.toReference,d=l.canRead;return{args:tY(n),field:n.field||null,fieldName:s,storeFieldName:i,variables:a,isReference:qh,toReference:c,storage:o,cache:e.cache,canRead:d,readField:function(){return e.readField(lY(arguments,t,a),r)},mergeObjects:cY(r.store)}}function lY(e,t,n){var r,o=e[0],i=e[1],s=e.length;return"string"===typeof o?r={fieldName:o,from:s>1?i:t}:(r=Kd({},o),wK.call(r,"from")||(r.from=t)),!1!==globalThis.__DEV__&&void 0===r.from&&!1!==globalThis.__DEV__&&fu.warn(8,hu(Array.from(e))),void 0===r.variables&&(r.variables=n),r}function cY(e){return function(t,n){if(Uf(t)||Uf(n))throw mu(9);if(qu(t)&&qu(n)){var r=e.getFieldValue(t,"__typename"),o=e.getFieldValue(n,"__typename");if(r&&o&&r!==o)return n;if(qh(t)&&TK(n))return e.merge(t.__ref,n),t;if(TK(t)&&qh(n))return e.merge(t,n.__ref),n;if(TK(t)&&TK(n))return Kd(Kd({},t),n)}return n}}function dY(e,t,n){var r="".concat(t).concat(n),o=e.flavors.get(r);return o||e.flavors.set(r,o=e.clientOnly===t&&e.deferred===n?e:Kd(Kd({},e),{clientOnly:t,deferred:n})),o}var uY=function(){function e(e,t,n){this.cache=e,this.reader=t,this.fragments=n}return e.prototype.writeToStore=function(e,t){var n=this,r=t.query,o=t.result,i=t.dataId,s=t.variables,a=t.overwrite,l=rp(r),c=new Fq;s=Kd(Kd({},cp(l)),s);var d=Kd(Kd({store:e,written:Object.create(null),merge:function(e,t){return c.merge(e,t)},variables:s,varString:Wh(s)},AK(r,this.fragments)),{overwrite:!!a,incomingById:new Map,clientOnly:!1,deferred:!1,flavors:new Map}),u=this.processSelectionSet({result:o||Object.create(null),dataId:i,selectionSet:l.selectionSet,mergeTree:{map:new Map},context:d});if(!qh(u))throw mu(12,o);return d.incomingById.forEach((function(t,r){var o=t.storeObject,i=t.mergeTree,s=t.fieldNodeSet,a=Gh(r);if(i&&i.map.size){var l=n.applyMerges(i,a,o,d);if(qh(l))return;o=l}if(!1!==globalThis.__DEV__&&!d.overwrite){var c=Object.create(null);s.forEach((function(e){e.selectionSet&&(c[e.name.value]=!0)}));Object.keys(o).forEach((function(e){(function(e){return!0===c[jK(e)]})(e)&&!function(e){var t=i&&i.map.get(e);return Boolean(t&&t.info&&t.info.merge)}(e)&&function(e,t,n,r){var o=function(e){var t=r.getFieldValue(e,n);return"object"===typeof t&&t},i=o(e);if(!i)return;var s=o(t);if(!s)return;if(qh(i))return;if(Du(i,s))return;if(Object.keys(i).every((function(e){return void 0!==r.getFieldValue(s,e)})))return;var a=r.getFieldValue(e,"__typename")||r.getFieldValue(t,"__typename"),l=jK(n),c="".concat(a,".").concat(l);if(vY.has(c))return;vY.add(c);var d=[];Uf(i)||Uf(s)||[i,s].forEach((function(e){var t=r.getFieldValue(e,"__typename");"string"!==typeof t||d.includes(t)||d.push(t)}));!1!==globalThis.__DEV__&&fu.warn(15,l,a,d.length?"either ensure all objects of type "+d.join(" and ")+" have an ID or a custom merge function, or ":"",c,Kd({},i),Kd({},s))}(a,o,e,d.store)}))}e.merge(r,o)})),e.retain(u.__ref),u},e.prototype.processSelectionSet=function(e){var t=this,n=e.dataId,r=e.result,o=e.selectionSet,i=e.context,s=e.mergeTree,a=this.cache.policies,l=Object.create(null),c=n&&a.rootTypenamesById[n]||ep(r,o,i.fragmentMap)||n&&i.store.get(n,"__typename");"string"===typeof c&&(l.__typename=c);var d=function(){var e=lY(arguments,l,i.variables);if(qh(e.from)){var t=i.incomingById.get(e.from.__ref);if(t){var n=a.readField(Kd(Kd({},e),{from:t.storeObject}),i);if(void 0!==n)return n}}return a.readField(e,i)},u=new Set;this.flattenFields(o,r,i,c).forEach((function(e,n){var o,i=Jh(n),h=r[i];if(u.add(n),void 0!==h){var p=a.getStoreFieldName({typename:c,fieldName:n.name.value,field:n,variables:e.variables}),f=pY(s,p),m=t.processFieldValue(h,n,n.selectionSet?dY(e,!1,!1):e,f),g=void 0;n.selectionSet&&(qh(m)||TK(m))&&(g=d("__typename",m));var v=a.getMergeFunction(c,n.name.value,g);v?f.info={field:n,typename:c,merge:v}:gY(s,p),l=e.merge(l,((o={})[p]=m,o))}else!1===globalThis.__DEV__||e.clientOnly||e.deferred||sK.added(n)||a.getReadFunction(c,n.name.value)||!1!==globalThis.__DEV__&&fu.error(13,Jh(n),r)}));try{var h=a.identify(r,{typename:c,selectionSet:o,fragmentMap:i.fragmentMap,storeObject:l,readField:d}),p=h[0],f=h[1];n=n||p,f&&(l=i.merge(l,f))}catch(zQ){if(!n)throw zQ}if("string"===typeof n){var m=Gh(n),g=i.written[n]||(i.written[n]=[]);if(g.indexOf(o)>=0)return m;if(g.push(o),this.reader&&this.reader.isFresh(r,m,o,i))return m;var v=i.incomingById.get(n);return v?(v.storeObject=i.merge(v.storeObject,l),v.mergeTree=fY(v.mergeTree,s),u.forEach((function(e){return v.fieldNodeSet.add(e)}))):i.incomingById.set(n,{storeObject:l,mergeTree:mY(s)?void 0:s,fieldNodeSet:u}),m}return l},e.prototype.processFieldValue=function(e,t,n,r){var o=this;return t.selectionSet&&null!==e?Uf(e)?e.map((function(e,i){var s=o.processFieldValue(e,t,n,pY(r,i));return gY(r,i),s})):this.processSelectionSet({result:e,selectionSet:t.selectionSet,context:n,mergeTree:r}):!1!==globalThis.__DEV__?up(e):e},e.prototype.flattenFields=function(e,t,n,r){void 0===r&&(r=ep(t,e,n.fragmentMap));var o=new Map,i=this.cache.policies,s=new Yp(!1);return function e(a,l){var c=s.lookup(a,l.clientOnly,l.deferred);c.visited||(c.visited=!0,a.selections.forEach((function(s){if(Pp(s,n.variables)){var a=l.clientOnly,c=l.deferred;if(a&&c||!Gf(s.directives)||s.directives.forEach((function(e){var t=e.name.value;if("client"===t&&(a=!0),"defer"===t){var r=Zh(e,n.variables);r&&!1===r.if||(c=!0)}})),tp(s)){var d=o.get(s);d&&(a=a&&d.clientOnly,c=c&&d.deferred),o.set(s,dY(n,a,c))}else{var u=mh(s,n.lookupFragment);if(!u&&s.kind===ch.FRAGMENT_SPREAD)throw mu(14,s.name.value);u&&i.fragmentMatches(u,r,t,n.variables)&&e(u.selectionSet,dY(n,a,c))}}})))}(e,n),o},e.prototype.applyMerges=function(e,t,n,r,o){var i,s=this;if(e.map.size&&!qh(n)){var a,l=Uf(n)||!qh(t)&&!TK(t)?void 0:t,c=n;l&&!o&&(o=[qh(l)?l.__ref:l]);var d=function(e,t){return Uf(e)?"number"===typeof t?e[t]:void 0:r.store.getFieldValue(e,String(t))};e.map.forEach((function(e,t){var n=d(l,t),i=d(c,t);if(void 0!==i){o&&o.push(t);var u=s.applyMerges(e,n,i,r,o);u!==i&&(a=a||new Map).set(t,u),o&&fu(o.pop()===t)}})),a&&(n=Uf(c)?c.slice(0):Kd({},c),a.forEach((function(e,t){n[t]=e})))}return e.info?this.cache.policies.runMergeFunction(t,n,e.info,r,o&&(i=r.store).getStorage.apply(i,o)):n},e}(),hY=[];function pY(e,t){var n=e.map;return n.has(t)||n.set(t,hY.pop()||{map:new Map}),n.get(t)}function fY(e,t){if(e===t||!t||mY(t))return e;if(!e||mY(e))return t;var n=e.info&&t.info?Kd(Kd({},e.info),t.info):e.info||t.info,r=e.map.size&&t.map.size,o={info:n,map:r?new Map:e.map.size?e.map:t.map};if(r){var i=new Set(t.map.keys());e.map.forEach((function(e,n){o.map.set(n,fY(e,t.map.get(n))),i.delete(n)})),i.forEach((function(n){o.map.set(n,fY(t.map.get(n),e.map.get(n)))}))}return o}function mY(e){return!e||!(e.info||e.map.size)}function gY(e,t){var n=e.map,r=n.get(t);r&&mY(r)&&(hY.push(r),n.delete(t))}var vY=new Set;var yY=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.watches=new Set,n.addTypenameTransform=new Jq(sK),n.assumeImmutableResults=!0,n.makeVar=Yx,n.txCount=0,n.config=function(e){return Wu(_K,e)}(t),n.addTypename=!!n.config.addTypename,n.policies=new sY({cache:n,dataIdFromObject:n.config.dataIdFromObject,possibleTypes:n.config.possibleTypes,typePolicies:n.config.typePolicies}),n.init(),n}return qd(t,e),t.prototype.init=function(){var e=this.data=new IK.Root({policies:this.policies,resultCaching:this.config.resultCaching});this.optimisticData=e.stump,this.resetResultCache()},t.prototype.resetResultCache=function(e){var t=this,n=this.storeReader,r=this.config.fragments;this.storeWriter=new uY(this,this.storeReader=new HK({cache:this,addTypename:this.addTypename,resultCacheMaxSize:this.config.resultCacheMaxSize,canonizeResults:SK(this.config),canon:e?void 0:n&&n.canon,fragments:r}),r),this.maybeBroadcastWatch=Rf((function(e,n){return t.broadcastWatch(e,n)}),{max:this.config.resultCacheMaxSize||Th["inMemoryCache.maybeBroadcastWatch"]||5e3,makeCacheKey:function(e){var n=e.optimistic?t.optimisticData:t.data;if(BK(n)){var r=e.optimistic,o=e.id,i=e.variables;return n.makeCacheKey(e.query,e.callback,Wh({optimistic:r,id:o,variables:i}))}}}),new Set([this.data.group,this.optimisticData.group]).forEach((function(e){return e.resetCaching()}))},t.prototype.restore=function(e){return this.init(),e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).extract()},t.prototype.read=function(e){var t=e.returnPartialData,n=void 0!==t&&t;try{return this.storeReader.diffQueryAgainstStore(Kd(Kd({},e),{store:e.optimistic?this.optimisticData:this.data,config:this.config,returnPartialData:n})).result||null}catch(zQ){if(zQ instanceof Xq)return null;throw zQ}},t.prototype.write=function(e){try{return++this.txCount,this.storeWriter.writeToStore(this.data,e)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.modify=function(e){if(wK.call(e,"id")&&!e.id)return!1;var t=e.optimistic?this.optimisticData:this.data;try{return++this.txCount,t.modify(e.id||"ROOT_QUERY",e.fields)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.diff=function(e){return this.storeReader.diffQueryAgainstStore(Kd(Kd({},e),{store:e.optimistic?this.optimisticData:this.data,rootId:e.id||"ROOT_QUERY",config:this.config}))},t.prototype.watch=function(e){var t=this;return this.watches.size||function(e){qx(e).vars.forEach((function(t){return t.attachCache(e)}))}(this),this.watches.add(e),e.immediate&&this.maybeBroadcastWatch(e),function(){t.watches.delete(e)&&!t.watches.size&&Kx(t),t.maybeBroadcastWatch.forget(e)}},t.prototype.gc=function(e){var t;Wh.reset(),bK.reset(),this.addTypenameTransform.resetCache(),null===(t=this.config.fragments)||void 0===t||t.resetCaches();var n=this.optimisticData.gc();return e&&!this.txCount&&(e.resetResultCache?this.resetResultCache(e.resetResultIdentities):e.resetResultIdentities&&this.storeReader.resetCanon()),n},t.prototype.retain=function(e,t){return(t?this.optimisticData:this.data).retain(e)},t.prototype.release=function(e,t){return(t?this.optimisticData:this.data).release(e)},t.prototype.identify=function(e){if(qh(e))return e.__ref;try{return this.policies.identify(e)[0]}catch(zQ){!1!==globalThis.__DEV__&&fu.warn(zQ)}},t.prototype.evict=function(e){if(!e.id){if(wK.call(e,"id"))return!1;e=Kd(Kd({},e),{id:"ROOT_QUERY"})}try{return++this.txCount,this.optimisticData.evict(e,this.data)}finally{--this.txCount||!1===e.broadcast||this.broadcastWatches()}},t.prototype.reset=function(e){var t=this;return this.init(),Wh.reset(),e&&e.discardWatches?(this.watches.forEach((function(e){return t.maybeBroadcastWatch.forget(e)})),this.watches.clear(),Kx(this)):this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){var t=this.optimisticData.removeLayer(e);t!==this.optimisticData&&(this.optimisticData=t,this.broadcastWatches())},t.prototype.batch=function(e){var t,n=this,r=e.update,o=e.optimistic,i=void 0===o||o,s=e.removeOptimistic,a=e.onWatchUpdated,l=function(e){var o=n,i=o.data,s=o.optimisticData;++n.txCount,e&&(n.data=n.optimisticData=e);try{return t=r(n)}finally{--n.txCount,n.data=i,n.optimisticData=s}},c=new Set;return a&&!this.txCount&&this.broadcastWatches(Kd(Kd({},e),{onWatchUpdated:function(e){return c.add(e),!1}})),"string"===typeof i?this.optimisticData=this.optimisticData.addLayer(i,l):!1===i?l(this.data):l(),"string"===typeof s&&(this.optimisticData=this.optimisticData.removeLayer(s)),a&&c.size?(this.broadcastWatches(Kd(Kd({},e),{onWatchUpdated:function(e,t){var n=a.call(this,e,t);return!1!==n&&c.delete(e),n}})),c.size&&c.forEach((function(e){return n.maybeBroadcastWatch.dirty(e)}))):this.broadcastWatches(e),t},t.prototype.performTransaction=function(e,t){return this.batch({update:e,optimistic:t||null!==t})},t.prototype.transformDocument=function(e){return this.addTypenameToDocument(this.addFragmentsToDocument(e))},t.prototype.fragmentMatches=function(e,t){return this.policies.fragmentMatches(e,t)},t.prototype.lookupFragment=function(e){var t;return(null===(t=this.config.fragments)||void 0===t?void 0:t.lookup(e))||null},t.prototype.broadcastWatches=function(e){var t=this;this.txCount||this.watches.forEach((function(n){return t.maybeBroadcastWatch(n,e)}))},t.prototype.addFragmentsToDocument=function(e){var t=this.config.fragments;return t?t.transform(e):e},t.prototype.addTypenameToDocument=function(e){return this.addTypename?this.addTypenameTransform.transformDocument(e):e},t.prototype.broadcastWatch=function(e,t){var n=e.lastDiff,r=this.diff(e);t&&(e.optimistic&&"string"===typeof t.optimistic&&(r.fromOptimisticTransaction=!0),t.onWatchUpdated&&!1===t.onWatchUpdated.call(this,e,r,n))||n&&Du(n.result,r.result)||e.callback(e.lastDiff=r,n)},t}(Qq);function xY(e,t){return t?t(e):Lp.of()}function bY(e){return"function"===typeof e?new kY(e):e}function wY(e){return e.request.length<=1}!1!==globalThis.__DEV__&&(yY.prototype.getMemoryInternals=Oh);var kY=function(){function e(e){e&&(this.request=e)}return e.empty=function(){return new e((function(){return Lp.of()}))},e.from=function(t){return 0===t.length?e.empty():t.map(bY).reduce((function(e,t){return e.concat(t)}))},e.split=function(t,n,r){var o,i=bY(n),s=bY(r||new e(xY));return o=wY(i)&&wY(s)?new e((function(e){return t(e)?i.request(e)||Lp.of():s.request(e)||Lp.of()})):new e((function(e,n){return t(e)?i.request(e,n)||Lp.of():s.request(e,n)||Lp.of()})),Object.assign(o,{left:i,right:s})},e.execute=function(e,t){return e.request(function(e,t){var n=Kd({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){n=Kd(Kd({},n),"function"===typeof e?e(n):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return Kd({},n)}}),t}(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!==typeof t.query?op(t.query)||void 0:""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];if(t.indexOf(o)<0)throw mu(46,o)}return e}(t))))||Lp.of()},e.concat=function(t,n){var r=bY(t);if(wY(r))return!1!==globalThis.__DEV__&&fu.warn(38,r),r;var o,i=bY(n);return o=wY(i)?new e((function(e){return r.request(e,(function(e){return i.request(e)||Lp.of()}))||Lp.of()})):new e((function(e,t){return r.request(e,(function(e){return i.request(e,t)||Lp.of()}))||Lp.of()})),Object.assign(o,{left:r,right:i})},e.prototype.split=function(t,n,r){return this.concat(e.split(t,n,r||new e(xY)))},e.prototype.concat=function(t){return e.concat(this,t)},e.prototype.request=function(e,t){throw mu(39)},e.prototype.onError=function(e,t){if(t&&t.error)return t.error(e),!1;throw e},e.prototype.setOnError=function(e){return this.onError=e,this},e}(),NY=function(e,t){var n;try{n=JSON.stringify(e)}catch(zQ){var r=mu(42,t,zQ.message);throw r.parseError=zQ,r}return n};function _Y(e){var t=null,n=null,r=!1,o=[],i=[];function s(e){if(!n){if(i.length){var t=i.shift();if(Array.isArray(t)&&t[0])return t[0]({value:e,done:!1})}o.push(e)}}function a(e){n=e,i.slice().forEach((function(t){t[1](e)})),!t||t()}function l(){r=!0,i.slice().forEach((function(e){e[0]({value:void 0,done:!0})})),!t||t()}t=function(){t=null,e.removeListener("data",s),e.removeListener("error",a),e.removeListener("end",l),e.removeListener("finish",l),e.removeListener("close",l)},e.on("data",s),e.on("error",a),e.on("end",l),e.on("finish",l),e.on("close",l);var c={next:function(){return new Promise((function(e,t){return n?t(n):o.length?e({value:o.shift(),done:!1}):r?e({value:void 0,done:!0}):void i.push([e,t])}))}};return _u&&(c[Symbol.asyncIterator]=function(){return this}),c}function SY(e){var t={next:function(){return e.read()}};return _u&&(t[Symbol.asyncIterator]=function(){return this}),t}function CY(e){var t=e;if(e.body&&(t=e.body),function(e){return!(!_u||!e[Symbol.asyncIterator])}(t))return function(e){var t,n=e[Symbol.asyncIterator]();return(t={next:function(){return n.next()}})[Symbol.asyncIterator]=function(){return this},t}(t);if(function(e){return!!e.getReader}(t))return SY(t.getReader());if(function(e){return!!e.stream}(t))return SY(t.stream().getReader());if(function(e){return!!e.arrayBuffer}(t))return function(e){var t=!1,n={next:function(){return t?Promise.resolve({value:void 0,done:!0}):(t=!0,new Promise((function(t,n){e.then((function(e){t({value:e,done:!1})})).catch(n)})))}};return _u&&(n[Symbol.asyncIterator]=function(){return this}),n}(t.arrayBuffer());if(function(e){return!!e.pipe}(t))return _Y(t);throw new Error("Unknown body type for responseIterator. Please pass a streamable response.")}var jY=function(e,t,n){var r=new Error(n);throw r.name="ServerError",r.response=e,r.statusCode=e.status,r.result=t,r};function EY(e){return"incremental"in e}function TY(e){return qu(e)&&"payload"in e}function AY(e,t){var n=e,r=new Fq;return EY(t)&&Gf(t.incremental)&&t.incremental.forEach((function(e){for(var t=e.data,o=e.path,i=o.length-1;i>=0;--i){var s=o[i],a=!isNaN(+s)?[]:{};a[s]=t,t=a}n=r.merge(n,t)})),n}var MY=Object.prototype.hasOwnProperty;function RY(e){var t={};return e.split("\n").forEach((function(e){var n=e.indexOf(":");if(n>-1){var r=e.slice(0,n).trim().toLowerCase(),o=e.slice(n+1).trim();t[r]=o}})),t}function OY(e,t){if(e.status>=300){jY(e,function(){try{return JSON.parse(t)}catch(e){return t}}(),"Response not successful: Received status code ".concat(e.status))}try{return JSON.parse(t)}catch(r){var n=r;throw n.name="ServerParseError",n.response=e,n.statusCode=e.status,n.bodyText=t,n}}var IY={http:{includeQuery:!0,includeExtensions:!1,preserveHeaderCase:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},LY=function(e,t){return t(e)};function DY(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={},i={};n.forEach((function(e){o=Kd(Kd(Kd({},o),e.options),{headers:Kd(Kd({},o.headers),e.headers)}),e.credentials&&(o.credentials=e.credentials),i=Kd(Kd({},i),e.http)})),o.headers&&(o.headers=function(e,t){if(!t){var n={};return Object.keys(Object(e)).forEach((function(t){n[t.toLowerCase()]=e[t]})),n}var r={};Object.keys(Object(e)).forEach((function(t){r[t.toLowerCase()]={originalName:t,value:e[t]}}));var o={};return Object.keys(r).forEach((function(e){o[r[e].originalName]=r[e].value})),o}(o.headers,i.preserveHeaderCase));var s=e.operationName,a=e.extensions,l=e.variables,c=e.query,d={operationName:s,variables:l};return i.includeExtensions&&(d.extensions=a),i.includeQuery&&(d.query=t(c,bK)),{options:o,body:d}}function PY(e){return new Lp((function(t){t.error(e)}))}var $Y=lu((function(){return fetch})),zY=function(e){void 0===e&&(e={});var t=e.uri,n=void 0===t?"/graphql":t,r=e.fetch,o=e.print,i=void 0===o?LY:o,s=e.includeExtensions,a=e.preserveHeaderCase,l=e.useGETForQueries,c=e.includeUnusedVariables,d=void 0!==c&&c,u=Yd(e,["uri","fetch","print","includeExtensions","preserveHeaderCase","useGETForQueries","includeUnusedVariables"]);!1!==globalThis.__DEV__&&function(e){if(!e&&"undefined"===typeof fetch)throw mu(40)}(r||$Y);var h={http:{includeExtensions:s,preserveHeaderCase:a},options:u.fetchOptions,credentials:u.credentials,headers:u.headers};return new kY((function(e){var t=function(e,t){var n=e.getContext().uri;return n||("function"===typeof t?t(e):t||"/graphql")}(e,n),o=e.getContext(),s={};if(o.clientAwareness){var a=o.clientAwareness,c=a.name,u=a.version;c&&(s["apollographql-client-name"]=c),u&&(s["apollographql-client-version"]=u)}var p=Kd(Kd({},s),o.headers),f={http:o.http,options:o.fetchOptions,credentials:o.credentials,headers:p};if($p(["client"],e.query)){var m=lK(e.query);if(!m)return PY(new Error("HttpLink: Trying to send a client-only query to the server. To send to the server, ensure a non-client field is added to the query or set the `transformOptions.removeClientFields` option to `true`."));e.query=m}var g,v=DY(e,i,IY,h,f),y=v.options,x=v.body;x.variables&&!d&&(x.variables=function(e,t){var n=Kd({},e),r=new Set(Object.keys(e));return uh(t,{Variable:function(e,t,n){n&&"VariableDefinition"!==n.kind&&r.delete(e.name.value)}}),r.forEach((function(e){delete n[e]})),n}(x.variables,e.query)),y.signal||"undefined"===typeof AbortController||(g=new AbortController,y.signal=g.signal);var b,w="OperationDefinition"===(b=lp(e.query)).kind&&"subscription"===b.operation,k=$p(["defer"],e.query);if(l&&!e.query.definitions.some((function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation}))&&(y.method="GET"),k||w){y.headers=y.headers||{};var N="multipart/mixed;";w&&k&&!1!==globalThis.__DEV__&&fu.warn(41),w?N+="boundary=graphql;subscriptionSpec=1.0,application/json":k&&(N+="deferSpec=20220824,application/json"),y.headers.accept=N}if("GET"===y.method){var _=function(e,t){var n=[],r=function(e,t){n.push("".concat(e,"=").concat(encodeURIComponent(t)))};if("query"in t&&r("query",t.query),t.operationName&&r("operationName",t.operationName),t.variables){var o=void 0;try{o=NY(t.variables,"Variables map")}catch(C){return{parseError:C}}r("variables",o)}if(t.extensions){var i=void 0;try{i=NY(t.extensions,"Extensions map")}catch(C){return{parseError:C}}r("extensions",i)}var s="",a=e,l=e.indexOf("#");-1!==l&&(s=e.substr(l),a=e.substr(0,l));var c=-1===a.indexOf("?")?"?":"&";return{newURI:a+c+n.join("&")+s}}(t,x),S=_.newURI,C=_.parseError;if(C)return PY(C);t=S}else try{y.body=NY(x,"Payload")}catch(C){return PY(C)}return new Lp((function(n){var o=r||lu((function(){return fetch}))||$Y,i=n.next.bind(n);return o(t,y).then((function(t){var n;e.setContext({response:t});var r,o=null===(n=t.headers)||void 0===n?void 0:n.get("content-type");return null!==o&&/^multipart\/mixed/i.test(o)?function(e,t){return Qd(this,void 0,void 0,(function(){var n,r,o,i,s,a,l,c,d,u,h,p,f,m,g,v,y,x,b,w,k,N,_,S;return Xd(this,(function(C){switch(C.label){case 0:if(void 0===TextDecoder)throw new Error("TextDecoder must be defined in the environment: please import a polyfill.");n=new TextDecoder("utf-8"),r=null===(S=e.headers)||void 0===S?void 0:S.get("content-type"),o="boundary=",i=(null===r||void 0===r?void 0:r.includes(o))?null===r||void 0===r?void 0:r.substring((null===r||void 0===r?void 0:r.indexOf(o))+9).replace(/['"]/g,"").replace(/\;(.*)/gm,"").trim():"-",s="\r\n--".concat(i),a="",l=CY(e),c=!0,C.label=1;case 1:return c?[4,l.next()]:[3,3];case 2:for(d=C.sent(),u=d.value,h=d.done,p="string"===typeof u?u:n.decode(u),f=a.length-s.length+1,c=!h,m=(a+=p).indexOf(s,f);m>-1;){if(g=void 0,N=[a.slice(0,m),a.slice(m+s.length)],a=N[1],v=(g=N[0]).indexOf("\r\n\r\n"),y=RY(g.slice(0,v)),(x=y["content-type"])&&-1===x.toLowerCase().indexOf("application/json"))throw new Error("Unsupported patch content type: application/json is required.");if(b=g.slice(v))if(w=OY(e,b),Object.keys(w).length>1||"data"in w||"incremental"in w||"errors"in w||"payload"in w)if(TY(w)){if(k={},"payload"in w){if(1===Object.keys(w).length&&null===w.payload)return[2];k=Kd({},w.payload)}"errors"in w&&(k=Kd(Kd({},k),{extensions:Kd(Kd({},"extensions"in k?k.extensions:null),(_={},_[Ku]=w.errors,_))})),t(k)}else t(w);else if(1===Object.keys(w).length&&"hasNext"in w&&!w.hasNext)return[2];m=a.indexOf(s)}return[3,1];case 3:return[2]}}))}))}(t,i):(r=e,function(e){return e.text().then((function(t){return OY(e,t)})).then((function(t){return Array.isArray(t)||MY.call(t,"data")||MY.call(t,"errors")||jY(e,t,"Server response was missing for query '".concat(Array.isArray(r)?r.map((function(e){return e.operationName})):r.operationName,"'.")),t}))})(t).then(i)})).then((function(){g=void 0,n.complete()})).catch((function(e){g=void 0,function(e,t){e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e)}(e,n)})),function(){g&&g.abort()}}))}))},FY=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,zY(t).request)||this;return n.options=t,n}return qd(t,e),t}(kY),BY=kY.split,VY=kY.execute;function WY(e,t,n){return new Lp((function(r){var o={then:function(e){return new Promise((function(t){return t(e())}))}};function i(e,t){return function(n){if(e){var i=function(){return r.closed?0:e(n)};o=o.then(i,i).then((function(e){return r.next(e)}),(function(e){return r.error(e)}))}else r[t](n)}}var s={next:i(t,"next"),error:i(n,"error"),complete:function(){o.then((function(){return r.complete()}))}},a=e.subscribe(s);return function(){return a.unsubscribe()}}))}function HY(e){return Gf(UY(e))}function UY(e){var t=Gf(e.errors)?e.errors.slice(0):[];return EY(e)&&Gf(e.incremental)&&e.incremental.forEach((function(e){e.errors&&t.push.apply(t,e.errors)})),t}function GY(e){return e&&"function"===typeof e.then}var qY=function(e){function t(t){var n=e.call(this,(function(e){return n.addObserver(e),function(){return n.removeObserver(e)}}))||this;return n.observers=new Set,n.promise=new Promise((function(e,t){n.resolve=e,n.reject=t})),n.handlers={next:function(e){null!==n.sub&&(n.latest=["next",e],n.notify("next",e),pp(n.observers,"next",e))},error:function(e){var t=n.sub;null!==t&&(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest=["error",e],n.reject(e),n.notify("error",e),pp(n.observers,"error",e))},complete:function(){var e=n,t=e.sub,r=e.sources;if(null!==t){var o=(void 0===r?[]:r).shift();o?GY(o)?o.then((function(e){return n.sub=e.subscribe(n.handlers)}),n.handlers.error):n.sub=o.subscribe(n.handlers):(t&&setTimeout((function(){return t.unsubscribe()})),n.sub=null,n.latest&&"next"===n.latest[0]?n.resolve(n.latest[1]):n.resolve(),n.notify("complete"),pp(n.observers,"complete"))}}},n.nextResultListeners=new Set,n.cancel=function(e){n.reject(e),n.sources=[],n.handlers.error(e)},n.promise.catch((function(e){})),"function"===typeof t&&(t=[new Lp(t)]),GY(t)?t.then((function(e){return n.start(e)}),n.handlers.error):n.start(t),n}return qd(t,e),t.prototype.start=function(e){void 0===this.sub&&(this.sources=Array.from(e),this.handlers.complete())},t.prototype.deliverLastMessage=function(e){if(this.latest){var t=this.latest[0],n=e[t];n&&n.call(e,this.latest[1]),null===this.sub&&"next"===t&&e.complete&&e.complete()}},t.prototype.addObserver=function(e){this.observers.has(e)||(this.deliverLastMessage(e),this.observers.add(e))},t.prototype.removeObserver=function(e){this.observers.delete(e)&&this.observers.size<1&&this.handlers.complete()},t.prototype.notify=function(e,t){var n=this.nextResultListeners;n.size&&(this.nextResultListeners=new Set,n.forEach((function(n){return n(e,t)})))},t.prototype.beforeNext=function(e){var t=!1;this.nextResultListeners.add((function(n,r){t||(t=!0,e(n,r))}))},t}(Lp);Dp(qY);var KY=new(wu?WeakMap:Map);function YY(e,t){var n=e[t];"function"===typeof n&&(e[t]=function(){return KY.set(e,(KY.get(e)+1)%1e15),n.apply(this,arguments)})}var QY=function(){function e(e,t){void 0===t&&(t=e.generateQueryId()),this.queryId=t,this.document=null,this.lastRequestId=1,this.stopped=!1,this.observableQuery=null;var n=this.cache=e.cache;KY.has(n)||(KY.set(n,0),YY(n,"evict"),YY(n,"modify"),YY(n,"reset"))}return e.prototype.init=function(e){var t=e.networkStatus||Xu.loading;return this.variables&&this.networkStatus!==Xu.loading&&!Du(this.variables,e.variables)&&(t=Xu.setVariables),Du(e.variables,this.variables)||(this.lastDiff=void 0,this.cancel()),Object.assign(this,{document:e.document,variables:e.variables,networkError:null,graphQLErrors:this.graphQLErrors||[],networkStatus:t}),e.observableQuery&&this.setObservableQuery(e.observableQuery),e.lastRequestId&&(this.lastRequestId=e.lastRequestId),this},e.prototype.resetDiff=function(){this.lastDiff=void 0},e.prototype.getDiff=function(){var e=this.getDiffOptions();if(this.lastDiff&&Du(e,this.lastDiff.options))return this.lastDiff.diff;this.updateWatch(this.variables);var t=this.observableQuery;if(t&&"no-cache"===t.options.fetchPolicy)return{complete:!1};var n=this.cache.diff(e);return this.updateLastDiff(n,e),n},e.prototype.updateLastDiff=function(e,t){this.lastDiff=e?{diff:e,options:t||this.getDiffOptions()}:void 0},e.prototype.getDiffOptions=function(e){var t;return void 0===e&&(e=this.variables),{query:this.document,variables:e,returnPartialData:!0,optimistic:!0,canonizeResults:null===(t=this.observableQuery)||void 0===t?void 0:t.options.canonizeResults}},e.prototype.setDiff=function(e){var t,n,r=this.lastDiff&&this.lastDiff.diff;e&&!e.complete&&(null===(t=this.observableQuery)||void 0===t?void 0:t.getLastError())||(this.updateLastDiff(e),Du(r&&r.result,e&&e.result)||null===(n=this.observableQuery)||void 0===n||n.scheduleNotify())},e.prototype.setObservableQuery=function(e){e!==this.observableQuery&&(this.observableQuery=e,e&&(e.queryInfo=this))},e.prototype.stop=function(){var e;if(!this.stopped){this.stopped=!0,null===(e=this.observableQuery)||void 0===e||e.resetNotifications(),this.cancel();var t=this.observableQuery;t&&t.stopPolling()}},e.prototype.cancel=function(){var e;null===(e=this.cancelWatch)||void 0===e||e.call(this),this.cancelWatch=void 0},e.prototype.updateWatch=function(e){var t=this;void 0===e&&(e=this.variables);var n=this.observableQuery;if(!n||"no-cache"!==n.options.fetchPolicy){var r=Kd(Kd({},this.getDiffOptions(e)),{watcher:this,callback:function(e){return t.setDiff(e)}});this.lastWatch&&Du(r,this.lastWatch)||(this.cancel(),this.cancelWatch=this.cache.watch(this.lastWatch=r))}},e.prototype.resetLastWrite=function(){this.lastWrite=void 0},e.prototype.shouldWrite=function(e,t){var n=this.lastWrite;return!(n&&n.dmCount===KY.get(this.cache)&&Du(t,n.variables)&&Du(e.data,n.result.data))},e.prototype.markResult=function(e,t,n,r){var o,i=this,s=new Fq,a=Gf(e.errors)?e.errors.slice(0):[];if(null===(o=this.observableQuery)||void 0===o||o.resetNotifications(),"incremental"in e&&Gf(e.incremental)){var l=AY(this.getDiff().result,e);e.data=l}else if("hasNext"in e&&e.hasNext){var c=this.getDiff();e.data=s.merge(c.result,e.data)}this.graphQLErrors=a,"no-cache"===n.fetchPolicy?this.updateLastDiff({result:e.data,complete:!0},this.getDiffOptions(n.variables)):0!==r&&(XY(e,n.errorPolicy)?this.cache.performTransaction((function(o){if(i.shouldWrite(e,n.variables))o.writeQuery({query:t,data:e.data,variables:n.variables,overwrite:1===r}),i.lastWrite={result:e,variables:n.variables,dmCount:KY.get(i.cache)};else if(i.lastDiff&&i.lastDiff.diff.complete)return void(e.data=i.lastDiff.diff.result);var s=i.getDiffOptions(n.variables),a=o.diff(s);!i.stopped&&Du(i.variables,n.variables)&&i.updateWatch(n.variables),i.updateLastDiff(a,s),a.complete&&(e.data=a.result)})):this.lastWrite=void 0)},e.prototype.markReady=function(){return this.networkError=null,this.networkStatus=Xu.ready},e.prototype.markError=function(e){var t;return this.networkStatus=Xu.error,this.lastWrite=void 0,null===(t=this.observableQuery)||void 0===t||t.resetNotifications(),e.graphQLErrors&&(this.graphQLErrors=e.graphQLErrors),e.networkError&&(this.networkError=e.networkError),e},e}();function XY(e,t){void 0===t&&(t="none");var n="ignore"===t||"all"===t,r=!HY(e);return!r&&n&&e.data&&(r=!0),r}var ZY=Object.prototype.hasOwnProperty,JY=Object.create(null),eQ=function(){function e(e){var t=this;this.clientAwareness={},this.queries=new Map,this.fetchCancelFns=new Map,this.transformCache=new Ch(Th["queryManager.getDocumentInfo"]||2e3),this.queryIdCounter=1,this.requestIdCounter=1,this.mutationIdCounter=1,this.inFlightLinkObservables=new Yp(!1),this.noCacheWarningsByQueryId=new Set;var n=new Jq((function(e){return t.cache.transformDocument(e)}),{cache:!1});this.cache=e.cache,this.link=e.link,this.defaultOptions=e.defaultOptions,this.queryDeduplication=e.queryDeduplication,this.clientAwareness=e.clientAwareness,this.localState=e.localState,this.ssrMode=e.ssrMode,this.assumeImmutableResults=e.assumeImmutableResults,this.dataMasking=e.dataMasking;var r=e.documentTransform;this.documentTransform=r?n.concat(r).concat(n):n,this.defaultContext=e.defaultContext||Object.create(null),(this.onBroadcast=e.onBroadcast)&&(this.mutationStore=Object.create(null))}return e.prototype.stop=function(){var e=this;this.queries.forEach((function(t,n){e.stopQueryNoBroadcast(n)})),this.cancelPendingFetches(mu(27))},e.prototype.cancelPendingFetches=function(e){this.fetchCancelFns.forEach((function(t){return t(e)})),this.fetchCancelFns.clear()},e.prototype.mutate=function(e){return Qd(this,arguments,void 0,(function(e){var t,n,r,o,i,s,a,l=e.mutation,c=e.variables,d=e.optimisticResponse,u=e.updateQueries,h=e.refetchQueries,p=void 0===h?[]:h,f=e.awaitRefetchQueries,m=void 0!==f&&f,g=e.update,v=e.onQueryUpdated,y=e.fetchPolicy,x=void 0===y?(null===(s=this.defaultOptions.mutate)||void 0===s?void 0:s.fetchPolicy)||"network-only":y,b=e.errorPolicy,w=void 0===b?(null===(a=this.defaultOptions.mutate)||void 0===a?void 0:a.errorPolicy)||"none":b,k=e.keepRootFields,N=e.context;return Xd(this,(function(e){switch(e.label){case 0:return fu(l,28),fu("network-only"===x||"no-cache"===x,29),t=this.generateMutationId(),l=this.cache.transformForLink(this.transform(l)),n=this.getDocumentInfo(l).hasClientExports,c=this.getVariables(l,c),n?[4,this.localState.addExportedVariables(l,c,N)]:[3,2];case 1:c=e.sent(),e.label=2;case 2:return r=this.mutationStore&&(this.mutationStore[t]={mutation:l,variables:c,loading:!0,error:null}),o=d&&this.markMutationOptimistic(d,{mutationId:t,document:l,variables:c,fetchPolicy:x,errorPolicy:w,context:N,updateQueries:u,update:g,keepRootFields:k}),this.broadcastQueries(),i=this,[2,new Promise((function(e,n){return WY(i.getObservableFromLink(l,Kd(Kd({},N),{optimisticResponse:o?d:void 0}),c,{},!1),(function(e){if(HY(e)&&"none"===w)throw new Zu({graphQLErrors:UY(e)});r&&(r.loading=!1,r.error=null);var n=Kd({},e);return"function"===typeof p&&(p=p(n)),"ignore"===w&&HY(n)&&delete n.errors,i.markMutationResult({mutationId:t,result:n,document:l,variables:c,fetchPolicy:x,errorPolicy:w,context:N,update:g,updateQueries:u,awaitRefetchQueries:m,refetchQueries:p,removeOptimistic:o?t:void 0,onQueryUpdated:v,keepRootFields:k})})).subscribe({next:function(n){i.broadcastQueries(),"hasNext"in n&&!1!==n.hasNext||e(Kd(Kd({},n),{data:i.maskOperation({document:l,data:n.data,fetchPolicy:x,id:t})}))},error:function(e){r&&(r.loading=!1,r.error=e),o&&i.cache.removeOptimistic(t),i.broadcastQueries(),n(e instanceof Zu?e:new Zu({networkError:e}))}})}))]}}))}))},e.prototype.markMutationResult=function(e,t){var n=this;void 0===t&&(t=this.cache);var r=e.result,o=[],i="no-cache"===e.fetchPolicy;if(!i&&XY(r,e.errorPolicy)){if(EY(r)||o.push({result:r.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}),EY(r)&&Gf(r.incremental)){var s=t.diff({id:"ROOT_MUTATION",query:this.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0}),a=void 0;s.result&&(a=AY(s.result,r)),"undefined"!==typeof a&&(r.data=a,o.push({result:a,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}))}var l=e.updateQueries;l&&this.queries.forEach((function(e,i){var s=e.observableQuery,a=s&&s.queryName;if(a&&ZY.call(l,a)){var c=l[a],d=n.queries.get(i),u=d.document,h=d.variables,p=t.diff({query:u,variables:h,returnPartialData:!0,optimistic:!1}),f=p.result;if(p.complete&&f){var m=c(f,{mutationResult:r,queryName:u&&op(u)||void 0,queryVariables:h});m&&o.push({result:m,dataId:"ROOT_QUERY",query:u,variables:h})}}}))}if(o.length>0||(e.refetchQueries||"").length>0||e.update||e.onQueryUpdated||e.removeOptimistic){var c=[];if(this.refetchQueries({updateCache:function(t){i||o.forEach((function(e){return t.write(e)}));var s,a=e.update,l=!(EY(s=r)||function(e){return"hasNext"in e&&"data"in e}(s))||EY(r)&&!r.hasNext;if(a){if(!i){var c=t.diff({id:"ROOT_MUTATION",query:n.getDocumentInfo(e.document).asQuery,variables:e.variables,optimistic:!1,returnPartialData:!0});c.complete&&("incremental"in(r=Kd(Kd({},r),{data:c.result}))&&delete r.incremental,"hasNext"in r&&delete r.hasNext)}l&&a(t,r,{context:e.context,variables:e.variables})}i||e.keepRootFields||!l||t.modify({id:"ROOT_MUTATION",fields:function(e,t){var n=t.fieldName,r=t.DELETE;return"__typename"===n?e:r}})},include:e.refetchQueries,optimistic:!1,removeOptimistic:e.removeOptimistic,onQueryUpdated:e.onQueryUpdated||null}).forEach((function(e){return c.push(e)})),e.awaitRefetchQueries||e.onQueryUpdated)return Promise.all(c).then((function(){return r}))}return Promise.resolve(r)},e.prototype.markMutationOptimistic=function(e,t){var n=this,r="function"===typeof e?e(t.variables,{IGNORE:JY}):e;return r!==JY&&(this.cache.recordOptimisticTransaction((function(e){try{n.markMutationResult(Kd(Kd({},t),{result:{data:r}}),e)}catch(o){!1!==globalThis.__DEV__&&fu.error(o)}}),t.mutationId),!0)},e.prototype.fetchQuery=function(e,t,n){return this.fetchConcastWithInfo(this.getOrCreateQuery(e),t,n).concast.promise},e.prototype.getQueryStore=function(){var e=Object.create(null);return this.queries.forEach((function(t,n){e[n]={variables:t.variables,networkStatus:t.networkStatus,networkError:t.networkError,graphQLErrors:t.graphQLErrors}})),e},e.prototype.resetErrors=function(e){var t=this.queries.get(e);t&&(t.networkError=void 0,t.graphQLErrors=[])},e.prototype.transform=function(e){return this.documentTransform.transformDocument(e)},e.prototype.getDocumentInfo=function(e){var t=this.transformCache;if(!t.has(e)){var n={hasClientExports:zp(e),hasForcedResolvers:this.localState.shouldForceResolvers(e),hasNonreactiveDirective:$p(["nonreactive"],e),nonReactiveQuery:cK(e),clientQuery:this.localState.clientQuery(e),serverQuery:iK([{name:"client",remove:!0},{name:"connection"},{name:"nonreactive"},{name:"unmask"}],e),defaultVars:cp(rp(e)),asQuery:Kd(Kd({},e),{definitions:e.definitions.map((function(e){return"OperationDefinition"===e.kind&&"query"!==e.operation?Kd(Kd({},e),{operation:"query"}):e}))})};t.set(e,n)}return t.get(e)},e.prototype.getVariables=function(e,t){return Kd(Kd({},this.getDocumentInfo(e).defaultVars),t)},e.prototype.watchQuery=function(e){var t=this.transform(e.query);"undefined"===typeof(e=Kd(Kd({},e),{variables:this.getVariables(t,e.variables)})).notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var n=new QY(this),r=new Pf({queryManager:this,queryInfo:n,options:e});return r.lastQuery=t,Pf.inactiveOnCreation.getValue()||this.queries.set(r.queryId,n),n.init({document:t,observableQuery:r,variables:r.variables}),r},e.prototype.query=function(e,t){var n=this;void 0===t&&(t=this.generateQueryId()),fu(e.query,30),fu("Document"===e.query.kind,31),fu(!e.returnPartialData,32),fu(!e.pollInterval,33);var r=this.transform(e.query);return this.fetchQuery(t,Kd(Kd({},e),{query:r})).then((function(o){return o&&Kd(Kd({},o),{data:n.maskOperation({document:r,data:o.data,fetchPolicy:e.fetchPolicy,id:t})})})).finally((function(){return n.stopQuery(t)}))},e.prototype.generateQueryId=function(){return String(this.queryIdCounter++)},e.prototype.generateRequestId=function(){return this.requestIdCounter++},e.prototype.generateMutationId=function(){return String(this.mutationIdCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){var t=this.queries.get(e);t&&t.stop()},e.prototype.clearStore=function(e){return void 0===e&&(e={discardWatches:!0}),this.cancelPendingFetches(mu(34)),this.queries.forEach((function(e){e.observableQuery?e.networkStatus=Xu.loading:e.stop()})),this.mutationStore&&(this.mutationStore=Object.create(null)),this.cache.reset(e)},e.prototype.getObservableQueries=function(e){var t=this;void 0===e&&(e="active");var n=new Map,r=new Map,o=new Map,i=new Set;return Array.isArray(e)&&e.forEach((function(e){if("string"===typeof e)r.set(e,e),o.set(e,!1);else if(qu(s=e)&&"Document"===s.kind&&Array.isArray(s.definitions)){var n=bK(t.transform(e));r.set(n,op(e)),o.set(n,!1)}else qu(e)&&e.query&&i.add(e);var s})),this.queries.forEach((function(t,r){var i=t.observableQuery,s=t.document;if(i){if("all"===e)return void n.set(r,i);var a=i.queryName;if("standby"===i.options.fetchPolicy||"active"===e&&!i.hasObservers())return;("active"===e||a&&o.has(a)||s&&o.has(bK(s)))&&(n.set(r,i),a&&o.set(a,!0),s&&o.set(bK(s),!0))}})),i.size&&i.forEach((function(e){var r=uu("legacyOneTimeQuery"),o=t.getOrCreateQuery(r).init({document:e.query,variables:e.variables}),i=new Pf({queryManager:t,queryInfo:o,options:Kd(Kd({},e),{fetchPolicy:"network-only"})});fu(i.queryId===r),o.setObservableQuery(i),n.set(r,i)})),!1!==globalThis.__DEV__&&o.size&&o.forEach((function(e,t){if(!e){var n=r.get(t);n?!1!==globalThis.__DEV__&&fu.warn(35,n):!1!==globalThis.__DEV__&&fu.warn(36)}})),n},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var n=[];return this.getObservableQueries(e?"all":"active").forEach((function(r,o){var i=r.options.fetchPolicy;r.resetLastResults(),(e||"standby"!==i&&"cache-only"!==i)&&n.push(r.refetch()),(t.queries.get(o)||r.queryInfo).setDiff(null)})),this.broadcastQueries(),Promise.all(n)},e.prototype.startGraphQLSubscription=function(e){var t=this,n=e.query,r=e.variables,o=e.fetchPolicy,i=e.errorPolicy,s=void 0===i?"none":i,a=e.context,l=void 0===a?{}:a,c=e.extensions,d=void 0===c?{}:c;n=this.transform(n),r=this.getVariables(n,r);var u=function(e){return t.getObservableFromLink(n,l,e,d).map((function(r){"no-cache"!==o&&(XY(r,s)&&t.cache.write({query:n,result:r.data,dataId:"ROOT_SUBSCRIPTION",variables:e}),t.broadcastQueries());var i=HY(r),a=Yu(r);if(i||a){var l={};if(i&&(l.graphQLErrors=r.errors),a&&(l.protocolErrors=r.extensions[Ku]),"none"===s||a)throw new Zu(l)}return"ignore"===s&&delete r.errors,r}))};if(this.getDocumentInfo(n).hasClientExports){var h=this.localState.addExportedVariables(n,r,l).then(u);return new Lp((function(e){var t=null;return h.then((function(n){return t=n.subscribe(e)}),e.error),function(){return t&&t.unsubscribe()}}))}return u(r)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){var t;this.fetchCancelFns.delete(e),this.queries.has(e)&&(null===(t=this.queries.get(e))||void 0===t||t.stop(),this.queries.delete(e))},e.prototype.broadcastQueries=function(){this.onBroadcast&&this.onBroadcast(),this.queries.forEach((function(e){var t;return null===(t=e.observableQuery)||void 0===t?void 0:t.notify()}))},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,n,r,o){var i,s,a=this;void 0===o&&(o=null!==(i=null===t||void 0===t?void 0:t.queryDeduplication)&&void 0!==i?i:this.queryDeduplication);var l=this.getDocumentInfo(e),c=l.serverQuery,d=l.clientQuery;if(c){var u=this.inFlightLinkObservables,h=this.link,p={query:c,variables:n,operationName:op(c)||void 0,context:this.prepareContext(Kd(Kd({},t),{forceFetch:!o})),extensions:r};if(t=p.context,o){var f=bK(c),m=Wh(n),g=u.lookup(f,m);if(!(s=g.observable)){var v=new qY([VY(h,p)]);s=g.observable=v,v.beforeNext((function e(t,n){"next"===t&&"hasNext"in n&&n.hasNext?v.beforeNext(e):u.remove(f,m)}))}}else s=new qY([VY(h,p)])}else s=new qY([Lp.of({data:{}})]),t=this.prepareContext(t);return d&&(s=WY(s,(function(e){return a.localState.runResolvers({document:d,remoteResult:e,context:t,variables:n})}))),s},e.prototype.getResultsFromLink=function(e,t,n){var r=e.lastRequestId=this.generateRequestId(),o=this.cache.transformForLink(n.query);return WY(this.getObservableFromLink(o,n.context,n.variables),(function(i){var s=UY(i),a=s.length>0,l=n.errorPolicy;if(r>=e.lastRequestId){if(a&&"none"===l)throw e.markError(new Zu({graphQLErrors:s}));e.markResult(i,o,n,t),e.markReady()}var c={data:i.data,loading:!1,networkStatus:Xu.ready};return a&&"none"===l&&(c.data=void 0),a&&"ignore"!==l&&(c.errors=s,c.networkStatus=Xu.error),c}),(function(t){var n=Qu(t)?t:new Zu({networkError:t});throw r>=e.lastRequestId&&e.markError(n),n}))},e.prototype.fetchConcastWithInfo=function(e,t,n,r){var o=this;void 0===n&&(n=Xu.loading),void 0===r&&(r=t.query);var i,s,a=this.getVariables(r,t.variables),l=this.defaultOptions.watchQuery,c=t.fetchPolicy,d=void 0===c?l&&l.fetchPolicy||"cache-first":c,u=t.errorPolicy,h=void 0===u?l&&l.errorPolicy||"none":u,p=t.returnPartialData,f=void 0!==p&&p,m=t.notifyOnNetworkStatusChange,g=void 0!==m&&m,v=t.context,y=void 0===v?{}:v,x=Object.assign({},t,{query:r,variables:a,fetchPolicy:d,errorPolicy:h,returnPartialData:f,notifyOnNetworkStatusChange:g,context:y}),b=function(r){x.variables=r;var i=o.fetchQueryByPolicy(e,x,n);return"standby"!==x.fetchPolicy&&i.sources.length>0&&e.observableQuery&&e.observableQuery.applyNextFetchPolicy("after-fetch",t),i},w=function(){return o.fetchCancelFns.delete(e.queryId)};if(this.fetchCancelFns.set(e.queryId,(function(e){w(),setTimeout((function(){return i.cancel(e)}))})),this.getDocumentInfo(x.query).hasClientExports)i=new qY(this.localState.addExportedVariables(x.query,x.variables,x.context).then(b).then((function(e){return e.sources}))),s=!0;else{var k=b(x.variables);s=k.fromLink,i=new qY(k.sources)}return i.promise.then(w,w),{concast:i,fromLink:s}},e.prototype.refetchQueries=function(e){var t=this,n=e.updateCache,r=e.include,o=e.optimistic,i=void 0!==o&&o,s=e.removeOptimistic,a=void 0===s?i?uu("refetchQueries"):void 0:s,l=e.onQueryUpdated,c=new Map;r&&this.getObservableQueries(r).forEach((function(e,n){c.set(n,{oq:e,lastDiff:(t.queries.get(n)||e.queryInfo).getDiff()})}));var d=new Map;return n&&this.cache.batch({update:n,optimistic:i&&a||!1,removeOptimistic:a,onWatchUpdated:function(e,t,n){var r=e.watcher instanceof QY&&e.watcher.observableQuery;if(r){if(l){c.delete(r.queryId);var o=l(r,t,n);return!0===o&&(o=r.refetch()),!1!==o&&d.set(r,o),o}null!==l&&c.set(r.queryId,{oq:r,lastDiff:n,diff:t})}}}),c.size&&c.forEach((function(e,n){var r,o=e.oq,i=e.lastDiff,s=e.diff;l&&(s||(s=t.cache.diff(o.queryInfo.getDiffOptions())),r=l(o,s,i)),l&&!0!==r||(r=o.refetch()),!1!==r&&d.set(o,r),n.indexOf("legacyOneTimeQuery")>=0&&t.stopQueryNoBroadcast(n)})),a&&this.cache.removeOptimistic(a),d},e.prototype.maskOperation=function(e){var t,n,r,o=e.document,i=e.data;if(!1!==globalThis.__DEV__){var s=e.fetchPolicy,a=e.id,l=null===(t=rp(o))||void 0===t?void 0:t.operation,c=(null!==(n=null===l||void 0===l?void 0:l[0])&&void 0!==n?n:"o")+a;!this.dataMasking||"no-cache"!==s||function(e){var t=!0;return uh(e,{FragmentSpread:function(e){if(!(t=!!e.directives&&e.directives.some((function(e){return"unmask"===e.name.value}))))return dh}}),t}(o)||this.noCacheWarningsByQueryId.has(c)||(this.noCacheWarningsByQueryId.add(c),!1!==globalThis.__DEV__&&fu.warn(37,null!==(r=op(o))&&void 0!==r?r:"Unnamed ".concat(null!==l&&void 0!==l?l:"operation")))}return this.dataMasking?function(e,t,n){var r;if(!n.fragmentMatches)return!1!==globalThis.__DEV__&&Uq(),e;var o=rp(t);return fu(o,51),null==e?e:Gq(e,o.selectionSet,{operationType:o.operation,operationName:null===(r=o.name)||void 0===r?void 0:r.value,fragmentMap:fh(ip(t)),cache:n,mutableTargets:new Bq,knownChanged:new Vq})}(i,o,this.cache):i},e.prototype.maskFragment=function(e){var t=e.data,n=e.fragment,r=e.fragmentName;return this.dataMasking?Yq(t,n,this.cache,r):t},e.prototype.fetchQueryByPolicy=function(e,t,n){var r=this,o=t.query,i=t.variables,s=t.fetchPolicy,a=t.refetchWritePolicy,l=t.errorPolicy,c=t.returnPartialData,d=t.context,u=t.notifyOnNetworkStatusChange,h=e.networkStatus;e.init({document:o,variables:i,networkStatus:n});var p=function(){return e.getDiff()},f=function(t,n){void 0===n&&(n=e.networkStatus||Xu.loading);var s=t.result;!1===globalThis.__DEV__||c||Du(s,{})||zf(t.missing);var a=function(e){return Lp.of(Kd({data:e,loading:Ju(n),networkStatus:n},t.complete?null:{partial:!0}))};return s&&r.getDocumentInfo(o).hasForcedResolvers?r.localState.runResolvers({document:o,remoteResult:{data:s},context:d,variables:i,onlyRunForcedResolvers:!0}).then((function(e){return a(e.data||void 0)})):"none"===l&&n===Xu.refetch&&Array.isArray(t.missing)?a(void 0):a(s)},m="no-cache"===s?0:n===Xu.refetch&&"merge"!==a?1:2,g=function(){return r.getResultsFromLink(e,m,{query:o,variables:i,context:d,fetchPolicy:s,errorPolicy:l})},v=u&&"number"===typeof h&&h!==n&&Ju(n);switch(s){default:case"cache-first":return(y=p()).complete?{fromLink:!1,sources:[f(y,e.markReady())]}:c||v?{fromLink:!0,sources:[f(y),g()]}:{fromLink:!0,sources:[g()]};case"cache-and-network":var y;return(y=p()).complete||c||v?{fromLink:!0,sources:[f(y),g()]}:{fromLink:!0,sources:[g()]};case"cache-only":return{fromLink:!1,sources:[f(p(),e.markReady())]};case"network-only":return v?{fromLink:!0,sources:[f(p()),g()]}:{fromLink:!0,sources:[g()]};case"no-cache":return v?{fromLink:!0,sources:[f(e.getDiff()),g()]}:{fromLink:!0,sources:[g()]};case"standby":return{fromLink:!1,sources:[]}}},e.prototype.getOrCreateQuery=function(e){return e&&!this.queries.has(e)&&this.queries.set(e,new QY(this,e)),this.queries.get(e)},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return Kd(Kd(Kd({},this.defaultContext),t),{clientAwareness:this.clientAwareness})},e}();function tQ(e){return e.kind===ch.FIELD||e.kind===ch.FRAGMENT_SPREAD||e.kind===ch.INLINE_FRAGMENT}var nQ=function(){function e(e){var t=e.cache,n=e.client,r=e.resolvers,o=e.fragmentMatcher;this.selectionsToResolveCache=new WeakMap,this.cache=t,n&&(this.client=n),r&&this.addResolvers(r),o&&this.setFragmentMatcher(o)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach((function(e){t.resolvers=Pq(t.resolvers,e)})):this.resolvers=Pq(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){return Qd(this,arguments,void 0,(function(e){var t=e.document,n=e.remoteResult,r=e.context,o=e.variables,i=e.onlyRunForcedResolvers,s=void 0!==i&&i;return Xd(this,(function(e){return t?[2,this.resolveDocument(t,n.data,r,o,this.fragmentMatcher,s).then((function(e){return Kd(Kd({},n),{data:e.result})}))]:[2,n]}))}))},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){return $p(["client"],e)&&this.resolvers?e:null},e.prototype.serverQuery=function(e){return lK(e)},e.prototype.prepareContext=function(e){var t=this.cache;return Kd(Kd({},e),{cache:t,getCacheKey:function(e){return t.identify(e)}})},e.prototype.addExportedVariables=function(e){return Qd(this,arguments,void 0,(function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),Xd(this,(function(r){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(n),t).then((function(e){return Kd(Kd({},t),e.exportedVariables)}))]:[2,Kd({},t)]}))}))},e.prototype.shouldForceResolvers=function(e){var t=!1;return uh(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some((function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})),t))return dh}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:aK(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t){return Qd(this,arguments,void 0,(function(e,t,n,r,o,i){var s,a,l,c,d,u,h,p,f,m;return void 0===n&&(n={}),void 0===r&&(r={}),void 0===o&&(o=function(){return!0}),void 0===i&&(i=!1),Xd(this,(function(g){return s=lp(e),a=ip(e),l=fh(a),c=this.collectSelectionsToResolve(s,l),d=s.operation,u=d?d.charAt(0).toUpperCase()+d.slice(1):"Query",p=(h=this).cache,f=h.client,m={fragmentMap:l,context:Kd(Kd({},n),{cache:p,client:f}),variables:r,fragmentMatcher:o,defaultOperationType:u,exportedVariables:{},selectionsToResolve:c,onlyRunForcedResolvers:i},[2,this.resolveSelectionSet(s.selectionSet,false,t,m).then((function(e){return{result:e,exportedVariables:m.exportedVariables}}))]}))}))},e.prototype.resolveSelectionSet=function(e,t,n,r){return Qd(this,void 0,void 0,(function(){var o,i,s,a,l,c=this;return Xd(this,(function(d){return o=r.fragmentMap,i=r.context,s=r.variables,a=[n],l=function(e){return Qd(c,void 0,void 0,(function(){var l,c;return Xd(this,(function(d){return(t||r.selectionsToResolve.has(e))&&Pp(e,s)?tp(e)?[2,this.resolveField(e,t,n,r).then((function(t){var n;"undefined"!==typeof t&&a.push(((n={})[Jh(e)]=t,n))}))]:(!function(e){return"InlineFragment"===e.kind}(e)?(l=o[e.name.value],fu(l,19,e.name.value)):l=e,l&&l.typeCondition&&(c=l.typeCondition.name.value,r.fragmentMatcher(n,c,i))?[2,this.resolveSelectionSet(l.selectionSet,t,n,r).then((function(e){a.push(e)}))]:[2]):[2]}))}))},[2,Promise.all(e.selections.map(l)).then((function(){return $q(a)}))]}))}))},e.prototype.resolveField=function(e,t,n,r){return Qd(this,void 0,void 0,(function(){var o,i,s,a,l,c,d,u,h,p=this;return Xd(this,(function(f){return n?(o=r.variables,i=e.name.value,s=Jh(e),a=i!==s,l=n[s]||n[i],c=Promise.resolve(l),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(d=n.__typename||r.defaultOperationType,(u=this.resolvers&&this.resolvers[d])&&(h=u[a?i:s])&&(c=Promise.resolve(Ux.withValue(this.cache,h,[n,Zh(e,o),r.context,{field:e,fragmentMap:r.fragmentMap}])))),[2,c.then((function(n){var o,i;if(void 0===n&&(n=l),e.directives&&e.directives.forEach((function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach((function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=n)}))})),!e.selectionSet)return n;if(null==n)return n;var s=null!==(i=null===(o=e.directives)||void 0===o?void 0:o.some((function(e){return"client"===e.name.value})))&&void 0!==i&&i;return Array.isArray(n)?p.resolveSubSelectedArray(e,t||s,n,r):e.selectionSet?p.resolveSelectionSet(e.selectionSet,t||s,n,r):void 0}))]):[2,null]}))}))},e.prototype.resolveSubSelectedArray=function(e,t,n,r){var o=this;return Promise.all(n.map((function(n){return null===n?null:Array.isArray(n)?o.resolveSubSelectedArray(e,t,n,r):e.selectionSet?o.resolveSelectionSet(e.selectionSet,t,n,r):void 0})))},e.prototype.collectSelectionsToResolve=function(e,t){var n=function(e){return!Array.isArray(e)},r=this.selectionsToResolveCache;return function e(o){if(!r.has(o)){var i=new Set;r.set(o,i),uh(o,{Directive:function(e,t,r,o,s){"client"===e.name.value&&s.forEach((function(e){n(e)&&tQ(e)&&i.add(e)}))},FragmentSpread:function(r,o,s,a,l){var c=t[r.name.value];fu(c,20,r.name.value);var d=e(c);d.size>0&&(l.forEach((function(e){n(e)&&tQ(e)&&i.add(e)})),i.add(r),d.forEach((function(e){i.add(e)})))}})}return r.get(o)}(e)},e}(),rQ=!1,oQ=function(){function e(e){var t,n=this;if(this.resetStoreCallbacks=[],this.clearStoreCallbacks=[],!e.cache)throw mu(16);var r=e.uri,o=e.credentials,i=e.headers,s=e.cache,a=e.documentTransform,l=e.ssrMode,c=void 0!==l&&l,d=e.ssrForceFetchDelay,u=void 0===d?0:d,h=e.connectToDevTools,p=e.queryDeduplication,f=void 0===p||p,m=e.defaultOptions,g=e.defaultContext,v=e.assumeImmutableResults,y=void 0===v?s.assumeImmutableResults:v,x=e.resolvers,b=e.typeDefs,w=e.fragmentMatcher,k=e.name,N=e.version,_=e.devtools,S=e.dataMasking,C=e.link;C||(C=r?new FY({uri:r,credentials:o,headers:i}):kY.empty()),this.link=C,this.cache=s,this.disableNetworkFetches=c||u>0,this.queryDeduplication=f,this.defaultOptions=m||Object.create(null),this.typeDefs=b,this.devtoolsConfig=Kd(Kd({},_),{enabled:null!==(t=null===_||void 0===_?void 0:_.enabled)&&void 0!==t?t:h}),void 0===this.devtoolsConfig.enabled&&(this.devtoolsConfig.enabled=!1!==globalThis.__DEV__),u&&setTimeout((function(){return n.disableNetworkFetches=!1}),u),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.watchFragment=this.watchFragment.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this),this.version=au,this.localState=new nQ({cache:s,client:this,resolvers:x,fragmentMatcher:w}),this.queryManager=new eQ({cache:this.cache,link:this.link,defaultOptions:this.defaultOptions,defaultContext:g,documentTransform:a,queryDeduplication:f,ssrMode:c,dataMasking:!!S,clientAwareness:{name:k,version:N},localState:this.localState,assumeImmutableResults:y,onBroadcast:this.devtoolsConfig.enabled?function(){n.devToolsHookCb&&n.devToolsHookCb({action:{},state:{queries:n.queryManager.getQueryStore(),mutations:n.queryManager.mutationStore||{}},dataWithOptimisticResults:n.cache.extract(!0)})}:void 0}),this.devtoolsConfig.enabled&&this.connectToDevTools()}return e.prototype.connectToDevTools=function(){if("undefined"!==typeof window){var e=window,t=Symbol.for("apollo.devtools");(e[t]=e[t]||[]).push(this),e.__APOLLO_CLIENT__=this,rQ||!1===globalThis.__DEV__||(rQ=!0,window.document&&window.top===window.self&&/^(https?|file):$/.test(window.location.protocol)&&setTimeout((function(){if(!window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__){var e=window.navigator,t=e&&e.userAgent,n=void 0;"string"===typeof t&&(t.indexOf("Chrome/")>-1?n="https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm":t.indexOf("Firefox/")>-1&&(n="https://addons.mozilla.org/en-US/firefox/addon/apollo-developer-tools/")),n&&!1!==globalThis.__DEV__&&fu.log("Download the Apollo DevTools for a better development experience: %s",n)}}),1e4))}},Object.defineProperty(e.prototype,"documentTransform",{get:function(){return this.queryManager.documentTransform},enumerable:!1,configurable:!0}),e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=Hu(this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=Kd(Kd({},e),{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=Hu(this.defaultOptions.query,e)),fu("cache-and-network"!==e.fetchPolicy,17),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=Kd(Kd({},e),{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=Hu(this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){var t=this,n=this.queryManager.generateQueryId();return this.queryManager.startGraphQLSubscription(e).map((function(r){return Kd(Kd({},r),{data:t.queryManager.maskOperation({document:e.query,data:r.data,fetchPolicy:e.fetchPolicy,id:n})})}))},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.watchFragment=function(e){var t;return this.cache.watchFragment(Kd(Kd({},e),((t={})[Symbol.for("apollo.dataMasking")]=this.queryManager.dataMasking,t)))},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return!1!==e.broadcast&&this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return VY(this.link,e)},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!1})})).then((function(){return Promise.all(e.resetStoreCallbacks.map((function(e){return e()})))})).then((function(){return e.reFetchObservableQueries()}))},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then((function(){return e.queryManager.clearStore({discardWatches:!0})})).then((function(){return Promise.all(e.clearStoreCallbacks.map((function(e){return e()})))}))},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter((function(t){return t!==e}))}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.refetchQueries=function(e){var t=this.queryManager.refetchQueries(e),n=[],r=[];t.forEach((function(e,t){n.push(t),r.push(e)}));var o=Promise.all(r);return o.queries=n,o.results=r,o.catch((function(e){!1!==globalThis.__DEV__&&fu.debug(18,e)})),o},e.prototype.getObservableQueries=function(e){return void 0===e&&(e="active"),this.queryManager.getObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e.prototype.setLink=function(e){this.link=this.queryManager.link=e},Object.defineProperty(e.prototype,"defaultContext",{get:function(){return this.queryManager.defaultContext},enumerable:!1,configurable:!0}),e}();!1!==globalThis.__DEV__&&(oQ.prototype.getMemoryInternals=Rh);var iQ=kY.from,sQ=function(e){var t=e.client,n=e.children,r=Gu(),o=Hd.useContext(r),i=Hd.useMemo((function(){return Kd(Kd({},o),{client:t||o.client})}),[o,t]);return fu(i.client,55),Hd.createElement(r.Provider,{value:i},n)};var aQ=function(e){function t(t){var n=e.call(this)||this;return n.client=t,n}return qd(t,e),t.prototype.request=function(e){var t=this;return new Lp((function(n){return t.client.subscribe(Kd(Kd({},e),{query:bK(e.query)}),{next:n.next.bind(n),complete:n.complete.bind(n),error:function(e){if(e instanceof Error)return n.error(e);var t,r=qu(t=e)&&"code"in t&&"reason"in t;return r||function(e){var t;return qu(e)&&(null===(t=e.target)||void 0===t?void 0:t.readyState)===WebSocket.CLOSED}(e)?n.error(new Error("Socket closed".concat(r?" with event ".concat(e.code):"").concat(r?" ".concat(e.reason):""))):n.error(new Zu({graphQLErrors:Array.isArray(e)?e:[e]}))}})}))},t}(kY);function lQ(e,t){this.v=e,this.k=t}function cQ(e){var t,n;function r(t,n){try{var i=e[t](n),s=i.value,a=s instanceof lQ;Promise.resolve(a?s.v:s).then((function(n){if(a){var l="return"===t?"return":"next";if(!s.k||n.done)return r(l,n);n=e[l](n).value}o(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise((function(i,s){var a={key:e,arg:o,resolve:i,reject:s,next:null};n?n=n.next=a:(t=n=a,r(e,o))}))},"function"!=typeof e.return&&(this.return=void 0)}function dQ(e){return null===e?"null":Array.isArray(e)?"array":typeof e}function uQ(e){return"object"===dQ(e)}function hQ(e,t){return e.length<124?e:t}cQ.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},cQ.prototype.next=function(e){return this._invoke("next",e)},cQ.prototype.throw=function(e){return this._invoke("throw",e)},cQ.prototype.return=function(e){return this._invoke("return",e)};var pQ=(e=>(e[e.InternalServerError=4500]="InternalServerError",e[e.InternalClientError=4005]="InternalClientError",e[e.BadRequest=4400]="BadRequest",e[e.BadResponse=4004]="BadResponse",e[e.Unauthorized=4401]="Unauthorized",e[e.Forbidden=4403]="Forbidden",e[e.SubprotocolNotAcceptable=4406]="SubprotocolNotAcceptable",e[e.ConnectionInitialisationTimeout=4408]="ConnectionInitialisationTimeout",e[e.ConnectionAcknowledgementTimeout=4504]="ConnectionAcknowledgementTimeout",e[e.SubscriberAlreadyExists=4409]="SubscriberAlreadyExists",e[e.TooManyInitialisationRequests=4429]="TooManyInitialisationRequests",e))(pQ||{}),fQ=(e=>(e.ConnectionInit="connection_init",e.ConnectionAck="connection_ack",e.Ping="ping",e.Pong="pong",e.Subscribe="subscribe",e.Next="next",e.Error="error",e.Complete="complete",e))(fQ||{});function mQ(e){if(!uQ(e))throw new Error("Message is expected to be an object, but got ".concat(dQ(e)));if(!e.type)throw new Error("Message is missing the 'type' property");if("string"!==typeof e.type)throw new Error("Message is expects the 'type' property to be a string, but got ".concat(dQ(e.type)));switch(e.type){case"connection_init":case"connection_ack":case"ping":case"pong":if(null!=e.payload&&!uQ(e.payload))throw new Error('"'.concat(e.type,"\" message expects the 'payload' property to be an object or nullish or missing, but got \"").concat(e.payload,'"'));break;case"subscribe":if("string"!==typeof e.id)throw new Error('"'.concat(e.type,"\" message expects the 'id' property to be a string, but got ").concat(dQ(e.id)));if(!e.id)throw new Error('"'.concat(e.type,"\" message requires a non-empty 'id' property"));if(!uQ(e.payload))throw new Error('"'.concat(e.type,"\" message expects the 'payload' property to be an object, but got ").concat(dQ(e.payload)));if("string"!==typeof e.payload.query)throw new Error('"'.concat(e.type,"\" message payload expects the 'query' property to be a string, but got ").concat(dQ(e.payload.query)));if(null!=e.payload.variables&&!uQ(e.payload.variables))throw new Error('"'.concat(e.type,"\" message payload expects the 'variables' property to be a an object or nullish or missing, but got ").concat(dQ(e.payload.variables)));if(null!=e.payload.operationName&&"string"!==dQ(e.payload.operationName))throw new Error('"'.concat(e.type,"\" message payload expects the 'operationName' property to be a string or nullish or missing, but got ").concat(dQ(e.payload.operationName)));if(null!=e.payload.extensions&&!uQ(e.payload.extensions))throw new Error('"'.concat(e.type,"\" message payload expects the 'extensions' property to be a an object or nullish or missing, but got ").concat(dQ(e.payload.extensions)));break;case"next":if("string"!==typeof e.id)throw new Error('"'.concat(e.type,"\" message expects the 'id' property to be a string, but got ").concat(dQ(e.id)));if(!e.id)throw new Error('"'.concat(e.type,"\" message requires a non-empty 'id' property"));if(!uQ(e.payload))throw new Error('"'.concat(e.type,"\" message expects the 'payload' property to be an object, but got ").concat(dQ(e.payload)));break;case"error":if("string"!==typeof e.id)throw new Error('"'.concat(e.type,"\" message expects the 'id' property to be a string, but got ").concat(dQ(e.id)));if(!e.id)throw new Error('"'.concat(e.type,"\" message requires a non-empty 'id' property"));if(t=e.payload,!(Array.isArray(t)&&t.length>0&&t.every((e=>"message"in e))))throw new Error('"'.concat(e.type,"\" message expects the 'payload' property to be an array of GraphQL errors, but got ").concat(JSON.stringify(e.payload)));break;case"complete":if("string"!==typeof e.id)throw new Error('"'.concat(e.type,"\" message expects the 'id' property to be a string, but got ").concat(dQ(e.id)));if(!e.id)throw new Error('"'.concat(e.type,"\" message requires a non-empty 'id' property"));break;default:throw new Error("Invalid message 'type' property \"".concat(e.type,'"'))}var t;return e}function gQ(e,t){return mQ(e),JSON.stringify(e,t)}class vQ extends Error{constructor(){super(...arguments),o(this,"name","TerminatedCloseEvent"),o(this,"message","4499: Terminated"),o(this,"code",4499),o(this,"reason","Terminated"),o(this,"wasClean",!1)}}function yQ(e){return uQ(e)&&"code"in e&&"reason"in e}function xQ(e){return new kY((function(t,n){return new Lp((function(r){var o,i,s;try{o=n(t).subscribe({next:function(o){o.errors?s=e({graphQLErrors:o.errors,response:o,operation:t,forward:n}):Yu(o)&&(s=e({protocolErrors:o.extensions[Ku],response:o,operation:t,forward:n})),s?i=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.next(o)},error:function(o){(s=e({operation:t,networkError:o,graphQLErrors:o&&o.result&&o.result.errors||void 0,forward:n}))?i=s.subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}):r.error(o)},complete:function(){s||r.complete.bind(r)()}})}catch(zQ){e({networkError:zQ,operation:t,forward:n}),r.error(zQ)}return function(){o&&o.unsubscribe(),i&&o.unsubscribe()}}))}))}!function(e){function t(t){var n=e.call(this)||this;return n.link=xQ(t),n}qd(t,e),t.prototype.request=function(e,t){return this.link.request(e,t)}}(kY);var bQ=function(){function e(e,t,n,r,o){var i=this;this.observer=e,this.operation=t,this.forward=n,this.delayFor=r,this.retryIf=o,this.retryCount=0,this.currentSubscription=null,this.onError=function(e){return Qd(i,void 0,void 0,(function(){return Xd(this,(function(t){switch(t.label){case 0:return this.retryCount+=1,[4,this.retryIf(this.retryCount,this.operation,e)];case 1:return t.sent()?(this.scheduleRetry(this.delayFor(this.retryCount,this.operation,e)),[2]):(this.observer.error(e),[2])}}))}))},this.try()}return e.prototype.cancel=function(){this.currentSubscription&&this.currentSubscription.unsubscribe(),clearTimeout(this.timerId),this.timerId=void 0,this.currentSubscription=null},e.prototype.try=function(){var e=this;this.currentSubscription=this.forward(this.operation).subscribe({next:function(t){var n;if(Yu(t))return e.onError(new Zu({protocolErrors:t.extensions[Ku]})),void(null===(n=e.currentSubscription)||void 0===n||n.unsubscribe());e.observer.next(t)},error:this.onError,complete:this.observer.complete.bind(this.observer)})},e.prototype.scheduleRetry=function(e){var t=this;if(this.timerId)throw new Error("RetryLink BUG! Encountered overlapping retries");this.timerId=setTimeout((function(){t.timerId=void 0,t.try()}),e)},e}(),wQ=function(e){function t(t){var n=e.call(this)||this,r=t||{},o=r.attempts,i=r.delay;return n.delayFor="function"===typeof i?i:function(e){var t=e||{},n=t.initial,r=void 0===n?300:n,o=t.jitter,i=void 0===o||o,s=t.max,a=void 0===s?1/0:s,l=i?r:r/2;return function(e){var t=Math.min(a,l*Math.pow(2,e));return i&&(t=Math.random()*t),t}}(i),n.retryIf="function"===typeof o?o:function(e){var t=e||{},n=t.retryIf,r=t.max,o=void 0===r?5:r;return function(e,t,r){return!(e>=o)&&(n?n(r,t):!!r)}}(o),n}return qd(t,e),t.prototype.request=function(e,t){var n=this;return new Lp((function(r){var o=new bQ(r,e,t,n.delayFor,n.retryIf);return function(){o.cancel()}}))},t}(kY);class kQ extends Error{}function NQ(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return atob(t)}}function _Q(e,t){if("string"!==typeof e)throw new kQ("Invalid token specified: must be a string");t||(t={});const n=!0===t.header?0:1,r=e.split(".")[n];if("string"!==typeof r)throw new kQ("Invalid token specified: missing part #".concat(n+1));let o;try{o=NQ(r)}catch(zQ){throw new kQ("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(zQ.message,")"))}try{return JSON.parse(o)}catch(zQ){throw new kQ("Invalid token specified: invalid json for part #".concat(n+1," (").concat(zQ.message,")"))}}kQ.prototype.name="InvalidTokenError";let SQ=!1,CQ=new yY({typePolicies:{Query:{fields:{operationeventlog:{},callback:{}}}}}),jQ=new wQ({delay:{initial:2,max:10},attempts:{max:2,retryIf:(e,t)=>!!e}}),EQ=new FY({uri:window.location.origin+"/graphql/",options:{reconnect:!0,connectionParams:{headers:{Authorization:()=>"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}}}});const TQ=()=>{let e=localStorage.getItem("access_token");if(!e){let n=document.cookie;if(n&&""!==n){let r=n.split(";");for(let n=0;n<r.length;n++){let o=r[n].split("=");if(2!==o.length)console.log("bad number of cookie pieces","cookie",r[n]);else if("user"!==o[0].trim())console.log("unknown cookie","name",o[0].trim());else try{console.log("user cookie found, trying to parse");let t=decodeURIComponent(o[1].trim()),n=JSON.parse(atob(t));"access_token"in n?(dT(n),PQ(),e=localStorage.getItem("access_token")):(sT.warning("Invalid Authentication"),console.log("Error",n))}catch(t){console.log("error processing cookie value",t)}}}}if(e){const t=_Q(e);return!(tT().getTime()>1e3*t.exp)||(console.log("exp is expired: ",1e3*t.exp,tT().getTime()),!1)}return!1},AQ=(MQ=async(e,t)=>{let{headers:n}=t;for(;SQ;)await new Promise((e=>setTimeout(e,1e3)));let r=localStorage.getItem("access_token");if(r){let e=1e3*_Q(r).exp-tT(),t=18e5;if(TQ()){if(e<t&&e>0&&(console.log("token is at its half life or less, try to get a new token"),await OQ()))return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}}}else{if(console.log("token is no longer valid, try to get a new token"),await OQ())return{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}};console.log("JWT is no longer valid and failed to get new tokens"),uT()}}else console.log("no access token"),uT();return{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}}},new kY((function(e,t){var n=Yd(e,[]);return new Lp((function(r){var o,i=!1;return Promise.resolve(n).then((function(t){return MQ(t,e.getContext())})).then(e.setContext).then((function(){i||(o=t(e).subscribe({next:r.next.bind(r),error:r.error.bind(r),complete:r.complete.bind(r)}))})).catch(r.error.bind(r)),function(){i=!0,o&&o.unsubscribe()}}))})));var MQ;const RQ=xQ((e=>{let{graphQLErrors:t,networkError:n}=e;console.log("errors?");try{if(t){console.log("[graphQLError]",t);for(let e of t)switch(e.extensions.code){case"forbidden":case"access-denied":sT.error(e.message);break;case"start-failed":console.log("got start-failed error in graphql"),console.log("would have asked for new token, but auth link will handle it");case"validation-failed":return void console.log(e);default:console.log(e),sT.error(e.message)}}if(n){if(console.log("[Network error]",n),console.log(n.extensions,n.message),void 0===n.extensions)return void aT(s(s({},aT()),{},{badConnection:!0}));switch(n.extensions.code){case"access-denied":sT.warning("Access Denied");break;case"start-failed":console.log("got start-failed error in network"),uT(),window.location="/new/login";break;default:console.log(n)}}}catch(r){return sT.error("Failed to connect to Mythic, please refresh"),console.log(r),PQ(),void(window.location="/new/login")}})),OQ=async()=>{SQ=!0;const e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"},body:JSON.stringify({refresh_token:localStorage.getItem("refresh_token"),access_token:localStorage.getItem("access_token")})};try{const t=await fetch("/refresh",e);return t.ok?t.json().then((e=>"access_token"in e?((e=>{localStorage.setItem("access_token",e.access_token),localStorage.setItem("refresh_token",e.refresh_token);let t=new Date;const n=new Date(e.user.current_utc_time).getTime()-t.getTime();let r=s({},aT().user);r.server_skew=n,r.login_time=t,aT({loggedIn:!0,access_token:e.access_token,refresh_token:e.refresh_token,user:s({},r)}),localStorage.setItem("user",JSON.stringify(r))})(e),console.log("successfully got new access_token"),SQ=!1,!0):(console.log("calling FailedRefresh from GetNewToken call"),uT(),SQ=!1,!1))).catch((e=>(console.log("Error trying to get json response in GetNewToken",e),console.log(t),uT(),SQ=!1,!1))):403!==t.status||(uT(),SQ=!1,!1)}catch(t){return console.log(t),uT(),SQ=!1,!1}},IQ=function(e){const{url:t,connectionParams:n,lazy:r=!0,onNonLazyError:o=console.error,lazyCloseTimeout:i=0,keepAlive:s=0,disablePong:a,connectionAckWaitTimeout:l=0,retryAttempts:c=5,retryWait:d=async function(e){const t=Math.pow(2,e);await new Promise((e=>setTimeout(e,1e3*t+Math.floor(2700*Math.random()+300))))},shouldRetry:u=yQ,on:h,webSocketImpl:p,generateID:f=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},jsonMessageReplacer:m,jsonMessageReviver:g}=e;let v;if(p){if(!("function"===typeof(y=p)&&"constructor"in y&&"CLOSED"in y&&"CLOSING"in y&&"CONNECTING"in y&&"OPEN"in y))throw new Error("Invalid WebSocket implementation provided");v=p}else"undefined"!==typeof WebSocket?v=WebSocket:"undefined"!==typeof global?v=global.WebSocket||global.MozWebSocket:"undefined"!==typeof window&&(v=window.WebSocket||window.MozWebSocket);var y;if(!v)throw new Error("WebSocket implementation missing; on Node you can `import WebSocket from 'ws';` and pass `webSocketImpl: WebSocket` to `createClient`");const x=v,b=(()=>{const e=(()=>{const e={};return{on:(t,n)=>(e[t]=n,()=>{delete e[t]}),emit(t){var n;"id"in t&&(null===(n=e[t.id])||void 0===n||n.call(e,t))}}})(),t={connecting:null!==h&&void 0!==h&&h.connecting?[h.connecting]:[],opened:null!==h&&void 0!==h&&h.opened?[h.opened]:[],connected:null!==h&&void 0!==h&&h.connected?[h.connected]:[],ping:null!==h&&void 0!==h&&h.ping?[h.ping]:[],pong:null!==h&&void 0!==h&&h.pong?[h.pong]:[],message:null!==h&&void 0!==h&&h.message?[e.emit,h.message]:[e.emit],closed:null!==h&&void 0!==h&&h.closed?[h.closed]:[],error:null!==h&&void 0!==h&&h.error?[h.error]:[]};return{onMessage:e.on,on(e,n){const r=t[e];return r.push(n),()=>{r.splice(r.indexOf(n),1)}},emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(const i of[...t[e]])i(...r)}}})();function w(e){const t=[b.on("error",(n=>{t.forEach((e=>e())),e(n)})),b.on("closed",(n=>{t.forEach((e=>e())),e(n)}))]}let k,N,_=0,S=!1,C=0,j=!1;async function E(){clearTimeout(N);const[e,r]=await(null!==k&&void 0!==k?k:k=new Promise(((e,r)=>(async()=>{if(S){if(await d(C),!_)return k=void 0,r({code:1e3,reason:"All Subscriptions Gone"});C++}b.emit("connecting",S);const o=new x("function"===typeof t?await t():t,"graphql-transport-ws");let i,c;function u(){isFinite(s)&&s>0&&(clearTimeout(c),c=setTimeout((()=>{o.readyState===x.OPEN&&(o.send(gQ({type:fQ.Ping})),b.emit("ping",!1,void 0))}),s))}w((e=>{k=void 0,clearTimeout(i),clearTimeout(c),r(e),e instanceof vQ&&(o.close(4499,"Terminated"),o.onerror=null,o.onclose=null)})),o.onerror=e=>b.emit("error",e),o.onclose=e=>b.emit("closed",e),o.onopen=async()=>{try{b.emit("opened",o);const e="function"===typeof n?await n():n;if(o.readyState!==x.OPEN)return;o.send(gQ(e?{type:fQ.ConnectionInit,payload:e}:{type:fQ.ConnectionInit},m)),isFinite(l)&&l>0&&(i=setTimeout((()=>{o.close(pQ.ConnectionAcknowledgementTimeout,"Connection acknowledgement timeout")}),l)),u()}catch(e){b.emit("error",e),o.close(pQ.InternalClientError,hQ(e instanceof Error?e.message:String(e),"Internal client error"))}};let h=!1;o.onmessage=t=>{let{data:n}=t;try{const t=function(e,t){return mQ("string"===typeof e?JSON.parse(e,t):e)}(n,g);if(b.emit("message",t),"ping"===t.type||"pong"===t.type)return b.emit(t.type,!0,t.payload),void("pong"===t.type?u():a||(o.send(gQ(t.payload?{type:fQ.Pong,payload:t.payload}:{type:fQ.Pong})),b.emit("pong",!1,t.payload)));if(h)return;if(t.type!==fQ.ConnectionAck)throw new Error("First message cannot be of type ".concat(t.type));clearTimeout(i),h=!0,b.emit("connected",o,t.payload,S),S=!1,C=0,e([o,new Promise(((e,t)=>w(t)))])}catch(r){o.onmessage=null,b.emit("error",r),o.close(pQ.BadResponse,hQ(r instanceof Error?r.message:String(r),"Bad response"))}}})())));e.readyState===x.CLOSING&&await r;let o=()=>{};const c=new Promise((e=>o=e));return[e,o,Promise.race([c.then((()=>{if(!_){const t=()=>e.close(1e3,"Normal Closure");isFinite(i)&&i>0?N=setTimeout((()=>{e.readyState===x.OPEN&&t()}),i):t()}})),r])]}function T(e){if(yQ(e)&&(t=e.code,![1e3,1001,1006,1005,1012,1013,1014].includes(t)&&t>=1e3&&t<=1999||[pQ.InternalServerError,pQ.InternalClientError,pQ.BadRequest,pQ.BadResponse,pQ.Unauthorized,pQ.SubprotocolNotAcceptable,pQ.SubscriberAlreadyExists,pQ.TooManyInitialisationRequests].includes(e.code)))throw e;var t;if(j)return!1;if(yQ(e)&&1e3===e.code)return _>0;if(!c||C>=c)throw e;if(!u(e))throw e;return S=!0}function A(e,t){const n=f(e);let r=!1,o=!1,i=()=>{_--,r=!0};return(async()=>{for(_++;;)try{const[s,a,l]=await E();if(r)return a();const c=b.onMessage(n,(e=>{switch(e.type){case fQ.Next:return void t.next(e.payload);case fQ.Error:return o=!0,r=!0,t.error(e.payload),void i();case fQ.Complete:return r=!0,void i()}}));return s.send(gQ({id:n,type:fQ.Subscribe,payload:e},m)),i=()=>{r||s.readyState!==x.OPEN||s.send(gQ({id:n,type:fQ.Complete},m)),_--,r=!0,a()},void await l.finally(c)}catch(s){if(!T(s))return}})().then((()=>{o||t.complete()})).catch((e=>{t.error(e)})),()=>{r||i()}}return r||(async()=>{for(_++;;)try{const[,,e]=await E();await e}catch(e){try{if(!T(e))return}catch(t){return null===o||void 0===o?void 0:o(t)}}})(),{on:b.on,subscribe:A,iterate(e){const t=[],n={done:!1,error:null,resolve:()=>{}},r=A(e,{next(e){t.push(e),n.resolve()},error(e){n.done=!0,n.error=e,n.resolve()},complete(){n.done=!0,n.resolve()}}),o=function(){var e,r=(e=function*(){for(;;){for(t.length||(yield(e=new Promise((e=>n.resolve=e)),new lQ(e,0)));t.length;)yield t.shift();if(n.error)throw n.error;if(n.done)return}var e},function(){return new cQ(e.apply(this,arguments))});return function(){return r.apply(this,arguments)}}()();return o.throw=async e=>(n.done||(n.done=!0,n.error=e,n.resolve()),{done:!0,value:void 0}),o.return=async()=>(r(),{done:!0,value:void 0}),o},async dispose(){if(j=!0,k){const[e]=await k;e.close(1e3,"Normal Closure")}},terminate(){k&&b.emit("closed",new vQ)}}}({url:"https:"===window.location.protocol?"wss://"+window.location.host+"/graphql/":"ws://"+window.location.host+"/graphql/",reconnectionAttempts:0,lazy:!0,on:{error:e=>{},connected:e=>{aT(s(s({},aT()),{},{badConnection:!1}))}},connectionParams:()=>({Authorization:"Bearer ".concat(localStorage.getItem("access_token")),headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token")),MythicSource:"web"}})}),LQ=BY((e=>{let{query:t}=e;const n=lp(t);return"OperationDefinition"===n.kind&&"subscription"===n.operation}),new aQ(IQ),EQ),DQ=new oQ({link:iQ([AQ,RQ,jQ,AQ.concat(LQ)]),cache:CQ});function PQ(){console.log("restarting websockets"),IQ.dispose()}if(null!==localStorage.getItem("access_token"))if(TQ(localStorage.getItem("access_token")))if(null!==localStorage.getItem("user")){console.log("loading meState from localStorage");try{let e=JSON.parse(localStorage.getItem("user"));void 0!==e.user_id&&e.user_id>0?aT({loggedIn:!0,access_token:localStorage.getItem("access_token"),refresh_token:localStorage.getItem("refresh_token"),user:s({},e)}):uT()}catch(BQ){console.log("failed to parse saved user state",BQ),uT()}}else uT();else uT();const $Q=document.getElementById("root");(0,c.H)($Q).render((0,mn.jsx)(sQ,{client:DQ,children:(0,mn.jsx)(ft,{basename:"/new",children:(0,mn.jsx)(Lq,{},"MinervaApp")})}))})()})();
//# sourceMappingURL=main.a9d2cce1.js.map